(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
function validateRoute(e,r,t){var i={login:{authRequired:!1},register:{authRequired:!1},profile:{authRequired:!0},find:{authRequired:!0},create:{authRequired:!0},project:{authRequired:!0}},a=ref.getAuth()||null;!e||i[e]&&i[e].authRequired&&!a?riotcontrol.trigger("logout"):i[e]?(riotcontrol.trigger("route",e,r,t),!i[e].authRequired&&a&&riotcontrol.trigger("logout",e)):(riotcontrol.trigger("alert",{text:"404 - Route not found.",type:"warning"}),riotcontrol.trigger("route",null))}var riot=require("riot"),riotcontrol=require("riotcontrol"),firebase=require("firebase"),ref=new firebase("https://bluebird.firebaseio.com/"),auth=require("./stores/auth"),navigation=require("./stores/navigation"),ownerships=require("./stores/profile/ownerships"),memberships=require("./stores/profile/memberships");riotcontrol.addStore(new auth),riotcontrol.addStore(new navigation),riotcontrol.addStore(new ownerships),riotcontrol.addStore(new memberships),require("./tags/navigation.tag"),require("./tags/list.tag"),require("./tags/alert.tag"),require("./tags/auth/_auth.tag"),require("./tags/auth/login.tag"),require("./tags/auth/register.tag"),require("./tags/create/_create.tag"),require("./tags/create/map.tag"),require("./tags/profile/_profile.tag"),require("./tags/profile/memberships.tag"),require("./tags/profile/ownerships.tag"),require("./tags/profile/user.tag"),require("./tags/profile/verify.tag"),require("./tags/project/_project.tag"),require("./tags/project/new_ring.tag"),require("./tags/project/old_ring.tag"),require("./tags/project/rings.tag"),require("./tags/project/members/active.tag"),require("./tags/project/members/passive.tag"),require("./tags/project/members/pending.tag"),require("./tags/search/_search.tag"),require("./tags/search/join.tag"),riot.mount("*"),riot.route(function(e,r,t){validateRoute(e,r,t)}),riot.route.exec(function(e,r,t){validateRoute(e,r,t)});
},{"./stores/auth":2,"./stores/navigation":3,"./stores/profile/memberships":4,"./stores/profile/ownerships":5,"./tags/alert.tag":6,"./tags/auth/_auth.tag":7,"./tags/auth/login.tag":8,"./tags/auth/register.tag":9,"./tags/create/_create.tag":10,"./tags/create/map.tag":11,"./tags/list.tag":12,"./tags/navigation.tag":13,"./tags/profile/_profile.tag":14,"./tags/profile/memberships.tag":15,"./tags/profile/ownerships.tag":16,"./tags/profile/user.tag":17,"./tags/profile/verify.tag":18,"./tags/project/_project.tag":19,"./tags/project/members/active.tag":20,"./tags/project/members/passive.tag":21,"./tags/project/members/pending.tag":22,"./tags/project/new_ring.tag":23,"./tags/project/old_ring.tag":24,"./tags/project/rings.tag":25,"./tags/search/_search.tag":26,"./tags/search/join.tag":27,"firebase":29,"riot":36,"riotcontrol":37}],2:[function(require,module,exports){
var riot=require("riot"),utils=require("../utils"),promise=require("promise"),firebase=require("firebase");module.exports=function(){function e(e){return new promise(function(r,t){o.authWithPassword(e,function(e,i){e&&t(e),i&&r(i)})})}function r(e,r){e.then(function(e){t(e),i.trigger("alert",null),riot.route(r)},function(e){i.trigger("alert",{text:e.message,type:"danger"})})}function t(e){console.log("Auth provider:",e.provider);var r=utils.getLocalUser(),t="password"==e.provider?e.password.email:"";r.email&&r.email!==t&&utils.setLocalUser({email:t,name:""})}riot.observable(this);{var i=this,o=new firebase("https://bluebird.firebaseio.com/");o.child("user")}i.on("auth",function(){var e=o.getAuth()?o.getAuth().uid:null;i.trigger("auth_update",e)}),i.on("login",function(t){var i=e(t);r(i,"profile")}),i.on("logout",function(e){console.log("user:",o.getAuth(),"last logged in:",new Date),o.unauth(),i.trigger("alert",null),i.trigger("auth_update",null),riot.route(e?e:"login")}),i.on("register",function(e,r){console.log(e,r)})};
},{"../utils":28,"firebase":29,"promise":30,"riot":36}],3:[function(require,module,exports){
var riot=require("riot");module.exports=function(){riot.observable(this);var r=this;r.on("route",function(o,t,e){r.trigger("route_changed",o,t,e)})};
},{"riot":36}],4:[function(require,module,exports){
var riot=require("riot"),firebase=require("firebase");module.exports=function(){function e(){r=o.getAuth().uid,t=[],o.child("user/"+r+"/project/member").once("value",function(e){return e.val()?void e.forEach(function(e){var r=e.key();o.child("project/"+r).once("value",function(e){var o=e.val();t.push({pid:r,title:o.title,site:o.site,ownerName:"You",dateStart:o.dateStart,dateEnd:o.dateEnd}),i.trigger("memberships",t)})}):void i.trigger("memberships",t)})}riot.observable(this);var r,t,i=this,o=new firebase("https://bluebird.firebaseio.com/");i.on("list_memberships",e)};
},{"firebase":29,"riot":36}],5:[function(require,module,exports){
var riot=require("riot"),firebase=require("firebase");module.exports=function(){function e(){t=o.getAuth().uid,i=[],o.child("user/"+t+"/project/own").once("value",function(e){return e.val()?void e.forEach(function(e){var t=e.key();o.child("project/"+t).once("value",function(e){var o=e.val();i.push({pid:t,title:o.title,site:o.site,ownerName:"You",dateStart:o.dateStart,dateEnd:o.dateEnd}),r.trigger("ownerships",i)})}):void r.trigger("ownerships",i)})}riot.observable(this);var t,i,r=this,o=new firebase("https://bluebird.firebaseio.com/");r.on("list_ownerships",e)};
},{"firebase":29,"riot":36}],6:[function(require,module,exports){
var riot=require("riot");riot.tag("alert",'<div class="alert alert--{ alert.type }" if="{ alert.text }"> <p class="alert__text">{ alert.text } <button class="alert__close" onclick="{ close }">Close</button></p> </div>',function(){var t=require("riotcontrol"),e=this;e.alert={},this.close=function(){e.alert={}}.bind(this),t.on("alert",function(t){e.update({alert:t})})});
},{"riot":36,"riotcontrol":37}],7:[function(require,module,exports){
var riot=require("riot");riot.tag("auth",'<login if="{ login }"></login> <register if="{ register }"></register>',function(){var r=require("riotcontrol"),i=this;r.on("route_changed",function(r){i.update({login:"login"==r,register:"register"==r})})});
},{"riot":36,"riotcontrol":37}],8:[function(require,module,exports){
var riot=require("riot");riot.tag("login",'<h2>Login</h2> <form name="frmLogin" onsubmit="{ login }"> <label>Email</label><br> <input type="email" name="email"><br> <label>Password</label><br> <input type="password" name="password"><br> <button type="submit">Login</button> </form>',function(){var i=require("riotcontrol"),r=this;this.login=function(){var o={email:r.email.value,password:r.password.value};i.trigger("login",o)}.bind(this)});
},{"riot":36,"riotcontrol":37}],9:[function(require,module,exports){
var riot=require("riot");riot.tag("register",'<h2>Register</h2> <form name="frmRegister" onsubmit="{ register }"> <label>Your Name</label><br> <input type="text" name="username"><br> <label>Email</label><br> <input type="email" name="email"><br> <label>Password</label><br> <input type="password" name="password"><br> <button type="submit">Register</button> </form>',function(){var e=require("riotcontrol"),r=this;r.show=!1,this.register=function(){var t={email:r.email.value,password:r.password.value};e.trigger("register",t,r.username.value)}.bind(this)});
},{"riot":36,"riotcontrol":37}],10:[function(require,module,exports){
var riot=require("riot");riot.tag("create",'<form name="frmCreate" if="{ show }"> <h2>Create Project</h2> <label>Project title</label><br> <input type="text" name="title" placeholder="Project name"><br> <label>Site name</label><br> <input type="text" name="site" placeholder="Site name"><br> <label>Locate and mark the site on the map. Adds lat/lng to ringing data.</label><br> <map></map> <label>Latitude / Longitude</label><br> <input type="text" name="latlng" placeholder="Click map to set..." disabled><br> <label>Country</label><br> <input type="hidden" name="countryIso"> <input type="hidden" name="countryName"> <input type="text" name="country" placeholder="Click map to set..." disabled><br> <label>Start date</label><br> <input type="date" name="dateStart" onblur="{ checkDate }"><br> <label>End date</label><br> <input type="date" name="dateEnd" onblur="{ checkDate }"><br> <p if="{ dateError }">Your project cannot end before it starts!</p> <label>Privacy</label><br> <input type="radio" name="status" value="public" checked> Public <input type="radio" name="status" value="private"> Private<br> <button type="reset">Cancel</button> <button type="button" onclick="{ create }" __disabled="{ dateError }">Create</button> </form>',function(){var t=require("riotcontrol"),e=require("../../utils"),a=this;a.dateError=!1,this.checkDate=function(){a.dateError=a.dateStart.valueAsNumber>a.dateEnd.valueAsNumber}.bind(this),this.create=function(){var r={title:a.title.value,site:a.site.value,countryIso:a.countryIso.value,countryName:a.countryName.value,latlng:a.latlng.value,dateStart:a.dateStart.value,dateEnd:a.dateEnd.value,status:e.radioBtnVal("status")};t.trigger("project_create",r),a.frmCreate.reset()}.bind(this),t.on("map_data",function(t){a.countryIso.value=t.countryIso,a.countryName.value=t.countryName,a.country.value=t.countryName+", "+t.countryIso,a.latlng.value=t.latLng}),t.on("route_changed",function(t){a.show="create"==t,a.update()})});
},{"../../utils":28,"riot":36,"riotcontrol":37}],11:[function(require,module,exports){
var riot=require("riot");riot.tag("map",'<div id="mapCanvas"></div>',function(){var r=require("riotcontrol");r.on("route_changed",function(i){"create"==i&&r.trigger("map_init")})});
},{"riot":36,"riotcontrol":37}],12:[function(require,module,exports){
var riot=require("riot");riot.tag("list","<h3>{ opts.title }</h3> <ul> <yield></yield> </ul>",function(){});
},{"riot":36}],13:[function(require,module,exports){
var riot=require("riot");riot.tag("navigation",'<nav if="{ !uid }" class="left"> <a href="#login">Login</a> <a href="#register">Register</a> </nav> <nav if="{ uid && !pid }" class="left"> <a href="#create">Create Project</a> <a href="#find">Find Project</a> </nav> <nav if="{ uid && pid }" class="left"> <a href="#project/{ pid }">Overview</a> <a href="#project/{ pid }/new">New Ring</a> <a href="#project/{ pid }/old">Old Ring</a> </nav> <nav if="{ uid }" class="right"> <a href="#profile">Profile</a> <a href class="button" onclick="{ logout }">Logout</a> </nav>',function(){var i=require("riotcontrol"),a=this;a.uid=null,a.pid=null,this.logout=function(){i.trigger("logout")}.bind(this),i.on("auth_update",function(i){a.update({uid:i})}),i.on("route_changed",function(e,t){i.trigger("auth"),a.update({pid:t?t:!1})})});
},{"riot":36,"riotcontrol":37}],14:[function(require,module,exports){
var riot=require("riot");riot.tag("profile",'<user if="{ show }"></user> <list if="{ show }" title="Project Ownerships"> <ownerships></ownerships> </list> <list if="{ show }" title="Project Memberships"> <memberships></memberships> </list>',function(){var i=require("riotcontrol"),r=this;i.on("route_changed",function(e){r.update({show:"profile"==e}),"profile"==e&&(i.trigger("list_ownerships"),i.trigger("list_memberships"))})});
},{"riot":36,"riotcontrol":37}],15:[function(require,module,exports){
var riot=require("riot");riot.tag("memberships",'<li each="{ list }"><a href="#project/{ pid }">{ title }, { site }</a></li> <li if="{ !list.length }">{ loadText }</li>',function(){var i=require("riotcontrol"),t=this;t.list=[],t.loadText="Loading…",i.on("memberships",function(i){t.update({list:i,loadText:i.length?"":"No memberships found."})})});
},{"riot":36,"riotcontrol":37}],16:[function(require,module,exports){
var riot=require("riot");riot.tag("ownerships",'<li each="{ list }"><a href="#project/{ pid }">{ title }, { site }</a></li> <li if="{ !list.length }">{ loadText }</li>',function(){var i=require("riotcontrol"),t=this;t.list=[],t.loadText="Loading…",i.on("ownerships",function(i){t.update({list:i,loadText:i.length?"":"No ownerships found."})})});
},{"riot":36,"riotcontrol":37}],17:[function(require,module,exports){
var riot=require("riot");riot.tag("user",'<h2>Profile</h2> <form name="frmProfileName" onsubmit="{ updateName }"> <label>Username</label><br> <input type="text" name="user" placeholder="Your name" autocomplete="off"> <button type="button" onclick="{ updateName }">Update</button> </form> <form name="frmProfileEmail" onsubmit="{ updateEmail }"> <label>Email</label><br> <input type="hidden" name="email"> <input type="email" name="newemail" placeholder="Your email" autocomplete="off"> <verify name="verifyEmail"></verify> </form> <form name="frmProfilePwd" onsubmit="{ updatePassword }"> <label>Password</label><br> <input type="password" name="newpassword" placeholder="New password"> <verify name="verifyPassword"></verify> </form>',function(){var e=require("riotcontrol"),a=this;this.updateName=function(){e.trigger("user_update_name",{name:a.user.value})}.bind(this),this.updateEmail=function(){var r={};r.oldEmail=a.email.value,r.newEmail=a.newemail.value,r.password=a.frmProfileEmail.oldpassword.value,e.trigger("user_update_email",r),a.tags.verifyEmail.toggle()}.bind(this),this.updatePassword=function(){var r={};r.email=a.email.value,r.newPassword=a.newpassword.value,r.oldPassword=a.frmProfilePwd.oldpassword.value,e.trigger("user_update_password",r),a.tags.verifyPassword.toggle()}.bind(this),e.on("user_updated",function(e){a.user.value=e.name,a.email.value=a.newemail.value=e.email,a.newpassword.value="",a.update()}),e.on("route_changed",function(a){"profile"==a&&e.trigger("user_update")})});
},{"riot":36,"riotcontrol":37}],18:[function(require,module,exports){
var riot=require("riot");riot.tag("verify",'<button type="button" onclick="{ toggle }" if="{ !edit }">Change…</button> <button type="button" onclick="{ toggle }" if="{ edit }">Cancel</button> <div if="{ edit }"> <input type="password" name="oldpassword" placeholder="Current password"><br> <button type="submit">Update</button> </div>',function(){var t=(require("riotcontrol"),this);t.edit=!1,t.oldpassword.value="",this.toggle=function(){t.edit=!t.edit,t.oldpassword.value=""}.bind(this)});
},{"riot":36,"riotcontrol":37}],19:[function(require,module,exports){
var riot=require("riot");riot.tag("dashboard",'<div if="{ show }"> <div if="{ !data }">Loading…</div> <div if="{ data }"> <h1>{ data.title }</h1> <p>{ data.site }, { data.dateStart } &ndash; { data.dateEnd }</p> </div> <div if="{ data.isOwner }"> <members pid="{ data.pid }"></members> </div>  </div>',function(){var a=require("riotcontrol"),d=this;d.show=!1,a.on("dashboard_data",function(a){d.update({data:a})}),a.on("route_changed",function(t,i){"project"==t&&i&&a.trigger("dashboard_init",i),d.update({show:"project"==t&&i})})});
},{"riot":36,"riotcontrol":37}],20:[function(require,module,exports){
var riot=require("riot");
},{"riot":36}],21:[function(require,module,exports){
arguments[4][20][0].apply(exports,arguments)
},{"dup":20,"riot":36}],22:[function(require,module,exports){
arguments[4][20][0].apply(exports,arguments)
},{"dup":20,"riot":36}],23:[function(require,module,exports){
arguments[4][20][0].apply(exports,arguments)
},{"dup":20,"riot":36}],24:[function(require,module,exports){
arguments[4][20][0].apply(exports,arguments)
},{"dup":20,"riot":36}],25:[function(require,module,exports){
arguments[4][20][0].apply(exports,arguments)
},{"dup":20,"riot":36}],26:[function(require,module,exports){
var riot=require("riot");riot.tag("find",'<div if="{ show }"> <form name="frmSearch" onsubmit="{ find }"> <h2>Find project</h2> <input type="text" name="needle" placeholder="Search" autocomplete="off"> <button type="button" onclick="{ find }">OK</button> <fieldset> <label><input type="radio" name="category" onclick="{ find }" value="title" checked> Project title</label> <label><input type="radio" name="category" onclick="{ find }" value="site"> Site name</label> <label><input type="radio" name="category" onclick="{ find }" value="ownerName"> Owner name</label> </fieldset> <p>Tip: Searches are case <em>sensitive</em>.</p> </form> <ul> <li each="{ items }">{ title }, { site }<br>Owned by: { ownerName }<br> <datetime if="{ dateStart || dateEnd }">{ dateStart } &ndash; { dateEnd } </datetime> <join project="{ this }"></join> </li> </ul> </div>',function(){var e=require("riotcontrol"),t=require("../../utils"),i=this;i.show=!1,i.items=[],this.find=function(){if(i.needle.value.length>1){var n={category:t.radioBtnVal("category"),needle:i.needle.value};e.trigger("project_search",n)}}.bind(this),e.on("project_search_result",function(e){i.update({items:e})}),e.on("route_changed",function(e){i.update({show:"find"==e})})});
},{"../../utils":28,"riot":36,"riotcontrol":37}],27:[function(require,module,exports){
var riot=require("riot");riot.tag("join",'<span if="{ \'isMember\' in opts.project && \'isPending\' in opts.project }"> <span if="{ isMember }">[M]</span> <span if="{ isPending }">[P]</span> <button type="button" if="{ !isOwner && !isEnded && !isPending && !isMember }" onclick="{ join }">Join</button> </span>',function(i){var n=require("riotcontrol"),e=this;e.isOwner=i.project.isOwner,e.isEnded=i.project.isEnded,e.isMember=i.project.isMember,e.isPending=i.project.isPending,this.join=function(){n.trigger("project_join",i.project.pid),e.isPending=!0}.bind(this)});
},{"riot":36,"riotcontrol":37}],28:[function(require,module,exports){
var utils={};utils.extend=function(e,t){if(null==e||null==t)return e;for(key in t)t.hasOwnProperty(key)&&(e[key]=t[key]);return e},utils.radioBtnVal=function(e){return document.querySelector("[name="+e+"]:checked").value},utils.setLocalUser=function(e){"undefined"!=typeof Storage&&localStorage.setItem("user",JSON.stringify(e))},utils.getLocalUser=function(e){var t=JSON.parse(localStorage.getItem("user"));return e?t[e]:t},utils.updateLocalUser=function(e,t){var r=utils.getLocalUser();r[e]=t,utils.setLocalUser(r)},module.exports=utils;
},{}],29:[function(require,module,exports){
!function(){function n(t){return void 0!==t}function ba(){}function ca(t){t.ub=function(){return t.tf?t.tf:t.tf=new t}}function da(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&"undefined"!=typeof t.splice&&"undefined"!=typeof t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||"undefined"!=typeof t.call&&"undefined"!=typeof t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&"undefined"==typeof t.call)return"object";return e}function ea(t){return"array"==da(t)}function fa(t){var e=da(t);return"array"==e||"object"==e&&"number"==typeof t.length}function p(t){return"string"==typeof t}function ga(t){return"number"==typeof t}function ha(t){return"function"==da(t)}function ia(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function ja(t){return t.call.apply(t.bind,arguments)}function ka(t,e){if(!t)throw Error();if(2<arguments.length){var n=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,n),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function q(){return q=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ja:ka,q.apply(null,arguments)}function ma(t,e){function n(){}n.prototype=e.prototype,t.Zg=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vg=function(t,n){for(var i=Array(arguments.length-2),r=2;r<arguments.length;r++)i[r-2]=arguments[r];return e.prototype[n].apply(t,i)}}function r(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function na(t,e){var n,i={};for(n in t)i[n]=e.call(void 0,t[n],n,t);return i}function oa(t,e){for(var n in t)if(!e.call(void 0,t[n],n,t))return!1;return!0}function pa(t){var e,n=0;for(e in t)n++;return n}function qa(t){for(var e in t)return e}function ra(t){var e,n=[],i=0;for(e in t)n[i++]=t[e];return n}function sa(t){var e,n=[],i=0;for(e in t)n[i++]=e;return n}function ta(t,e){for(var n in t)if(t[n]==e)return!0;return!1}function ua(t,e,n){for(var i in t)if(e.call(n,t[i],i,t))return i}function va(t,e){var n=ua(t,e,void 0);return n&&t[n]}function wa(t){for(var e in t)return!1;return!0}function xa(t){var e,n={};for(e in t)n[e]=t[e];return n}function za(t){for(var e,n,i=1;i<arguments.length;i++){n=arguments[i];for(e in n)t[e]=n[e];for(var r=0;r<ya.length;r++)e=ya[r],Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])}}function Aa(a){if(a=String(a),/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(b){}throw Error("Invalid JSON string: "+a)}function Ba(){this.Pd=void 0}function Ca(t,e,n){switch(typeof e){case"string":Da(e,n);break;case"number":n.push(isFinite(e)&&!isNaN(e)?e:"null");break;case"boolean":n.push(e);break;case"undefined":n.push("null");break;case"object":if(null==e){n.push("null");break}if(ea(e)){var i=e.length;n.push("[");for(var r="",o=0;i>o;o++)n.push(r),r=e[o],Ca(t,t.Pd?t.Pd.call(e,String(o),r):r,n),r=",";n.push("]");break}n.push("{"),i="";for(o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r=e[o],"function"!=typeof r&&(n.push(i),Da(o,n),n.push(":"),Ca(t,t.Pd?t.Pd.call(e,o,r):r,n),i=","));n.push("}");break;case"function":break;default:throw Error("Unknown type: "+typeof e)}}function Da(t,e){e.push('"',t.replace(Fa,function(t){if(t in Ea)return Ea[t];var e=t.charCodeAt(0),n="\\u";return 16>e?n+="000":256>e?n+="00":4096>e&&(n+="0"),Ea[t]=n+e.toString(16)}),'"')}function Ga(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^la()).toString(36)}function Ka(){this.Wa=-1}function La(){this.Wa=-1,this.Wa=64,this.R=[],this.le=[],this.Tf=[],this.Id=[],this.Id[0]=128;for(var t=1;t<this.Wa;++t)this.Id[t]=0;this.be=this.$b=0,this.reset()}function Ma(t,e,n){n||(n=0);var i=t.Tf;if(p(e))for(var r=0;16>r;r++)i[r]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(r=0;16>r;r++)i[r]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(r=16;80>r;r++){var o=i[r-3]^i[r-8]^i[r-14]^i[r-16];i[r]=4294967295&(o<<1|o>>>31)}e=t.R[0],n=t.R[1];for(var a,s=t.R[2],u=t.R[3],h=t.R[4],r=0;80>r;r++)40>r?20>r?(o=u^n&(s^u),a=1518500249):(o=n^s^u,a=1859775393):60>r?(o=n&s|u&(n|s),a=2400959708):(o=n^s^u,a=3395469782),o=(e<<5|e>>>27)+o+h+a+i[r]&4294967295,h=u,u=s,s=4294967295&(n<<30|n>>>2),n=e,e=o;t.R[0]=t.R[0]+e&4294967295,t.R[1]=t.R[1]+n&4294967295,t.R[2]=t.R[2]+s&4294967295,t.R[3]=t.R[3]+u&4294967295,t.R[4]=t.R[4]+h&4294967295}function Ta(t,e){var n=Ua(t,e,void 0);return 0>n?null:p(t)?t.charAt(n):t[n]}function Ua(t,e,n){for(var i=t.length,r=p(t)?t.split(""):t,o=0;i>o;o++)if(o in r&&e.call(n,r[o],o,t))return o;return-1}function Va(e,n){var i=Na(e,n);i>=0&&t.splice.call(e,i,1)}function Wa(e,n,i){return 2>=arguments.length?t.slice.call(e,n):t.slice.call(e,n,i)}function Xa(t,e){t.sort(e||Ya)}function Ya(t,e){return t>e?1:e>t?-1:0}function fb(t,e){if(!fa(t))throw Error("encodeByteArray takes an array as a parameter");gb();for(var n=e?db:cb,i=[],r=0;r<t.length;r+=3){var o=t[r],a=r+1<t.length,s=a?t[r+1]:0,u=r+2<t.length,h=u?t[r+2]:0,c=o>>2,o=(3&o)<<4|s>>4,s=(15&s)<<2|h>>6,h=63&h;u||(h=64,a||(s=64)),i.push(n[c],n[o],n[s],n[h])}return i.join("")}function gb(){if(!cb){cb={},db={},eb={};for(var t=0;65>t;t++)cb[t]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(t),db[t]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(t),eb[db[t]]=t,t>=62&&(eb["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(t)]=t)}}function u(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function w(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0}function hb(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ib(t){var e={};return hb(t,function(t,n){e[t]=n}),e}function jb(t){var e=[];return hb(t,function(t,n){ea(n)?Oa(n,function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}),e.length?"&"+e.join("&"):""}function kb(t){var e={};return t=t.replace(/^\?/,"").split("&"),Oa(t,function(t){t&&(t=t.split("="),e[t[0]]=t[1])}),e}function x(t,e,n,i){var r;if(e>i?r="at least "+e:i>n&&(r=0===n?"none":"no more than "+n),r)throw Error(t+" failed: Was called with "+i+(1===i?" argument.":" arguments.")+" Expects "+r+".")}function z(t,e,n){var i="";switch(e){case 1:i=n?"first":"First";break;case 2:i=n?"second":"Second";break;case 3:i=n?"third":"Third";break;case 4:i=n?"fourth":"Fourth";break;default:throw Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return t=t+" failed: "+(i+" argument ")}function A(t,e,i,r){if((!r||n(i))&&!ha(i))throw Error(z(t,e,r)+"must be a valid function.")}function lb(t,e,i){if(n(i)&&(!ia(i)||null===i))throw Error(z(t,e,!0)+"must be a valid context object.")}function mb(t){return"undefined"!=typeof JSON&&n(JSON.parse)?JSON.parse(t):Aa(t)}function B(t){if("undefined"!=typeof JSON&&n(JSON.stringify))t=JSON.stringify(t);else{var e=[];Ca(new Ba,t,e),t=e.join("")}return t}function nb(){this.Sd=C}function ob(){}function qb(t,e,n){this.Qf=t,this.Ka=e,this.Hd=n}function ub(){this.tb=[]}function vb(t,e){for(var n=null,i=0;i<e.length;i++){var r=e[i],o=r.Yb();null===n||o.Z(n.Yb())||(t.tb.push(n),n=null),null===n&&(n=new wb(o)),n.add(r)}n&&t.tb.push(n)}function xb(t,e,n){vb(t,n),yb(t,function(t){return t.Z(e)})}function zb(t,e,n){vb(t,n),yb(t,function(t){return t.contains(e)||e.contains(t)})}function yb(t,e){for(var n=!0,i=0;i<t.tb.length;i++){var r=t.tb[i];if(r)if(r=r.Yb(),e(r)){for(var r=t.tb[i],o=0;o<r.sd.length;o++){var a=r.sd[o];if(null!==a){r.sd[o]=null;var s=a.Ub();Ab&&Bb("event: "+a.toString()),Cb(s)}}t.tb[i]=null}else n=!1}n&&(t.tb=[])}function wb(t){this.qa=t,this.sd=[]}function D(t,e,n,i){this.type=t,this.Ja=e,this.Ya=n,this.Je=i,this.Nd=void 0}function Db(t){return new D(Eb,t)}function Fb(t,e,n,i){this.te=e,this.Wd=n,this.Nd=i,this.rd=t}function Gb(t,e,n){this.te=t,this.error=e,this.path=n}function sb(t,e,n){this.B=t,this.$=e,this.Tb=n}function Hb(t){return t.$}function rb(t,e){return t.$&&!t.Tb||t.B.Ha(e)}function Ib(t){this.dg=t,this.Ad=null}function Jb(t,e){this.Mf={},this.Yd=new Ib(t),this.ca=e;var n=1e4+2e4*Math.random();setTimeout(q(this.Hf,this),Math.floor(n))}function Kb(){this.Dc={}}function Lb(t,e,i){n(i)||(i=1),u(t.Dc,e)||(t.Dc[e]=0),t.Dc[e]+=i}function Ob(t){return t=t.toString(),Mb[t]||(Mb[t]=new Kb),Mb[t]}function Pb(t,e){var n=t.toString();return Nb[n]||(Nb[n]=e()),Nb[n]}function E(t,e){this.name=t,this.S=e}function Qb(t,e){return new E(t,e)}function Rb(t,e){return Sb(t.name,e.name)}function Tb(t,e){return Sb(t,e)}function Ub(t,e,n){this.type=Vb,this.source=t,this.path=e,this.Ia=n}function Wb(t,e){this.type=Xb,this.source=Yb,this.path=t,this.Ve=e}function Zb(t,e){this.type=$b,this.source=t,this.path=e}function ac(t,e){this.La=t,this.xa=e?e:bc}function cc(t,e){for(var n,i=t.xa,r=null;!i.e();){if(n=t.La(e,i.key),0===n){if(i.left.e())return r?r.key:null;for(i=i.left;!i.right.e();)i=i.right;return i.key}0>n?i=i.left:n>0&&(r=i,i=i.right)}throw Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}function dc(t,e,n,i,r){for(this.Rd=r||null,this.Ee=i,this.Pa=[],r=1;!t.e();)if(r=e?n(t.key,e):1,i&&(r*=-1),0>r)t=this.Ee?t.left:t.right;else{if(0===r){this.Pa.push(t);break}this.Pa.push(t),t=this.Ee?t.right:t.left}}function H(t){if(0===t.Pa.length)return null;var e,n=t.Pa.pop();if(e=t.Rd?t.Rd(n.key,n.value):{key:n.key,value:n.value},t.Ee)for(n=n.left;!n.e();)t.Pa.push(n),n=n.right;else for(n=n.right;!n.e();)t.Pa.push(n),n=n.left;return e}function ec(t){if(0===t.Pa.length)return null;var e;return e=t.Pa,e=e[e.length-1],t.Rd?t.Rd(e.key,e.value):{key:e.key,value:e.value}}function fc(t,e,n,i,r){this.key=t,this.value=e,this.color=null!=n?n:!0,this.left=null!=i?i:bc,this.right=null!=r?r:bc}function gc(t){return t.left.e()?t:gc(t.left)}function ic(t){return t.left.e()?bc:(t.left.fa()||t.left.left.fa()||(t=jc(t)),t=t.X(null,null,null,ic(t.left),null),hc(t))}function hc(t){return t.right.fa()&&!t.left.fa()&&(t=mc(t)),t.left.fa()&&t.left.left.fa()&&(t=kc(t)),t.left.fa()&&t.right.fa()&&(t=lc(t)),t}function jc(t){return t=lc(t),t.right.left.fa()&&(t=t.X(null,null,null,null,kc(t.right)),t=mc(t),t=lc(t)),t}function mc(t){return t.right.X(null,null,t.color,t.X(null,null,!0,null,t.right.left),null)}function kc(t){return t.left.X(null,null,t.color,null,t.X(null,null,!0,t.left.right,null))}function lc(t){return t.X(null,null,!t.color,t.left.X(null,null,!t.left.color,null,null),t.right.X(null,null,!t.right.color,null,null))}function nc(){}function oc(t,e){return t&&"object"==typeof t?(J(".sv"in t,"Unexpected leaf node or priority contents"),e[t[".sv"]]):t}function pc(t,e){var n=new qc;return rc(t,new K(""),function(t,i){n.mc(t,sc(i,e))}),n}function sc(t,e){var n,i=t.A().K(),i=oc(i,e);if(t.N()){var r=oc(t.Ba(),e);return r!==t.Ba()||i!==t.A().K()?new tc(r,L(i)):t}return n=t,i!==t.A().K()&&(n=n.da(new tc(i))),t.U(M,function(t,i){var r=sc(i,e);r!==i&&(n=n.Q(t,r))}),n}function K(t,e){if(1==arguments.length){this.o=t.split("/");for(var n=0,i=0;i<this.o.length;i++)0<this.o[i].length&&(this.o[n]=this.o[i],n++);this.o.length=n,this.Y=0}else this.o=t,this.Y=e}function N(t,e){var n=O(t);if(null===n)return e;if(n===O(e))return N(G(t),G(e));throw Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function O(t){return t.Y>=t.o.length?null:t.o[t.Y]}function uc(t){return t.o.length-t.Y}function G(t){var e=t.Y;return e<t.o.length&&e++,new K(t.o,e)}function vc(t){return t.Y<t.o.length?t.o[t.o.length-1]:null}function wc(t,e){this.Qa=t.slice(),this.Ea=Math.max(1,this.Qa.length),this.kf=e;for(var n=0;n<this.Qa.length;n++)this.Ea+=xc(this.Qa[n]);yc(this)}function yc(t){if(768<t.Ea)throw Error(t.kf+"has a key path longer than 768 bytes ("+t.Ea+").");if(32<t.Qa.length)throw Error(t.kf+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+zc(t))}function zc(t){return 0==t.Qa.length?"":"in property '"+t.Qa.join(".")+"'"}function Ac(){this.wc={}}function Bc(t){this.Ec=t,this.Md="firebase:"}function Cc(t){try{if("undefined"!=typeof window&&"undefined"!=typeof window[t]){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Bc(e)}}catch(n){}return new Ac}function Ec(t,e,n,i,r){this.host=t.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.lb=e,this.Cb=n,this.Tg=i,this.Ld=r||"",this.Oa=Dc.get("host:"+t)||this.host}function Fc(t,e){e!==t.Oa&&(t.Oa=e,"s-"===t.Oa.substr(0,2)&&Dc.set("host:"+t.host,t.Oa))}function J(t,e){if(!t)throw Hc(e)}function Hc(t){return Error("Firebase (2.2.4) INTERNAL ASSERT FAILED: "+t)}function Ic(t){try{var e;if("undefined"!=typeof atob)e=atob(t);else{gb();for(var n=eb,i=[],r=0;r<t.length;){var o=n[t.charAt(r++)],a=r<t.length?n[t.charAt(r)]:0;++r;var s=r<t.length?n[t.charAt(r)]:64;++r;var u=r<t.length?n[t.charAt(r)]:64;if(++r,null==o||null==a||null==s||null==u)throw Error();i.push(o<<2|a>>4),64!=s&&(i.push(a<<4&240|s>>2),64!=u&&i.push(s<<6&192|u))}if(8192>i.length)e=String.fromCharCode.apply(null,i);else{for(t="",n=0;n<i.length;n+=8192)t+=String.fromCharCode.apply(null,Wa(i,n,n+8192));e=t}}return e}catch(h){Bb("base64Decode failed: ",h)}return null}function Jc(t){var e=Kc(t);t=new La,t.update(e);var e=[],n=8*t.be;56>t.$b?t.update(t.Id,56-t.$b):t.update(t.Id,t.Wa-(t.$b-56));for(var i=t.Wa-1;i>=56;i--)t.le[i]=255&n,n/=256;for(Ma(t,t.le),i=n=0;5>i;i++)for(var r=24;r>=0;r-=8)e[n]=t.R[i]>>r&255,++n;return fb(e)}function Lc(){for(var t="",e=0;e<arguments.length;e++)t=fa(arguments[e])?t+Lc.apply(null,arguments[e]):"object"==typeof arguments[e]?t+B(arguments[e]):t+arguments[e],t+=" ";return t}function Bb(){if(!0===Mc&&(Mc=!1,null===Ab&&!0===P.get("logging_enabled")&&Nc(!0)),Ab){var t=Lc.apply(null,arguments);Ab(t)}}function Oc(t){return function(){Bb(t,arguments)}}function Pc(){if("undefined"!=typeof console){var t="FIREBASE INTERNAL ERROR: "+Lc.apply(null,arguments);"undefined"!=typeof console.error?console.error(t):console.log(t)}}function Qc(){var t=Lc.apply(null,arguments);throw Error("FIREBASE FATAL ERROR: "+t)}function Q(){if("undefined"!=typeof console){var t="FIREBASE WARNING: "+Lc.apply(null,arguments);"undefined"!=typeof console.warn?console.warn(t):console.log(t)}}function Rc(t){var e="",n="",i="",r="",o=!0,a="https",s=443;if(p(t)){var u=t.indexOf("//");for(u>=0&&(a=t.substring(0,u-1),t=t.substring(u+2)),u=t.indexOf("/"),-1===u&&(u=t.length),e=t.substring(0,u),r="",t=t.substring(u).split("/"),u=0;u<t.length;u++)if(0<t[u].length){var h=t[u];try{h=decodeURIComponent(h.replace(/\+/g," "))}catch(c){}r+="/"+h}t=e.split("."),3===t.length?(n=t[1],i=t[0].toLowerCase()):2===t.length&&(n=t[0]),u=e.indexOf(":"),u>=0&&(o="https"===a||"wss"===a,s=e.substring(u+1),isFinite(s)&&(s=String(s)),s=p(s)?/^\s*-?0x/i.test(s)?parseInt(s,16):parseInt(s,10):0/0)}return{host:e,port:s,domain:n,Qg:i,lb:o,scheme:a,Zc:r}}function Sc(t){return ga(t)&&(t!=t||t==Number.POSITIVE_INFINITY||t==Number.NEGATIVE_INFINITY)}function Tc(t){if("complete"===document.readyState)t();else{var e=!1,n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}function Sb(t,e){if(t===e)return 0;if("[MIN_NAME]"===t||"[MAX_NAME]"===e)return-1;if("[MIN_NAME]"===e||"[MAX_NAME]"===t)return 1;var n=Uc(t),i=Uc(e);return null!==n?null!==i?0==n-i?t.length-e.length:n-i:-1:null!==i?1:e>t?-1:1}function Vc(t,e){if(e&&t in e)return e[t];throw Error("Missing required key ("+t+") in object: "+B(e))}function Wc(t){if("object"!=typeof t||null===t)return B(t);var e,n=[];for(e in t)n.push(e);n.sort(),e="{";for(var i=0;i<n.length;i++)0!==i&&(e+=","),e+=B(n[i]),e+=":",e+=Wc(t[n[i]]);return e+"}"}function Xc(t,e){if(t.length<=e)return[t];for(var n=[],i=0;i<t.length;i+=e)n.push(i+e>t?t.substring(i,t.length):t.substring(i,i+e));return n}function Yc(t,e){if(ea(t))for(var n=0;n<t.length;++n)e(n,t[n]);else r(t,e)}function Zc(t){J(!Sc(t),"Invalid JSON number");var e,n,i,r;for(0===t?(i=n=0,e=-(1/0)===1/t?1:0):(e=0>t,t=Math.abs(t),t>=Math.pow(2,-1022)?(i=Math.min(Math.floor(Math.log(t)/Math.LN2),1023),n=i+1023,i=Math.round(t*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,i=Math.round(t/Math.pow(2,-1074)))),r=[],t=52;t;--t)r.push(i%2?1:0),i=Math.floor(i/2);for(t=11;t;--t)r.push(n%2?1:0),n=Math.floor(n/2);for(r.push(e?1:0),r.reverse(),e=r.join(""),n="",t=0;64>t;t+=8)i=parseInt(e.substr(t,8),2).toString(16),1===i.length&&(i="0"+i),n+=i;return n.toLowerCase()}function Uc(t){return $c.test(t)&&(t=Number(t),t>=-2147483648&&2147483647>=t)?t:null}function Cb(t){try{t()}catch(e){setTimeout(function(){throw Q("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}}function R(t){if(ha(t)){var e=Array.prototype.slice.call(arguments,1).slice();Cb(function(){t.apply(null,e)})}}function Kc(t){for(var e=[],n=0,i=0;i<t.length;i++){var r=t.charCodeAt(i);r>=55296&&56319>=r&&(r-=55296,i++,J(i<t.length,"Surrogate pair missing trail surrogate."),r=65536+(r<<10)+(t.charCodeAt(i)-56320)),128>r?e[n++]=r:(2048>r?e[n++]=r>>6|192:(65536>r?e[n++]=r>>12|224:(e[n++]=r>>18|240,e[n++]=r>>12&63|128),e[n++]=r>>6&63|128),e[n++]=63&r|128)}return e}function xc(t){for(var e=0,n=0;n<t.length;n++){var i=t.charCodeAt(n);128>i?e++:2048>i?e+=2:i>=55296&&56319>=i?(e+=4,n++):e+=3}return e}function ad(t){var e={},n={},i={},r="";try{var o=t.split("."),e=mb(Ic(o[0])||""),n=mb(Ic(o[1])||""),r=o[2],i=n.d||{};delete n.d}catch(a){}return{Wg:e,Ac:n,data:i,Ng:r}}function bd(t){return t=ad(t).Ac,"object"==typeof t&&t.hasOwnProperty("iat")?w(t,"iat"):null}function cd(t){t=ad(t);var e=t.Ac;return!!t.Ng&&!!e&&"object"==typeof e&&e.hasOwnProperty("iat")}function dd(t){this.V=t,this.g=t.n.g}function ed(t,e,n,i){var r=[],o=[];return Oa(e,function(e){"child_changed"===e.type&&t.g.xd(e.Je,e.Ja)&&o.push(new D("child_moved",e.Ja,e.Ya))}),fd(t,r,"child_removed",e,i,n),fd(t,r,"child_added",e,i,n),fd(t,r,"child_moved",o,i,n),fd(t,r,"child_changed",e,i,n),fd(t,r,Eb,e,i,n),r}function fd(t,e,n,i,r,o){i=Pa(i,function(t){return t.type===n}),Xa(i,q(t.eg,t)),Oa(i,function(n){var i=gd(t,n,o);Oa(r,function(r){r.Jf(n.type)&&e.push(r.createEvent(i,t.V))})})}function gd(t,e,n){return"value"!==e.type&&"child_removed"!==e.type&&(e.Nd=n.qf(e.Ya,e.Ja,t.g)),e}function hd(){this.eb={}}function id(t,e){var n=e.type,i=e.Ya;J("child_added"==n||"child_changed"==n||"child_removed"==n,"Only child changes supported for tracking"),J(".priority"!==i,"Only non-priority child changes can be tracked.");var r=w(t.eb,i);if(r){var o=r.type;if("child_added"==n&&"child_removed"==o)t.eb[i]=new D("child_changed",e.Ja,i,r.Ja);else if("child_removed"==n&&"child_added"==o)delete t.eb[i];else if("child_removed"==n&&"child_changed"==o)t.eb[i]=new D("child_removed",r.Je,i);else if("child_changed"==n&&"child_added"==o)t.eb[i]=new D("child_added",e.Ja,i);else{if("child_changed"!=n||"child_changed"!=o)throw Hc("Illegal combination of changes: "+e+" occurred after "+r);t.eb[i]=new D("child_changed",e.Ja,i,r.Je)}}else t.eb[i]=e}function jd(t,e,n){this.Pb=t,this.qb=e,this.sb=n||null}function kd(t,e,n){this.ga=t,this.qb=e,this.sb=n}function ld(t){this.g=t}function md(t){this.Ae=new ld(t.g),this.g=t.g;var e;t.la?(e=nd(t),e=t.g.Oc(od(t),e)):e=t.g.Sc(),this.dd=e,t.na?(e=pd(t),t=t.g.Oc(qd(t),e)):t=t.g.Pc(),this.Fc=t}function rd(t){this.ra=new md(t),this.g=t.g,J(t.ia,"Only valid if limit has been set"),this.ja=t.ja,this.Jb=!sd(t)}function td(t,e,n,i,r,o){var a;if(t.Jb){var s=ud(t.g);a=function(t,e){return s(e,t)}}else a=ud(t.g);J(e.Db()==t.ja,"");var u=new E(n,i),h=t.Jb?wd(e,t.g):xd(e,t.g),c=t.ra.matches(u);if(e.Ha(n)){var f=e.M(n),h=r.xe(t.g,h,t.Jb);return null!=h&&h.name==n&&(h=r.xe(t.g,h,t.Jb)),r=null==h?1:a(h,u),c&&!i.e()&&r>=0?(null!=o&&id(o,new D("child_changed",i,n,f)),e.Q(n,i)):(null!=o&&id(o,new D("child_removed",f,n)),e=e.Q(n,C),null!=h&&t.ra.matches(h)?(null!=o&&id(o,new D("child_added",h.S,h.name)),e.Q(h.name,h.S)):e)}return i.e()?e:c&&0<=a(h,u)?(null!=o&&(id(o,new D("child_removed",h.S,h.name)),id(o,new D("child_added",i,n))),e.Q(n,i).Q(h.name,C)):e}function yd(t,e){this.he=t,this.cg=e}function zd(t){this.I=t}function Hd(t,e,n,i,r,o){var a=e.D;if(null!=i.sc(n))return e;var s;if(n.e())J(Hb(e.u()),"If change path is empty, we must have complete server data"),e.u().Tb?(r=tb(e),i=i.xc(r instanceof T?r:C)):i=i.ua(tb(e)),o=t.I.ta(e.D.j(),i,o);else{var u=O(n);if(".priority"==u)J(1==uc(n),"Can't have a priority with additional path components"),o=a.j(),s=e.u().j(),i=i.hd(n,o,s),o=null!=i?t.I.da(o,i):a.j();else{var h=G(n);rb(a,u)?(s=e.u().j(),i=i.hd(n,a.j(),s),i=null!=i?a.j().M(u).G(h,i):a.j().M(u)):i=i.Xa(u,e.u()),o=null!=i?t.I.G(a.j(),u,i,r,o):a.j()}}return Fd(e,o,a.$||n.e(),t.I.Ga())}function Bd(t,e,n,i,r,o,a,s){var u=e.u();if(a=a?t.I:t.I.Vb(),n.e())i=a.ta(u.j(),i,null);else if(a.Ga()&&!u.Tb)i=u.j().G(n,i),i=a.ta(u.j(),i,null);else{var h=O(n);if((n.e()?!u.$||u.Tb:!rb(u,O(n)))&&1<uc(n))return e;i=u.j().M(h).G(G(n),i),i=".priority"==h?a.da(u.j(),i):a.G(u.j(),h,i,pb,null)}return u=u.$||n.e(),e=new Id(e.D,new sb(i,u,a.Ga())),Hd(t,e,n,r,new qb(r,e,o),s)}function Ad(t,e,n,i,r,o,a){var s=e.D;if(r=new qb(r,e,o),n.e())a=t.I.ta(e.D.j(),i,a),t=Fd(e,a,!0,t.I.Ga());else if(o=O(n),".priority"===o)a=t.I.da(e.D.j(),i),t=Fd(e,a,s.$,s.Tb);else{var u=G(n);if(n=s.j().M(o),!u.e()){var h=r.pf(o);i=null!=h?".priority"===vc(u)&&h.oa(u.parent()).e()?h:h.G(u,i):C}n.Z(i)?t=e:(a=t.I.G(s.j(),o,i,r,a),t=Fd(e,a,s.$,t.I.Ga()))}return t}function Dd(t,e,n,i,r,o,a){var s=e;return Kd(i,function(i,u){var h=n.w(i);rb(e.D,O(h))&&(s=Ad(t,s,h,u,r,o,a))}),Kd(i,function(i,u){var h=n.w(i);rb(e.D,O(h))||(s=Ad(t,s,h,u,r,o,a))}),s}function Ld(t,e){return Kd(e,function(e,n){t=t.G(e,n)}),t}function Ed(t,e,n,i,r,o,a,s){if(e.u().j().e()&&!Hb(e.u()))return e;var u=e;n=n.e()?i:Md(Nd,n,i);var h=e.u().j();return n.children.ha(function(n,i){if(h.Ha(n)){var c=e.u().j().M(n),c=Ld(c,i);u=Bd(t,u,new K(n),c,r,o,a,s)}}),n.children.ha(function(n,i){var c=!Hb(e.u())&&null==i.value;h.Ha(n)||c||(c=e.u().j().M(n),c=Ld(c,i),u=Bd(t,u,new K(n),c,r,o,a,s))}),u}function Gd(t,e,n,i,r,o){if(null!=i.sc(n))return e;var a=new qb(i,e,r),s=r=e.D.j();if(Hb(e.u())){if(n.e())r=i.ua(tb(e)),s=t.I.ta(e.D.j(),r,o);else if(".priority"===O(n)){var u=i.Xa(O(n),e.u());null==u||r.e()||r.A().Z(u)||(s=t.I.da(r,u))}else u=O(n),r=i.Xa(u,e.u()),null!=r&&(s=t.I.G(e.D.j(),u,r,a,o));r=!0}else e.D.$||n.e()?(s=r,r=e.D.j(),r.N()||r.U(M,function(n){var r=i.Xa(n,e.u());null!=r&&(s=t.I.G(s,n,r,a,o))}),r=e.D.$):(u=O(n),(1==uc(n)||rb(e.D,u))&&(n=i.Xa(u,e.u()),null!=n&&(s=t.I.G(r,u,n,a,o))),r=!1);return Fd(e,s,r,t.I.Ga())}function Od(){}function ud(t){return q(t.compare,t)}function Rd(t){this.bc=t}function Td(){}function Ud(){}function Wd(){}function Zd(){this.Rb=this.na=this.Lb=this.la=this.ia=!1,this.ja=0,this.Nb="",this.dc=null,this.xb="",this.ac=null,this.vb="",this.g=M}function sd(t){return""===t.Nb?t.la:"l"===t.Nb}function od(t){return J(t.la,"Only valid if start has been set"),t.dc}function nd(t){return J(t.la,"Only valid if start has been set"),t.Lb?t.xb:"[MIN_NAME]"}function qd(t){return J(t.na,"Only valid if end has been set"),t.ac}function pd(t){return J(t.na,"Only valid if end has been set"),t.Rb?t.vb:"[MAX_NAME]"}function ae(t){var e=new Zd;return e.ia=t.ia,e.ja=t.ja,e.la=t.la,e.dc=t.dc,e.Lb=t.Lb,e.xb=t.xb,e.na=t.na,e.ac=t.ac,e.Rb=t.Rb,e.vb=t.vb,e.g=t.g,e}function be(t,e){var n=ae(t);return n.g=e,n}function ce(t){var e={};if(t.la&&(e.sp=t.dc,t.Lb&&(e.sn=t.xb)),t.na&&(e.ep=t.ac,t.Rb&&(e.en=t.vb)),t.ia){e.l=t.ja;var n=t.Nb;""===n&&(n=sd(t)?"l":"r"),e.vf=n}return t.g!==M&&(e.i=t.g.toString()),e}function de(t){return!(t.la||t.na||t.ia)}function ee(t){var e={};if(de(t)&&t.g==M)return e;var n;return t.g===M?n="$priority":t.g===Yd?n="$value":(J(t.g instanceof Rd,"Unrecognized index type!"),n=t.g.toString()),e.orderBy=B(n),t.la&&(e.startAt=B(t.dc),t.Lb&&(e.startAt+=","+B(t.xb))),t.na&&(e.endAt=B(t.ac),t.Rb&&(e.endAt+=","+B(t.vb))),t.ia&&(sd(t)?e.limitToFirst=t.ja:e.limitToLast=t.ja),e}function fe(t,e){this.yd=t,this.cc=e}function ge(t,e,n){var i=na(t.yd,function(i,r){var o=w(t.cc,r);if(J(o,"Missing index implementation for "+r),i===Pd){if(o.Hc(e.S)){for(var a=[],s=n.Wb(Qb),u=H(s);u;)u.name!=e.name&&a.push(u),u=H(s);return a.push(e),he(a,ud(o))}return Pd}return o=n.get(e.name),a=i,o&&(a=a.remove(new E(e.name,o))),a.Na(e,e.S)});return new fe(i,t.cc)}function ie(t,e,n){var i=na(t.yd,function(t){if(t===Pd)return t;var i=n.get(e.name);return i?t.remove(new E(e.name,i)):t});return new fe(i,t.cc)}function tc(t,e){this.C=t,J(n(this.C)&&null!==this.C,"LeafNode shouldn't be created with null/undefined value."),this.ba=e||C,ke(this.ba),this.Bb=null}function T(t,e,n){this.m=t,(this.ba=e)&&ke(this.ba),t.e()&&J(!this.ba||this.ba.e(),"An empty node cannot have a priority"),this.wb=n,this.Bb=null}function wd(t,e){var n;return n=(n=oe(t,e))?(n=n.Rc())&&n.name:t.m.Rc(),n?new E(n,t.m.get(n)):null}function xd(t,e){var n;return n=(n=oe(t,e))?(n=n.ec())&&n.name:t.m.ec(),n?new E(n,t.m.get(n)):null}function oe(t,e){return e===Vd?null:t.wb.get(e.toString())}function L(t,e){if(null===t)return C;var n=null;if("object"==typeof t&&".priority"in t?n=t[".priority"]:"undefined"!=typeof e&&(n=e),J(null===n||"string"==typeof n||"number"==typeof n||"object"==typeof n&&".sv"in n,"Invalid priority type found: "+typeof n),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new tc(t,L(n));if(t instanceof Array){var i=C,o=t;return r(o,function(t,e){if(u(o,e)&&"."!==e.substring(0,1)){var n=L(t);(n.N()||!n.e())&&(i=i.Q(e,n))}}),i.da(L(n))}var a=[],s=!1,h=t;if(hb(h,function(t){if("string"!=typeof t||"."!==t.substring(0,1)){var e=L(h[t]);e.e()||(s=s||!e.A().e(),a.push(new E(t,e)))}}),0==a.length)return C;var c=he(a,Rb,function(t){return t.name},Tb);if(s){var f=he(a,ud(M));return new T(c,L(n),new fe({".priority":f},{".priority":M}))}return new T(c,L(n),je)}function qe(t){this.count=parseInt(Math.log(t+1)/pe,10),this.hf=this.count-1,this.bg=t+1&parseInt(Array(this.count+1).join("1"),2)}function re(t){var e=!(t.bg&1<<t.hf);return t.hf--,e}function he(t,e,n,i){function r(e,i){var o=i-e;if(0==o)return null;if(1==o){var a=t[e],s=n?n(a):a;return new fc(s,a.S,!1,null,null)}var a=parseInt(o/2,10)+e,o=r(e,a),u=r(a+1,i),a=t[a],s=n?n(a):a;return new fc(s,a.S,!1,o,u)}t.sort(e);var o=function(e){function i(e,i){var u=s-e,h=s;s-=e;var h=r(u+1,h),u=t[u],c=n?n(u):u,h=new fc(c,u.S,i,null,h);o?o.left=h:a=h,o=h}for(var o=null,a=null,s=t.length,u=0;u<e.count;++u){var h=re(e),c=Math.pow(2,e.count-(u+1));h?i(c,!1):(i(c,!1),i(c,!0))}return a}(new qe(t.length));return null!==o?new ac(i||e,o):new ac(i||e)}function le(t){return"number"==typeof t?"number:"+Zc(t):"string:"+t}function ke(t){if(t.N()){var e=t.K();J("string"==typeof e||"number"==typeof e||"object"==typeof e&&u(e,".sv"),"Priority must be a string or number.")}else J(t===Sd||t.e(),"priority of unexpected type.");J(t===Sd||t.A().e(),"Priority nodes can't have a priority of their own.")}function se(){T.call(this,new ac(Tb),C,je)}function Id(t,e){this.D=t,this.Ud=e}function Fd(t,e,n,i){return new Id(new sb(e,n,i),t.Ud)}function Jd(t){return t.D.$?t.D.j():null}function tb(t){return t.Ud.$?t.Ud.j():null}function te(t,e){this.V=t;var n=t.n,i=new ld(n.g),n=de(n)?new ld(n.g):n.ia?new rd(n):new md(n);this.Gf=new zd(n);var r=e.u(),o=e.D,a=i.ta(C,r.j(),null),s=n.ta(C,o.j(),null);this.Ka=new Id(new sb(s,o.$,n.Ga()),new sb(a,r.$,i.Ga())),this.Za=[],this.ig=new dd(t)}function ue(t){return t.V}function we(t,e){var n=t.Ka.D,i=[];return n.j().N()||n.j().U(M,function(t,e){i.push(new D("child_added",e,t))}),n.$&&i.push(Db(n.j())),ve(t,i,n.j(),e)}function ve(t,e,n,i){return ed(t.ig,e,n,i?[i]:t.Za)}function xe(t,e,n){this.type=Cd,this.source=t,this.path=e,this.children=n}function ye(t,e,n,i){this.ve=t,this.of=e,this.Ib=n,this.af=i,J(!i||e,"Tagged queries must be from server.")}function Ae(t,e){this.f=Oc("p:rest:"),this.H=t,this.Gb=e,this.Fa=null,this.aa={}}function Be(t,e){if(n(e))return"tag$"+e;var i=t.n;return J(de(i)&&i.g==M,"should have a tag if it's not a default query."),t.path.toString()}function Ce(t,e,n,i){n=n||{},n.format="export",t.Fa&&(n.auth=t.Fa);var r=(t.H.lb?"https://":"http://")+t.H.host+e+"?"+jb(n);t.f("Sending REST request for "+r);var o=new XMLHttpRequest;o.onreadystatechange=function(){if(i&&4===o.readyState){t.f("REST Response for "+r+" received. status:",o.status,"response:",o.responseText);var e=null;if(200<=o.status&&300>o.status){try{e=mb(o.responseText)}catch(n){Q("Failed to parse JSON response for "+r+": "+o.responseText)}i(null,e)}else 401!==o.status&&404!==o.status&&Q("Got unsuccessful REST response for "+r+" Status: "+o.status),i(o.status);i=null}},o.open("GET",r,!0),o.send()}function De(t,e){this.value=t,this.children=e||Ee}function Fe(t){var e=Nd;return r(t,function(t,n){e=e.set(new K(n),t)}),e}function Ge(t,e,n){if(null!=t.value&&n(t.value))return{path:F,value:t.value};if(e.e())return null;var i=O(e);return t=t.children.get(i),null!==t?(e=Ge(t,G(e),n),null!=e?{path:new K(i).w(e.path),value:e.value}:null):null}function He(t,e){return Ge(t,e,function(){return!0})}function Md(t,e,n){if(e.e())return n;var i=O(e);return e=Md(t.children.get(i)||Nd,G(e),n),i=e.e()?t.children.remove(i):t.children.Na(i,e),new De(t.value,i)}function Ie(t,e){return Je(t,F,e)}function Je(t,e,n){var i={};return t.children.ha(function(t,r){i[t]=Je(r,e.w(t),n)}),n(e,t.value,i)}function Ke(t,e,n){return Le(t,e,F,n)}function Le(t,e,n,i){var r=t.value?i(n,t.value):!1;return r?r:e.e()?null:(r=O(e),(t=t.children.get(r))?Le(t,G(e),n.w(r),i):null)}function Me(t,e,n){var i=F;if(!e.e()){var r=!0;t.value&&(r=n(i,t.value)),!0===r&&(r=O(e),(t=t.children.get(r))&&Ne(t,G(e),i.w(r),n))}}function Ne(t,e,n,i){if(e.e())return t;t.value&&i(n,t.value);var r=O(e);return(t=t.children.get(r))?Ne(t,G(e),n.w(r),i):Nd}function Kd(t,e){Oe(t,F,e)}function Oe(t,e,n){t.children.ha(function(t,i){Oe(i,e.w(t),n)}),t.value&&n(e,t.value)}function Pe(t,e){t.children.ha(function(t,n){n.value&&e(t,n.value)})}function Qe(t){this.W=t}function Se(t,e,n){if(e.e())return new Qe(new De(n));var i=He(t.W,e);if(null!=i){var r=i.path,i=i.value;return e=N(r,e),i=i.G(e,n),new Qe(t.W.set(r,i))}return t=Md(t.W,e,new De(n)),new Qe(t)}function Te(t,e,n){var i=t;return hb(n,function(t,n){i=Se(i,e.w(t),n)}),i}function Ue(t,e){var n=He(t.W,e);return null!=n?t.W.get(n.path).oa(N(n.path,e)):null}function Ve(t){var e=[],n=t.W.value;return null!=n?n.N()||n.U(M,function(t,n){e.push(new E(t,n))}):t.W.children.ha(function(t,n){null!=n.value&&e.push(new E(t,n.value))}),e}function We(t,e){if(e.e())return t;var n=Ue(t,e);return new Qe(null!=n?new De(n):t.W.subtree(e))}function Xe(t,e,n){if(null!=e.value)return n.G(t,e.value);var i=null;return e.children.ha(function(e,r){".priority"===e?(J(null!==r.value,"Priority writes must always be leaf nodes"),i=r.value):n=Xe(t.w(e),r,n)}),n.oa(t).e()||null===i||(n=n.G(t.w(".priority"),i)),n}function Ye(){this.T=Re,this.za=[],this.Lc=-1}function Ze(t,e){return t.Ia?t.path.contains(e):!!ua(t.children,function(n,i){return t.path.w(i).contains(e)})}function af(t){return t.visible}function $e(t,e,n){for(var i=Re,r=0;r<t.length;++r){var o=t[r];if(e(o)){var a=o.path;if(o.Ia)n.contains(a)?(a=N(n,a),i=Se(i,a,o.Ia)):a.contains(n)&&(a=N(a,n),i=Se(i,F,o.Ia.oa(a)));else{if(!o.children)throw Hc("WriteRecord should have .snap or .children");

n.contains(a)?(a=N(n,a),i=Te(i,a,o.children)):a.contains(n)&&(a=N(a,n),a.e()?i=Te(i,F,o.children):(o=w(o.children,O(a)))&&(o=o.oa(G(a)),i=Se(i,F,o)))}}}return i}function bf(t,e){this.Mb=t,this.W=e}function cf(){this.ya={}}function ef(t){return Pa(ra(t.ya),function(t){return!de(t.V.n)})}function ff(t,e){if(de(e.n))return df(t);var n=e.wa();return w(t.ya,n)}function df(t){return va(t.ya,function(t){return de(t.V.n)})||null}function gf(t){this.sa=Nd,this.Hb=new Ye,this.$e={},this.kc={},this.Mc=t}function hf(t,e,i,r,o){var a=t.Hb,s=o;return J(r>a.Lc,"Stacking an older write on top of newer ones"),n(s)||(s=!0),a.za.push({path:e,Ia:i,ie:r,visible:s}),s&&(a.T=Se(a.T,e,i)),a.Lc=r,o?jf(t,new Ub(Yb,e,i)):[]}function kf(t,e,n,i){var r=t.Hb;return J(i>r.Lc,"Stacking an older merge on top of newer ones"),r.za.push({path:e,children:n,ie:i,visible:!0}),r.T=Te(r.T,e,n),r.Lc=i,n=Fe(n),jf(t,new xe(Yb,e,n))}function lf(t,e,n){return n=n||!1,e=t.Hb.Od(e),null==e?[]:jf(t,new Wb(e,n))}function mf(t,e,n){return n=Fe(n),jf(t,new xe(ze,e,n))}function nf(t,e,n,i){if(i=of(t,i),null!=i){var r=pf(i);return i=r.path,r=r.Ib,e=N(i,e),n=new Ub(new ye(!1,!0,r,!0),e,n),qf(t,i,n)}return[]}function rf(t,e,n,i){if(i=of(t,i)){var r=pf(i);return i=r.path,r=r.Ib,e=N(i,e),n=Fe(n),n=new xe(new ye(!1,!0,r,!0),e,n),qf(t,i,n)}return[]}function vf(t){return Ie(t,function(t,e,n){if(e&&null!=df(e))return[df(e)];var i=[];return e&&(i=ef(e)),r(n,function(t){i=i.concat(t)}),i})}function yf(t,e){for(var n=0;n<e.length;++n){var i=e[n];if(!de(i.n)){var i=sf(i),r=t.kc[i];delete t.kc[i],delete t.$e["_"+r]}}}function uf(t,e,n){var i=e.path,o=xf(t,e);if(n=wf(t,n),e=t.Mc.Xe(e,o,n.ud,n.J),i=t.sa.subtree(i),o)J(null==df(i.value),"If we're adding a query, it shouldn't be shadowed");else for(o=Ie(i,function(t,e,n){if(!t.e()&&e&&null!=df(e))return[ue(df(e))];var i=[];return e&&(i=i.concat(Qa(ef(e),function(t){return t.V}))),r(n,function(t){i=i.concat(t)}),i}),i=0;i<o.length;++i)n=o[i],t.Mc.Zd(n,xf(t,n));return e}function wf(t,e){var n=e.V,i=xf(t,n);return{ud:function(){return(e.u()||C).hash()},J:function(e){if("ok"===e){if(i){var r=n.path;if(e=of(t,i)){var o=pf(e);e=o.path,o=o.Ib,r=N(e,r),r=new Zb(new ye(!1,!0,o,!0),r),e=qf(t,e,r)}else e=[]}else e=jf(t,new Zb(ze,n.path));return e}return r="Unknown Error","too_big"===e?r="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"==e?r="Client doesn't have permission to access the desired data.":"unavailable"==e&&(r="The service is unavailable"),r=Error(e+": "+r),r.code=e.toUpperCase(),t.kb(n,null,r)}}}function sf(t){return t.path.toString()+"$"+t.wa()}function pf(t){var e=t.indexOf("$");return J(-1!==e&&e<t.length-1,"Bad queryKey."),{Ib:t.substr(e+1),path:new K(t.substr(0,e))}}function of(t,e){var n=t.$e,i="_"+e;return i in n?n[i]:void 0}function xf(t,e){var n=sf(e);return w(t.kc,n)}function qf(t,e,n){var i=t.sa.get(e);return J(i,"Missing sync point for query tag that we're tracking"),i.bb(n,new bf(e,t.Hb),null)}function jf(t,e){return zf(t,e,t.sa,null,new bf(F,t.Hb))}function zf(t,e,n,i,r){if(e.path.e())return Af(t,e,n,i,r);var o=n.get(F);null==i&&null!=o&&(i=o.hb(F));var a=[],s=O(e.path),u=e.Wc(s);if((n=n.children.get(s))&&u)var h=i?i.M(s):null,s=r.w(s),a=a.concat(zf(t,u,n,h,s));return o&&(a=a.concat(o.bb(e,r,i))),a}function Af(t,e,n,i,r){var o=n.get(F);null==i&&null!=o&&(i=o.hb(F));var a=[];return n.children.ha(function(n,o){var s=i?i.M(n):null,u=r.w(n),h=e.Wc(n);h&&(a=a.concat(Af(t,h,o,s,u)))}),o&&(a=a.concat(o.bb(e,r,i))),a}function Bf(){this.children={},this.kd=0,this.value=null}function Cf(t,e,n){this.Dd=t?t:"",this.Yc=e?e:null,this.B=n?n:new Bf}function Df(t,e){for(var n,i=e instanceof K?e:new K(e),r=t;null!==(n=O(i));)r=new Cf(n,r,w(r.B.children,n)||new Bf),i=G(i);return r}function Ef(t,e){J("undefined"!=typeof e,"Cannot set value to undefined"),t.B.value=e,Ff(t)}function Gf(t,e,n,i){n&&!i&&e(t),t.U(function(t){Gf(t,e,!0,i)}),n&&i&&e(t)}function Hf(t,e){for(var n=t.parent();null!==n&&!e(n);)n=n.parent()}function Ff(t){if(null!==t.Yc){var e=t.Yc,n=t.Dd,i=t.e(),r=u(e.B.children,n);i&&r?(delete e.B.children[n],e.B.kd--,Ff(e)):i||r||(e.B.children[n]=t.B,e.B.kd++,Ff(e))}}function If(t){J(ea(t)&&0<t.length,"Requires a non-empty array"),this.Uf=t,this.Nc={}}function Jf(t,e){J(Ta(t.Uf,function(t){return t===e}),"Unknown event: "+e)}function Lf(){if(If.call(this,["online"]),this.ic=!0,"undefined"!=typeof window&&"undefined"!=typeof window.addEventListener){var t=this;window.addEventListener("online",function(){t.ic||(t.ic=!0,t.de("online",!0))},!1),window.addEventListener("offline",function(){t.ic&&(t.ic=!1,t.de("online",!1))},!1)}}function Mf(){If.call(this,["visible"]);var t,e;if("undefined"!=typeof document&&"undefined"!=typeof document.addEventListener&&("undefined"!=typeof document.hidden?(e="visibilitychange",t="hidden"):"undefined"!=typeof document.mozHidden?(e="mozvisibilitychange",t="mozHidden"):"undefined"!=typeof document.msHidden?(e="msvisibilitychange",t="msHidden"):"undefined"!=typeof document.webkitHidden&&(e="webkitvisibilitychange",t="webkitHidden")),this.uc=!0,e){var n=this;document.addEventListener(e,function(){var e=!document[t];e!==n.uc&&(n.uc=e,n.de("visible",e))},!1)}}function Pf(t){return p(t)&&0!==t.length&&!Nf.test(t)}function Qf(t){return null===t||p(t)||ga(t)&&!Sc(t)||ia(t)&&u(t,".sv")}function Rf(t,e,i,r){r&&!n(e)||Sf(z(t,1,r),e,i)}function Sf(t,e,i){if(i instanceof K&&(i=new wc(i,t)),!n(e))throw Error(t+"contains undefined "+zc(i));if(ha(e))throw Error(t+"contains a function "+zc(i)+" with contents: "+e.toString());if(Sc(e))throw Error(t+"contains "+e.toString()+" "+zc(i));if(p(e)&&e.length>10485760/3&&10485760<xc(e))throw Error(t+"contains a string greater than 10485760 utf8 bytes "+zc(i)+" ('"+e.substring(0,50)+"...')");if(ia(e)){var r=!1,o=!1;if(hb(e,function(e,n){if(".value"===e)r=!0;else if(".priority"!==e&&".sv"!==e&&(o=!0,!Pf(e)))throw Error(t+" contains an invalid key ("+e+") "+zc(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');i.push(e),Sf(t,n,i),i.pop()}),r&&o)throw Error(t+' contains ".value" child '+zc(i)+" in addition to actual children.")}}function Tf(t,e,n){if(!ia(e)||ea(e))throw Error(z(t,1,!1)+" must be an Object containing the children to replace.");if(u(e,".value"))throw Error(z(t,1,!1)+' must not contain ".value".  To overwrite with a leaf value, just use .set() instead.');Rf(t,e,n,!1)}function Uf(t,e,n){if(Sc(n))throw Error(z(t,e,!1)+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Qf(n))throw Error(z(t,e,!1)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}function Vf(t,e,i){if(!i||n(e))switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw Error(z(t,1,i)+'must be a valid event type: "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}function Wf(t,e,i,r){if((!r||n(i))&&!Pf(i))throw Error(z(t,e,r)+'was an invalid key: "'+i+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')}function Xf(t,e){if(!p(e)||0===e.length||Of.test(e))throw Error(z(t,1,!1)+'was an invalid path: "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')}function Yf(t,e){if(".info"===O(e))throw Error(t+" failed: Can't modify data under /.info/")}function Zf(t,e){if(!p(e))throw Error(z(t,1,!1)+"must be a valid credential (a string).")}function $f(t,e,n){if(!p(n))throw Error(z(t,e,!1)+"must be a valid string.")}function ag(t,e,i,r){if(!(r&&!n(i)||ia(i)&&null!==i))throw Error(z(t,e,r)+"must be a valid object.")}function bg(t,e,n){if(!ia(e)||null===e||!u(e,n))throw Error(z(t,1,!1)+'must contain the key "'+n+'"');if(!p(w(e,n)))throw Error(z(t,1,!1)+'must contain the key "'+n+'" with type "string"')}function cg(){this.set={}}function dg(t,e){r(t.set,function(t,n){e(n,t)})}function qc(){this.m=this.C=null}function eg(t,e){if(e.e())return t.C=null,t.m=null,!0;if(null!==t.C){if(t.C.N())return!1;var n=t.C;return t.C=null,n.U(M,function(e,n){t.mc(new K(e),n)}),eg(t,e)}return null!==t.m?(n=O(e),e=G(e),t.m.contains(n)&&eg(t.m.get(n),e)&&t.m.remove(n),t.m.e()?(t.m=null,!0):!1):!0}function rc(t,e,n){null!==t.C?n(e,t.C):t.U(function(t,i){var r=new K(e.toString()+"/"+t);rc(i,r,n)})}function gg(t,e,n){this.ld=t||{},this.ce=e||{},this.ab=n||{},this.ld.remember||(this.ld.remember="default")}function ig(t){var e={},n={};return hb(t||{},function(t,i){0<=Na(hg,t)?e[t]=i:n[t]=i}),new gg(e,{},n)}function jg(t,e){this.Pe=["session",t.Ld,t.Cb].join(":"),this.$d=e}function kg(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(navigator.userAgent)}function lg(){return"undefined"!=typeof location&&/^file:\//.test(location.href)}function mg(){if("undefined"==typeof navigator)return!1;var t=navigator.userAgent;if("Microsoft Internet Explorer"===navigator.appName){if((t=t.match(/MSIE ([0-9]{1,}[\.0-9]{0,})/))&&1<t.length)return 8<=parseFloat(t[1])}else if(-1<t.indexOf("Trident")&&(t=t.match(/rv:([0-9]{2,2}[\.0-9]{0,})/))&&1<t.length)return 8<=parseFloat(t[1]);return!1}function ng(){var t,e=window.opener.frames;for(t=e.length-1;t>=0;t--)try{if(e[t].location.protocol===window.location.protocol&&e[t].location.host===window.location.host&&"__winchan_relay_frame"===e[t].name)return e[t]}catch(n){}return null}function og(t,e,n){t.attachEvent?t.attachEvent("on"+e,n):t.addEventListener&&t.addEventListener(e,n,!1)}function pg(t,e,n){t.detachEvent?t.detachEvent("on"+e,n):t.removeEventListener&&t.removeEventListener(e,n,!1)}function qg(t){/^https?:\/\//.test(t)||(t=window.location.href);var e=/^(https?:\/\/[\-_a-zA-Z\.0-9:]+)/.exec(t);return e?e[1]:t}function rg(t){var e="";try{t=t.replace("#","");var n=kb(t);n&&u(n,"__firebase_request_key")&&(e=w(n,"__firebase_request_key"))}catch(i){}return e}function sg(){var t=Rc(fg);return t.scheme+"://"+t.host+"/v2"}function tg(t){return sg()+"/"+t+"/auth/channel"}function ug(t){var e=this;if(this.zc=t,this.ae="*",mg()?this.Qc=this.wd=ng():(this.Qc=window.opener,this.wd=window),!e.Qc)throw"Unable to find relay frame";og(this.wd,"message",q(this.hc,this)),og(this.wd,"message",q(this.Af,this));try{vg(this,{a:"ready"})}catch(n){og(this.Qc,"load",function(){vg(e,{a:"ready"})})}og(window,"unload",q(this.yg,this))}function vg(t,e){e=B(e),mg()?t.Qc.doPost(e,t.ae):t.Qc.postMessage(e,t.ae)}function wg(t){this.oc=Ga()+Ga()+Ga(),this.Df=t}function yg(t){var e=Error(w(xg,t),t);return e.code=t,e}function zg(t){(!t.window_features||"undefined"!=typeof navigator&&(-1!==navigator.userAgent.indexOf("Fennec/")||-1!==navigator.userAgent.indexOf("Firefox/")&&-1!==navigator.userAgent.indexOf("Android")))&&(t.window_features=void 0),t.window_name||(t.window_name="_blank"),this.options=t}function Ag(t){t.method||(t.method="GET"),t.headers||(t.headers={}),t.headers.content_type||(t.headers.content_type="application/json"),t.headers.content_type=t.headers.content_type.toLowerCase(),this.options=t}function Bg(t){this.oc=Ga()+Ga()+Ga(),this.Df=t}function Cg(t){t.callback_parameter||(t.callback_parameter="callback"),this.options=t,window.__firebase_auth_jsonp=window.__firebase_auth_jsonp||{}}function Dg(t,e,n){setTimeout(function(){try{var i=document.createElement("script");i.type="text/javascript",i.id=t,i.async=!0,i.src=e,i.onerror=function(){var e=document.getElementById(t);null!==e&&e.parentNode.removeChild(e),n&&n(yg("NETWORK_ERROR"))};var r=document.getElementsByTagName("head");(r&&0!=r.length?r[0]:document.documentElement).appendChild(i)}catch(o){n&&n(yg("NETWORK_ERROR"))}},0)}function Eg(t,e,n,i){If.call(this,["auth_status"]),this.H=t,this.df=e,this.Sg=n,this.Ke=i,this.rc=new jg(t,[Dc,P]),this.nb=null,this.Re=!1,Fg(this)}function Fg(t){P.get("redirect_request_id")&&Gg(t);var e=t.rc.get();e&&e.token?(Hg(t,e),t.df(e.token,function(n,i){Ig(t,n,i,!1,e.token,e)},function(e,n){Jg(t,"resumeSession()",e,n)})):Hg(t,null)}function Kg(t,e,n,i,r,o){"firebaseio-demo.com"===t.H.domain&&Q("Firebase authentication is not supported on demo Firebases (*.firebaseio-demo.com). To secure your Firebase, create a production Firebase at https://www.firebase.com."),t.df(e,function(o,a){Ig(t,o,a,!0,e,n,i||{},r)},function(e,n){Jg(t,"auth()",e,n,o)})}function Lg(t,e){t.rc.clear(),Hg(t,null),t.Sg(function(t,n){if("ok"===t)R(e,null);else{var i=(t||"error").toUpperCase(),r=i;n&&(r+=": "+n),r=Error(r),r.code=i,R(e,r)}})}function Ig(t,e,n,i,r,o,a,s){"ok"===e?(i&&(e=n.auth,o.auth=e,o.expires=n.expires,o.token=cd(r)?r:"",n=null,e&&u(e,"uid")?n=w(e,"uid"):u(o,"uid")&&(n=w(o,"uid")),o.uid=n,n="custom",e&&u(e,"provider")?n=w(e,"provider"):u(o,"provider")&&(n=w(o,"provider")),o.provider=n,t.rc.clear(),cd(r)&&(a=a||{},n=Dc,"sessionOnly"===a.remember&&(n=P),"none"!==a.remember&&t.rc.set(o,n)),Hg(t,o)),R(s,null,o)):(t.rc.clear(),Hg(t,null),o=t=(e||"error").toUpperCase(),n&&(o+=": "+n),o=Error(o),o.code=t,R(s,o))}function Jg(t,e,n,i,r){Q(e+" was canceled: "+i),t.rc.clear(),Hg(t,null),t=Error(i),t.code=n.toUpperCase(),R(r,t)}function Mg(t,e,n,i,r){Ng(t),n=new gg(i||{},{},n||{}),Og(t,[Ag,Cg],"/auth/"+e,n,r)}function Pg(t,e,n,i){Ng(t);var r=[zg,Bg];n=ig(n),"anonymous"===e||"password"===e?setTimeout(function(){R(i,yg("TRANSPORT_UNAVAILABLE"))},0):(n.ce.window_features="menubar=yes,modal=yes,alwaysRaised=yeslocation=yes,resizable=yes,scrollbars=yes,status=yes,height=625,width=625,top="+("object"==typeof screen?.5*(screen.height-625):0)+",left="+("object"==typeof screen?.5*(screen.width-625):0),n.ce.relay_url=tg(t.H.Cb),n.ce.requestWithCredential=q(t.pc,t),Og(t,r,"/auth/"+e,n,i))}function Gg(t){var e=P.get("redirect_request_id");if(e){var n=P.get("redirect_client_options");P.remove("redirect_request_id"),P.remove("redirect_client_options");var i=[Ag,Cg],e={requestId:e,requestKey:rg(document.location.hash)},n=new gg(n,{},e);t.Re=!0;try{document.location.hash=document.location.hash.replace(/&__firebase_request_key=([a-zA-z0-9]*)/,"")}catch(r){}Og(t,i,"/auth/session",n,function(){this.Re=!1}.bind(t))}}function Og(t,e,n,i,r){Qg(t,e,n,i,function(e,n){!e&&n&&n.token&&n.uid?Kg(t,n.token,n,i.ld,function(t,e){t?R(r,t):R(r,null,e)}):R(r,e||yg("UNKNOWN_ERROR"))})}function Qg(t,e,n,i,r){e=Pa(e,function(t){return"function"==typeof t.isAvailable&&t.isAvailable()}),0===e.length?setTimeout(function(){R(r,yg("TRANSPORT_UNAVAILABLE"))},0):(e=new(e.shift())(i.ce),i=ib(i.ab),i.v="js-2.2.4",i.transport=e.Bc(),i.suppress_status_codes=!0,t=sg()+"/"+t.H.Cb+n,e.open(t,i,function(t,e){if(t)R(r,t);else if(e&&e.error){var n=Error(e.error.message);n.code=e.error.code,n.details=e.error.details,R(r,n)}else R(r,null,e)}))}function Hg(t,e){var n=null!==t.nb||null!==e;t.nb=e,n&&t.de("auth_status",e),t.Ke(null!==e)}function Ng(t){var e=t.H;if("firebaseio.com"!==e.domain&&"firebaseio-demo.com"!==e.domain&&"auth.firebase.com"===fg)throw Error("This custom Firebase server ('"+t.H.domain+"') does not support delegated login.")}function Rg(t){this.hc=t,this.Kd=[],this.Qb=0,this.pe=-1,this.Fb=null}function Sg(t,e,n){t.pe=e,t.Fb=n,t.pe<t.Qb&&(t.Fb(),t.Fb=null)}function Tg(t,e,n){for(t.Kd[e]=n;t.Kd[t.Qb];){var i=t.Kd[t.Qb];delete t.Kd[t.Qb];for(var r=0;r<i.length;++r)if(i[r]){var o=t;Cb(function(){o.hc(i[r])})}if(t.Qb===t.pe){t.Fb&&(clearTimeout(t.Fb),t.Fb(),t.Fb=null);break}t.Qb++}}function Ug(t,e,n){this.qe=t,this.f=Oc(t),this.ob=this.pb=0,this.Va=Ob(e),this.Vd=n,this.Gc=!1,this.gd=function(t){e.host!==e.Oa&&(t.ns=e.Cb);var n,i=[];for(n in t)t.hasOwnProperty(n)&&i.push(n+"="+t[n]);return(e.lb?"https://":"http://")+e.Oa+"/.lp?"+i.join("&")}}function Yg(t,e){var n=B(e).length;t.ob+=n,Lb(t.Va,"bytes_received",n)}function Xg(t,e,n,i){if(this.gd=i,this.jb=n,this.Oe=new cg,this.$c=[],this.se=Math.floor(1e8*Math.random()),this.Td=!0,this.fe=Gc(),window["pLPCommand"+this.fe]=t,window["pRTLPCB"+this.fe]=e,t=document.createElement("iframe"),t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||Bb("No IE domain setting required")}catch(r){t.src="javascript:void((function(){document.open();document.domain='"+document.domain+"';document.close();})())"}t.contentDocument?t.gb=t.contentDocument:t.contentWindow?t.gb=t.contentWindow.document:t.document&&(t.gb=t.document),this.Ca=t,t="",this.Ca.src&&"javascript:"===this.Ca.src.substr(0,11)&&(t='<script>document.domain="'+document.domain+'";</script>'),t="<html><body>"+t+"</body></html>";try{this.Ca.gb.open(),this.Ca.gb.write(t),this.Ca.gb.close()}catch(o){Bb("frame writing exception"),o.stack&&Bb(o.stack),Bb(o)}}function $g(t){if(t.ke&&t.Td&&t.Oe.count()<(0<t.$c.length?2:1)){t.se++;var e={};e.id=t.rg,e.pw=t.sg,e.ser=t.se;for(var e=t.gd(e),n="",i=0;0<t.$c.length&&1870>=t.$c[0].jf.length+30+n.length;){var r=t.$c.shift(),n=n+"&seg"+i+"="+r.Jg+"&ts"+i+"="+r.Rg+"&d"+i+"="+r.jf;i++}return ah(t,e+n,t.se),!0}return!1}function ah(t,e,n){function i(){t.Oe.remove(n),$g(t)}t.Oe.add(n,1);var r=setTimeout(i,Math.floor(25e3));Zg(t,e,function(){clearTimeout(r),i()})}function Zg(t,e,n){setTimeout(function(){try{if(t.Td){var i=t.Ca.gb.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){var t=i.readyState;t&&"loaded"!==t&&"complete"!==t||(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=function(){Bb("Long-poll script failed to load: "+e),t.Td=!1,t.close()},t.Ca.gb.body.appendChild(i)}}catch(r){}},Math.floor(1))}function ch(t,e,n){this.qe=t,this.f=Oc(this.qe),this.frames=this.Jc=null,this.ob=this.pb=this.bf=0,this.Va=Ob(e),this.fb=(e.lb?"wss://":"ws://")+e.Oa+"/.ws?v=5","undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(this.fb+="&r=f"),e.host!==e.Oa&&(this.fb=this.fb+"&ns="+e.Cb),n&&(this.fb=this.fb+"&s="+n)}function fh(t,e){if(t.frames.push(e),t.frames.length==t.bf){var n=t.frames.join("");t.frames=null,n=mb(n),t.wg(n)}}function eh(t){clearInterval(t.Jc),t.Jc=setInterval(function(){t.va&&t.va.send("0"),eh(t)},Math.floor(45e3))}function gh(t){hh(this,t)}function hh(t,e){var n=ch&&ch.isAvailable(),i=n&&!(Dc.uf||!0===Dc.get("previous_websocket_failure"));if(e.Tg&&(n||Q("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)t.ed=[ch];else{var r=t.ed=[];Yc(ih,function(t,e){e&&e.isAvailable()&&r.push(e)})}}function jh(t){if(0<t.ed.length)return t.ed[0];throw Error("No transports available")}function kh(t,e,n,i,r,o){this.id=t,this.f=Oc("c:"+this.id+":"),this.hc=n,this.Vc=i,this.ka=r,this.Me=o,this.H=e,this.Jd=[],this.ef=0,this.Nf=new gh(e),this.Ua=0,this.f("Connection created"),lh(this)}function lh(t){var e=jh(t.Nf);t.L=new e("c:"+t.id+":"+t.ef++,t.H),t.Qe=e.responsesRequiredToBeHealthy||0;var n=mh(t,t.L),i=nh(t,t.L);t.fd=t.L,t.bd=t.L,t.F=null,t.Ab=!1,setTimeout(function(){t.L&&t.L.open(n,i)},Math.floor(0)),e=e.healthyTimeout||0,e>0&&(t.vd=setTimeout(function(){t.vd=null,t.Ab||(t.L&&102400<t.L.ob?(t.f("Connection exceeded healthy timeout but has received "+t.L.ob+" bytes.  Marking connection healthy."),t.Ab=!0,t.L.Bd()):t.L&&10240<t.L.pb?t.f("Connection exceeded healthy timeout but has sent "+t.L.pb+" bytes.  Leaving connection alive."):(t.f("Closing unhealthy connection after timeout."),t.close()))},Math.floor(e)))}function nh(t,e){return function(n){e===t.L?(t.L=null,n||0!==t.Ua?1===t.Ua&&t.f("Realtime connection lost."):(t.f("Realtime connection failed."),"s-"===t.H.Oa.substr(0,2)&&(Dc.remove("host:"+t.H.host),t.H.Oa=t.H.host)),t.close()):e===t.F?(t.f("Secondary connection lost."),n=t.F,t.F=null,t.fd!==n&&t.bd!==n||t.close()):t.f("closing an old connection")}}function mh(t,e){return function(n){if(2!=t.Ua)if(e===t.bd){var i=Vc("t",n);if(n=Vc("d",n),"c"==i){if(i=Vc("t",n),"d"in n)if(n=n.d,"h"===i){var i=n.ts,r=n.v,o=n.h;t.Vd=n.s,Fc(t.H,o),0==t.Ua&&(t.L.start(),oh(t,t.L,i),"5"!==r&&Q("Protocol version mismatch detected"),n=t.Nf,(n=1<n.ed.length?n.ed[1]:null)&&ph(t,n))}else if("n"===i){for(t.f("recvd end transmission on primary"),t.bd=t.F,n=0;n<t.Jd.length;++n)t.Fd(t.Jd[n]);t.Jd=[],qh(t)}else"s"===i?(t.f("Connection shutdown command received. Shutting down..."),t.Me&&(t.Me(n),t.Me=null),t.ka=null,t.close()):"r"===i?(t.f("Reset packet received.  New host: "+n),Fc(t.H,n),1===t.Ua?t.close():(rh(t),lh(t))):"e"===i?Pc("Server Error: "+n):"o"===i?(t.f("got pong on primary."),sh(t),th(t)):Pc("Unknown control packet command: "+i)}else"d"==i&&t.Fd(n)}else if(e===t.F)if(i=Vc("t",n),n=Vc("d",n),"c"==i)"t"in n&&(n=n.t,"a"===n?uh(t):"r"===n?(t.f("Got a reset on secondary, closing it"),t.F.close(),t.fd!==t.F&&t.bd!==t.F||t.close()):"o"===n&&(t.f("got pong on secondary."),t.Lf--,uh(t)));else{if("d"!=i)throw Error("Unknown protocol layer: "+i);t.Jd.push(n)}else t.f("message on old connection")}}function qh(t){t.fd===t.F&&t.bd===t.F&&(t.f("cleaning up and promoting a connection: "+t.F.qe),t.L=t.F,t.F=null)}function uh(t){0>=t.Lf?(t.f("Secondary connection is healthy."),t.Ab=!0,t.F.Bd(),t.F.start(),t.f("sending client ack on secondary"),t.F.send({t:"c",d:{t:"a",d:{}}}),t.f("Ending transmission on primary"),t.L.send({t:"c",d:{t:"n",d:{}}}),t.fd=t.F,qh(t)):(t.f("sending ping on secondary."),t.F.send({t:"c",d:{t:"p",d:{}}}))}function sh(t){t.Ab||(t.Qe--,0>=t.Qe&&(t.f("Primary connection is healthy."),t.Ab=!0,t.L.Bd()))}function ph(t,e){t.F=new e("c:"+t.id+":"+t.ef++,t.H,t.Vd),t.Lf=e.responsesRequiredToBeHealthy||0,t.F.open(mh(t,t.F),nh(t,t.F)),setTimeout(function(){t.F&&(t.f("Timed out trying to upgrade."),t.F.close())},Math.floor(6e4))}function oh(t,e,n){t.f("Realtime connection established."),t.L=e,t.Ua=1,t.Vc&&(t.Vc(n),t.Vc=null),0===t.Qe?(t.f("Primary connection is healthy."),t.Ab=!0):setTimeout(function(){th(t)},Math.floor(5e3))}function th(t){t.Ab||1!==t.Ua||(t.f("sending ping on primary."),vh(t,{t:"c",d:{t:"p",d:{}}}))}function vh(t,e){if(1!==t.Ua)throw"Connection is not connected";t.fd.send(e)}function rh(t){t.f("Shutting down all connections"),t.L&&(t.L.close(),t.L=null),t.F&&(t.F.close(),t.F=null),t.vd&&(clearTimeout(t.vd),t.vd=null)}function wh(t,e,n,i){this.id=xh++,this.f=Oc("p:"+this.id+":"),this.wf=this.De=!1,this.aa={},this.pa=[],this.Xc=0,this.Uc=[],this.ma=!1,this.$a=1e3,this.Cd=3e5,this.Gb=e,this.Tc=n,this.Ne=i,this.H=t,this.We=null,this.Qd={},this.Ig=0,this.mf=!0,this.Kc=this.Fe=null,yh(this,0),Mf.ub().Eb("visible",this.zg,this),-1===t.host.indexOf("fblocal")&&Lf.ub().Eb("online",this.xg,this)}function Ah(t,e){var n=e.Fg,i=n.path.toString(),r=n.wa();t.f("Listen on "+i+" for "+r);var o={p:i};e.tag&&(o.q=ce(n.n),o.t=e.tag),o.h=e.ud(),t.Da("q",o,function(o){var a=o.d,s=o.s;if(a&&"object"==typeof a&&u(a,"w")){var h=w(a,"w");ea(h)&&0<=Na(h,"no_index")&&Q("Using an unspecified index. Consider adding "+('".indexOn": "'+n.n.g.toString()+'"')+" at "+n.path.toString()+" to your security rules for better performance")}(t.aa[i]&&t.aa[i][r])===e&&(t.f("listen response",o),"ok"!==s&&Bh(t,i,r),e.J&&e.J(s,a))})}function Ch(t){var e=t.Fa;t.ma&&e&&t.Da("auth",{cred:e.fg},function(n){var i=n.s;n=n.d||"error","ok"!==i&&t.Fa===e&&delete t.Fa,e.nf?"ok"!==i&&e.jd&&e.jd(i,n):(e.nf=!0,e.yc&&e.yc(i,n))})}function Dh(t,e,n,i,r){n={p:n,d:i},t.f("onDisconnect "+e,n),t.Da(e,n,function(t){r&&setTimeout(function(){r(t.s,t.d)},Math.floor(0))})}function Eh(t,e,i,r,o,a){r={p:i,d:r},n(a)&&(r.h=a),t.pa.push({action:e,If:r,J:o}),t.Xc++,e=t.pa.length-1,t.ma?Fh(t,e):t.f("Buffering put: "+i)}function Fh(t,e){var n=t.pa[e].action,i=t.pa[e].If,r=t.pa[e].J;t.pa[e].Gg=t.ma,t.Da(n,i,function(i){t.f(n+" response",i),delete t.pa[e],t.Xc--,0===t.Xc&&(t.pa=[]),r&&r(i.s,i.d)})}function yh(t,e){J(!t.Sa,"Scheduling a connect when we're already connected/ing?"),t.Sb&&clearTimeout(t.Sb),t.Sb=setTimeout(function(){t.Sb=null,Ih(t)},Math.floor(e))}function Ih(t){if(Jh(t)){t.f("Making a connection attempt"),t.Fe=(new Date).getTime(),t.Kc=null;var e=q(t.Fd,t),n=q(t.Vc,t),i=q(t.Cf,t),r=t.id+":"+zh++;t.Sa=new kh(r,t.H,e,n,i,function(e){Q(e+" ("+t.H.toString()+")"),t.wf=!0})}}function Gh(t,e,n){n=n?Qa(n,function(t){return Wc(t)}).join("$"):"default",(t=Bh(t,e,n))&&t.J&&t.J("permission_denied")}function Bh(t,e,i){e=new K(e).toString();var r;return n(t.aa[e])?(r=t.aa[e][i],delete t.aa[e][i],0===pa(t.aa[e])&&delete t.aa[e]):r=void 0,r}function Hh(t){Ch(t),r(t.aa,function(e){r(e,function(e){Ah(t,e)})});for(var e=0;e<t.pa.length;e++)t.pa[e]&&Fh(t,e);for(;t.Uc.length;)e=t.Uc.shift(),Dh(t,e.action,e.Zc,e.data,e.J)}function Jh(t){var e;return e=Lf.ub().ic,!t.wf&&!t.De&&e}function S(t,e,n){this.B=t,this.V=e,this.g=n}function Kh(t,e){this.H=t,this.Va=Ob(t),this.ea=new ub,this.Ed=1,this.Ra=null,e||0<=("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)?(this.ca=new Ae(this.H,q(this.Gb,this)),setTimeout(q(this.Tc,this,!0),0)):this.ca=this.Ra=new wh(this.H,q(this.Gb,this),q(this.Tc,this),q(this.Ne,this)),this.Pg=Pb(t,q(function(){return new Jb(this.Va,this.ca)},this)),this.tc=new Cf,this.Be=new nb;var n=this;this.zd=new gf({Xe:function(t,e,i,r){return e=[],i=n.Be.j(t.path),i.e()||(e=jf(n.zd,new Ub(ze,t.path,i)),setTimeout(function(){r("ok")},0)),e},Zd:ba}),Lh(this,"connected",!1),this.ka=new qc,this.P=new Eg(t,q(this.ca.P,this.ca),q(this.ca.ee,this.ca),q(this.Ke,this)),this.pd=0,this.Ce=null,this.O=new gf({Xe:function(t,e,i,r){return n.ca.xf(t,i,e,function(e,i){var o=r(e,i);zb(n.ea,t.path,o)}),[]},Zd:function(t,e){n.ca.Of(t,e)}})}function Mh(t){return t=t.Be.j(new K(".info/serverTimeOffset")).K()||0,(new Date).getTime()+t}function Nh(t){return t=t={timestamp:Mh(t)},t.timestamp=t.timestamp||(new Date).getTime(),t}function Lh(t,e,n){e=new K("/.info/"+e),n=L(n);var i=t.Be;i.Sd=i.Sd.G(e,n),n=jf(t.zd,new Ub(ze,e,n)),zb(t.ea,e,n)}function Ph(t){t.f("onDisconnectEvents");var e=Nh(t),n=[];rc(pc(t.ka,e),F,function(e,i){n=n.concat(jf(t.O,new Ub(ze,e,i)));var r=Rh(t,e);Oh(t,r)}),t.ka=new qc,zb(t.ea,F,n)}function Sh(t,e,n,i){var r=L(n);t.ca.Le(e.toString(),r.K(!0),function(n,o){"ok"===n&&t.ka.mc(e,r),Qh(i,n,o)})}function Th(t,e,n,i,r){var o=L(n,i);t.ca.Le(e.toString(),o.K(!0),function(n,i){"ok"===n&&t.ka.mc(e,o),Qh(r,n,i)})}function Uh(t,e,n,i){var r,o=!0;for(r in n)o=!1;o?(Bb("onDisconnect().update() called with empty data.  Don't do anything."),Qh(i,"ok")):t.ca.Bf(e.toString(),n,function(r,o){if("ok"===r)for(var a in n){var s=L(n[a]);t.ka.mc(e.w(a),s)}Qh(i,r,o)})}function Vh(t,e,n){n=".info"===O(e.path)?t.zd.Ob(e,n):t.O.Ob(e,n),xb(t.ea,e.path,n)}function Qh(t,e,n){t&&Cb(function(){if("ok"==e)t(null);else{var i=(e||"error").toUpperCase(),r=i;n&&(r+=": "+n),r=Error(r),r.code=i,t(r)}})}function Wh(t,e,i,r,o){function a(){}t.f("transaction on "+e);var s=new U(t,e);if(s.Eb("value",a),i={path:e,update:i,J:r,status:null,Ef:Gc(),cf:o,Kf:0,ge:function(){s.gc("value",a)},je:null,Aa:null,md:null,nd:null,od:null},r=t.O.ua(e,void 0)||C,i.md=r,r=i.update(r.K()),n(r)){Sf("transaction failed: Data returned ",r,i.path),i.status=1,o=Df(t.tc,e);var h=o.Ba()||[];h.push(i),Ef(o,h),"object"==typeof r&&null!==r&&u(r,".priority")?(h=w(r,".priority"),J(Qf(h),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):h=(t.O.ua(e)||C).A().K(),o=Nh(t),r=L(r,h),o=sc(r,o),i.nd=r,i.od=o,i.Aa=t.Ed++,i=hf(t.O,e,o,i.Aa,i.cf),zb(t.ea,e,i),Xh(t)}else i.ge(),i.nd=null,i.od=null,i.J&&(t=new S(i.md,new U(t,i.path),M),i.J(null,!1,t))}function Xh(t,e){var n=e||t.tc;if(e||Yh(t,n),null!==n.Ba()){var i=Zh(t,n);J(0<i.length,"Sending zero length transaction queue"),Sa(i,function(t){return 1===t.status})&&$h(t,n.path(),i)}else n.td()&&n.U(function(e){Xh(t,e)})}function $h(t,e,n){for(var i=Qa(n,function(t){return t.Aa}),r=t.O.ua(e,i)||C,i=r,r=r.hash(),o=0;o<n.length;o++){var a=n[o];J(1===a.status,"tryToSendTransactionQueue_: items in queue should all be run."),a.status=2,a.Kf++;var s=N(e,a.path),i=i.G(s,a.nd)}i=i.K(!0),t.ca.put(e.toString(),i,function(i){t.f("transaction put response",{path:e.toString(),status:i});var r=[];if("ok"===i){for(i=[],o=0;o<n.length;o++){if(n[o].status=3,r=r.concat(lf(t.O,n[o].Aa)),n[o].J){var a=n[o].od,s=new U(t,n[o].path);i.push(q(n[o].J,null,null,!0,new S(a,s,M)))}n[o].ge()}for(Yh(t,Df(t.tc,e)),Xh(t),zb(t.ea,e,r),o=0;o<i.length;o++)Cb(i[o])}else{if("datastale"===i)for(o=0;o<n.length;o++)n[o].status=4===n[o].status?5:1;else for(Q("transaction at "+e.toString()+" failed: "+i),o=0;o<n.length;o++)n[o].status=5,n[o].je=i;Oh(t,e)}},r)}function Oh(t,e){var n=ai(t,e),i=n.path(),n=Zh(t,n);return bi(t,n,i),i}function bi(t,e,i){if(0!==e.length){for(var r=[],o=[],a=Qa(e,function(t){return t.Aa}),s=0;s<e.length;s++){var h,c=e[s],f=N(i,c.path),l=!1;if(J(null!==f,"rerunTransactionsUnderNode_: relativePath should not be null."),5===c.status)l=!0,h=c.je,o=o.concat(lf(t.O,c.Aa,!0));else if(1===c.status)if(25<=c.Kf)l=!0,h="maxretry",o=o.concat(lf(t.O,c.Aa,!0));else{var d=t.O.ua(c.path,a)||C;c.md=d;var p=e[s].update(d.K());n(p)?(Sf("transaction failed: Data returned ",p,c.path),f=L(p),"object"==typeof p&&null!=p&&u(p,".priority")||(f=f.da(d.A())),d=c.Aa,p=Nh(t),p=sc(f,p),c.nd=f,c.od=p,c.Aa=t.Ed++,Va(a,d),o=o.concat(hf(t.O,c.path,p,c.Aa,c.cf)),o=o.concat(lf(t.O,d,!0))):(l=!0,h="nodata",o=o.concat(lf(t.O,c.Aa,!0)))}zb(t.ea,i,o),o=[],l&&(e[s].status=3,setTimeout(e[s].ge,Math.floor(0)),e[s].J&&("nodata"===h?(c=new U(t,e[s].path),r.push(q(e[s].J,null,null,!1,new S(e[s].md,c,M)))):r.push(q(e[s].J,null,Error(h),!1,null))))}for(Yh(t,t.tc),s=0;s<r.length;s++)Cb(r[s]);Xh(t)}}function ai(t,e){for(var n,i=t.tc;null!==(n=O(e))&&null===i.Ba();)i=Df(i,n),e=G(e);return i}function Zh(t,e){var n=[];return ci(t,e,n),n.sort(function(t,e){return t.Ef-e.Ef}),n}function ci(t,e,n){var i=e.Ba();if(null!==i)for(var r=0;r<i.length;r++)n.push(i[r]);e.U(function(e){ci(t,e,n)})}function Yh(t,e){var n=e.Ba();if(n){for(var i=0,r=0;r<n.length;r++)3!==n[r].status&&(n[i]=n[r],i++);n.length=i,Ef(e,0<n.length?n:null)}e.U(function(e){Yh(t,e)})}function Rh(t,e){var n=ai(t,e).path(),i=Df(t.tc,e);return Hf(i,function(e){di(t,e)}),di(t,i),Gf(i,function(e){di(t,e)}),n}function di(t,e){var n=e.Ba();if(null!==n){for(var i=[],r=[],o=-1,a=0;a<n.length;a++)4!==n[a].status&&(2===n[a].status?(J(o===a-1,"All SENT items should be at beginning of queue."),o=a,n[a].status=4,n[a].je="set"):(J(1===n[a].status,"Unexpected transaction status in abort"),n[a].ge(),r=r.concat(lf(t.O,n[a].Aa,!0)),n[a].J&&i.push(q(n[a].J,null,Error("set"),!1,null))));for(-1===o?Ef(e,null):n.length=o+1,zb(t.ea,e.path(),r),a=0;a<i.length;a++)Cb(i[a])}}function W(){this.nc={},this.Pf=!1}function X(t,e){this.ad=t,this.qa=e}function Y(t,e,n,i){this.k=t,this.path=e,this.n=n,this.jc=i}function ei(t){var e=null,n=null;if(t.la&&(e=od(t)),t.na&&(n=qd(t)),t.g===Vd){if(t.la){if("[MIN_NAME]"!=nd(t))throw Error("Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().");if("string"!=typeof e)throw Error("Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.")}if(t.na){if("[MAX_NAME]"!=pd(t))throw Error("Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().");if("string"!=typeof n)throw Error("Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.")}}else if(t.g===M){if(null!=e&&!Qf(e)||null!=n&&!Qf(n))throw Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(J(t.g instanceof Rd||t.g===Yd,"unknown index type."),null!=e&&"object"==typeof e||null!=n&&"object"==typeof n)throw Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")}function fi(t){if(t.la&&t.na&&t.ia&&(!t.ia||""===t.Nb))throw Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.");

}function gi(t,e){if(!0===t.jc)throw Error(e+": You can't combine multiple orderBy calls.")}function hi(t,e,n){var i={cancel:null,Ma:null};if(e&&n)i.cancel=e,A(t,3,i.cancel,!0),i.Ma=n,lb(t,4,i.Ma);else if(e)if("object"==typeof e&&null!==e)i.Ma=e;else{if("function"!=typeof e)throw Error(z(t,3,!0)+" must either be a cancel callback or a context object.");i.cancel=e}return i}function U(t,e){var n,i,r;if(t instanceof Kh)n=t,i=e;else{x("new Firebase",1,2,arguments.length),i=Rc(arguments[0]),n=i.Qg,"firebase"===i.domain&&Qc(i.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),n||Qc("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),i.lb||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Q("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),n=new Ec(i.host,i.lb,n,"ws"===i.scheme||"wss"===i.scheme),i=new K(i.Zc),r=i.toString();var o;if(!(o=!p(n.host)||0===n.host.length||!Pf(n.Cb))&&(o=0!==r.length)&&(r&&(r=r.replace(/^\/*\.info(\/|$)/,"/")),o=!(p(r)&&0!==r.length&&!Of.test(r))),o)throw Error(z("new Firebase",1,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".');if(e)if(e instanceof W)r=e;else{if(!p(e))throw Error("Expected a valid Firebase.Context for second argument to new Firebase()");r=W.ub(),n.Ld=e}else r=W.ub();o=n.toString();var a=w(r.nc,o);a||(a=new Kh(n,r.Pf),r.nc[o]=a),n=a}Y.call(this,n,i,$d,!1)}function Nc(t,e){J(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?("undefined"!=typeof console&&("function"==typeof console.log?Ab=q(console.log,console):"object"==typeof console.log&&(Ab=function(t){console.log(t)})),e&&P.set("logging_enabled",!0)):t?Ab=t:(Ab=null,P.remove("logging_enabled"))}var h,aa=this,la=Date.now||function(){return+new Date},ya="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),Ea={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","":"\\u000b"},Fa=/\uffff/.test("￿")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g,Ha;t:{var Ia=aa.navigator;if(Ia){var Ja=Ia.userAgent;if(Ja){Ha=Ja;break t}}Ha=""}ma(La,Ka),La.prototype.reset=function(){this.R[0]=1732584193,this.R[1]=4023233417,this.R[2]=2562383102,this.R[3]=271733878,this.R[4]=3285377520,this.be=this.$b=0},La.prototype.update=function(t,e){if(null!=t){n(e)||(e=t.length);for(var i=e-this.Wa,r=0,o=this.le,a=this.$b;e>r;){if(0==a)for(;i>=r;)Ma(this,t,r),r+=this.Wa;if(p(t)){for(;e>r;)if(o[a]=t.charCodeAt(r),++a,++r,a==this.Wa){Ma(this,o),a=0;break}}else for(;e>r;)if(o[a]=t[r],++a,++r,a==this.Wa){Ma(this,o),a=0;break}}this.$b=a,this.be+=e}};var t=Array.prototype,Na=t.indexOf?function(e,n,i){return t.indexOf.call(e,n,i)}:function(t,e,n){if(n=null==n?0:0>n?Math.max(0,t.length+n):n,p(t))return p(e)&&1==e.length?t.indexOf(e,n):-1;for(;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Oa=t.forEach?function(e,n,i){t.forEach.call(e,n,i)}:function(t,e,n){for(var i=t.length,r=p(t)?t.split(""):t,o=0;i>o;o++)o in r&&e.call(n,r[o],o,t)},Pa=t.filter?function(e,n,i){return t.filter.call(e,n,i)}:function(t,e,n){for(var i=t.length,r=[],o=0,a=p(t)?t.split(""):t,s=0;i>s;s++)if(s in a){var u=a[s];e.call(n,u,s,t)&&(r[o++]=u)}return r},Qa=t.map?function(e,n,i){return t.map.call(e,n,i)}:function(t,e,n){for(var i=t.length,r=Array(i),o=p(t)?t.split(""):t,a=0;i>a;a++)a in o&&(r[a]=e.call(n,o[a],a,t));return r},Ra=t.reduce?function(e,n,i,r){for(var o=[],a=1,s=arguments.length;s>a;a++)o.push(arguments[a]);return r&&(o[0]=q(n,r)),t.reduce.apply(e,o)}:function(t,e,n,i){var r=n;return Oa(t,function(n,o){r=e.call(i,r,n,o,t)}),r},Sa=t.every?function(e,n,i){return t.every.call(e,n,i)}:function(t,e,n){for(var i=t.length,r=p(t)?t.split(""):t,o=0;i>o;o++)if(o in r&&!e.call(n,r[o],o,t))return!1;return!0},Za=-1!=Ha.indexOf("Opera")||-1!=Ha.indexOf("OPR"),$a=-1!=Ha.indexOf("Trident")||-1!=Ha.indexOf("MSIE"),ab=-1!=Ha.indexOf("Gecko")&&-1==Ha.toLowerCase().indexOf("webkit")&&!(-1!=Ha.indexOf("Trident")||-1!=Ha.indexOf("MSIE")),bb=-1!=Ha.toLowerCase().indexOf("webkit");!function(){var t,e="";return Za&&aa.opera?(e=aa.opera.version,ha(e)?e():e):(ab?t=/rv\:([^\);]+)(\)|;)/:$a?t=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/:bb&&(t=/WebKit\/(\S+)/),t&&(e=(e=t.exec(Ha))?e[1]:""),$a&&(t=(t=aa.document)?t.documentMode:void 0,t>parseFloat(e))?String(t):e)}();var cb=null,db=null,eb=null;nb.prototype.j=function(t){return this.Sd.oa(t)},nb.prototype.toString=function(){return this.Sd.toString()},ob.prototype.pf=function(){return null},ob.prototype.xe=function(){return null};var pb=new ob;qb.prototype.pf=function(t){var e=this.Ka.D;return rb(e,t)?e.j().M(t):(e=null!=this.Hd?new sb(this.Hd,!0,!1):this.Ka.u(),this.Qf.Xa(t,e))},qb.prototype.xe=function(t,e,n){var i=null!=this.Hd?this.Hd:tb(this.Ka);return t=this.Qf.me(i,e,1,n,t),0===t.length?null:t[0]},wb.prototype.add=function(t){this.sd.push(t)},wb.prototype.Yb=function(){return this.qa};var Eb="value";Fb.prototype.Yb=function(){var t=this.Wd.lc();return"value"===this.rd?t.path:t.parent().path},Fb.prototype.ye=function(){return this.rd},Fb.prototype.Ub=function(){return this.te.Ub(this)},Fb.prototype.toString=function(){return this.Yb().toString()+":"+this.rd+":"+B(this.Wd.lf())},Gb.prototype.Yb=function(){return this.path},Gb.prototype.ye=function(){return"cancel"},Gb.prototype.Ub=function(){return this.te.Ub(this)},Gb.prototype.toString=function(){return this.path.toString()+":cancel"},sb.prototype.j=function(){return this.B},Ib.prototype.get=function(){var t=this.dg.get(),e=xa(t);if(this.Ad)for(var n in this.Ad)e[n]-=this.Ad[n];return this.Ad=t,e},Jb.prototype.Hf=function(){var t,e=this.Yd.get(),n={},i=!1;for(t in e)0<e[t]&&u(this.Mf,t)&&(n[t]=e[t],i=!0);i&&this.ca.Te(n),setTimeout(q(this.Hf,this),Math.floor(6e5*Math.random()))},Kb.prototype.get=function(){return xa(this.Dc)};var Mb={},Nb={};Ub.prototype.Wc=function(t){return this.path.e()?new Ub(this.source,F,this.Ia.M(t)):new Ub(this.source,G(this.path),this.Ia)},Ub.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" overwrite: "+this.Ia.toString()+")"},Wb.prototype.Wc=function(){return this.path.e()?this:new Wb(G(this.path),this.Ve)},Wb.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" ack write revert="+this.Ve+")"},Zb.prototype.Wc=function(){return this.path.e()?new Zb(this.source,F):new Zb(this.source,G(this.path))},Zb.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" listen_complete)"},h=ac.prototype,h.Na=function(t,e){return new ac(this.La,this.xa.Na(t,e,this.La).X(null,null,!1,null,null))},h.remove=function(t){return new ac(this.La,this.xa.remove(t,this.La).X(null,null,!1,null,null))},h.get=function(t){for(var e,n=this.xa;!n.e();){if(e=this.La(t,n.key),0===e)return n.value;0>e?n=n.left:e>0&&(n=n.right)}return null},h.e=function(){return this.xa.e()},h.count=function(){return this.xa.count()},h.Rc=function(){return this.xa.Rc()},h.ec=function(){return this.xa.ec()},h.ha=function(t){return this.xa.ha(t)},h.Wb=function(t){return new dc(this.xa,null,this.La,!1,t)},h.Xb=function(t,e){return new dc(this.xa,t,this.La,!1,e)},h.Zb=function(t,e){return new dc(this.xa,t,this.La,!0,e)},h.rf=function(t){return new dc(this.xa,null,this.La,!0,t)},h=fc.prototype,h.X=function(t,e,n,i,r){return new fc(null!=t?t:this.key,null!=e?e:this.value,null!=n?n:this.color,null!=i?i:this.left,null!=r?r:this.right)},h.count=function(){return this.left.count()+1+this.right.count()},h.e=function(){return!1},h.ha=function(t){return this.left.ha(t)||t(this.key,this.value)||this.right.ha(t)},h.Rc=function(){return gc(this).key},h.ec=function(){return this.right.e()?this.key:this.right.ec()},h.Na=function(t,e,n){var i,r;return r=this,i=n(t,r.key),r=0>i?r.X(null,null,null,r.left.Na(t,e,n),null):0===i?r.X(null,e,null,null,null):r.X(null,null,null,null,r.right.Na(t,e,n)),hc(r)},h.remove=function(t,e){var n,i;if(n=this,0>e(t,n.key))n.left.e()||n.left.fa()||n.left.left.fa()||(n=jc(n)),n=n.X(null,null,null,n.left.remove(t,e),null);else{if(n.left.fa()&&(n=kc(n)),n.right.e()||n.right.fa()||n.right.left.fa()||(n=lc(n),n.left.left.fa()&&(n=kc(n),n=lc(n))),0===e(t,n.key)){if(n.right.e())return bc;i=gc(n.right),n=n.X(i.key,i.value,null,null,ic(n.right))}n=n.X(null,null,null,null,n.right.remove(t,e))}return hc(n)},h.fa=function(){return this.color},h=nc.prototype,h.X=function(){return this},h.Na=function(t,e){return new fc(t,e,null)},h.remove=function(){return this},h.count=function(){return 0},h.e=function(){return!0},h.ha=function(){return!1},h.Rc=function(){return null},h.ec=function(){return null},h.fa=function(){return!1};var bc=new nc;h=K.prototype,h.toString=function(){for(var t="",e=this.Y;e<this.o.length;e++)""!==this.o[e]&&(t+="/"+this.o[e]);return t||"/"},h.slice=function(t){return this.o.slice(this.Y+(t||0))},h.parent=function(){if(this.Y>=this.o.length)return null;for(var t=[],e=this.Y;e<this.o.length-1;e++)t.push(this.o[e]);return new K(t,0)},h.w=function(t){for(var e=[],n=this.Y;n<this.o.length;n++)e.push(this.o[n]);if(t instanceof K)for(n=t.Y;n<t.o.length;n++)e.push(t.o[n]);else for(t=t.split("/"),n=0;n<t.length;n++)0<t[n].length&&e.push(t[n]);return new K(e,0)},h.e=function(){return this.Y>=this.o.length},h.Z=function(t){if(uc(this)!==uc(t))return!1;for(var e=this.Y,n=t.Y;e<=this.o.length;e++,n++)if(this.o[e]!==t.o[n])return!1;return!0},h.contains=function(t){var e=this.Y,n=t.Y;if(uc(this)>uc(t))return!1;for(;e<this.o.length;){if(this.o[e]!==t.o[n])return!1;++e,++n}return!0};var F=new K("");wc.prototype.push=function(t){0<this.Qa.length&&(this.Ea+=1),this.Qa.push(t),this.Ea+=xc(t),yc(this)},wc.prototype.pop=function(){var t=this.Qa.pop();this.Ea-=xc(t),0<this.Qa.length&&--this.Ea},Ac.prototype.set=function(t,e){null==e?delete this.wc[t]:this.wc[t]=e},Ac.prototype.get=function(t){return u(this.wc,t)?this.wc[t]:null},Ac.prototype.remove=function(t){delete this.wc[t]},Ac.prototype.uf=!0,h=Bc.prototype,h.set=function(t,e){null==e?this.Ec.removeItem(this.Md+t):this.Ec.setItem(this.Md+t,B(e))},h.get=function(t){return t=this.Ec.getItem(this.Md+t),null==t?null:mb(t)},h.remove=function(t){this.Ec.removeItem(this.Md+t)},h.uf=!1,h.toString=function(){return this.Ec.toString()};var Dc=Cc("localStorage"),P=Cc("sessionStorage");Ec.prototype.toString=function(){var t=(this.lb?"https://":"http://")+this.host;return this.Ld&&(t+="<"+this.Ld+">"),t};var Gc=function(){var t=1;return function(){return t++}}(),Ab=null,Mc=!0,$c=/^-?\d{1,10}$/;dd.prototype.eg=function(t,e){if(null==t.Ya||null==e.Ya)throw Hc("Should only compare child_ events.");return this.g.compare(new E(t.Ya,t.Ja),new E(e.Ya,e.Ja))},h=jd.prototype,h.Jf=function(t){return"value"===t},h.createEvent=function(t,e){var n=e.n.g;return new Fb("value",this,new S(t.Ja,e.lc(),n))},h.Ub=function(t){var e=this.sb;if("cancel"===t.ye()){J(this.qb,"Raising a cancel event on a listener with no cancel callback");var n=this.qb;return function(){n.call(e,t.error)}}var i=this.Pb;return function(){i.call(e,t.Wd)}},h.ff=function(t,e){return this.qb?new Gb(this,t,e):null},h.matches=function(t){return t instanceof jd?t.Pb&&this.Pb?t.Pb===this.Pb&&t.sb===this.sb:!0:!1},h.sf=function(){return null!==this.Pb},h=kd.prototype,h.Jf=function(t){return t="children_added"===t?"child_added":t,("children_removed"===t?"child_removed":t)in this.ga},h.ff=function(t,e){return this.qb?new Gb(this,t,e):null},h.createEvent=function(t,e){J(null!=t.Ya,"Child events should have a childName.");var n=e.lc().w(t.Ya);return new Fb(t.type,this,new S(t.Ja,n,e.n.g),t.Nd)},h.Ub=function(t){var e=this.sb;if("cancel"===t.ye()){J(this.qb,"Raising a cancel event on a listener with no cancel callback");var n=this.qb;return function(){n.call(e,t.error)}}var i=this.ga[t.rd];return function(){i.call(e,t.Wd,t.Nd)}},h.matches=function(t){if(t instanceof kd){if(!this.ga||!t.ga)return!0;if(this.sb===t.sb){var e=pa(t.ga);if(e===pa(this.ga)){if(1===e){var e=qa(t.ga),n=qa(this.ga);return!(n!==e||t.ga[e]&&this.ga[n]&&t.ga[e]!==this.ga[n])}return oa(this.ga,function(e,n){return t.ga[n]===e})}}}return!1},h.sf=function(){return null!==this.ga},h=ld.prototype,h.G=function(t,e,n,i,r){return J(t.Ic(this.g),"A node must be indexed if only a child is updated"),i=t.M(e),i.Z(n)?t:(null!=r&&(n.e()?t.Ha(e)?id(r,new D("child_removed",i,e)):J(t.N(),"A child remove without an old child only makes sense on a leaf node"):i.e()?id(r,new D("child_added",n,e)):id(r,new D("child_changed",n,e,i))),t.N()&&n.e()?t:t.Q(e,n).mb(this.g))},h.ta=function(t,e,n){return null!=n&&(t.N()||t.U(M,function(t,i){e.Ha(t)||id(n,new D("child_removed",i,t))}),e.N()||e.U(M,function(e,i){if(t.Ha(e)){var r=t.M(e);r.Z(i)||id(n,new D("child_changed",i,e,r))}else id(n,new D("child_added",i,e))})),e.mb(this.g)},h.da=function(t,e){return t.e()?C:t.da(e)},h.Ga=function(){return!1},h.Vb=function(){return this},h=md.prototype,h.matches=function(t){return 0>=this.g.compare(this.dd,t)&&0>=this.g.compare(t,this.Fc)},h.G=function(t,e,n,i,r){return this.matches(new E(e,n))||(n=C),this.Ae.G(t,e,n,i,r)},h.ta=function(t,e,n){e.N()&&(e=C);var i=e.mb(this.g),i=i.da(C),r=this;return e.U(M,function(t,e){r.matches(new E(t,e))||(i=i.Q(t,C))}),this.Ae.ta(t,i,n)},h.da=function(t){return t},h.Ga=function(){return!0},h.Vb=function(){return this.Ae},h=rd.prototype,h.G=function(t,e,n,i,r){return this.ra.matches(new E(e,n))||(n=C),t.M(e).Z(n)?t:t.Db()<this.ja?this.ra.Vb().G(t,e,n,i,r):td(this,t,e,n,i,r)},h.ta=function(t,e,n){var i;if(e.N()||e.e())i=C.mb(this.g);else if(2*this.ja<e.Db()&&e.Ic(this.g)){i=C.mb(this.g),e=this.Jb?e.Zb(this.ra.Fc,this.g):e.Xb(this.ra.dd,this.g);for(var r=0;0<e.Pa.length&&r<this.ja;){var o,a=H(e);if(!(o=this.Jb?0>=this.g.compare(this.ra.dd,a):0>=this.g.compare(a,this.ra.Fc)))break;i=i.Q(a.name,a.S),r++}}else{i=e.mb(this.g),i=i.da(C);var s,u,h;if(this.Jb){e=i.rf(this.g),s=this.ra.Fc,u=this.ra.dd;var c=ud(this.g);h=function(t,e){return c(e,t)}}else e=i.Wb(this.g),s=this.ra.dd,u=this.ra.Fc,h=ud(this.g);for(var r=0,f=!1;0<e.Pa.length;)a=H(e),!f&&0>=h(s,a)&&(f=!0),(o=f&&r<this.ja&&0>=h(a,u))?r++:i=i.Q(a.name,C)}return this.ra.Vb().ta(t,i,n)},h.da=function(t){return t},h.Ga=function(){return!0},h.Vb=function(){return this.ra.Vb()},zd.prototype.bb=function(t,e,n,i){var r,o=new hd;if(e.type===Vb)e.source.ve?n=Ad(this,t,e.path,e.Ia,n,i,o):(J(e.source.of,"Unknown source."),r=e.source.af,n=Bd(this,t,e.path,e.Ia,n,i,r,o));else if(e.type===Cd)e.source.ve?n=Dd(this,t,e.path,e.children,n,i,o):(J(e.source.of,"Unknown source."),r=e.source.af,n=Ed(this,t,e.path,e.children,n,i,r,o));else if(e.type===Xb)if(e.Ve)if(r=e.path,null!=n.sc(r))n=t;else{if(e=new qb(n,t,i),i=t.D.j(),r.e()||".priority"===O(r))Hb(t.u())?e=n.ua(tb(t)):(e=t.u().j(),J(e instanceof T,"serverChildren would be complete if leaf node"),e=n.xc(e)),e=this.I.ta(i,e,o);else{r=O(r);var a=n.Xa(r,t.u());null==a&&rb(t.u(),r)&&(a=i.M(r)),e=null!=a?this.I.G(i,r,a,e,o):t.D.j().Ha(r)?this.I.G(i,r,C,e,o):i,e.e()&&Hb(t.u())&&(i=n.ua(tb(t)),i.N()&&(e=this.I.ta(e,i,o)))}i=Hb(t.u())||null!=n.sc(F),n=Fd(t,e,i,this.I.Ga())}else n=Gd(this,t,e.path,n,i,o);else{if(e.type!==$b)throw Hc("Unknown operation type: "+e.type);i=e.path,e=t.u(),r=e.j(),a=e.$||i.e(),n=Hd(this,new Id(t.D,new sb(r,a,e.Tb)),i,n,pb,o)}return o=ra(o.eb),i=n,e=i.D,e.$&&(r=e.j().N()||e.j().e(),a=Jd(t),(0<o.length||!t.D.$||r&&!e.j().Z(a)||!e.j().A().Z(a.A()))&&o.push(Db(Jd(i)))),new yd(n,o)};var Pd={};Od.prototype.xd=function(t,e){return 0!==this.compare(new E("[MIN_NAME]",t),new E("[MIN_NAME]",e))},Od.prototype.Sc=function(){return Qd},ma(Rd,Od),h=Rd.prototype,h.Hc=function(t){return!t.M(this.bc).e()},h.compare=function(t,e){var n=t.S.M(this.bc),i=e.S.M(this.bc),n=n.Cc(i);return 0===n?Sb(t.name,e.name):n},h.Oc=function(t,e){var n=L(t),n=C.Q(this.bc,n);return new E(e,n)},h.Pc=function(){var t=C.Q(this.bc,Sd);return new E("[MAX_NAME]",t)},h.toString=function(){return this.bc},ma(Td,Od),h=Td.prototype,h.compare=function(t,e){var n=t.S.A(),i=e.S.A(),n=n.Cc(i);return 0===n?Sb(t.name,e.name):n},h.Hc=function(t){return!t.A().e()},h.xd=function(t,e){return!t.A().Z(e.A())},h.Sc=function(){return Qd},h.Pc=function(){return new E("[MAX_NAME]",new tc("[PRIORITY-POST]",Sd))},h.Oc=function(t,e){var n=L(t);return new E(e,new tc("[PRIORITY-POST]",n))},h.toString=function(){return".priority"};var M=new Td;ma(Ud,Od),h=Ud.prototype,h.compare=function(t,e){return Sb(t.name,e.name)},h.Hc=function(){throw Hc("KeyIndex.isDefinedOn not expected to be called.")},h.xd=function(){return!1},h.Sc=function(){return Qd},h.Pc=function(){return new E("[MAX_NAME]",C)},h.Oc=function(t){return J(p(t),"KeyIndex indexValue must always be a string."),new E(t,C)},h.toString=function(){return".key"};var Vd=new Ud;ma(Wd,Od),h=Wd.prototype,h.compare=function(t,e){var n=t.S.Cc(e.S);return 0===n?Sb(t.name,e.name):n},h.Hc=function(){return!0},h.xd=function(t,e){return!t.Z(e)},h.Sc=function(){return Qd},h.Pc=function(){return Xd},h.Oc=function(t,e){var n=L(t);return new E(e,n)},h.toString=function(){return".value"};var Yd=new Wd,$d=new Zd;h=Zd.prototype,h.Ge=function(t){var e=ae(this);return e.ia=!0,e.ja=t,e.Nb="",e},h.He=function(t){var e=ae(this);return e.ia=!0,e.ja=t,e.Nb="l",e},h.Ie=function(t){var e=ae(this);return e.ia=!0,e.ja=t,e.Nb="r",e},h.Xd=function(t,e){var i=ae(this);return i.la=!0,n(t)||(t=null),i.dc=t,null!=e?(i.Lb=!0,i.xb=e):(i.Lb=!1,i.xb=""),i},h.qd=function(t,e){var i=ae(this);return i.na=!0,n(t)||(t=null),i.ac=t,n(e)?(i.Rb=!0,i.vb=e):(i.Yg=!1,i.vb=""),i},h.toString=function(){return B(ce(this))},fe.prototype.get=function(t){var e=w(this.yd,t);if(!e)throw Error("No index defined for "+t);return e===Pd?null:e};var je=new fe({".priority":Pd},{".priority":M});h=tc.prototype,h.N=function(){return!0},h.A=function(){return this.ba},h.da=function(t){return new tc(this.C,t)},h.M=function(t){return".priority"===t?this.ba:C},h.oa=function(t){return t.e()?this:".priority"===O(t)?this.ba:C},h.Ha=function(){return!1},h.qf=function(){return null},h.Q=function(t,e){return".priority"===t?this.da(e):e.e()&&".priority"!==t?this:C.Q(t,e).da(this.ba)},h.G=function(t,e){var n=O(t);return null===n?e:e.e()&&".priority"!==n?this:(J(".priority"!==n||1===uc(t),".priority must be the last token in a path"),this.Q(n,C.G(G(t),e)))},h.e=function(){return!1},h.Db=function(){return 0},h.K=function(t){return t&&!this.A().e()?{".value":this.Ba(),".priority":this.A().K()}:this.Ba()},h.hash=function(){if(null===this.Bb){var t="";this.ba.e()||(t+="priority:"+le(this.ba.K())+":");var e=typeof this.C,t=t+(e+":"),t="number"===e?t+Zc(this.C):t+this.C;this.Bb=Jc(t)}return this.Bb},h.Ba=function(){return this.C},h.Cc=function(t){if(t===C)return 1;if(t instanceof T)return-1;J(t.N(),"Unknown node type");var e=typeof t.C,n=typeof this.C,i=Na(me,e),r=Na(me,n);return J(i>=0,"Unknown leaf type: "+e),J(r>=0,"Unknown leaf type: "+n),i===r?"object"===n?0:this.C<t.C?-1:this.C===t.C?0:1:r-i};var me=["object","boolean","number","string"];tc.prototype.mb=function(){return this},tc.prototype.Ic=function(){return!0},tc.prototype.Z=function(t){return t===this?!0:t.N()?this.C===t.C&&this.ba.Z(t.ba):!1},tc.prototype.toString=function(){return B(this.K(!0))},h=T.prototype,h.N=function(){return!1},h.A=function(){return this.ba||C},h.da=function(t){return this.m.e()?this:new T(this.m,t,this.wb)},h.M=function(t){return".priority"===t?this.A():(t=this.m.get(t),null===t?C:t)},h.oa=function(t){var e=O(t);return null===e?this:this.M(e).oa(G(t))},h.Ha=function(t){return null!==this.m.get(t)},h.Q=function(t,e){if(J(e,"We should always be passing snapshot nodes"),".priority"===t)return this.da(e);var n,i,r=new E(t,e);return e.e()?(n=this.m.remove(t),r=ie(this.wb,r,this.m)):(n=this.m.Na(t,e),r=ge(this.wb,r,this.m)),i=n.e()?C:this.ba,new T(n,i,r)},h.G=function(t,e){var n=O(t);if(null===n)return e;J(".priority"!==O(t)||1===uc(t),".priority must be the last token in a path");var i=this.M(n).G(G(t),e);return this.Q(n,i)},h.e=function(){return this.m.e()},h.Db=function(){return this.m.count()};var ne=/^(0|[1-9]\d*)$/;h=T.prototype,h.K=function(t){if(this.e())return null;var e={},n=0,i=0,r=!0;if(this.U(M,function(o,a){e[o]=a.K(t),n++,r&&ne.test(o)?i=Math.max(i,Number(o)):r=!1}),!t&&r&&2*n>i){var o,a=[];for(o in e)a[o]=e[o];return a}return t&&!this.A().e()&&(e[".priority"]=this.A().K()),e},h.hash=function(){if(null===this.Bb){var t="";this.A().e()||(t+="priority:"+le(this.A().K())+":"),this.U(M,function(e,n){var i=n.hash();""!==i&&(t+=":"+e+":"+i)}),this.Bb=""===t?"":Jc(t)}return this.Bb},h.qf=function(t,e,n){return(n=oe(this,n))?(t=cc(n,new E(t,e)))?t.name:null:cc(this.m,t)},h.U=function(t,e){var n=oe(this,t);return n?n.ha(function(t){return e(t.name,t.S)}):this.m.ha(e)},h.Wb=function(t){return this.Xb(t.Sc(),t)},h.Xb=function(t,e){var n=oe(this,e);if(n)return n.Xb(t,function(t){return t});for(var n=this.m.Xb(t.name,Qb),i=ec(n);null!=i&&0>e.compare(i,t);)H(n),i=ec(n);return n},h.rf=function(t){return this.Zb(t.Pc(),t)},h.Zb=function(t,e){var n=oe(this,e);if(n)return n.Zb(t,function(t){return t});for(var n=this.m.Zb(t.name,Qb),i=ec(n);null!=i&&0<e.compare(i,t);)H(n),i=ec(n);return n},h.Cc=function(t){return this.e()?t.e()?0:-1:t.N()||t.e()?1:t===Sd?-1:0},h.mb=function(t){if(t===Vd||ta(this.wb.cc,t.toString()))return this;var e=this.wb,n=this.m;J(t!==Vd,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var i=[],r=!1,n=n.Wb(Qb),o=H(n);o;)r=r||t.Hc(o.S),i.push(o),o=H(n);return i=r?he(i,ud(t)):Pd,r=t.toString(),n=xa(e.cc),n[r]=t,t=xa(e.yd),t[r]=i,new T(this.m,this.ba,new fe(t,n))},h.Ic=function(t){return t===Vd||ta(this.wb.cc,t.toString())},h.Z=function(t){if(t===this)return!0;if(t.N())return!1;if(this.A().Z(t.A())&&this.m.count()===t.m.count()){var e=this.Wb(M);t=t.Wb(M);for(var n=H(e),i=H(t);n&&i;){if(n.name!==i.name||!n.S.Z(i.S))return!1;n=H(e),i=H(t)}return null===n&&null===i}return!1},h.toString=function(){return B(this.K(!0))};var pe=Math.log(2),C=new T(new ac(Tb),null,je);ma(se,T),h=se.prototype,h.Cc=function(t){return t===this?0:1},h.Z=function(t){return t===this},h.A=function(){return this},h.M=function(){return C},h.e=function(){return!1};var Sd=new se,Qd=new E("[MIN_NAME]",C),Xd=new E("[MAX_NAME]",Sd);Id.prototype.u=function(){return this.Ud},h=te.prototype,h.u=function(){return this.Ka.u().j()},h.hb=function(t){var e=tb(this.Ka);return e&&(de(this.V.n)||!t.e()&&!e.M(O(t)).e())?e.oa(t):null},h.e=function(){return 0===this.Za.length},h.Ob=function(t){this.Za.push(t)},h.kb=function(t,e){var n=[];if(e){J(null==t,"A cancel should cancel all event registrations.");var i=this.V.path;Oa(this.Za,function(t){(t=t.ff(e,i))&&n.push(t)})}if(t){for(var r=[],o=0;o<this.Za.length;++o){var a=this.Za[o];if(a.matches(t)){if(t.sf()){r=r.concat(this.Za.slice(o+1));break}}else r.push(a)}this.Za=r}else this.Za=[];return n},h.bb=function(t,e,n){t.type===Cd&&null!==t.source.Ib&&(J(tb(this.Ka),"We should always have a full cache before handling merges"),J(Jd(this.Ka),"Missing event cache, even though we have a server cache"));var i=this.Ka;return t=this.Gf.bb(i,t,e,n),e=this.Gf,n=t.he,J(n.D.j().Ic(e.I.g),"Event snap not indexed"),J(n.u().j().Ic(e.I.g),"Server snap not indexed"),J(Hb(t.he.u())||!Hb(i.u()),"Once a server snap is complete, it should never go back"),this.Ka=t.he,ve(this,t.cg,t.he.D.j(),null)},xe.prototype.Wc=function(t){return this.path.e()?(t=this.children.subtree(new K(t)),t.e()?null:t.value?new Ub(this.source,F,t.value):new xe(this.source,F,t)):(J(O(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new xe(this.source,G(this.path),this.children))},xe.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"};var Vb=0,Cd=1,Xb=2,$b=3,Yb=new ye(!0,!1,null,!1),ze=new ye(!1,!0,null,!1);ye.prototype.toString=function(){return this.ve?"user":this.af?"server(queryID="+this.Ib+")":"server"},h=Ae.prototype,h.xf=function(t,e,n,i){var r=t.path.toString();this.f("Listen called for "+r+" "+t.wa());var o=Be(t,n),a={};this.aa[o]=a,t=ee(t.n);var s=this;Ce(this,r+".json",t,function(t,e){var u=e;404===t&&(t=u=null),null===t&&s.Gb(r,u,!1,n),w(s.aa,o)===a&&i(t?401==t?"permission_denied":"rest_error:"+t:"ok",null)})},h.Of=function(t,e){var n=Be(t,e);delete this.aa[n]},h.P=function(t,e){this.Fa=t;var n=ad(t),i=n.data,n=n.Ac&&n.Ac.exp;e&&e("ok",{auth:i,expires:n})},h.ee=function(t){this.Fa=null,t("ok",null)},h.Le=function(){},h.Bf=function(){},h.Gd=function(){},h.put=function(){},h.yf=function(){},h.Te=function(){};var Ee=new ac(function(t,e){return t===e?0:e>t?-1:1});h=De.prototype,h.e=function(){return null===this.value&&this.children.e()},h.subtree=function(t){if(t.e())return this;var e=this.children.get(O(t));return null!==e?e.subtree(G(t)):Nd},h.set=function(t,e){if(t.e())return new De(e,this.children);var n=O(t),i=(this.children.get(n)||Nd).set(G(t),e),n=this.children.Na(n,i);return new De(this.value,n)},h.remove=function(t){if(t.e())return this.children.e()?Nd:new De(null,this.children);var e=O(t),n=this.children.get(e);return n?(t=n.remove(G(t)),e=t.e()?this.children.remove(e):this.children.Na(e,t),null===this.value&&e.e()?Nd:new De(this.value,e)):this},h.get=function(t){if(t.e())return this.value;var e=this.children.get(O(t));return e?e.get(G(t)):null};var Nd=new De(null);De.prototype.toString=function(){var t={};return Kd(this,function(e,n){t[e.toString()]=n.toString()}),B(t)};var Re=new Qe(new De(null));Qe.prototype.Od=function(t){return t.e()?Re:(t=Md(this.W,t,Nd),new Qe(t))},Qe.prototype.e=function(){return this.W.e()},Qe.prototype.apply=function(t){return Xe(F,this.W,t)},h=Ye.prototype,h.Od=function(t){var e=Ua(this.za,function(e){return e.ie===t});J(e>=0,"removeWrite called with nonexistent writeId.");var n=this.za[e];this.za.splice(e,1);for(var i=n.visible,o=!1,a=this.za.length-1;i&&a>=0;){var s=this.za[a];s.visible&&(a>=e&&Ze(s,n.path)?i=!1:n.path.contains(s.path)&&(o=!0)),a--}if(i){if(o)this.T=$e(this.za,af,F),this.Lc=0<this.za.length?this.za[this.za.length-1].ie:-1;else if(n.Ia)this.T=this.T.Od(n.path);else{var u=this;r(n.children,function(t,e){u.T=u.T.Od(n.path.w(e))})}return n.path}return null},h.ua=function(t,e,n,i){if(n||i){var r=We(this.T,t);return!i&&r.e()?e:i||null!=e||null!=Ue(r,F)?(r=$e(this.za,function(e){return!(!e.visible&&!i||n&&0<=Na(n,e.ie)||!e.path.contains(t)&&!t.contains(e.path))},t),e=e||C,r.apply(e)):null}return r=Ue(this.T,t),null!=r?r:(r=We(this.T,t),r.e()?e:null!=e||null!=Ue(r,F)?(e=e||C,r.apply(e)):null)},h.xc=function(t,e){var n=C,i=Ue(this.T,t);if(i)i.N()||i.U(M,function(t,e){n=n.Q(t,e)});else if(e){var r=We(this.T,t);e.U(M,function(t,e){var i=We(r,new K(t)).apply(e);n=n.Q(t,i)}),Oa(Ve(r),function(t){n=n.Q(t.name,t.S)})}else r=We(this.T,t),Oa(Ve(r),function(t){n=n.Q(t.name,t.S)});return n},h.hd=function(t,e,n,i){return J(n||i,"Either existingEventSnap or existingServerSnap must exist"),t=t.w(e),null!=Ue(this.T,t)?null:(t=We(this.T,t),t.e()?i.oa(e):t.apply(i.oa(e)))},h.Xa=function(t,e,n){t=t.w(e);var i=Ue(this.T,t);return null!=i?i:rb(n,e)?We(this.T,t).apply(n.j().M(e)):null},h.sc=function(t){return Ue(this.T,t)},h.me=function(t,e,n,i,r,o){var a;if(t=We(this.T,t),a=Ue(t,F),null==a){if(null==e)return[];a=t.apply(e)}if(a=a.mb(o),a.e()||a.N())return[];for(e=[],t=ud(o),r=r?a.Zb(n,o):a.Xb(n,o),o=H(r);o&&e.length<i;)0!==t(o,n)&&e.push(o),o=H(r);return e},h=bf.prototype,h.ua=function(t,e,n){return this.W.ua(this.Mb,t,e,n)},h.xc=function(t){return this.W.xc(this.Mb,t)},h.hd=function(t,e,n){return this.W.hd(this.Mb,t,e,n)},h.sc=function(t){return this.W.sc(this.Mb.w(t))},h.me=function(t,e,n,i,r){return this.W.me(this.Mb,t,e,n,i,r)},h.Xa=function(t,e){return this.W.Xa(this.Mb,t,e)},h.w=function(t){return new bf(this.Mb.w(t),this.W)},h=cf.prototype,h.e=function(){return wa(this.ya)},h.bb=function(t,e,n){var i=t.source.Ib;if(null!==i)return i=w(this.ya,i),J(null!=i,"SyncTree gave us an op for an invalid query."),i.bb(t,e,n);var o=[];return r(this.ya,function(i){o=o.concat(i.bb(t,e,n))}),o},h.Ob=function(t,e,n,i,r){var o=t.wa(),a=w(this.ya,o);if(!a){var a=n.ua(r?i:null),s=!1;a?s=!0:(a=i instanceof T?n.xc(i):C,s=!1),a=new te(t,new Id(new sb(a,s,!1),new sb(i,r,!1))),this.ya[o]=a}return a.Ob(e),we(a,e)},h.kb=function(t,e,n){var i=t.wa(),o=[],a=[],s=null!=df(this);if("default"===i){var u=this;r(this.ya,function(t,i){a=a.concat(t.kb(e,n)),t.e()&&(delete u.ya[i],de(t.V.n)||o.push(t.V))})}else{var h=w(this.ya,i);h&&(a=a.concat(h.kb(e,n)),h.e()&&(delete this.ya[i],de(h.V.n)||o.push(h.V)))}return s&&null==df(this)&&o.push(new U(t.k,t.path)),{Hg:o,jg:a}},h.hb=function(t){var e=null;return r(this.ya,function(n){e=e||n.hb(t)}),e},gf.prototype.Ob=function(t,e){var n=t.path,i=null,r=!1;Me(this.sa,n,function(t,e){var o=N(t,n);return i=e.hb(o),r=r||null!=df(e),!i});var o=this.sa.get(n);o?(r=r||null!=df(o),i=i||o.hb(F)):(o=new cf,this.sa=this.sa.set(n,o));var a;null!=i?a=!0:(a=!1,i=C,Pe(this.sa.subtree(n),function(t,e){var n=e.hb(F);n&&(i=i.Q(t,n))}));var s=null!=ff(o,t);if(!s&&!de(t.n)){var u=sf(t);J(!(u in this.kc),"View does not exist, but we have a tag");var h=tf++;this.kc[u]=h,this.$e["_"+h]=u}return a=o.Ob(t,e,new bf(n,this.Hb),i,a),s||r||(o=ff(o,t),a=a.concat(uf(this,t,o))),a},gf.prototype.kb=function(t,e,n){var i=t.path,r=this.sa.get(i),o=[];if(r&&("default"===t.wa()||null!=ff(r,t))){o=r.kb(t,e,n),r.e()&&(this.sa=this.sa.remove(i)),r=o.Hg,o=o.jg,e=-1!==Ua(r,function(t){return de(t.n)});var a=Ke(this.sa,i,function(t,e){return null!=df(e)});if(e&&!a&&(i=this.sa.subtree(i),!i.e()))for(var i=vf(i),s=0;s<i.length;++s){var u=i[s],h=u.V,u=wf(this,u);this.Mc.Xe(h,xf(this,h),u.ud,u.J)}if(!a&&0<r.length&&!n)if(e)this.Mc.Zd(t,null);else{var c=this;Oa(r,function(t){t.wa();var e=c.kc[sf(t)];c.Mc.Zd(t,e)})}yf(this,r)}return o},gf.prototype.ua=function(t,e){var n=this.Hb,i=Ke(this.sa,t,function(e,n){var i=N(e,t);return(i=n.hb(i))?i:void 0});return n.ua(t,i,e,!0)};var tf=1;h=Cf.prototype,h.Ba=function(){return this.B.value},h.clear=function(){this.B.value=null,this.B.children={},this.B.kd=0,Ff(this)},h.td=function(){return 0<this.B.kd},h.e=function(){return null===this.Ba()&&!this.td()},h.U=function(t){var e=this;r(this.B.children,function(n,i){t(new Cf(i,e,n))})},h.path=function(){return new K(null===this.Yc?this.Dd:this.Yc.path()+"/"+this.Dd)},h.name=function(){return this.Dd},h.parent=function(){return this.Yc},If.prototype.de=function(t){for(var e=this.Nc[t]||[],n=0;n<e.length;n++)e[n].yc.apply(e[n].Ma,Array.prototype.slice.call(arguments,1))},If.prototype.Eb=function(t,e,n){Jf(this,t),this.Nc[t]=this.Nc[t]||[],this.Nc[t].push({yc:e,Ma:n}),(t=this.ze(t))&&e.apply(n,t)},If.prototype.gc=function(t,e,n){Jf(this,t),t=this.Nc[t]||[];for(var i=0;i<t.length;i++)if(t[i].yc===e&&(!n||n===t[i].Ma)){t.splice(i,1);break}};var Kf=function(){var t=0,e=[];return function(n){var i=n===t;t=n;for(var r=Array(8),o=7;o>=0;o--)r[o]="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz".charAt(n%64),n=Math.floor(n/64);if(J(0===n,"Cannot push at time == 0"),n=r.join(""),i){for(o=11;o>=0&&63===e[o];o--)e[o]=0;e[o]++}else for(o=0;12>o;o++)e[o]=Math.floor(64*Math.random());for(o=0;12>o;o++)n+="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz".charAt(e[o]);return J(20===n.length,"nextPushId: Length should be 20."),n}}();ma(Lf,If),Lf.prototype.ze=function(t){return J("online"===t,"Unknown event type: "+t),[this.ic]},ca(Lf),ma(Mf,If),Mf.prototype.ze=function(t){return J("visible"===t,"Unknown event type: "+t),[this.uc]},ca(Mf);var Nf=/[\[\].#$\/\u0000-\u001F\u007F]/,Of=/[\[\].#$\u0000-\u001F\u007F]/;h=cg.prototype,h.add=function(t,e){this.set[t]=null!==e?e:!0},h.contains=function(t){return u(this.set,t)},h.get=function(t){return this.contains(t)?this.set[t]:void 0},h.remove=function(t){delete this.set[t]},h.clear=function(){this.set={}},h.e=function(){return wa(this.set)},h.count=function(){return pa(this.set)},h.keys=function(){var t=[];

return r(this.set,function(e,n){t.push(n)}),t},qc.prototype.find=function(t){if(null!=this.C)return this.C.oa(t);if(t.e()||null==this.m)return null;var e=O(t);return t=G(t),this.m.contains(e)?this.m.get(e).find(t):null},qc.prototype.mc=function(t,e){if(t.e())this.C=e,this.m=null;else if(null!==this.C)this.C=this.C.G(t,e);else{null==this.m&&(this.m=new cg);var n=O(t);this.m.contains(n)||this.m.add(n,new qc),n=this.m.get(n),t=G(t),n.mc(t,e)}},qc.prototype.U=function(t){null!==this.m&&dg(this.m,function(e,n){t(e,n)})};var fg="auth.firebase.com",hg=["remember","redirectTo"];jg.prototype.set=function(t,e){if(!e){if(!this.$d.length)throw Error("fb.login.SessionManager : No storage options available!");e=this.$d[0]}e.set(this.Pe,t)},jg.prototype.get=function(){var t=Qa(this.$d,q(this.ng,this)),t=Pa(t,function(t){return null!==t});return Xa(t,function(t,e){return bd(e.token)-bd(t.token)}),0<t.length?t.shift():null},jg.prototype.ng=function(t){try{var e=t.get(this.Pe);if(e&&e.token)return e}catch(n){}return null},jg.prototype.clear=function(){var t=this;Oa(this.$d,function(e){e.remove(t.Pe)})},ug.prototype.hc=function(t){var e,n=this;try{e=mb(t.data)}catch(i){}e&&"request"===e.a&&(pg(window,"message",this.hc),this.ae=t.origin,this.zc&&setTimeout(function(){n.zc(n.ae,e.d,function(t,e){n.ag=!e,n.zc=void 0,vg(n,{a:"response",d:t,forceKeepWindowOpen:e})})},0))},ug.prototype.yg=function(){try{pg(this.wd,"message",this.Af)}catch(t){}this.zc&&(vg(this,{a:"error",d:"unknown closed window"}),this.zc=void 0);try{window.close()}catch(e){}},ug.prototype.Af=function(t){if(this.ag&&"die"===t.data)try{window.close()}catch(e){}},wg.prototype.open=function(t,e){P.set("redirect_request_id",this.oc),P.set("redirect_request_id",this.oc),e.requestId=this.oc,e.redirectTo=e.redirectTo||window.location.href,t+=(/\?/.test(t)?"":"?")+jb(e),window.location=t},wg.isAvailable=function(){return!lg()&&!kg()},wg.prototype.Bc=function(){return"redirect"};var xg={NETWORK_ERROR:"Unable to contact the Firebase server.",SERVER_ERROR:"An unknown server error occurred.",TRANSPORT_UNAVAILABLE:"There are no login transports available for the requested method.",REQUEST_INTERRUPTED:"The browser redirected the page before the login request could complete.",USER_CANCELLED:"The user cancelled authentication."};zg.prototype.open=function(t,e,n){function i(t){if(o&&(document.body.removeChild(o),o=void 0),c&&(c=clearInterval(c)),pg(window,"message",r),pg(window,"unload",i),h&&!t)try{h.close()}catch(e){a.postMessage("die",u)}h=a=void 0}function r(t){if(t.origin===u)try{var e=mb(t.data);"ready"===e.a?a.postMessage(f,u):"error"===e.a?(i(!1),n&&(n(e.d),n=null)):"response"===e.a&&(i(e.forceKeepWindowOpen),n&&(n(null,e.d),n=null))}catch(r){}}var o,a,s=mg();if(!this.options.relay_url)return n(Error("invalid arguments: origin of url and relay_url must match"));var u=qg(t);if(u!==qg(this.options.relay_url))n&&setTimeout(function(){n(Error("invalid arguments: origin of url and relay_url must match"))},0);else{s&&(o=document.createElement("iframe"),o.setAttribute("src",this.options.relay_url),o.style.display="none",o.setAttribute("name","__winchan_relay_frame"),document.body.appendChild(o),a=o.contentWindow),t+=(/\?/.test(t)?"":"?")+jb(e);var h=window.open(t,this.options.window_name,this.options.window_features);a||(a=h);var c=setInterval(function(){h&&h.closed&&(i(!1),n&&(n(yg("USER_CANCELLED")),n=null))},500),f=B({a:"request",d:e});og(window,"unload",i),og(window,"message",r)}},zg.isAvailable=function(){return"postMessage"in window&&!lg()&&!(kg()||"undefined"!=typeof navigator&&(navigator.userAgent.match(/Windows Phone/)||window.Windows&&/^ms-appx:/.test(location.href))||"undefined"!=typeof navigator&&"undefined"!=typeof window&&(navigator.userAgent.match(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i)||navigator.userAgent.match(/CriOS/)||navigator.userAgent.match(/Twitter for iPhone/)||navigator.userAgent.match(/FBAN\/FBIOS/)||window.navigator.standalone))&&!("undefined"!=typeof navigator&&navigator.userAgent.match(/PhantomJS/))},zg.prototype.Bc=function(){return"popup"},Ag.prototype.open=function(t,e,n){function i(){n&&(n(yg("REQUEST_INTERRUPTED")),n=null)}var r,o=new XMLHttpRequest,a=this.options.method.toUpperCase();if(og(window,"beforeunload",i),o.onreadystatechange=function(){if(n&&4===o.readyState){var t;if(200<=o.status&&300>o.status){try{t=mb(o.responseText)}catch(e){}n(null,t)}else n(500<=o.status&&600>o.status?yg("SERVER_ERROR"):yg("NETWORK_ERROR"));n=null,pg(window,"beforeunload",i)}},"GET"===a)t+=(/\?/.test(t)?"":"?")+jb(e),r=null;else{var s=this.options.headers.content_type;"application/json"===s&&(r=B(e)),"application/x-www-form-urlencoded"===s&&(r=jb(e))}o.open(a,t,!0),t={"X-Requested-With":"XMLHttpRequest",Accept:"application/json;text/plain"},za(t,this.options.headers);for(var u in t)o.setRequestHeader(u,t[u]);o.send(r)},Ag.isAvailable=function(){return!(!window.XMLHttpRequest||"string"!=typeof(new XMLHttpRequest).responseType||"undefined"!=typeof navigator&&(navigator.userAgent.match(/MSIE/)||navigator.userAgent.match(/Trident/))&&!mg())},Ag.prototype.Bc=function(){return"json"},Bg.prototype.open=function(t,e,n){function i(){n&&(n(yg("USER_CANCELLED")),n=null)}var r,o=this,a=Rc(fg);e.requestId=this.oc,e.redirectTo=a.scheme+"://"+a.host+"/blank/page.html",t+=/\?/.test(t)?"":"?",t+=jb(e),(r=window.open(t,"_blank","location=no"))&&ha(r.addEventListener)?(r.addEventListener("loadstart",function(t){var e;if(e=t&&t.url)t:{try{var s=document.createElement("a");s.href=t.url,e=s.host===a.host&&"/blank/page.html"===s.pathname;break t}catch(u){}e=!1}e&&(t=rg(t.url),r.removeEventListener("exit",i),r.close(),t=new gg(null,null,{requestId:o.oc,requestKey:t}),o.Df.requestWithCredential("/auth/session",t,n),n=null)}),r.addEventListener("exit",i)):n(yg("TRANSPORT_UNAVAILABLE"))},Bg.isAvailable=function(){return kg()},Bg.prototype.Bc=function(){return"redirect"},Cg.prototype.open=function(t,e,n){function i(){n&&(n(yg("REQUEST_INTERRUPTED")),n=null)}function r(){setTimeout(function(){window.__firebase_auth_jsonp[o]=void 0,wa(window.__firebase_auth_jsonp)&&(window.__firebase_auth_jsonp=void 0);try{var t=document.getElementById(o);t&&t.parentNode.removeChild(t)}catch(e){}},1),pg(window,"beforeunload",i)}var o="fn"+(new Date).getTime()+Math.floor(99999*Math.random());e[this.options.callback_parameter]="__firebase_auth_jsonp."+o,t+=(/\?/.test(t)?"":"?")+jb(e),og(window,"beforeunload",i),window.__firebase_auth_jsonp[o]=function(t){n&&(n(null,t),n=null),r()},Dg(o,t,n)},Cg.isAvailable=function(){return!0},Cg.prototype.Bc=function(){return"json"},ma(Eg,If),h=Eg.prototype,h.we=function(){return this.nb||null},h.re=function(t,e){Ng(this);var n=ig(t);n.ab._method="POST",this.pc("/users",n,function(t,n){t?R(e,t):R(e,t,n)})},h.Se=function(t,e){var n=this;Ng(this);var i="/users/"+encodeURIComponent(t.email),r=ig(t);r.ab._method="DELETE",this.pc(i,r,function(t,i){!t&&i&&i.uid&&n.nb&&n.nb.uid&&n.nb.uid===i.uid&&Lg(n),R(e,t)})},h.oe=function(t,e){Ng(this);var n="/users/"+encodeURIComponent(t.email)+"/password",i=ig(t);i.ab._method="PUT",i.ab.password=t.newPassword,this.pc(n,i,function(t){R(e,t)})},h.ne=function(t,e){Ng(this);var n="/users/"+encodeURIComponent(t.oldEmail)+"/email",i=ig(t);i.ab._method="PUT",i.ab.email=t.newEmail,i.ab.password=t.password,this.pc(n,i,function(t){R(e,t)})},h.Ue=function(t,e){Ng(this);var n="/users/"+encodeURIComponent(t.email)+"/password",i=ig(t);i.ab._method="POST",this.pc(n,i,function(t){R(e,t)})},h.pc=function(t,e,n){Qg(this,[Ag,Cg],t,e,n)},h.ze=function(t){return J("auth_status"===t,'initial event must be of type "auth_status"'),this.Re?null:[this.nb]};var Vg,Wg;Ug.prototype.open=function(t,e){this.gf=0,this.ka=e,this.zf=new Rg(t),this.zb=!1;var n=this;this.rb=setTimeout(function(){n.f("Timed out trying to connect."),n.ib(),n.rb=null},Math.floor(3e4)),Tc(function(){if(!n.zb){n.Ta=new Xg(function(t,e,i){if(Yg(n,arguments),n.Ta)if(n.rb&&(clearTimeout(n.rb),n.rb=null),n.Gc=!0,"start"==t)n.id=e,n.Ff=i;else{if("close"!==t)throw Error("Unrecognized command received: "+t);e?(n.Ta.Td=!1,Sg(n.zf,e,function(){n.ib()})):n.ib()}},function(t,e){Yg(n,arguments),Tg(n.zf,t,e)},function(){n.ib()},n.gd);var t={start:"t"};t.ser=Math.floor(1e8*Math.random()),n.Ta.fe&&(t.cb=n.Ta.fe),t.v="5",n.Vd&&(t.s=n.Vd),"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(t.r="f"),t=n.gd(t),n.f("Connecting via long-poll to "+t),Zg(n.Ta,t,function(){})}})},Ug.prototype.start=function(){var t=this.Ta,e=this.Ff;for(t.rg=this.id,t.sg=e,t.ke=!0;$g(t););t=this.id,e=this.Ff,this.fc=document.createElement("iframe");var n={dframe:"t"};n.id=t,n.pw=e,this.fc.src=this.gd(n),this.fc.style.display="none",document.body.appendChild(this.fc)},Ug.isAvailable=function(){return!(Wg||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.Ug)},h=Ug.prototype,h.Bd=function(){},h.cd=function(){this.zb=!0,this.Ta&&(this.Ta.close(),this.Ta=null),this.fc&&(document.body.removeChild(this.fc),this.fc=null),this.rb&&(clearTimeout(this.rb),this.rb=null)},h.ib=function(){this.zb||(this.f("Longpoll is closing itself"),this.cd(),this.ka&&(this.ka(this.Gc),this.ka=null))},h.close=function(){this.zb||(this.f("Longpoll is being closed."),this.cd())},h.send=function(t){t=B(t),this.pb+=t.length,Lb(this.Va,"bytes_sent",t.length),t=Kc(t),t=fb(t,!0),t=Xc(t,1840);for(var e=0;e<t.length;e++){var n=this.Ta;n.$c.push({Jg:this.gf,Rg:t.length,jf:t[e]}),n.ke&&$g(n),this.gf++}},Xg.prototype.close=function(){if(this.ke=!1,this.Ca){this.Ca.gb.body.innerHTML="";var t=this;setTimeout(function(){null!==t.Ca&&(document.body.removeChild(t.Ca),t.Ca=null)},Math.floor(0))}var e=this.jb;e&&(this.jb=null,e())};var bh=null;"undefined"!=typeof MozWebSocket?bh=MozWebSocket:"undefined"!=typeof WebSocket&&(bh=WebSocket);var dh;ch.prototype.open=function(t,e){this.jb=e,this.wg=t,this.f("Websocket connecting to "+this.fb),this.Gc=!1,Dc.set("previous_websocket_failure",!0);try{this.va=new bh(this.fb)}catch(n){this.f("Error instantiating WebSocket.");var i=n.message||n.data;return i&&this.f(i),void this.ib()}var r=this;this.va.onopen=function(){r.f("Websocket connected."),r.Gc=!0},this.va.onclose=function(){r.f("Websocket connection was disconnected."),r.va=null,r.ib()},this.va.onmessage=function(t){if(null!==r.va)if(t=t.data,r.ob+=t.length,Lb(r.Va,"bytes_received",t.length),eh(r),null!==r.frames)fh(r,t);else{t:{if(J(null===r.frames,"We already have a frame buffer"),6>=t.length){var e=Number(t);if(!isNaN(e)){r.bf=e,r.frames=[],t=null;break t}}r.bf=1,r.frames=[]}null!==t&&fh(r,t)}},this.va.onerror=function(t){r.f("WebSocket error.  Closing connection."),(t=t.message||t.data)&&r.f(t),r.ib()}},ch.prototype.start=function(){},ch.isAvailable=function(){var t=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var e=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);e&&1<e.length&&4.4>parseFloat(e[1])&&(t=!0)}return!t&&null!==bh&&!dh},ch.responsesRequiredToBeHealthy=2,ch.healthyTimeout=3e4,h=ch.prototype,h.Bd=function(){Dc.remove("previous_websocket_failure")},h.send=function(t){eh(this),t=B(t),this.pb+=t.length,Lb(this.Va,"bytes_sent",t.length),t=Xc(t,16384),1<t.length&&this.va.send(String(t.length));for(var e=0;e<t.length;e++)this.va.send(t[e])},h.cd=function(){this.zb=!0,this.Jc&&(clearInterval(this.Jc),this.Jc=null),this.va&&(this.va.close(),this.va=null)},h.ib=function(){this.zb||(this.f("WebSocket is closing itself"),this.cd(),this.jb&&(this.jb(this.Gc),this.jb=null))},h.close=function(){this.zb||(this.f("WebSocket is being closed"),this.cd())};var ih=[Ug,ch];kh.prototype.Da=function(t){vh(this,{t:"d",d:t})},kh.prototype.Fd=function(t){sh(this),this.hc(t)},kh.prototype.close=function(){2!==this.Ua&&(this.f("Closing realtime connection."),this.Ua=2,rh(this),this.ka&&(this.ka(),this.ka=null))};var xh=0,zh=0;h=wh.prototype,h.Da=function(t,e,n){var i=++this.Ig;t={r:i,a:t,b:e},this.f(B(t)),J(this.ma,"sendRequest call when we're not connected not allowed."),this.Sa.Da(t),n&&(this.Qd[i]=n)},h.xf=function(t,e,n,i){var r=t.wa(),o=t.path.toString();this.f("Listen called for "+o+" "+r),this.aa[o]=this.aa[o]||{},J(!this.aa[o][r],"listen() called twice for same path/queryId."),t={J:i,ud:e,Fg:t,tag:n},this.aa[o][r]=t,this.ma&&Ah(this,t)},h.P=function(t,e,n){this.Fa={fg:t,nf:!1,yc:e,jd:n},this.f("Authenticating using credential: "+t),Ch(this),(e=40==t.length)||(t=ad(t).Ac,e="object"==typeof t&&!0===w(t,"admin")),e&&(this.f("Admin auth credential detected.  Reducing max reconnect time."),this.Cd=3e4)},h.ee=function(t){delete this.Fa,this.ma&&this.Da("unauth",{},function(e){t(e.s,e.d)})},h.Of=function(t,e){var n=t.path.toString(),i=t.wa();if(this.f("Unlisten called for "+n+" "+i),Bh(this,n,i)&&this.ma){var r=ce(t.n);this.f("Unlisten on "+n+" for "+i),n={p:n},e&&(n.q=r,n.t=e),this.Da("n",n)}},h.Le=function(t,e,n){this.ma?Dh(this,"o",t,e,n):this.Uc.push({Zc:t,action:"o",data:e,J:n})},h.Bf=function(t,e,n){this.ma?Dh(this,"om",t,e,n):this.Uc.push({Zc:t,action:"om",data:e,J:n})},h.Gd=function(t,e){this.ma?Dh(this,"oc",t,null,e):this.Uc.push({Zc:t,action:"oc",data:null,J:e})},h.put=function(t,e,n,i){Eh(this,"p",t,e,n,i)},h.yf=function(t,e,n,i){Eh(this,"m",t,e,n,i)},h.Te=function(t){this.ma&&(t={c:t},this.f("reportStats",t),this.Da("s",t,function(t){"ok"!==t.s&&this.f("reportStats","Error sending stats: "+t.d)}))},h.Fd=function(t){if("r"in t){this.f("from server: "+B(t));var e=t.r,n=this.Qd[e];n&&(delete this.Qd[e],n(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&(e=t.a,n=t.b,this.f("handleServerMessage",e,n),"d"===e?this.Gb(n.p,n.d,!1,n.t):"m"===e?this.Gb(n.p,n.d,!0,n.t):"c"===e?Gh(this,n.p,n.q):"ac"===e?(t=n.s,e=n.d,n=this.Fa,delete this.Fa,n&&n.jd&&n.jd(t,e)):"sd"===e?this.We?this.We(n):"msg"in n&&"undefined"!=typeof console&&console.log("FIREBASE: "+n.msg.replace("\n","\nFIREBASE: ")):Pc("Unrecognized action received from server: "+B(e)+"\nAre you using the latest client?"))}},h.Vc=function(t){this.f("connection ready"),this.ma=!0,this.Kc=(new Date).getTime(),this.Ne({serverTimeOffset:t-(new Date).getTime()}),this.mf&&(t={},t["sdk.js."+"2.2.4".replace(/\./g,"-")]=1,kg()&&(t["framework.cordova"]=1),this.Te(t)),Hh(this),this.mf=!1,this.Tc(!0)},h.zg=function(t){t&&!this.uc&&this.$a===this.Cd&&(this.f("Window became visible.  Reducing delay."),this.$a=1e3,this.Sa||yh(this,0)),this.uc=t},h.xg=function(t){t?(this.f("Browser went online."),this.$a=1e3,this.Sa||yh(this,0)):(this.f("Browser went offline.  Killing connection."),this.Sa&&this.Sa.close())},h.Cf=function(){this.f("data client disconnected"),this.ma=!1,this.Sa=null;for(var t=0;t<this.pa.length;t++){var e=this.pa[t];e&&"h"in e.If&&e.Gg&&(e.J&&e.J("disconnect"),delete this.pa[t],this.Xc--)}0===this.Xc&&(this.pa=[]),this.Qd={},Jh(this)&&(this.uc?this.Kc&&(3e4<(new Date).getTime()-this.Kc&&(this.$a=1e3),this.Kc=null):(this.f("Window isn't visible.  Delaying reconnect."),this.$a=this.Cd,this.Fe=(new Date).getTime()),t=Math.max(0,this.$a-((new Date).getTime()-this.Fe)),t*=Math.random(),this.f("Trying to reconnect in "+t+"ms"),yh(this,t),this.$a=Math.min(this.Cd,1.3*this.$a)),this.Tc(!1)},h.yb=function(){this.De=!0,this.Sa?this.Sa.close():(this.Sb&&(clearTimeout(this.Sb),this.Sb=null),this.ma&&this.Cf())},h.qc=function(){this.De=!1,this.$a=1e3,this.Sa||yh(this,0)};var V={lg:function(){Vg=dh=!0}};V.forceLongPolling=V.lg,V.mg=function(){Wg=!0},V.forceWebSockets=V.mg,V.Mg=function(t,e){t.k.Ra.We=e},V.setSecurityDebugCallback=V.Mg,V.Ye=function(t,e){t.k.Ye(e)},V.stats=V.Ye,V.Ze=function(t,e){t.k.Ze(e)},V.statsIncrementCounter=V.Ze,V.pd=function(t){return t.k.pd},V.dataUpdateCount=V.pd,V.pg=function(t,e){t.k.Ce=e},V.interceptServerData=V.pg,V.vg=function(t){new ug(t)},V.onPopupOpen=V.vg,V.Kg=function(t){fg=t},V.setAuthenticationServer=V.Kg,S.prototype.K=function(){return x("Firebase.DataSnapshot.val",0,0,arguments.length),this.B.K()},S.prototype.val=S.prototype.K,S.prototype.lf=function(){return x("Firebase.DataSnapshot.exportVal",0,0,arguments.length),this.B.K(!0)},S.prototype.exportVal=S.prototype.lf,S.prototype.kg=function(){return x("Firebase.DataSnapshot.exists",0,0,arguments.length),!this.B.e()},S.prototype.exists=S.prototype.kg,S.prototype.w=function(t){x("Firebase.DataSnapshot.child",0,1,arguments.length),ga(t)&&(t=String(t)),Xf("Firebase.DataSnapshot.child",t);var e=new K(t),n=this.V.w(e);return new S(this.B.oa(e),n,M)},S.prototype.child=S.prototype.w,S.prototype.Ha=function(t){x("Firebase.DataSnapshot.hasChild",1,1,arguments.length),Xf("Firebase.DataSnapshot.hasChild",t);var e=new K(t);return!this.B.oa(e).e()},S.prototype.hasChild=S.prototype.Ha,S.prototype.A=function(){return x("Firebase.DataSnapshot.getPriority",0,0,arguments.length),this.B.A().K()},S.prototype.getPriority=S.prototype.A,S.prototype.forEach=function(t){if(x("Firebase.DataSnapshot.forEach",1,1,arguments.length),A("Firebase.DataSnapshot.forEach",1,t,!1),this.B.N())return!1;var e=this;return!!this.B.U(this.g,function(n,i){return t(new S(i,e.V.w(n),M))})},S.prototype.forEach=S.prototype.forEach,S.prototype.td=function(){return x("Firebase.DataSnapshot.hasChildren",0,0,arguments.length),this.B.N()?!1:!this.B.e()},S.prototype.hasChildren=S.prototype.td,S.prototype.name=function(){return Q("Firebase.DataSnapshot.name() being deprecated. Please use Firebase.DataSnapshot.key() instead."),x("Firebase.DataSnapshot.name",0,0,arguments.length),this.key()},S.prototype.name=S.prototype.name,S.prototype.key=function(){return x("Firebase.DataSnapshot.key",0,0,arguments.length),this.V.key()},S.prototype.key=S.prototype.key,S.prototype.Db=function(){return x("Firebase.DataSnapshot.numChildren",0,0,arguments.length),this.B.Db()},S.prototype.numChildren=S.prototype.Db,S.prototype.lc=function(){return x("Firebase.DataSnapshot.ref",0,0,arguments.length),this.V},S.prototype.ref=S.prototype.lc,h=Kh.prototype,h.toString=function(){return(this.H.lb?"https://":"http://")+this.H.host},h.name=function(){return this.H.Cb},h.Gb=function(t,e,n,i){this.pd++;var r=new K(t);e=this.Ce?this.Ce(t,e):e,t=[],i?n?(e=na(e,function(t){return L(t)}),t=rf(this.O,r,e,i)):(e=L(e),t=nf(this.O,r,e,i)):n?(i=na(e,function(t){return L(t)}),t=mf(this.O,r,i)):(i=L(e),t=jf(this.O,new Ub(ze,r,i))),i=r,0<t.length&&(i=Oh(this,r)),zb(this.ea,i,t)},h.Tc=function(t){Lh(this,"connected",t),!1===t&&Ph(this)},h.Ne=function(t){var e=this;Yc(t,function(t,n){Lh(e,n,t)})},h.Ke=function(t){Lh(this,"authenticated",t)},h.Kb=function(t,e,n,i){this.f("set",{path:t.toString(),value:e,Xg:n});var r=Nh(this);e=L(e,n);var r=sc(e,r),o=this.Ed++,r=hf(this.O,t,r,o,!0);vb(this.ea,r);var a=this;this.ca.put(t.toString(),e.K(!0),function(e,n){var r="ok"===e;r||Q("set at "+t+" failed: "+e),r=lf(a.O,o,!r),zb(a.ea,t,r),Qh(i,e,n)}),r=Rh(this,t),Oh(this,r),zb(this.ea,r,[])},h.update=function(t,e,n){this.f("update",{path:t.toString(),value:e});var i=!0,o=Nh(this),a={};if(r(e,function(t,e){i=!1;var n=L(t);a[e]=sc(n,o)}),i)Bb("update() called with empty data.  Don't do anything."),Qh(n,"ok");else{var s=this.Ed++,u=kf(this.O,t,a,s);vb(this.ea,u);var h=this;this.ca.yf(t.toString(),e,function(e,i){var r="ok"===e;r||Q("update at "+t+" failed: "+e);var r=lf(h.O,s,!r),o=t;0<r.length&&(o=Oh(h,t)),zb(h.ea,o,r),Qh(n,e,i)}),e=Rh(this,t),Oh(this,e),zb(this.ea,t,[])}},h.Gd=function(t,e){var n=this;this.ca.Gd(t.toString(),function(i,r){"ok"===i&&eg(n.ka,t),Qh(e,i,r)})},h.yb=function(){this.Ra&&this.Ra.yb()},h.qc=function(){this.Ra&&this.Ra.qc()},h.Ye=function(t){if("undefined"!=typeof console){t?(this.Yd||(this.Yd=new Ib(this.Va)),t=this.Yd.get()):t=this.Va.get();var e,n=Ra(sa(t),function(t,e){return Math.max(e.length,t)},0);for(e in t){for(var i=t[e],r=e.length;n+2>r;r++)e+=" ";console.log(e+i)}}},h.Ze=function(t){Lb(this.Va,t),this.Pg.Mf[t]=!0},h.f=function(){var t="";this.Ra&&(t=this.Ra.id+":"),Bb(t,arguments)},ca(W),W.prototype.yb=function(){for(var t in this.nc)this.nc[t].yb()},W.prototype.interrupt=W.prototype.yb,W.prototype.qc=function(){for(var t in this.nc)this.nc[t].qc()},W.prototype.resume=W.prototype.qc,W.prototype.ue=function(){this.Pf=!0},X.prototype.cancel=function(t){x("Firebase.onDisconnect().cancel",0,1,arguments.length),A("Firebase.onDisconnect().cancel",1,t,!0),this.ad.Gd(this.qa,t||null)},X.prototype.cancel=X.prototype.cancel,X.prototype.remove=function(t){x("Firebase.onDisconnect().remove",0,1,arguments.length),Yf("Firebase.onDisconnect().remove",this.qa),A("Firebase.onDisconnect().remove",1,t,!0),Sh(this.ad,this.qa,null,t)},X.prototype.remove=X.prototype.remove,X.prototype.set=function(t,e){x("Firebase.onDisconnect().set",1,2,arguments.length),Yf("Firebase.onDisconnect().set",this.qa),Rf("Firebase.onDisconnect().set",t,this.qa,!1),A("Firebase.onDisconnect().set",2,e,!0),Sh(this.ad,this.qa,t,e)},X.prototype.set=X.prototype.set,X.prototype.Kb=function(t,e,n){x("Firebase.onDisconnect().setWithPriority",2,3,arguments.length),Yf("Firebase.onDisconnect().setWithPriority",this.qa),Rf("Firebase.onDisconnect().setWithPriority",t,this.qa,!1),Uf("Firebase.onDisconnect().setWithPriority",2,e),A("Firebase.onDisconnect().setWithPriority",3,n,!0),Th(this.ad,this.qa,t,e,n)},X.prototype.setWithPriority=X.prototype.Kb,X.prototype.update=function(t,e){if(x("Firebase.onDisconnect().update",1,2,arguments.length),Yf("Firebase.onDisconnect().update",this.qa),ea(t)){for(var n={},i=0;i<t.length;++i)n[""+i]=t[i];t=n,Q("Passing an Array to Firebase.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Tf("Firebase.onDisconnect().update",t,this.qa),A("Firebase.onDisconnect().update",2,e,!0),Uh(this.ad,this.qa,t,e)},X.prototype.update=X.prototype.update,Y.prototype.lc=function(){return x("Query.ref",0,0,arguments.length),new U(this.k,this.path)},Y.prototype.ref=Y.prototype.lc,Y.prototype.Eb=function(t,e,n,i){x("Query.on",2,4,arguments.length),Vf("Query.on",t,!1),A("Query.on",2,e,!1);var r=hi("Query.on",n,i);if("value"===t)Vh(this.k,this,new jd(e,r.cancel||null,r.Ma||null));else{var o={};o[t]=e,Vh(this.k,this,new kd(o,r.cancel,r.Ma))}return e},Y.prototype.on=Y.prototype.Eb,Y.prototype.gc=function(t,e,n){x("Query.off",0,3,arguments.length),Vf("Query.off",t,!0),A("Query.off",2,e,!0),lb("Query.off",3,n);var i=null,r=null;"value"===t?i=new jd(e||null,null,n||null):t&&(e&&(r={},r[t]=e),i=new kd(r,null,n||null)),r=this.k,i=".info"===O(this.path)?r.zd.kb(this,i):r.O.kb(this,i),xb(r.ea,this.path,i)},Y.prototype.off=Y.prototype.gc,Y.prototype.Ag=function(t,e){function n(a){o&&(o=!1,r.gc(t,n),e.call(i.Ma,a))}x("Query.once",2,4,arguments.length),Vf("Query.once",t,!1),A("Query.once",2,e,!1);var i=hi("Query.once",arguments[2],arguments[3]),r=this,o=!0;this.Eb(t,n,function(e){r.gc(t,n),i.cancel&&i.cancel.call(i.Ma,e)})},Y.prototype.once=Y.prototype.Ag,Y.prototype.Ge=function(t){if(Q("Query.limit() being deprecated. Please use Query.limitToFirst() or Query.limitToLast() instead."),x("Query.limit",1,1,arguments.length),!ga(t)||Math.floor(t)!==t||0>=t)throw Error("Query.limit: First argument must be a positive integer.");if(this.n.ia)throw Error("Query.limit: Limit was already set (by another call to limit, limitToFirst, orlimitToLast.");var e=this.n.Ge(t);return fi(e),new Y(this.k,this.path,e,this.jc)},Y.prototype.limit=Y.prototype.Ge,Y.prototype.He=function(t){if(x("Query.limitToFirst",1,1,arguments.length),!ga(t)||Math.floor(t)!==t||0>=t)throw Error("Query.limitToFirst: First argument must be a positive integer.");if(this.n.ia)throw Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new Y(this.k,this.path,this.n.He(t),this.jc)},Y.prototype.limitToFirst=Y.prototype.He,Y.prototype.Ie=function(t){if(x("Query.limitToLast",1,1,arguments.length),!ga(t)||Math.floor(t)!==t||0>=t)throw Error("Query.limitToLast: First argument must be a positive integer.");if(this.n.ia)throw Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new Y(this.k,this.path,this.n.Ie(t),this.jc)},Y.prototype.limitToLast=Y.prototype.Ie,Y.prototype.Bg=function(t){if(x("Query.orderByChild",1,1,arguments.length),"$key"===t)throw Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===t)throw Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===t)throw Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');Wf("Query.orderByChild",1,t,!1),gi(this,"Query.orderByChild");var e=be(this.n,new Rd(t));return ei(e),new Y(this.k,this.path,e,!0)},Y.prototype.orderByChild=Y.prototype.Bg,Y.prototype.Cg=function(){x("Query.orderByKey",0,0,arguments.length),gi(this,"Query.orderByKey");var t=be(this.n,Vd);return ei(t),new Y(this.k,this.path,t,!0)},Y.prototype.orderByKey=Y.prototype.Cg,Y.prototype.Dg=function(){x("Query.orderByPriority",0,0,arguments.length),gi(this,"Query.orderByPriority");var t=be(this.n,M);return ei(t),new Y(this.k,this.path,t,!0)},Y.prototype.orderByPriority=Y.prototype.Dg,Y.prototype.Eg=function(){x("Query.orderByValue",0,0,arguments.length),gi(this,"Query.orderByValue");var t=be(this.n,Yd);return ei(t),new Y(this.k,this.path,t,!0)},Y.prototype.orderByValue=Y.prototype.Eg,Y.prototype.Xd=function(t,e){x("Query.startAt",0,2,arguments.length),Rf("Query.startAt",t,this.path,!0),Wf("Query.startAt",2,e,!0);var i=this.n.Xd(t,e);if(fi(i),ei(i),this.n.la)throw Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return n(t)||(e=t=null),new Y(this.k,this.path,i,this.jc)},Y.prototype.startAt=Y.prototype.Xd,Y.prototype.qd=function(t,e){x("Query.endAt",0,2,arguments.length),Rf("Query.endAt",t,this.path,!0),Wf("Query.endAt",2,e,!0);var n=this.n.qd(t,e);if(fi(n),ei(n),this.n.na)throw Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new Y(this.k,this.path,n,this.jc)},Y.prototype.endAt=Y.prototype.qd,Y.prototype.hg=function(t,e){if(x("Query.equalTo",1,2,arguments.length),Rf("Query.equalTo",t,this.path,!1),Wf("Query.equalTo",2,e,!0),this.n.la)throw Error("Query.equalTo: Starting point was already set (by another call to endAt or equalTo).");if(this.n.na)throw Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.Xd(t,e).qd(t,e)},Y.prototype.equalTo=Y.prototype.hg,Y.prototype.toString=function(){x("Query.toString",0,0,arguments.length);for(var t=this.path,e="",n=t.Y;n<t.o.length;n++)""!==t.o[n]&&(e+="/"+encodeURIComponent(String(t.o[n])));return t=this.k.toString()+(e||"/"),e=jb(ee(this.n)),t+=e.replace(/^&/,"")},Y.prototype.toString=Y.prototype.toString,Y.prototype.wa=function(){var t=Wc(ce(this.n));return"{}"===t?"default":t};var Z={};Z.vc=wh,Z.DataConnection=Z.vc,wh.prototype.Og=function(t,e){this.Da("q",{p:t},e)},Z.vc.prototype.simpleListen=Z.vc.prototype.Og,wh.prototype.gg=function(t,e){this.Da("echo",{d:t},e)},Z.vc.prototype.echo=Z.vc.prototype.gg,wh.prototype.interrupt=wh.prototype.yb,Z.Sf=kh,Z.RealTimeConnection=Z.Sf,kh.prototype.sendRequest=kh.prototype.Da,kh.prototype.close=kh.prototype.close,Z.og=function(t){var e=wh.prototype.put;return wh.prototype.put=function(i,r,o,a){n(a)&&(a=t()),e.call(this,i,r,o,a)},function(){wh.prototype.put=e}},Z.hijackHash=Z.og,Z.Rf=Ec,Z.ConnectionTarget=Z.Rf,Z.wa=function(t){return t.wa()},Z.queryIdentifier=Z.wa,Z.qg=function(t){return t.k.Ra.aa},Z.listens=Z.qg,Z.ue=function(t){t.ue()},Z.forceRestClient=Z.ue,ma(U,Y);var ii=U,ji=["Firebase"],ki=aa;ji[0]in ki||!ki.execScript||ki.execScript("var "+ji[0]);for(var li;ji.length&&(li=ji.shift());)!ji.length&&n(ii)?ki[li]=ii:ki=ki[li]?ki[li]:ki[li]={};U.prototype.name=function(){return Q("Firebase.name() being deprecated. Please use Firebase.key() instead."),x("Firebase.name",0,0,arguments.length),this.key()},U.prototype.name=U.prototype.name,U.prototype.key=function(){return x("Firebase.key",0,0,arguments.length),this.path.e()?null:vc(this.path)},U.prototype.key=U.prototype.key,U.prototype.w=function(t){if(x("Firebase.child",1,1,arguments.length),ga(t))t=String(t);else if(!(t instanceof K))if(null===O(this.path)){var e=t;e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Xf("Firebase.child",e)}else Xf("Firebase.child",t);return new U(this.k,this.path.w(t))},U.prototype.child=U.prototype.w,U.prototype.parent=function(){x("Firebase.parent",0,0,arguments.length);var t=this.path.parent();return null===t?null:new U(this.k,t)},U.prototype.parent=U.prototype.parent,U.prototype.root=function(){x("Firebase.ref",0,0,arguments.length);for(var t=this;null!==t.parent();)t=t.parent();return t},U.prototype.root=U.prototype.root,U.prototype.set=function(t,e){x("Firebase.set",1,2,arguments.length),Yf("Firebase.set",this.path),Rf("Firebase.set",t,this.path,!1),A("Firebase.set",2,e,!0),this.k.Kb(this.path,t,null,e||null)},U.prototype.set=U.prototype.set,U.prototype.update=function(t,e){if(x("Firebase.update",1,2,arguments.length),Yf("Firebase.update",this.path),ea(t)){for(var n={},i=0;i<t.length;++i)n[""+i]=t[i];t=n,Q("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Tf("Firebase.update",t,this.path),A("Firebase.update",2,e,!0),this.k.update(this.path,t,e||null)},U.prototype.update=U.prototype.update,U.prototype.Kb=function(t,e,n){if(x("Firebase.setWithPriority",2,3,arguments.length),Yf("Firebase.setWithPriority",this.path),Rf("Firebase.setWithPriority",t,this.path,!1),Uf("Firebase.setWithPriority",2,e),A("Firebase.setWithPriority",3,n,!0),".length"===this.key()||".keys"===this.key())throw"Firebase.setWithPriority failed: "+this.key()+" is a read-only object.";this.k.Kb(this.path,t,e,n||null)},U.prototype.setWithPriority=U.prototype.Kb,U.prototype.remove=function(t){x("Firebase.remove",0,1,arguments.length),Yf("Firebase.remove",this.path),A("Firebase.remove",1,t,!0),this.set(null,t)},U.prototype.remove=U.prototype.remove,U.prototype.transaction=function(t,e,i){if(x("Firebase.transaction",1,3,arguments.length),Yf("Firebase.transaction",this.path),A("Firebase.transaction",1,t,!1),A("Firebase.transaction",2,e,!0),n(i)&&"boolean"!=typeof i)throw Error(z("Firebase.transaction",3,!0)+"must be a boolean.");if(".length"===this.key()||".keys"===this.key())throw"Firebase.transaction failed: "+this.key()+" is a read-only object.";"undefined"==typeof i&&(i=!0),Wh(this.k,this.path,t,e||null,i)},U.prototype.transaction=U.prototype.transaction,U.prototype.Lg=function(t,e){x("Firebase.setPriority",1,2,arguments.length),Yf("Firebase.setPriority",this.path),Uf("Firebase.setPriority",1,t),A("Firebase.setPriority",2,e,!0),this.k.Kb(this.path.w(".priority"),t,null,e)},U.prototype.setPriority=U.prototype.Lg,U.prototype.push=function(t,e){x("Firebase.push",0,2,arguments.length),Yf("Firebase.push",this.path),Rf("Firebase.push",t,this.path,!0),A("Firebase.push",2,e,!0);var n=Mh(this.k),n=Kf(n),n=this.w(n);return"undefined"!=typeof t&&null!==t&&n.set(t,e),n},U.prototype.push=U.prototype.push,U.prototype.jb=function(){return Yf("Firebase.onDisconnect",this.path),new X(this.k,this.path)},U.prototype.onDisconnect=U.prototype.jb,U.prototype.P=function(t,e,n){Q("FirebaseRef.auth() being deprecated. Please use FirebaseRef.authWithCustomToken() instead."),x("Firebase.auth",1,3,arguments.length),Zf("Firebase.auth",t),A("Firebase.auth",2,e,!0),A("Firebase.auth",3,e,!0),Kg(this.k.P,t,{},{remember:"none"},e,n)},U.prototype.auth=U.prototype.P,U.prototype.ee=function(t){x("Firebase.unauth",0,1,arguments.length),A("Firebase.unauth",1,t,!0),Lg(this.k.P,t)},U.prototype.unauth=U.prototype.ee,U.prototype.we=function(){return x("Firebase.getAuth",0,0,arguments.length),this.k.P.we()},U.prototype.getAuth=U.prototype.we,U.prototype.ug=function(t,e){x("Firebase.onAuth",1,2,arguments.length),
A("Firebase.onAuth",1,t,!1),lb("Firebase.onAuth",2,e),this.k.P.Eb("auth_status",t,e)},U.prototype.onAuth=U.prototype.ug,U.prototype.tg=function(t,e){x("Firebase.offAuth",1,2,arguments.length),A("Firebase.offAuth",1,t,!1),lb("Firebase.offAuth",2,e),this.k.P.gc("auth_status",t,e)},U.prototype.offAuth=U.prototype.tg,U.prototype.Wf=function(t,e,n){x("Firebase.authWithCustomToken",2,3,arguments.length),Zf("Firebase.authWithCustomToken",t),A("Firebase.authWithCustomToken",2,e,!1),ag("Firebase.authWithCustomToken",3,n,!0),Kg(this.k.P,t,{},n||{},e)},U.prototype.authWithCustomToken=U.prototype.Wf,U.prototype.Xf=function(t,e,n){x("Firebase.authWithOAuthPopup",2,3,arguments.length),$f("Firebase.authWithOAuthPopup",1,t),A("Firebase.authWithOAuthPopup",2,e,!1),ag("Firebase.authWithOAuthPopup",3,n,!0),Pg(this.k.P,t,n,e)},U.prototype.authWithOAuthPopup=U.prototype.Xf,U.prototype.Yf=function(t,e,n){x("Firebase.authWithOAuthRedirect",2,3,arguments.length),$f("Firebase.authWithOAuthRedirect",1,t),A("Firebase.authWithOAuthRedirect",2,e,!1),ag("Firebase.authWithOAuthRedirect",3,n,!0);var i=this.k.P;Ng(i);var r=[wg],o=ig(n);"anonymous"===t||"firebase"===t?R(e,yg("TRANSPORT_UNAVAILABLE")):(P.set("redirect_client_options",o.ld),Og(i,r,"/auth/"+t,o,e))},U.prototype.authWithOAuthRedirect=U.prototype.Yf,U.prototype.Zf=function(t,e,n,i){x("Firebase.authWithOAuthToken",3,4,arguments.length),$f("Firebase.authWithOAuthToken",1,t),A("Firebase.authWithOAuthToken",3,n,!1),ag("Firebase.authWithOAuthToken",4,i,!0),p(e)?($f("Firebase.authWithOAuthToken",2,e),Mg(this.k.P,t+"/token",{access_token:e},i,n)):(ag("Firebase.authWithOAuthToken",2,e,!1),Mg(this.k.P,t+"/token",e,i,n))},U.prototype.authWithOAuthToken=U.prototype.Zf,U.prototype.Vf=function(t,e){x("Firebase.authAnonymously",1,2,arguments.length),A("Firebase.authAnonymously",1,t,!1),ag("Firebase.authAnonymously",2,e,!0),Mg(this.k.P,"anonymous",{},e,t)},U.prototype.authAnonymously=U.prototype.Vf,U.prototype.$f=function(t,e,n){x("Firebase.authWithPassword",2,3,arguments.length),ag("Firebase.authWithPassword",1,t,!1),bg("Firebase.authWithPassword",t,"email"),bg("Firebase.authWithPassword",t,"password"),A("Firebase.authAnonymously",2,e,!1),ag("Firebase.authAnonymously",3,n,!0),Mg(this.k.P,"password",t,n,e)},U.prototype.authWithPassword=U.prototype.$f,U.prototype.re=function(t,e){x("Firebase.createUser",2,2,arguments.length),ag("Firebase.createUser",1,t,!1),bg("Firebase.createUser",t,"email"),bg("Firebase.createUser",t,"password"),A("Firebase.createUser",2,e,!1),this.k.P.re(t,e)},U.prototype.createUser=U.prototype.re,U.prototype.Se=function(t,e){x("Firebase.removeUser",2,2,arguments.length),ag("Firebase.removeUser",1,t,!1),bg("Firebase.removeUser",t,"email"),bg("Firebase.removeUser",t,"password"),A("Firebase.removeUser",2,e,!1),this.k.P.Se(t,e)},U.prototype.removeUser=U.prototype.Se,U.prototype.oe=function(t,e){x("Firebase.changePassword",2,2,arguments.length),ag("Firebase.changePassword",1,t,!1),bg("Firebase.changePassword",t,"email"),bg("Firebase.changePassword",t,"oldPassword"),bg("Firebase.changePassword",t,"newPassword"),A("Firebase.changePassword",2,e,!1),this.k.P.oe(t,e)},U.prototype.changePassword=U.prototype.oe,U.prototype.ne=function(t,e){x("Firebase.changeEmail",2,2,arguments.length),ag("Firebase.changeEmail",1,t,!1),bg("Firebase.changeEmail",t,"oldEmail"),bg("Firebase.changeEmail",t,"newEmail"),bg("Firebase.changeEmail",t,"password"),A("Firebase.changeEmail",2,e,!1),this.k.P.ne(t,e)},U.prototype.changeEmail=U.prototype.ne,U.prototype.Ue=function(t,e){x("Firebase.resetPassword",2,2,arguments.length),ag("Firebase.resetPassword",1,t,!1),bg("Firebase.resetPassword",t,"email"),A("Firebase.resetPassword",2,e,!1),this.k.P.Ue(t,e)},U.prototype.resetPassword=U.prototype.Ue,U.goOffline=function(){x("Firebase.goOffline",0,0,arguments.length),W.ub().yb()},U.goOnline=function(){x("Firebase.goOnline",0,0,arguments.length),W.ub().qc()},U.enableLogging=Nc,U.ServerValue={TIMESTAMP:{".sv":"timestamp"}},U.SDK_VERSION="2.2.4",U.INTERNAL=V,U.Context=W,U.TEST_ACCESS=Z}(),module.exports=Firebase;
},{}],30:[function(require,module,exports){
"use strict";module.exports=require("./lib/core.js"),require("./lib/done.js"),require("./lib/es6-extensions.js"),require("./lib/node-extensions.js");
},{"./lib/core.js":31,"./lib/done.js":32,"./lib/es6-extensions.js":33,"./lib/node-extensions.js":34}],31:[function(require,module,exports){
"use strict";function Promise(e){function n(e){return null===i?void c.push(e):void asap(function(){var n=i?e.onFulfilled:e.onRejected;if(null===n)return void(i?e.resolve:e.reject)(u);var t;try{t=n(u)}catch(o){return void e.reject(o)}e.resolve(t)})}function t(e){try{if(e===f)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if("function"==typeof n)return void doResolve(n.bind(e),t,o)}i=!0,u=e,r()}catch(c){o(c)}}function o(e){i=!1,u=e,r()}function r(){for(var e=0,t=c.length;t>e;e++)n(c[e]);c=null}if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");var i=null,u=null,c=[],f=this;this.then=function(e,t){return new f.constructor(function(o,r){n(new Handler(e,t,o,r))})},doResolve(e,t,o)}function Handler(e,n,t,o){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof n?n:null,this.resolve=t,this.reject=o}function doResolve(e,n,t){var o=!1;try{e(function(e){o||(o=!0,n(e))},function(e){o||(o=!0,t(e))})}catch(r){if(o)return;o=!0,t(r)}}var asap=require("asap");module.exports=Promise;
},{"asap":35}],32:[function(require,module,exports){
"use strict";var Promise=require("./core.js"),asap=require("asap");module.exports=Promise,Promise.prototype.done=function(){var e=arguments.length?this.then.apply(this,arguments):this;e.then(null,function(e){asap(function(){throw e})})};
},{"./core.js":31,"asap":35}],33:[function(require,module,exports){
"use strict";function ValuePromise(e){this.then=function(r){return"function"!=typeof r?this:new Promise(function(n,t){asap(function(){try{n(r(e))}catch(o){t(o)}})})}}var Promise=require("./core.js"),asap=require("asap");module.exports=Promise,ValuePromise.prototype=Promise.prototype;var TRUE=new ValuePromise(!0),FALSE=new ValuePromise(!1),NULL=new ValuePromise(null),UNDEFINED=new ValuePromise(void 0),ZERO=new ValuePromise(0),EMPTYSTRING=new ValuePromise("");Promise.resolve=function(e){if(e instanceof Promise)return e;if(null===e)return NULL;if(void 0===e)return UNDEFINED;if(e===!0)return TRUE;if(e===!1)return FALSE;if(0===e)return ZERO;if(""===e)return EMPTYSTRING;if("object"==typeof e||"function"==typeof e)try{var r=e.then;if("function"==typeof r)return new Promise(r.bind(e))}catch(n){return new Promise(function(e,r){r(n)})}return new ValuePromise(e)},Promise.all=function(e){var r=Array.prototype.slice.call(e);return new Promise(function(e,n){function t(i,u){try{if(u&&("object"==typeof u||"function"==typeof u)){var f=u.then;if("function"==typeof f)return void f.call(u,function(e){t(i,e)},n)}r[i]=u,0===--o&&e(r)}catch(c){n(c)}}if(0===r.length)return e([]);for(var o=r.length,i=0;i<r.length;i++)t(i,r[i])})},Promise.reject=function(e){return new Promise(function(r,n){n(e)})},Promise.race=function(e){return new Promise(function(r,n){e.forEach(function(e){Promise.resolve(e).then(r,n)})})},Promise.prototype["catch"]=function(e){return this.then(null,e)};
},{"./core.js":31,"asap":35}],34:[function(require,module,exports){
"use strict";var Promise=require("./core.js"),asap=require("asap");module.exports=Promise,Promise.denodeify=function(n,t){return t=t||1/0,function(){var e=this,o=Array.prototype.slice.call(arguments);return new Promise(function(r,i){for(;o.length&&o.length>t;)o.pop();o.push(function(n,t){n?i(n):r(t)});var u=n.apply(e,o);!u||"object"!=typeof u&&"function"!=typeof u||"function"!=typeof u.then||r(u)})}},Promise.nodeify=function(n){return function(){var t=Array.prototype.slice.call(arguments),e="function"==typeof t[t.length-1]?t.pop():null,o=this;try{return n.apply(this,arguments).nodeify(e,o)}catch(r){if(null===e||"undefined"==typeof e)return new Promise(function(n,t){t(r)});asap(function(){e.call(o,r)})}}},Promise.prototype.nodeify=function(n,t){return"function"!=typeof n?this:void this.then(function(e){asap(function(){n.call(t,null,e)})},function(e){asap(function(){n.call(t,e)})})};
},{"./core.js":31,"asap":35}],35:[function(require,module,exports){
(function (process){
function flush(){for(;head.next;){head=head.next;var e=head.task;head.task=void 0;var s=head.domain;s&&(head.domain=void 0,s.enter());try{e()}catch(n){if(isNodeJS)throw s&&s.exit(),setTimeout(flush,0),s&&s.enter(),n;setTimeout(function(){throw n},0)}s&&s.exit()}flushing=!1}function asap(e){tail=tail.next={task:e,domain:isNodeJS&&process.domain,next:null},flushing||(flushing=!0,requestFlush())}var head={task:void 0,next:null},tail=head,flushing=!1,requestFlush=void 0,isNodeJS=!1;if("undefined"!=typeof process&&process.nextTick)isNodeJS=!0,requestFlush=function(){process.nextTick(flush)};else if("function"==typeof setImmediate)requestFlush="undefined"!=typeof window?setImmediate.bind(window,flush):function(){setImmediate(flush)};else if("undefined"!=typeof MessageChannel){var channel=new MessageChannel;channel.port1.onmessage=flush,requestFlush=function(){channel.port2.postMessage(0)}}else requestFlush=function(){setTimeout(flush,0)};module.exports=asap;
}).call(this,require('_process'))

},{"_process":38}],36:[function(require,module,exports){
!function(t){function e(t){var e={val:t},n=t.split(/\s+in\s+/);return n[1]&&(e.val=M(0)+n[1],n=n[0].slice(M(0).length).trim().split(/,\s*/),e.key=n[0],e.pos=n[1]),e}function n(t,e,n){var i={};return i[t.key]=e,t.pos&&(i[t.pos]=n),i}function i(t,i,r){function o(t,e,n){d.splice(t,0,e),g.splice(t,0,n)}l(t,"each");var a,f=t.outerHTML,c=t.previousSibling,p=t.parentNode,d=[],g=[];r=e(r),i.one("update",function(){p.removeChild(t)}).one("premount",function(){p.stub&&(p=i.root)}).on("update",function(){var t=_(r.val,i);if(t){if(!Array.isArray(t)){var e=JSON.stringify(t);if(e==a)return;a=e,s(g,function(t){t.unmount()}),d=[],g=[],t=Object.keys(t).map(function(e){return n(r,e,t[e])})}s(d,function(e){if(e instanceof Object){if(t.indexOf(e)>-1)return}else{var n=w(t,e),i=w(d,e);if(n.length>=i.length)return}var r=d.indexOf(e),o=g[r];return o?(o.unmount(),d.splice(r,1),g.splice(r,1),!1):void 0});var l=[].indexOf.call(p.childNodes,c)+1;s(t,function(e,c){var s=t.indexOf(e,c),v=d.indexOf(e,c);if(0>s&&(s=t.lastIndexOf(e,c)),0>v&&(v=d.lastIndexOf(e,c)),!(e instanceof Object)){var m=w(t,e),h=w(d,e);m.length>h.length&&(v=-1)}var b=p.childNodes;if(0>v){if(!a&&r.key)var y=n(r,e,s);var C=new u({tmpl:f},{before:b[l+s],parent:i,root:p,item:y||e});return C.mount(),o(s,e,C),!0}return r.pos&&g[v][r.pos]!=s&&(g[v].one("update",function(t){t[r.pos]=s}),g[v].update()),s!=v?(p.insertBefore(b[l+v],b[l+(s>v?s+1:s)]),o(s,d.splice(v,1)[0],g.splice(v,1)[0])):void 0}),d=t.slice()}}).one("updated",function(){b(p,function(t){s(t.attributes,function(e){/^(name|id)$/.test(e.name)&&(i[e.value]=t)})})})}function r(t,e,n){b(t,function(t){if(1==t.nodeType){t.isLoop=0,t.parentNode&&t.parentNode.isLoop&&(t.isLoop=1),t.getAttribute("each")&&(t.isLoop=1);var i=A(t);if(i&&!t.isLoop){for(var r,o=new u(i,{root:t,parent:e},t.innerHTML),a=t.getAttribute("name"),f=a&&a.indexOf(M(0))<0?a:i.name,c=e;!A(c.root)&&c.parent;)c=c.parent;o.parent=c,r=c.tags[f],r?(Array.isArray(r)||(c.tags[f]=[r]),c.tags[f].push(o)):c.tags[f]=o,t.innerHTML="",n.push(o)}t.isLoop||s(t.attributes,function(n){/^(name|id)$/.test(n.name)&&(e[n.value]=t)})}})}function o(t,e,n){function r(t,e,i){if(e.indexOf(M(0))>=0){var r={dom:t,expr:e};n.push(d(r,i))}}b(t,function(t){var n=t.nodeType;if(3==n&&"STYLE"!=t.parentNode.tagName&&r(t,t.nodeValue),1==n){var o=t.getAttribute("each");return o?(i(t,e,o),!1):(s(t.attributes,function(e){var n=e.name,i=n.split("__")[1];return r(t,e.value,{attr:i||n,bool:i}),i?(l(t,n),!1):void 0}),A(t)?!1:void 0)}})}function u(t,e,n){function i(){s(Object.keys(T),function(t){l[t]=_(T[t],v||f)})}function u(t){if(s(b,function(e){e[t?"mount":"unmount"]()}),v){var e=t?"on":"off";v[e]("update",f.update)[e]("unmount",f.unmount)}}var a,f=N.observable(this),l=L(e.opts)||{},g=h(t.tmpl),v=e.parent,m=[],b=[],y=e.root,x=e.item,w=t.fn,A=y.tagName.toLowerCase(),T={},O=/([\w\-]+)\s?=\s?['"]([^'"]+)["']/gim;if(w&&y._tag&&y._tag.unmount(!0),t.attrs){var E=t.attrs.match(O);s(E,function(t){var e=t.split(/\s?=\s?/);y.setAttribute(e[0],e[1].replace(/['"]/g,""))})}y._tag=this,this._id=p(~~((new Date).getTime()*Math.random())),d(this,{parent:v,root:y,opts:l,tags:{}},x),s(y.attributes,function(t){T[t.name]=t.value}),!g.innerHTML||/select/.test(A)||/tbody/.test(A)||/tr/.test(A)||(g.innerHTML=C(g.innerHTML,n)),this.update=function(t){d(f,t,x),i(),f.trigger("update",x),c(m,f,x),f.trigger("updated")},this.mixin=function(){s(arguments,function(t){t="string"==typeof t?N.mixin(t):t,s(Object.keys(t),function(e){"init"!=e&&(f[e]="function"==typeof t[e]?t[e].bind(f):t[e])}),t.init&&t.init.bind(f)()})},this.mount=function(){if(i(),w&&w.call(f,l),u(!0),o(g,f,m),f.parent||f.update(),f.trigger("premount"),w)for(;g.firstChild;)y.appendChild(g.firstChild);else a=g.firstChild,y.insertBefore(a,e.before||null);y.stub&&(f.root=y=v.root),f.parent?f.parent.one("mount",function(){f.trigger("mount")}):f.trigger("mount")},this.unmount=function(t){var e=w?y:a,n=e.parentNode;if(n){if(v)Array.isArray(v.tags[A])?s(v.tags[A],function(t,e){t._id==f._id&&v.tags[A].splice(e,1)}):v.tags[A]=void 0;else for(;e.firstChild;)e.removeChild(e.firstChild);t||n.removeChild(e)}f.trigger("unmount"),u(),f.off("*"),y._tag=null},r(g,this,b)}function a(e,n,i,r,o){i[e]=function(e){if(e=e||t.event,e.which=e.which||e.charCode||e.keyCode,e.target=e.target||e.srcElement,e.currentTarget=i,e.item=o,n.call(r,e)===!0||/radio|check/.test(i.type)||(e.preventDefault&&e.preventDefault(),e.returnValue=!1),!e.preventUpdate){var u=o?r.parent:r;u.update()}}}function f(t,e,n){t&&(t.insertBefore(n,e),t.removeChild(e))}function c(t,e,n){s(t,function(t){var i=t.dom,r=t.attr,o=_(t.expr,e),u=t.dom.parentNode;if(null==o&&(o=""),u&&"TEXTAREA"==u.tagName&&(o=o.replace(/riot-/g,"")),t.value!==o){if(t.value=o,!r)return i.nodeValue=o.toString();if(l(i,r),"function"==typeof o)a(r,o,i,e,n);else if("if"==r){var c=t.stub;o?c&&f(c.parentNode,c,i):(c=t.stub=c||document.createTextNode(""),f(i.parentNode,i,c))}else if(/^(show|hide)$/.test(r))"hide"==r&&(o=!o),i.style.display=o?"":"none";else if("value"==r)i.value=o;else if("riot-"==r.slice(0,5))r=r.slice(5),o?i.setAttribute(r,o):l(i,r);else{if(t.bool){if(i[r]=o,!o)return;o=r}"object"!=typeof o&&i.setAttribute(r,o)}}})}function s(t,e){for(var n,i=0,r=(t||[]).length;r>i;i++)n=t[i],null!=n&&e(n,i)===!1&&i--;return t}function l(t,e){t.removeAttribute(e)}function p(t){return(t^t>>31)-(t>>31)}function d(t,e,n){return e&&s(Object.keys(e),function(n){t[n]=e[n]}),n?d(t,n):t}function g(){if(t){var e=navigator.userAgent,n=e.indexOf("MSIE ");return n>0?parseInt(e.substring(n+5,e.indexOf(".",n)),10):0}}function v(t,e){var n=document.createElement("option"),i=/value=[\"'](.+?)[\"']/,r=/selected=[\"'](.+?)[\"']/,o=e.match(i),u=e.match(r);n.innerHTML=e,o&&(n.value=o[1]),u&&n.setAttribute("riot-selected",u[1]),t.appendChild(n)}function m(t,e,n){var i=document.createElement("div");i.innerHTML="<table>"+e+"</table>",t.appendChild(/td|th/.test(n)?i.firstChild.firstChild.firstChild.firstChild:i.firstChild.firstChild.firstChild)}function h(t){var e=t.trim().slice(1,3).toLowerCase(),n=/td|th/.test(e)?"tr":"tr"==e?"tbody":"div",i=y(n);return i.stub=!0,"op"===e&&H&&10>H?v(i,t):("tbody"===n||"tr"===n)&&H&&10>H?m(i,t,e):i.innerHTML=t,i}function b(t,e){if(t)if(e(t)===!1)b(t.nextSibling,e);else for(t=t.firstChild;t;)b(t,e),t=t.nextSibling}function y(t){return document.createElement(t)}function C(t,e){return t.replace(/<(yield)\/?>(<\/\1>)?/gim,e||"")}function x(t,e){return e=e||document,e.querySelectorAll(t)}function w(t,e){return t.filter(function(t){return t===e})}function L(t){function e(){}return e.prototype=t,new e}function g(){if(t){var e=navigator.userAgent,n=e.indexOf("MSIE ");return n>0?parseInt(e.substring(n+5,e.indexOf(".",n)),10):0}}function m(t,e,n){var i,r=y("div"),o=/td|th/.test(n)?3:2;for(r.innerHTML="<table>"+e+"</table>",i=r.firstChild;o--;)i=i.firstChild;t.appendChild(i)}function v(t,e){var n=y("option"),i=/value=[\"'](.+?)[\"']/,r=/selected=[\"'](.+?)[\"']/,o=e.match(i),u=e.match(r);n.innerHTML=e,o&&(n.value=o[1]),u&&n.setAttribute("riot-selected",u[1]),t.appendChild(n)}function A(t){return S[t.getAttribute("riot-tag")||t.tagName.toLowerCase()]}function T(t){E=E||y("style"),document.head&&(E.styleSheet?E.styleSheet.cssText+=t:E.innerHTML+=t,E._rendered||(E.styleSheet?document.body.appendChild(E):document.head.appendChild(E)),E._rendered=!0)}function O(t,e,n){var i=S[e],r=t.innerHTML;return t.innerHTML="",i&&t&&(i=new u(i,{root:t,opts:n},r)),i&&i.mount?(i.mount(),j.push(i),i.on("unmount",function(){j.splice(j.indexOf(i),1)})):void 0}var N={version:"v2.1.0",settings:{}};N.observable=function(t){t=t||{};var e={},n=0;return t.on=function(i,r){return"function"==typeof r&&(r._id="undefined"==typeof r._id?n++:r._id,i.replace(/\S+/g,function(t,n){(e[t]=e[t]||[]).push(r),r.typed=n>0})),t},t.off=function(n,i){return"*"==n?e={}:n.replace(/\S+/g,function(t){if(i)for(var n,r=e[t],o=0;n=r&&r[o];++o)n._id==i._id&&(r.splice(o,1),o--);else e[t]=[]}),t},t.one=function(e,n){function i(){t.off(e,i),n.apply(t,arguments)}return t.on(e,i)},t.trigger=function(n){for(var i,r=[].slice.call(arguments,1),o=e[n]||[],u=0;i=o[u];++u)i.busy||(i.busy=1,i.apply(t,i.typed?[n].concat(r):r),o[u]!==i&&u--,i.busy=0);return e.all&&"all"!=n&&t.trigger.apply(t,["all",n].concat(r)),t},t},N.mixin=function(){var t={};return function(e,n){return n?void(t[e]=n):t[e]}}(),function(t,e,n){function i(){return a.href.split("#")[1]||""}function r(t){return t.split("/")}function o(t){t.type&&(t=i()),t!=u&&(f.trigger.apply(null,["H"].concat(r(t))),u=t)}if(n){var u,a=n.location,f=t.observable(),c=n,s=!1,l=t.route=function(t){t[0]?(a.hash=t,o(t)):f.on("H",t)};l.exec=function(t){t.apply(null,r(i()))},l.parser=function(t){r=t},l.stop=function(){s&&(c.removeEventListener?c.removeEventListener(e,o,!1):c.detachEvent("on"+e,o),f.off("*"),s=!1)},l.start=function(){s||(c.addEventListener?c.addEventListener(e,o,!1):c.attachEvent("on"+e,o),s=!0)},l.start()}}(N,"hashchange",t);var E,M=function(t,e,n){return function(i){return e=N.settings.brackets||t,n!=e&&(n=e.split(" ")),i&&i.test?e==t?i:RegExp(i.source.replace(/\{/g,n[0].replace(/(?=.)/g,"\\")).replace(/\}/g,n[1].replace(/(?=.)/g,"\\")),i.global?"g":""):n[i]}}("{ }"),_=function(){function e(t,e){return t=(t||M(0)+M(1)).replace(M(/\\{/g),"￰").replace(M(/\\}/g),"￱"),e=r(t,o(t,M(/{/),M(/}/))),new Function("d","return "+(e[0]||e[2]||e[3]?"["+e.map(function(t,e){return e%2?n(t,!0):'"'+t.replace(/\n/g,"\\n").replace(/"/g,'\\"')+'"'}).join(",")+'].join("")':n(e[1])).replace(/\uFFF0/g,M(0)).replace(/\uFFF1/g,M(1))+";")}function n(t,e){return t=t.replace(/\n/g," ").replace(M(/^[{ ]+|[ }]+$|\/\*.+?\*\//g),""),/^\s*[\w- "']+ *:/.test(t)?"["+o(t,/["' ]*[\w- ]+["' ]*:/,/,(?=["' ]*[\w- ]+["' ]*:)|}|$/).map(function(t){return t.replace(/^[ "']*(.+?)[ "']*: *(.+?),? *$/,function(t,e,n){return n.replace(/[^&|=!><]+/g,i)+'?"'+e+'":"",'})}).join("")+'].join(" ").trim()':i(t,e)}function i(e,n){return e=e.trim(),e?"(function(v){try{v="+(e.replace(a,function(e,n,i){return i?"(d."+i+"===undefined?"+("undefined"==typeof t?"global.":"window.")+i+":d."+i+")":e})||"x")+"}catch(e){}finally{return "+(n===!0?'!v&&v!==0?"":v':"v")+"}}).call(d)":""}function r(t,e){var n=[];return e.map(function(e,i){i=t.indexOf(e),n.push(t.slice(0,i),e),t=t.slice(i+e.length)}),n.concat(t)}function o(t,e,n){var i,r=0,o=[],u=new RegExp("("+e.source+")|("+n.source+")","g");return t.replace(u,function(e,n,u,a){!r&&n&&(i=a),r+=n?1:-1,r||null==u||o.push(t.slice(i,a+u.length))}),o}var u={},a=/(['"\/]).*?[^\\]\1|\.\w*|\w*:|\b(?:(?:new|typeof|in|instanceof) |(?:this|true|false|null|undefined)\b|function *\()|([a-z_$]\w*)/gi;return function(t,n){return t&&(u[t]=u[t]||e(t))(n)}}(),H=g(),j=[],S={};N.tag=function(t,e,n,i,r){return"function"==typeof i&&(r=i,/^[\w\-]+\s?=/.test(n)?(i=n,n=""):i=""),"function"==typeof n?r=n:n&&T(n),S[t]={name:t,tmpl:e,attrs:i,fn:r},t},N.mount=function(t,e,n){function i(t){e&&!t.getAttribute("riot-tag")&&t.setAttribute("riot-tag",e);var i=e||t.getAttribute("riot-tag")||t.tagName.toLowerCase(),r=O(t,i,n);r&&a.push(r)}var r,o,u=function(){var t=Object.keys(S),e=t.join(", ");return s(t,function(t){e+=', *[riot-tag="'+t.trim()+'"]'}),e},a=[];if("object"==typeof e&&(n=e,e=0),"string"==typeof t?("*"==t?t=o=u():t.split(",").map(function(e){t+=', *[riot-tag="'+e.trim()+'"]'}),r=x(t)):r=t,"*"==e){if(e=o||u(),r.tagName)r=x(e,r);else{var f=[];s(r,function(t){f=x(e,t)}),r=f}e=0}return r.tagName?i(t):s(r,i),a},N.update=function(){return s(j,function(t){t.update()})},N.mountTo=N.mount,N.util={brackets:M,tmpl:_},"object"==typeof exports?module.exports=N:"function"==typeof define&&define.amd?define(function(){return N}):t.riot=N}("undefined"!=typeof window?window:void 0);
},{}],37:[function(require,module,exports){
var RiotControl={_stores:[],addStore:function(o){this._stores.push(o)}};["on","one","off","trigger"].forEach(function(o){RiotControl[o]=function(){var t=[].slice.call(arguments);this._stores.forEach(function(n){n[o].apply(null,t)})}}),"undefined"!=typeof module&&(module.exports=RiotControl);
},{}],38:[function(require,module,exports){
function drainQueue(){if(!draining){draining=!0;for(var e,o=queue.length;o;){e=queue,queue=[];for(var r=-1;++r<o;)e[r]();o=queue.length}draining=!1}}function noop(){}var process=module.exports={},queue=[],draining=!1;process.nextTick=function(e){queue.push(e),draining||setTimeout(drainQueue,0)},process.title="browser",process.browser=!0,process.env={},process.argv=[],process.version="",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.binding=function(){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(){throw new Error("process.chdir is not supported")},process.umask=function(){return 0};
},{}]},{},[1])
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy93YXRjaGlmeS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYnJvd3Nlci1wYWNrL19wcmVsdWRlLmpzIiwianMvYXBwLmpzIiwianMvc3RvcmVzL2F1dGguanMiLCJqcy9zdG9yZXMvbmF2aWdhdGlvbi5qcyIsImpzL3N0b3Jlcy9wcm9maWxlL21lbWJlcnNoaXBzLmpzIiwianMvc3RvcmVzL3Byb2ZpbGUvb3duZXJzaGlwcy5qcyIsImpzL3RhZ3MvYWxlcnQudGFnIiwianMvdGFncy9hdXRoL19hdXRoLnRhZyIsImpzL3RhZ3MvYXV0aC9sb2dpbi50YWciLCJqcy90YWdzL2F1dGgvcmVnaXN0ZXIudGFnIiwianMvdGFncy9jcmVhdGUvX2NyZWF0ZS50YWciLCJqcy90YWdzL2NyZWF0ZS9tYXAudGFnIiwianMvdGFncy9saXN0LnRhZyIsImpzL3RhZ3MvbmF2aWdhdGlvbi50YWciLCJqcy90YWdzL3Byb2ZpbGUvX3Byb2ZpbGUudGFnIiwianMvdGFncy9wcm9maWxlL21lbWJlcnNoaXBzLnRhZyIsImpzL3RhZ3MvcHJvZmlsZS9vd25lcnNoaXBzLnRhZyIsImpzL3RhZ3MvcHJvZmlsZS91c2VyLnRhZyIsImpzL3RhZ3MvcHJvZmlsZS92ZXJpZnkudGFnIiwianMvdGFncy9wcm9qZWN0L19wcm9qZWN0LnRhZyIsImpzL3RhZ3MvcHJvamVjdC9tZW1iZXJzL2FjdGl2ZS50YWciLCJqcy90YWdzL3NlYXJjaC9fc2VhcmNoLnRhZyIsImpzL3RhZ3Mvc2VhcmNoL2pvaW4udGFnIiwianMvdXRpbHMuanMiLCJub2RlX21vZHVsZXMvZmlyZWJhc2UvbGliL2ZpcmViYXNlLXdlYi5qcyIsIm5vZGVfbW9kdWxlcy9wcm9taXNlL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL3Byb21pc2UvbGliL2NvcmUuanMiLCJub2RlX21vZHVsZXMvcHJvbWlzZS9saWIvZG9uZS5qcyIsIm5vZGVfbW9kdWxlcy9wcm9taXNlL2xpYi9lczYtZXh0ZW5zaW9ucy5qcyIsIm5vZGVfbW9kdWxlcy9wcm9taXNlL2xpYi9ub2RlLWV4dGVuc2lvbnMuanMiLCJub2RlX21vZHVsZXMvcHJvbWlzZS9ub2RlX21vZHVsZXMvYXNhcC9hc2FwLmpzIiwibm9kZV9tb2R1bGVzL3Jpb3QvcmlvdC5qcyIsIm5vZGVfbW9kdWxlcy9yaW90Y29udHJvbC9yaW90Y29udHJvbC5qcyIsIm5vZGVfbW9kdWxlcy93YXRjaGlmeS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvcHJvY2Vzcy9icm93c2VyLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FDQUE7O0FDQUE7O0FDQUE7O0FDQUE7O0FDQUE7O0FDQUE7O0FDQUE7O0FDQUE7O0FDQUE7O0FDQUE7O0FDQUE7O0FDQUE7O0FDQUE7O0FDQUE7O0FDQUE7O0FDQUE7O0FDQUE7O0FDQUE7O0FDQUE7O0FDQUE7Ozs7Ozs7Ozs7OztBQ0FBOztBQ0FBOztBQ0FBOztBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDUEE7O0FDQUE7O0FDQUE7O0FDQUE7O0FDQUE7OztBQ0FBOzs7O0FDQUE7O0FDQUE7O0FDQUEiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwiZnVuY3Rpb24gdmFsaWRhdGVSb3V0ZShlLHIsdCl7dmFyIGk9e2xvZ2luOnthdXRoUmVxdWlyZWQ6ITF9LHJlZ2lzdGVyOnthdXRoUmVxdWlyZWQ6ITF9LHByb2ZpbGU6e2F1dGhSZXF1aXJlZDohMH0sZmluZDp7YXV0aFJlcXVpcmVkOiEwfSxjcmVhdGU6e2F1dGhSZXF1aXJlZDohMH0scHJvamVjdDp7YXV0aFJlcXVpcmVkOiEwfX0sYT1yZWYuZ2V0QXV0aCgpfHxudWxsOyFlfHxpW2VdJiZpW2VdLmF1dGhSZXF1aXJlZCYmIWE/cmlvdGNvbnRyb2wudHJpZ2dlcihcImxvZ291dFwiKTppW2VdPyhyaW90Y29udHJvbC50cmlnZ2VyKFwicm91dGVcIixlLHIsdCksIWlbZV0uYXV0aFJlcXVpcmVkJiZhJiZyaW90Y29udHJvbC50cmlnZ2VyKFwibG9nb3V0XCIsZSkpOihyaW90Y29udHJvbC50cmlnZ2VyKFwiYWxlcnRcIix7dGV4dDpcIjQwNCAtIFJvdXRlIG5vdCBmb3VuZC5cIix0eXBlOlwid2FybmluZ1wifSkscmlvdGNvbnRyb2wudHJpZ2dlcihcInJvdXRlXCIsbnVsbCkpfXZhciByaW90PXJlcXVpcmUoXCJyaW90XCIpLHJpb3Rjb250cm9sPXJlcXVpcmUoXCJyaW90Y29udHJvbFwiKSxmaXJlYmFzZT1yZXF1aXJlKFwiZmlyZWJhc2VcIikscmVmPW5ldyBmaXJlYmFzZShcImh0dHBzOi8vYmx1ZWJpcmQuZmlyZWJhc2Vpby5jb20vXCIpLGF1dGg9cmVxdWlyZShcIi4vc3RvcmVzL2F1dGhcIiksbmF2aWdhdGlvbj1yZXF1aXJlKFwiLi9zdG9yZXMvbmF2aWdhdGlvblwiKSxvd25lcnNoaXBzPXJlcXVpcmUoXCIuL3N0b3Jlcy9wcm9maWxlL293bmVyc2hpcHNcIiksbWVtYmVyc2hpcHM9cmVxdWlyZShcIi4vc3RvcmVzL3Byb2ZpbGUvbWVtYmVyc2hpcHNcIik7cmlvdGNvbnRyb2wuYWRkU3RvcmUobmV3IGF1dGgpLHJpb3Rjb250cm9sLmFkZFN0b3JlKG5ldyBuYXZpZ2F0aW9uKSxyaW90Y29udHJvbC5hZGRTdG9yZShuZXcgb3duZXJzaGlwcykscmlvdGNvbnRyb2wuYWRkU3RvcmUobmV3IG1lbWJlcnNoaXBzKSxyZXF1aXJlKFwiLi90YWdzL25hdmlnYXRpb24udGFnXCIpLHJlcXVpcmUoXCIuL3RhZ3MvbGlzdC50YWdcIikscmVxdWlyZShcIi4vdGFncy9hbGVydC50YWdcIikscmVxdWlyZShcIi4vdGFncy9hdXRoL19hdXRoLnRhZ1wiKSxyZXF1aXJlKFwiLi90YWdzL2F1dGgvbG9naW4udGFnXCIpLHJlcXVpcmUoXCIuL3RhZ3MvYXV0aC9yZWdpc3Rlci50YWdcIikscmVxdWlyZShcIi4vdGFncy9jcmVhdGUvX2NyZWF0ZS50YWdcIikscmVxdWlyZShcIi4vdGFncy9jcmVhdGUvbWFwLnRhZ1wiKSxyZXF1aXJlKFwiLi90YWdzL3Byb2ZpbGUvX3Byb2ZpbGUudGFnXCIpLHJlcXVpcmUoXCIuL3RhZ3MvcHJvZmlsZS9tZW1iZXJzaGlwcy50YWdcIikscmVxdWlyZShcIi4vdGFncy9wcm9maWxlL293bmVyc2hpcHMudGFnXCIpLHJlcXVpcmUoXCIuL3RhZ3MvcHJvZmlsZS91c2VyLnRhZ1wiKSxyZXF1aXJlKFwiLi90YWdzL3Byb2ZpbGUvdmVyaWZ5LnRhZ1wiKSxyZXF1aXJlKFwiLi90YWdzL3Byb2plY3QvX3Byb2plY3QudGFnXCIpLHJlcXVpcmUoXCIuL3RhZ3MvcHJvamVjdC9uZXdfcmluZy50YWdcIikscmVxdWlyZShcIi4vdGFncy9wcm9qZWN0L29sZF9yaW5nLnRhZ1wiKSxyZXF1aXJlKFwiLi90YWdzL3Byb2plY3QvcmluZ3MudGFnXCIpLHJlcXVpcmUoXCIuL3RhZ3MvcHJvamVjdC9tZW1iZXJzL2FjdGl2ZS50YWdcIikscmVxdWlyZShcIi4vdGFncy9wcm9qZWN0L21lbWJlcnMvcGFzc2l2ZS50YWdcIikscmVxdWlyZShcIi4vdGFncy9wcm9qZWN0L21lbWJlcnMvcGVuZGluZy50YWdcIikscmVxdWlyZShcIi4vdGFncy9zZWFyY2gvX3NlYXJjaC50YWdcIikscmVxdWlyZShcIi4vdGFncy9zZWFyY2gvam9pbi50YWdcIikscmlvdC5tb3VudChcIipcIikscmlvdC5yb3V0ZShmdW5jdGlvbihlLHIsdCl7dmFsaWRhdGVSb3V0ZShlLHIsdCl9KSxyaW90LnJvdXRlLmV4ZWMoZnVuY3Rpb24oZSxyLHQpe3ZhbGlkYXRlUm91dGUoZSxyLHQpfSk7IiwidmFyIHJpb3Q9cmVxdWlyZShcInJpb3RcIiksdXRpbHM9cmVxdWlyZShcIi4uL3V0aWxzXCIpLHByb21pc2U9cmVxdWlyZShcInByb21pc2VcIiksZmlyZWJhc2U9cmVxdWlyZShcImZpcmViYXNlXCIpO21vZHVsZS5leHBvcnRzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXtyZXR1cm4gbmV3IHByb21pc2UoZnVuY3Rpb24ocix0KXtvLmF1dGhXaXRoUGFzc3dvcmQoZSxmdW5jdGlvbihlLGkpe2UmJnQoZSksaSYmcihpKX0pfSl9ZnVuY3Rpb24gcihlLHIpe2UudGhlbihmdW5jdGlvbihlKXt0KGUpLGkudHJpZ2dlcihcImFsZXJ0XCIsbnVsbCkscmlvdC5yb3V0ZShyKX0sZnVuY3Rpb24oZSl7aS50cmlnZ2VyKFwiYWxlcnRcIix7dGV4dDplLm1lc3NhZ2UsdHlwZTpcImRhbmdlclwifSl9KX1mdW5jdGlvbiB0KGUpe2NvbnNvbGUubG9nKFwiQXV0aCBwcm92aWRlcjpcIixlLnByb3ZpZGVyKTt2YXIgcj11dGlscy5nZXRMb2NhbFVzZXIoKSx0PVwicGFzc3dvcmRcIj09ZS5wcm92aWRlcj9lLnBhc3N3b3JkLmVtYWlsOlwiXCI7ci5lbWFpbCYmci5lbWFpbCE9PXQmJnV0aWxzLnNldExvY2FsVXNlcih7ZW1haWw6dCxuYW1lOlwiXCJ9KX1yaW90Lm9ic2VydmFibGUodGhpcyk7e3ZhciBpPXRoaXMsbz1uZXcgZmlyZWJhc2UoXCJodHRwczovL2JsdWViaXJkLmZpcmViYXNlaW8uY29tL1wiKTtvLmNoaWxkKFwidXNlclwiKX1pLm9uKFwiYXV0aFwiLGZ1bmN0aW9uKCl7dmFyIGU9by5nZXRBdXRoKCk/by5nZXRBdXRoKCkudWlkOm51bGw7aS50cmlnZ2VyKFwiYXV0aF91cGRhdGVcIixlKX0pLGkub24oXCJsb2dpblwiLGZ1bmN0aW9uKHQpe3ZhciBpPWUodCk7cihpLFwicHJvZmlsZVwiKX0pLGkub24oXCJsb2dvdXRcIixmdW5jdGlvbihlKXtjb25zb2xlLmxvZyhcInVzZXI6XCIsby5nZXRBdXRoKCksXCJsYXN0IGxvZ2dlZCBpbjpcIixuZXcgRGF0ZSksby51bmF1dGgoKSxpLnRyaWdnZXIoXCJhbGVydFwiLG51bGwpLGkudHJpZ2dlcihcImF1dGhfdXBkYXRlXCIsbnVsbCkscmlvdC5yb3V0ZShlP2U6XCJsb2dpblwiKX0pLGkub24oXCJyZWdpc3RlclwiLGZ1bmN0aW9uKGUscil7Y29uc29sZS5sb2coZSxyKX0pfTsiLCJ2YXIgcmlvdD1yZXF1aXJlKFwicmlvdFwiKTttb2R1bGUuZXhwb3J0cz1mdW5jdGlvbigpe3Jpb3Qub2JzZXJ2YWJsZSh0aGlzKTt2YXIgcj10aGlzO3Iub24oXCJyb3V0ZVwiLGZ1bmN0aW9uKG8sdCxlKXtyLnRyaWdnZXIoXCJyb3V0ZV9jaGFuZ2VkXCIsbyx0LGUpfSl9OyIsInZhciByaW90PXJlcXVpcmUoXCJyaW90XCIpLGZpcmViYXNlPXJlcXVpcmUoXCJmaXJlYmFzZVwiKTttb2R1bGUuZXhwb3J0cz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXtyPW8uZ2V0QXV0aCgpLnVpZCx0PVtdLG8uY2hpbGQoXCJ1c2VyL1wiK3IrXCIvcHJvamVjdC9tZW1iZXJcIikub25jZShcInZhbHVlXCIsZnVuY3Rpb24oZSl7cmV0dXJuIGUudmFsKCk/dm9pZCBlLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHI9ZS5rZXkoKTtvLmNoaWxkKFwicHJvamVjdC9cIityKS5vbmNlKFwidmFsdWVcIixmdW5jdGlvbihlKXt2YXIgbz1lLnZhbCgpO3QucHVzaCh7cGlkOnIsdGl0bGU6by50aXRsZSxzaXRlOm8uc2l0ZSxvd25lck5hbWU6XCJZb3VcIixkYXRlU3RhcnQ6by5kYXRlU3RhcnQsZGF0ZUVuZDpvLmRhdGVFbmR9KSxpLnRyaWdnZXIoXCJtZW1iZXJzaGlwc1wiLHQpfSl9KTp2b2lkIGkudHJpZ2dlcihcIm1lbWJlcnNoaXBzXCIsdCl9KX1yaW90Lm9ic2VydmFibGUodGhpcyk7dmFyIHIsdCxpPXRoaXMsbz1uZXcgZmlyZWJhc2UoXCJodHRwczovL2JsdWViaXJkLmZpcmViYXNlaW8uY29tL1wiKTtpLm9uKFwibGlzdF9tZW1iZXJzaGlwc1wiLGUpfTsiLCJ2YXIgcmlvdD1yZXF1aXJlKFwicmlvdFwiKSxmaXJlYmFzZT1yZXF1aXJlKFwiZmlyZWJhc2VcIik7bW9kdWxlLmV4cG9ydHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dD1vLmdldEF1dGgoKS51aWQsaT1bXSxvLmNoaWxkKFwidXNlci9cIit0K1wiL3Byb2plY3Qvb3duXCIpLm9uY2UoXCJ2YWx1ZVwiLGZ1bmN0aW9uKGUpe3JldHVybiBlLnZhbCgpP3ZvaWQgZS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciB0PWUua2V5KCk7by5jaGlsZChcInByb2plY3QvXCIrdCkub25jZShcInZhbHVlXCIsZnVuY3Rpb24oZSl7dmFyIG89ZS52YWwoKTtpLnB1c2goe3BpZDp0LHRpdGxlOm8udGl0bGUsc2l0ZTpvLnNpdGUsb3duZXJOYW1lOlwiWW91XCIsZGF0ZVN0YXJ0Om8uZGF0ZVN0YXJ0LGRhdGVFbmQ6by5kYXRlRW5kfSksci50cmlnZ2VyKFwib3duZXJzaGlwc1wiLGkpfSl9KTp2b2lkIHIudHJpZ2dlcihcIm93bmVyc2hpcHNcIixpKX0pfXJpb3Qub2JzZXJ2YWJsZSh0aGlzKTt2YXIgdCxpLHI9dGhpcyxvPW5ldyBmaXJlYmFzZShcImh0dHBzOi8vYmx1ZWJpcmQuZmlyZWJhc2Vpby5jb20vXCIpO3Iub24oXCJsaXN0X293bmVyc2hpcHNcIixlKX07IiwidmFyIHJpb3Q9cmVxdWlyZShcInJpb3RcIik7cmlvdC50YWcoXCJhbGVydFwiLCc8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtLXsgYWxlcnQudHlwZSB9XCIgaWY9XCJ7IGFsZXJ0LnRleHQgfVwiPiA8cCBjbGFzcz1cImFsZXJ0X190ZXh0XCI+eyBhbGVydC50ZXh0IH0gPGJ1dHRvbiBjbGFzcz1cImFsZXJ0X19jbG9zZVwiIG9uY2xpY2s9XCJ7IGNsb3NlIH1cIj5DbG9zZTwvYnV0dG9uPjwvcD4gPC9kaXY+JyxmdW5jdGlvbigpe3ZhciB0PXJlcXVpcmUoXCJyaW90Y29udHJvbFwiKSxlPXRoaXM7ZS5hbGVydD17fSx0aGlzLmNsb3NlPWZ1bmN0aW9uKCl7ZS5hbGVydD17fX0uYmluZCh0aGlzKSx0Lm9uKFwiYWxlcnRcIixmdW5jdGlvbih0KXtlLnVwZGF0ZSh7YWxlcnQ6dH0pfSl9KTsiLCJ2YXIgcmlvdD1yZXF1aXJlKFwicmlvdFwiKTtyaW90LnRhZyhcImF1dGhcIiwnPGxvZ2luIGlmPVwieyBsb2dpbiB9XCI+PC9sb2dpbj4gPHJlZ2lzdGVyIGlmPVwieyByZWdpc3RlciB9XCI+PC9yZWdpc3Rlcj4nLGZ1bmN0aW9uKCl7dmFyIHI9cmVxdWlyZShcInJpb3Rjb250cm9sXCIpLGk9dGhpcztyLm9uKFwicm91dGVfY2hhbmdlZFwiLGZ1bmN0aW9uKHIpe2kudXBkYXRlKHtsb2dpbjpcImxvZ2luXCI9PXIscmVnaXN0ZXI6XCJyZWdpc3RlclwiPT1yfSl9KX0pOyIsInZhciByaW90PXJlcXVpcmUoXCJyaW90XCIpO3Jpb3QudGFnKFwibG9naW5cIiwnPGgyPkxvZ2luPC9oMj4gPGZvcm0gbmFtZT1cImZybUxvZ2luXCIgb25zdWJtaXQ9XCJ7IGxvZ2luIH1cIj4gPGxhYmVsPkVtYWlsPC9sYWJlbD48YnI+IDxpbnB1dCB0eXBlPVwiZW1haWxcIiBuYW1lPVwiZW1haWxcIj48YnI+IDxsYWJlbD5QYXNzd29yZDwvbGFiZWw+PGJyPiA8aW5wdXQgdHlwZT1cInBhc3N3b3JkXCIgbmFtZT1cInBhc3N3b3JkXCI+PGJyPiA8YnV0dG9uIHR5cGU9XCJzdWJtaXRcIj5Mb2dpbjwvYnV0dG9uPiA8L2Zvcm0+JyxmdW5jdGlvbigpe3ZhciBpPXJlcXVpcmUoXCJyaW90Y29udHJvbFwiKSxyPXRoaXM7dGhpcy5sb2dpbj1mdW5jdGlvbigpe3ZhciBvPXtlbWFpbDpyLmVtYWlsLnZhbHVlLHBhc3N3b3JkOnIucGFzc3dvcmQudmFsdWV9O2kudHJpZ2dlcihcImxvZ2luXCIsbyl9LmJpbmQodGhpcyl9KTsiLCJ2YXIgcmlvdD1yZXF1aXJlKFwicmlvdFwiKTtyaW90LnRhZyhcInJlZ2lzdGVyXCIsJzxoMj5SZWdpc3RlcjwvaDI+IDxmb3JtIG5hbWU9XCJmcm1SZWdpc3RlclwiIG9uc3VibWl0PVwieyByZWdpc3RlciB9XCI+IDxsYWJlbD5Zb3VyIE5hbWU8L2xhYmVsPjxicj4gPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmFtZT1cInVzZXJuYW1lXCI+PGJyPiA8bGFiZWw+RW1haWw8L2xhYmVsPjxicj4gPGlucHV0IHR5cGU9XCJlbWFpbFwiIG5hbWU9XCJlbWFpbFwiPjxicj4gPGxhYmVsPlBhc3N3b3JkPC9sYWJlbD48YnI+IDxpbnB1dCB0eXBlPVwicGFzc3dvcmRcIiBuYW1lPVwicGFzc3dvcmRcIj48YnI+IDxidXR0b24gdHlwZT1cInN1Ym1pdFwiPlJlZ2lzdGVyPC9idXR0b24+IDwvZm9ybT4nLGZ1bmN0aW9uKCl7dmFyIGU9cmVxdWlyZShcInJpb3Rjb250cm9sXCIpLHI9dGhpcztyLnNob3c9ITEsdGhpcy5yZWdpc3Rlcj1mdW5jdGlvbigpe3ZhciB0PXtlbWFpbDpyLmVtYWlsLnZhbHVlLHBhc3N3b3JkOnIucGFzc3dvcmQudmFsdWV9O2UudHJpZ2dlcihcInJlZ2lzdGVyXCIsdCxyLnVzZXJuYW1lLnZhbHVlKX0uYmluZCh0aGlzKX0pOyIsInZhciByaW90PXJlcXVpcmUoXCJyaW90XCIpO3Jpb3QudGFnKFwiY3JlYXRlXCIsJzxmb3JtIG5hbWU9XCJmcm1DcmVhdGVcIiBpZj1cInsgc2hvdyB9XCI+IDxoMj5DcmVhdGUgUHJvamVjdDwvaDI+IDxsYWJlbD5Qcm9qZWN0IHRpdGxlPC9sYWJlbD48YnI+IDxpbnB1dCB0eXBlPVwidGV4dFwiIG5hbWU9XCJ0aXRsZVwiIHBsYWNlaG9sZGVyPVwiUHJvamVjdCBuYW1lXCI+PGJyPiA8bGFiZWw+U2l0ZSBuYW1lPC9sYWJlbD48YnI+IDxpbnB1dCB0eXBlPVwidGV4dFwiIG5hbWU9XCJzaXRlXCIgcGxhY2Vob2xkZXI9XCJTaXRlIG5hbWVcIj48YnI+IDxsYWJlbD5Mb2NhdGUgYW5kIG1hcmsgdGhlIHNpdGUgb24gdGhlIG1hcC4gQWRkcyBsYXQvbG5nIHRvIHJpbmdpbmcgZGF0YS48L2xhYmVsPjxicj4gPG1hcD48L21hcD4gPGxhYmVsPkxhdGl0dWRlIC8gTG9uZ2l0dWRlPC9sYWJlbD48YnI+IDxpbnB1dCB0eXBlPVwidGV4dFwiIG5hbWU9XCJsYXRsbmdcIiBwbGFjZWhvbGRlcj1cIkNsaWNrIG1hcCB0byBzZXQuLi5cIiBkaXNhYmxlZD48YnI+IDxsYWJlbD5Db3VudHJ5PC9sYWJlbD48YnI+IDxpbnB1dCB0eXBlPVwiaGlkZGVuXCIgbmFtZT1cImNvdW50cnlJc29cIj4gPGlucHV0IHR5cGU9XCJoaWRkZW5cIiBuYW1lPVwiY291bnRyeU5hbWVcIj4gPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmFtZT1cImNvdW50cnlcIiBwbGFjZWhvbGRlcj1cIkNsaWNrIG1hcCB0byBzZXQuLi5cIiBkaXNhYmxlZD48YnI+IDxsYWJlbD5TdGFydCBkYXRlPC9sYWJlbD48YnI+IDxpbnB1dCB0eXBlPVwiZGF0ZVwiIG5hbWU9XCJkYXRlU3RhcnRcIiBvbmJsdXI9XCJ7IGNoZWNrRGF0ZSB9XCI+PGJyPiA8bGFiZWw+RW5kIGRhdGU8L2xhYmVsPjxicj4gPGlucHV0IHR5cGU9XCJkYXRlXCIgbmFtZT1cImRhdGVFbmRcIiBvbmJsdXI9XCJ7IGNoZWNrRGF0ZSB9XCI+PGJyPiA8cCBpZj1cInsgZGF0ZUVycm9yIH1cIj5Zb3VyIHByb2plY3QgY2Fubm90IGVuZCBiZWZvcmUgaXQgc3RhcnRzITwvcD4gPGxhYmVsPlByaXZhY3k8L2xhYmVsPjxicj4gPGlucHV0IHR5cGU9XCJyYWRpb1wiIG5hbWU9XCJzdGF0dXNcIiB2YWx1ZT1cInB1YmxpY1wiIGNoZWNrZWQ+IFB1YmxpYyA8aW5wdXQgdHlwZT1cInJhZGlvXCIgbmFtZT1cInN0YXR1c1wiIHZhbHVlPVwicHJpdmF0ZVwiPiBQcml2YXRlPGJyPiA8YnV0dG9uIHR5cGU9XCJyZXNldFwiPkNhbmNlbDwvYnV0dG9uPiA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBvbmNsaWNrPVwieyBjcmVhdGUgfVwiIF9fZGlzYWJsZWQ9XCJ7IGRhdGVFcnJvciB9XCI+Q3JlYXRlPC9idXR0b24+IDwvZm9ybT4nLGZ1bmN0aW9uKCl7dmFyIHQ9cmVxdWlyZShcInJpb3Rjb250cm9sXCIpLGU9cmVxdWlyZShcIi4uLy4uL3V0aWxzXCIpLGE9dGhpczthLmRhdGVFcnJvcj0hMSx0aGlzLmNoZWNrRGF0ZT1mdW5jdGlvbigpe2EuZGF0ZUVycm9yPWEuZGF0ZVN0YXJ0LnZhbHVlQXNOdW1iZXI+YS5kYXRlRW5kLnZhbHVlQXNOdW1iZXJ9LmJpbmQodGhpcyksdGhpcy5jcmVhdGU9ZnVuY3Rpb24oKXt2YXIgcj17dGl0bGU6YS50aXRsZS52YWx1ZSxzaXRlOmEuc2l0ZS52YWx1ZSxjb3VudHJ5SXNvOmEuY291bnRyeUlzby52YWx1ZSxjb3VudHJ5TmFtZTphLmNvdW50cnlOYW1lLnZhbHVlLGxhdGxuZzphLmxhdGxuZy52YWx1ZSxkYXRlU3RhcnQ6YS5kYXRlU3RhcnQudmFsdWUsZGF0ZUVuZDphLmRhdGVFbmQudmFsdWUsc3RhdHVzOmUucmFkaW9CdG5WYWwoXCJzdGF0dXNcIil9O3QudHJpZ2dlcihcInByb2plY3RfY3JlYXRlXCIsciksYS5mcm1DcmVhdGUucmVzZXQoKX0uYmluZCh0aGlzKSx0Lm9uKFwibWFwX2RhdGFcIixmdW5jdGlvbih0KXthLmNvdW50cnlJc28udmFsdWU9dC5jb3VudHJ5SXNvLGEuY291bnRyeU5hbWUudmFsdWU9dC5jb3VudHJ5TmFtZSxhLmNvdW50cnkudmFsdWU9dC5jb3VudHJ5TmFtZStcIiwgXCIrdC5jb3VudHJ5SXNvLGEubGF0bG5nLnZhbHVlPXQubGF0TG5nfSksdC5vbihcInJvdXRlX2NoYW5nZWRcIixmdW5jdGlvbih0KXthLnNob3c9XCJjcmVhdGVcIj09dCxhLnVwZGF0ZSgpfSl9KTsiLCJ2YXIgcmlvdD1yZXF1aXJlKFwicmlvdFwiKTtyaW90LnRhZyhcIm1hcFwiLCc8ZGl2IGlkPVwibWFwQ2FudmFzXCI+PC9kaXY+JyxmdW5jdGlvbigpe3ZhciByPXJlcXVpcmUoXCJyaW90Y29udHJvbFwiKTtyLm9uKFwicm91dGVfY2hhbmdlZFwiLGZ1bmN0aW9uKGkpe1wiY3JlYXRlXCI9PWkmJnIudHJpZ2dlcihcIm1hcF9pbml0XCIpfSl9KTsiLCJ2YXIgcmlvdD1yZXF1aXJlKFwicmlvdFwiKTtyaW90LnRhZyhcImxpc3RcIixcIjxoMz57IG9wdHMudGl0bGUgfTwvaDM+IDx1bD4gPHlpZWxkPjwveWllbGQ+IDwvdWw+XCIsZnVuY3Rpb24oKXt9KTsiLCJ2YXIgcmlvdD1yZXF1aXJlKFwicmlvdFwiKTtyaW90LnRhZyhcIm5hdmlnYXRpb25cIiwnPG5hdiBpZj1cInsgIXVpZCB9XCIgY2xhc3M9XCJsZWZ0XCI+IDxhIGhyZWY9XCIjbG9naW5cIj5Mb2dpbjwvYT4gPGEgaHJlZj1cIiNyZWdpc3RlclwiPlJlZ2lzdGVyPC9hPiA8L25hdj4gPG5hdiBpZj1cInsgdWlkICYmICFwaWQgfVwiIGNsYXNzPVwibGVmdFwiPiA8YSBocmVmPVwiI2NyZWF0ZVwiPkNyZWF0ZSBQcm9qZWN0PC9hPiA8YSBocmVmPVwiI2ZpbmRcIj5GaW5kIFByb2plY3Q8L2E+IDwvbmF2PiA8bmF2IGlmPVwieyB1aWQgJiYgcGlkIH1cIiBjbGFzcz1cImxlZnRcIj4gPGEgaHJlZj1cIiNwcm9qZWN0L3sgcGlkIH1cIj5PdmVydmlldzwvYT4gPGEgaHJlZj1cIiNwcm9qZWN0L3sgcGlkIH0vbmV3XCI+TmV3IFJpbmc8L2E+IDxhIGhyZWY9XCIjcHJvamVjdC97IHBpZCB9L29sZFwiPk9sZCBSaW5nPC9hPiA8L25hdj4gPG5hdiBpZj1cInsgdWlkIH1cIiBjbGFzcz1cInJpZ2h0XCI+IDxhIGhyZWY9XCIjcHJvZmlsZVwiPlByb2ZpbGU8L2E+IDxhIGhyZWYgY2xhc3M9XCJidXR0b25cIiBvbmNsaWNrPVwieyBsb2dvdXQgfVwiPkxvZ291dDwvYT4gPC9uYXY+JyxmdW5jdGlvbigpe3ZhciBpPXJlcXVpcmUoXCJyaW90Y29udHJvbFwiKSxhPXRoaXM7YS51aWQ9bnVsbCxhLnBpZD1udWxsLHRoaXMubG9nb3V0PWZ1bmN0aW9uKCl7aS50cmlnZ2VyKFwibG9nb3V0XCIpfS5iaW5kKHRoaXMpLGkub24oXCJhdXRoX3VwZGF0ZVwiLGZ1bmN0aW9uKGkpe2EudXBkYXRlKHt1aWQ6aX0pfSksaS5vbihcInJvdXRlX2NoYW5nZWRcIixmdW5jdGlvbihlLHQpe2kudHJpZ2dlcihcImF1dGhcIiksYS51cGRhdGUoe3BpZDp0P3Q6ITF9KX0pfSk7IiwidmFyIHJpb3Q9cmVxdWlyZShcInJpb3RcIik7cmlvdC50YWcoXCJwcm9maWxlXCIsJzx1c2VyIGlmPVwieyBzaG93IH1cIj48L3VzZXI+IDxsaXN0IGlmPVwieyBzaG93IH1cIiB0aXRsZT1cIlByb2plY3QgT3duZXJzaGlwc1wiPiA8b3duZXJzaGlwcz48L293bmVyc2hpcHM+IDwvbGlzdD4gPGxpc3QgaWY9XCJ7IHNob3cgfVwiIHRpdGxlPVwiUHJvamVjdCBNZW1iZXJzaGlwc1wiPiA8bWVtYmVyc2hpcHM+PC9tZW1iZXJzaGlwcz4gPC9saXN0PicsZnVuY3Rpb24oKXt2YXIgaT1yZXF1aXJlKFwicmlvdGNvbnRyb2xcIikscj10aGlzO2kub24oXCJyb3V0ZV9jaGFuZ2VkXCIsZnVuY3Rpb24oZSl7ci51cGRhdGUoe3Nob3c6XCJwcm9maWxlXCI9PWV9KSxcInByb2ZpbGVcIj09ZSYmKGkudHJpZ2dlcihcImxpc3Rfb3duZXJzaGlwc1wiKSxpLnRyaWdnZXIoXCJsaXN0X21lbWJlcnNoaXBzXCIpKX0pfSk7IiwidmFyIHJpb3Q9cmVxdWlyZShcInJpb3RcIik7cmlvdC50YWcoXCJtZW1iZXJzaGlwc1wiLCc8bGkgZWFjaD1cInsgbGlzdCB9XCI+PGEgaHJlZj1cIiNwcm9qZWN0L3sgcGlkIH1cIj57IHRpdGxlIH0sIHsgc2l0ZSB9PC9hPjwvbGk+IDxsaSBpZj1cInsgIWxpc3QubGVuZ3RoIH1cIj57IGxvYWRUZXh0IH08L2xpPicsZnVuY3Rpb24oKXt2YXIgaT1yZXF1aXJlKFwicmlvdGNvbnRyb2xcIiksdD10aGlzO3QubGlzdD1bXSx0LmxvYWRUZXh0PVwiTG9hZGluZ+KAplwiLGkub24oXCJtZW1iZXJzaGlwc1wiLGZ1bmN0aW9uKGkpe3QudXBkYXRlKHtsaXN0OmksbG9hZFRleHQ6aS5sZW5ndGg/XCJcIjpcIk5vIG1lbWJlcnNoaXBzIGZvdW5kLlwifSl9KX0pOyIsInZhciByaW90PXJlcXVpcmUoXCJyaW90XCIpO3Jpb3QudGFnKFwib3duZXJzaGlwc1wiLCc8bGkgZWFjaD1cInsgbGlzdCB9XCI+PGEgaHJlZj1cIiNwcm9qZWN0L3sgcGlkIH1cIj57IHRpdGxlIH0sIHsgc2l0ZSB9PC9hPjwvbGk+IDxsaSBpZj1cInsgIWxpc3QubGVuZ3RoIH1cIj57IGxvYWRUZXh0IH08L2xpPicsZnVuY3Rpb24oKXt2YXIgaT1yZXF1aXJlKFwicmlvdGNvbnRyb2xcIiksdD10aGlzO3QubGlzdD1bXSx0LmxvYWRUZXh0PVwiTG9hZGluZ+KAplwiLGkub24oXCJvd25lcnNoaXBzXCIsZnVuY3Rpb24oaSl7dC51cGRhdGUoe2xpc3Q6aSxsb2FkVGV4dDppLmxlbmd0aD9cIlwiOlwiTm8gb3duZXJzaGlwcyBmb3VuZC5cIn0pfSl9KTsiLCJ2YXIgcmlvdD1yZXF1aXJlKFwicmlvdFwiKTtyaW90LnRhZyhcInVzZXJcIiwnPGgyPlByb2ZpbGU8L2gyPiA8Zm9ybSBuYW1lPVwiZnJtUHJvZmlsZU5hbWVcIiBvbnN1Ym1pdD1cInsgdXBkYXRlTmFtZSB9XCI+IDxsYWJlbD5Vc2VybmFtZTwvbGFiZWw+PGJyPiA8aW5wdXQgdHlwZT1cInRleHRcIiBuYW1lPVwidXNlclwiIHBsYWNlaG9sZGVyPVwiWW91ciBuYW1lXCIgYXV0b2NvbXBsZXRlPVwib2ZmXCI+IDxidXR0b24gdHlwZT1cImJ1dHRvblwiIG9uY2xpY2s9XCJ7IHVwZGF0ZU5hbWUgfVwiPlVwZGF0ZTwvYnV0dG9uPiA8L2Zvcm0+IDxmb3JtIG5hbWU9XCJmcm1Qcm9maWxlRW1haWxcIiBvbnN1Ym1pdD1cInsgdXBkYXRlRW1haWwgfVwiPiA8bGFiZWw+RW1haWw8L2xhYmVsPjxicj4gPGlucHV0IHR5cGU9XCJoaWRkZW5cIiBuYW1lPVwiZW1haWxcIj4gPGlucHV0IHR5cGU9XCJlbWFpbFwiIG5hbWU9XCJuZXdlbWFpbFwiIHBsYWNlaG9sZGVyPVwiWW91ciBlbWFpbFwiIGF1dG9jb21wbGV0ZT1cIm9mZlwiPiA8dmVyaWZ5IG5hbWU9XCJ2ZXJpZnlFbWFpbFwiPjwvdmVyaWZ5PiA8L2Zvcm0+IDxmb3JtIG5hbWU9XCJmcm1Qcm9maWxlUHdkXCIgb25zdWJtaXQ9XCJ7IHVwZGF0ZVBhc3N3b3JkIH1cIj4gPGxhYmVsPlBhc3N3b3JkPC9sYWJlbD48YnI+IDxpbnB1dCB0eXBlPVwicGFzc3dvcmRcIiBuYW1lPVwibmV3cGFzc3dvcmRcIiBwbGFjZWhvbGRlcj1cIk5ldyBwYXNzd29yZFwiPiA8dmVyaWZ5IG5hbWU9XCJ2ZXJpZnlQYXNzd29yZFwiPjwvdmVyaWZ5PiA8L2Zvcm0+JyxmdW5jdGlvbigpe3ZhciBlPXJlcXVpcmUoXCJyaW90Y29udHJvbFwiKSxhPXRoaXM7dGhpcy51cGRhdGVOYW1lPWZ1bmN0aW9uKCl7ZS50cmlnZ2VyKFwidXNlcl91cGRhdGVfbmFtZVwiLHtuYW1lOmEudXNlci52YWx1ZX0pfS5iaW5kKHRoaXMpLHRoaXMudXBkYXRlRW1haWw9ZnVuY3Rpb24oKXt2YXIgcj17fTtyLm9sZEVtYWlsPWEuZW1haWwudmFsdWUsci5uZXdFbWFpbD1hLm5ld2VtYWlsLnZhbHVlLHIucGFzc3dvcmQ9YS5mcm1Qcm9maWxlRW1haWwub2xkcGFzc3dvcmQudmFsdWUsZS50cmlnZ2VyKFwidXNlcl91cGRhdGVfZW1haWxcIixyKSxhLnRhZ3MudmVyaWZ5RW1haWwudG9nZ2xlKCl9LmJpbmQodGhpcyksdGhpcy51cGRhdGVQYXNzd29yZD1mdW5jdGlvbigpe3ZhciByPXt9O3IuZW1haWw9YS5lbWFpbC52YWx1ZSxyLm5ld1Bhc3N3b3JkPWEubmV3cGFzc3dvcmQudmFsdWUsci5vbGRQYXNzd29yZD1hLmZybVByb2ZpbGVQd2Qub2xkcGFzc3dvcmQudmFsdWUsZS50cmlnZ2VyKFwidXNlcl91cGRhdGVfcGFzc3dvcmRcIixyKSxhLnRhZ3MudmVyaWZ5UGFzc3dvcmQudG9nZ2xlKCl9LmJpbmQodGhpcyksZS5vbihcInVzZXJfdXBkYXRlZFwiLGZ1bmN0aW9uKGUpe2EudXNlci52YWx1ZT1lLm5hbWUsYS5lbWFpbC52YWx1ZT1hLm5ld2VtYWlsLnZhbHVlPWUuZW1haWwsYS5uZXdwYXNzd29yZC52YWx1ZT1cIlwiLGEudXBkYXRlKCl9KSxlLm9uKFwicm91dGVfY2hhbmdlZFwiLGZ1bmN0aW9uKGEpe1wicHJvZmlsZVwiPT1hJiZlLnRyaWdnZXIoXCJ1c2VyX3VwZGF0ZVwiKX0pfSk7IiwidmFyIHJpb3Q9cmVxdWlyZShcInJpb3RcIik7cmlvdC50YWcoXCJ2ZXJpZnlcIiwnPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgb25jbGljaz1cInsgdG9nZ2xlIH1cIiBpZj1cInsgIWVkaXQgfVwiPkNoYW5nZeKApjwvYnV0dG9uPiA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBvbmNsaWNrPVwieyB0b2dnbGUgfVwiIGlmPVwieyBlZGl0IH1cIj5DYW5jZWw8L2J1dHRvbj4gPGRpdiBpZj1cInsgZWRpdCB9XCI+IDxpbnB1dCB0eXBlPVwicGFzc3dvcmRcIiBuYW1lPVwib2xkcGFzc3dvcmRcIiBwbGFjZWhvbGRlcj1cIkN1cnJlbnQgcGFzc3dvcmRcIj48YnI+IDxidXR0b24gdHlwZT1cInN1Ym1pdFwiPlVwZGF0ZTwvYnV0dG9uPiA8L2Rpdj4nLGZ1bmN0aW9uKCl7dmFyIHQ9KHJlcXVpcmUoXCJyaW90Y29udHJvbFwiKSx0aGlzKTt0LmVkaXQ9ITEsdC5vbGRwYXNzd29yZC52YWx1ZT1cIlwiLHRoaXMudG9nZ2xlPWZ1bmN0aW9uKCl7dC5lZGl0PSF0LmVkaXQsdC5vbGRwYXNzd29yZC52YWx1ZT1cIlwifS5iaW5kKHRoaXMpfSk7IiwidmFyIHJpb3Q9cmVxdWlyZShcInJpb3RcIik7cmlvdC50YWcoXCJkYXNoYm9hcmRcIiwnPGRpdiBpZj1cInsgc2hvdyB9XCI+IDxkaXYgaWY9XCJ7ICFkYXRhIH1cIj5Mb2FkaW5n4oCmPC9kaXY+IDxkaXYgaWY9XCJ7IGRhdGEgfVwiPiA8aDE+eyBkYXRhLnRpdGxlIH08L2gxPiA8cD57IGRhdGEuc2l0ZSB9LCB7IGRhdGEuZGF0ZVN0YXJ0IH0gJm5kYXNoOyB7IGRhdGEuZGF0ZUVuZCB9PC9wPiA8L2Rpdj4gPGRpdiBpZj1cInsgZGF0YS5pc093bmVyIH1cIj4gPG1lbWJlcnMgcGlkPVwieyBkYXRhLnBpZCB9XCI+PC9tZW1iZXJzPiA8L2Rpdj4gIDwvZGl2PicsZnVuY3Rpb24oKXt2YXIgYT1yZXF1aXJlKFwicmlvdGNvbnRyb2xcIiksZD10aGlzO2Quc2hvdz0hMSxhLm9uKFwiZGFzaGJvYXJkX2RhdGFcIixmdW5jdGlvbihhKXtkLnVwZGF0ZSh7ZGF0YTphfSl9KSxhLm9uKFwicm91dGVfY2hhbmdlZFwiLGZ1bmN0aW9uKHQsaSl7XCJwcm9qZWN0XCI9PXQmJmkmJmEudHJpZ2dlcihcImRhc2hib2FyZF9pbml0XCIsaSksZC51cGRhdGUoe3Nob3c6XCJwcm9qZWN0XCI9PXQmJml9KX0pfSk7IiwidmFyIHJpb3Q9cmVxdWlyZShcInJpb3RcIik7IiwidmFyIHJpb3Q9cmVxdWlyZShcInJpb3RcIik7cmlvdC50YWcoXCJmaW5kXCIsJzxkaXYgaWY9XCJ7IHNob3cgfVwiPiA8Zm9ybSBuYW1lPVwiZnJtU2VhcmNoXCIgb25zdWJtaXQ9XCJ7IGZpbmQgfVwiPiA8aDI+RmluZCBwcm9qZWN0PC9oMj4gPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmFtZT1cIm5lZWRsZVwiIHBsYWNlaG9sZGVyPVwiU2VhcmNoXCIgYXV0b2NvbXBsZXRlPVwib2ZmXCI+IDxidXR0b24gdHlwZT1cImJ1dHRvblwiIG9uY2xpY2s9XCJ7IGZpbmQgfVwiPk9LPC9idXR0b24+IDxmaWVsZHNldD4gPGxhYmVsPjxpbnB1dCB0eXBlPVwicmFkaW9cIiBuYW1lPVwiY2F0ZWdvcnlcIiBvbmNsaWNrPVwieyBmaW5kIH1cIiB2YWx1ZT1cInRpdGxlXCIgY2hlY2tlZD4gUHJvamVjdCB0aXRsZTwvbGFiZWw+IDxsYWJlbD48aW5wdXQgdHlwZT1cInJhZGlvXCIgbmFtZT1cImNhdGVnb3J5XCIgb25jbGljaz1cInsgZmluZCB9XCIgdmFsdWU9XCJzaXRlXCI+IFNpdGUgbmFtZTwvbGFiZWw+IDxsYWJlbD48aW5wdXQgdHlwZT1cInJhZGlvXCIgbmFtZT1cImNhdGVnb3J5XCIgb25jbGljaz1cInsgZmluZCB9XCIgdmFsdWU9XCJvd25lck5hbWVcIj4gT3duZXIgbmFtZTwvbGFiZWw+IDwvZmllbGRzZXQ+IDxwPlRpcDogU2VhcmNoZXMgYXJlIGNhc2UgPGVtPnNlbnNpdGl2ZTwvZW0+LjwvcD4gPC9mb3JtPiA8dWw+IDxsaSBlYWNoPVwieyBpdGVtcyB9XCI+eyB0aXRsZSB9LCB7IHNpdGUgfTxicj5Pd25lZCBieTogeyBvd25lck5hbWUgfTxicj4gPGRhdGV0aW1lIGlmPVwieyBkYXRlU3RhcnQgfHwgZGF0ZUVuZCB9XCI+eyBkYXRlU3RhcnQgfSAmbmRhc2g7IHsgZGF0ZUVuZCB9IDwvZGF0ZXRpbWU+IDxqb2luIHByb2plY3Q9XCJ7IHRoaXMgfVwiPjwvam9pbj4gPC9saT4gPC91bD4gPC9kaXY+JyxmdW5jdGlvbigpe3ZhciBlPXJlcXVpcmUoXCJyaW90Y29udHJvbFwiKSx0PXJlcXVpcmUoXCIuLi8uLi91dGlsc1wiKSxpPXRoaXM7aS5zaG93PSExLGkuaXRlbXM9W10sdGhpcy5maW5kPWZ1bmN0aW9uKCl7aWYoaS5uZWVkbGUudmFsdWUubGVuZ3RoPjEpe3ZhciBuPXtjYXRlZ29yeTp0LnJhZGlvQnRuVmFsKFwiY2F0ZWdvcnlcIiksbmVlZGxlOmkubmVlZGxlLnZhbHVlfTtlLnRyaWdnZXIoXCJwcm9qZWN0X3NlYXJjaFwiLG4pfX0uYmluZCh0aGlzKSxlLm9uKFwicHJvamVjdF9zZWFyY2hfcmVzdWx0XCIsZnVuY3Rpb24oZSl7aS51cGRhdGUoe2l0ZW1zOmV9KX0pLGUub24oXCJyb3V0ZV9jaGFuZ2VkXCIsZnVuY3Rpb24oZSl7aS51cGRhdGUoe3Nob3c6XCJmaW5kXCI9PWV9KX0pfSk7IiwidmFyIHJpb3Q9cmVxdWlyZShcInJpb3RcIik7cmlvdC50YWcoXCJqb2luXCIsJzxzcGFuIGlmPVwieyBcXCdpc01lbWJlclxcJyBpbiBvcHRzLnByb2plY3QgJiYgXFwnaXNQZW5kaW5nXFwnIGluIG9wdHMucHJvamVjdCB9XCI+IDxzcGFuIGlmPVwieyBpc01lbWJlciB9XCI+W01dPC9zcGFuPiA8c3BhbiBpZj1cInsgaXNQZW5kaW5nIH1cIj5bUF08L3NwYW4+IDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGlmPVwieyAhaXNPd25lciAmJiAhaXNFbmRlZCAmJiAhaXNQZW5kaW5nICYmICFpc01lbWJlciB9XCIgb25jbGljaz1cInsgam9pbiB9XCI+Sm9pbjwvYnV0dG9uPiA8L3NwYW4+JyxmdW5jdGlvbihpKXt2YXIgbj1yZXF1aXJlKFwicmlvdGNvbnRyb2xcIiksZT10aGlzO2UuaXNPd25lcj1pLnByb2plY3QuaXNPd25lcixlLmlzRW5kZWQ9aS5wcm9qZWN0LmlzRW5kZWQsZS5pc01lbWJlcj1pLnByb2plY3QuaXNNZW1iZXIsZS5pc1BlbmRpbmc9aS5wcm9qZWN0LmlzUGVuZGluZyx0aGlzLmpvaW49ZnVuY3Rpb24oKXtuLnRyaWdnZXIoXCJwcm9qZWN0X2pvaW5cIixpLnByb2plY3QucGlkKSxlLmlzUGVuZGluZz0hMH0uYmluZCh0aGlzKX0pOyIsInZhciB1dGlscz17fTt1dGlscy5leHRlbmQ9ZnVuY3Rpb24oZSx0KXtpZihudWxsPT1lfHxudWxsPT10KXJldHVybiBlO2ZvcihrZXkgaW4gdCl0Lmhhc093blByb3BlcnR5KGtleSkmJihlW2tleV09dFtrZXldKTtyZXR1cm4gZX0sdXRpbHMucmFkaW9CdG5WYWw9ZnVuY3Rpb24oZSl7cmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJbbmFtZT1cIitlK1wiXTpjaGVja2VkXCIpLnZhbHVlfSx1dGlscy5zZXRMb2NhbFVzZXI9ZnVuY3Rpb24oZSl7XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFN0b3JhZ2UmJmxvY2FsU3RvcmFnZS5zZXRJdGVtKFwidXNlclwiLEpTT04uc3RyaW5naWZ5KGUpKX0sdXRpbHMuZ2V0TG9jYWxVc2VyPWZ1bmN0aW9uKGUpe3ZhciB0PUpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJ1c2VyXCIpKTtyZXR1cm4gZT90W2VdOnR9LHV0aWxzLnVwZGF0ZUxvY2FsVXNlcj1mdW5jdGlvbihlLHQpe3ZhciByPXV0aWxzLmdldExvY2FsVXNlcigpO3JbZV09dCx1dGlscy5zZXRMb2NhbFVzZXIocil9LG1vZHVsZS5leHBvcnRzPXV0aWxzOyIsIiFmdW5jdGlvbigpe2Z1bmN0aW9uIG4odCl7cmV0dXJuIHZvaWQgMCE9PXR9ZnVuY3Rpb24gYmEoKXt9ZnVuY3Rpb24gY2EodCl7dC51Yj1mdW5jdGlvbigpe3JldHVybiB0LnRmP3QudGY6dC50Zj1uZXcgdH19ZnVuY3Rpb24gZGEodCl7dmFyIGU9dHlwZW9mIHQ7aWYoXCJvYmplY3RcIj09ZSl7aWYoIXQpcmV0dXJuXCJudWxsXCI7aWYodCBpbnN0YW5jZW9mIEFycmF5KXJldHVyblwiYXJyYXlcIjtpZih0IGluc3RhbmNlb2YgT2JqZWN0KXJldHVybiBlO3ZhciBuPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0KTtpZihcIltvYmplY3QgV2luZG93XVwiPT1uKXJldHVyblwib2JqZWN0XCI7aWYoXCJbb2JqZWN0IEFycmF5XVwiPT1ufHxcIm51bWJlclwiPT10eXBlb2YgdC5sZW5ndGgmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiB0LnNwbGljZSYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHQucHJvcGVydHlJc0VudW1lcmFibGUmJiF0LnByb3BlcnR5SXNFbnVtZXJhYmxlKFwic3BsaWNlXCIpKXJldHVyblwiYXJyYXlcIjtpZihcIltvYmplY3QgRnVuY3Rpb25dXCI9PW58fFwidW5kZWZpbmVkXCIhPXR5cGVvZiB0LmNhbGwmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiB0LnByb3BlcnR5SXNFbnVtZXJhYmxlJiYhdC5wcm9wZXJ0eUlzRW51bWVyYWJsZShcImNhbGxcIikpcmV0dXJuXCJmdW5jdGlvblwifWVsc2UgaWYoXCJmdW5jdGlvblwiPT1lJiZcInVuZGVmaW5lZFwiPT10eXBlb2YgdC5jYWxsKXJldHVyblwib2JqZWN0XCI7cmV0dXJuIGV9ZnVuY3Rpb24gZWEodCl7cmV0dXJuXCJhcnJheVwiPT1kYSh0KX1mdW5jdGlvbiBmYSh0KXt2YXIgZT1kYSh0KTtyZXR1cm5cImFycmF5XCI9PWV8fFwib2JqZWN0XCI9PWUmJlwibnVtYmVyXCI9PXR5cGVvZiB0Lmxlbmd0aH1mdW5jdGlvbiBwKHQpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiB0fWZ1bmN0aW9uIGdhKHQpe3JldHVyblwibnVtYmVyXCI9PXR5cGVvZiB0fWZ1bmN0aW9uIGhhKHQpe3JldHVyblwiZnVuY3Rpb25cIj09ZGEodCl9ZnVuY3Rpb24gaWEodCl7dmFyIGU9dHlwZW9mIHQ7cmV0dXJuXCJvYmplY3RcIj09ZSYmbnVsbCE9dHx8XCJmdW5jdGlvblwiPT1lfWZ1bmN0aW9uIGphKHQpe3JldHVybiB0LmNhbGwuYXBwbHkodC5iaW5kLGFyZ3VtZW50cyl9ZnVuY3Rpb24ga2EodCxlKXtpZighdCl0aHJvdyBFcnJvcigpO2lmKDI8YXJndW1lbnRzLmxlbmd0aCl7dmFyIG49QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDIpO3JldHVybiBmdW5jdGlvbigpe3ZhciBpPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7cmV0dXJuIEFycmF5LnByb3RvdHlwZS51bnNoaWZ0LmFwcGx5KGksbiksdC5hcHBseShlLGkpfX1yZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdC5hcHBseShlLGFyZ3VtZW50cyl9fWZ1bmN0aW9uIHEoKXtyZXR1cm4gcT1GdW5jdGlvbi5wcm90b3R5cGUuYmluZCYmLTEhPUZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLnRvU3RyaW5nKCkuaW5kZXhPZihcIm5hdGl2ZSBjb2RlXCIpP2phOmthLHEuYXBwbHkobnVsbCxhcmd1bWVudHMpfWZ1bmN0aW9uIG1hKHQsZSl7ZnVuY3Rpb24gbigpe31uLnByb3RvdHlwZT1lLnByb3RvdHlwZSx0LlpnPWUucHJvdG90eXBlLHQucHJvdG90eXBlPW5ldyBuLHQucHJvdG90eXBlLmNvbnN0cnVjdG9yPXQsdC5WZz1mdW5jdGlvbih0LG4pe2Zvcih2YXIgaT1BcnJheShhcmd1bWVudHMubGVuZ3RoLTIpLHI9MjtyPGFyZ3VtZW50cy5sZW5ndGg7cisrKWlbci0yXT1hcmd1bWVudHNbcl07cmV0dXJuIGUucHJvdG90eXBlW25dLmFwcGx5KHQsaSl9fWZ1bmN0aW9uIHIodCxlKXtmb3IodmFyIG4gaW4gdCllLmNhbGwodm9pZCAwLHRbbl0sbix0KX1mdW5jdGlvbiBuYSh0LGUpe3ZhciBuLGk9e307Zm9yKG4gaW4gdClpW25dPWUuY2FsbCh2b2lkIDAsdFtuXSxuLHQpO3JldHVybiBpfWZ1bmN0aW9uIG9hKHQsZSl7Zm9yKHZhciBuIGluIHQpaWYoIWUuY2FsbCh2b2lkIDAsdFtuXSxuLHQpKXJldHVybiExO3JldHVybiEwfWZ1bmN0aW9uIHBhKHQpe3ZhciBlLG49MDtmb3IoZSBpbiB0KW4rKztyZXR1cm4gbn1mdW5jdGlvbiBxYSh0KXtmb3IodmFyIGUgaW4gdClyZXR1cm4gZX1mdW5jdGlvbiByYSh0KXt2YXIgZSxuPVtdLGk9MDtmb3IoZSBpbiB0KW5baSsrXT10W2VdO3JldHVybiBufWZ1bmN0aW9uIHNhKHQpe3ZhciBlLG49W10saT0wO2ZvcihlIGluIHQpbltpKytdPWU7cmV0dXJuIG59ZnVuY3Rpb24gdGEodCxlKXtmb3IodmFyIG4gaW4gdClpZih0W25dPT1lKXJldHVybiEwO3JldHVybiExfWZ1bmN0aW9uIHVhKHQsZSxuKXtmb3IodmFyIGkgaW4gdClpZihlLmNhbGwobix0W2ldLGksdCkpcmV0dXJuIGl9ZnVuY3Rpb24gdmEodCxlKXt2YXIgbj11YSh0LGUsdm9pZCAwKTtyZXR1cm4gbiYmdFtuXX1mdW5jdGlvbiB3YSh0KXtmb3IodmFyIGUgaW4gdClyZXR1cm4hMTtyZXR1cm4hMH1mdW5jdGlvbiB4YSh0KXt2YXIgZSxuPXt9O2ZvcihlIGluIHQpbltlXT10W2VdO3JldHVybiBufWZ1bmN0aW9uIHphKHQpe2Zvcih2YXIgZSxuLGk9MTtpPGFyZ3VtZW50cy5sZW5ndGg7aSsrKXtuPWFyZ3VtZW50c1tpXTtmb3IoZSBpbiBuKXRbZV09bltlXTtmb3IodmFyIHI9MDtyPHlhLmxlbmd0aDtyKyspZT15YVtyXSxPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobixlKSYmKHRbZV09bltlXSl9fWZ1bmN0aW9uIEFhKGEpe2lmKGE9U3RyaW5nKGEpLC9eXFxzKiQvLnRlc3QoYSk/MDovXltcXF0sOnt9XFxzXFx1MjAyOFxcdTIwMjldKiQvLnRlc3QoYS5yZXBsYWNlKC9cXFxcW1wiXFxcXFxcL2JmbnJ0dV0vZyxcIkBcIikucmVwbGFjZSgvXCJbXlwiXFxcXFxcblxcclxcdTIwMjhcXHUyMDI5XFx4MDAtXFx4MDhcXHgwYS1cXHgxZl0qXCJ8dHJ1ZXxmYWxzZXxudWxsfC0/XFxkKyg/OlxcLlxcZCopPyg/OltlRV1bK1xcLV0/XFxkKyk/L2csXCJdXCIpLnJlcGxhY2UoLyg/Ol58OnwsKSg/OltcXHNcXHUyMDI4XFx1MjAyOV0qXFxbKSsvZyxcIlwiKSkpdHJ5e3JldHVybiBldmFsKFwiKFwiK2ErXCIpXCIpfWNhdGNoKGIpe310aHJvdyBFcnJvcihcIkludmFsaWQgSlNPTiBzdHJpbmc6IFwiK2EpfWZ1bmN0aW9uIEJhKCl7dGhpcy5QZD12b2lkIDB9ZnVuY3Rpb24gQ2EodCxlLG4pe3N3aXRjaCh0eXBlb2YgZSl7Y2FzZVwic3RyaW5nXCI6RGEoZSxuKTticmVhaztjYXNlXCJudW1iZXJcIjpuLnB1c2goaXNGaW5pdGUoZSkmJiFpc05hTihlKT9lOlwibnVsbFwiKTticmVhaztjYXNlXCJib29sZWFuXCI6bi5wdXNoKGUpO2JyZWFrO2Nhc2VcInVuZGVmaW5lZFwiOm4ucHVzaChcIm51bGxcIik7YnJlYWs7Y2FzZVwib2JqZWN0XCI6aWYobnVsbD09ZSl7bi5wdXNoKFwibnVsbFwiKTticmVha31pZihlYShlKSl7dmFyIGk9ZS5sZW5ndGg7bi5wdXNoKFwiW1wiKTtmb3IodmFyIHI9XCJcIixvPTA7aT5vO28rKyluLnB1c2gocikscj1lW29dLENhKHQsdC5QZD90LlBkLmNhbGwoZSxTdHJpbmcobykscik6cixuKSxyPVwiLFwiO24ucHVzaChcIl1cIik7YnJlYWt9bi5wdXNoKFwie1wiKSxpPVwiXCI7Zm9yKG8gaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxvKSYmKHI9ZVtvXSxcImZ1bmN0aW9uXCIhPXR5cGVvZiByJiYobi5wdXNoKGkpLERhKG8sbiksbi5wdXNoKFwiOlwiKSxDYSh0LHQuUGQ/dC5QZC5jYWxsKGUsbyxyKTpyLG4pLGk9XCIsXCIpKTtuLnB1c2goXCJ9XCIpO2JyZWFrO2Nhc2VcImZ1bmN0aW9uXCI6YnJlYWs7ZGVmYXVsdDp0aHJvdyBFcnJvcihcIlVua25vd24gdHlwZTogXCIrdHlwZW9mIGUpfX1mdW5jdGlvbiBEYSh0LGUpe2UucHVzaCgnXCInLHQucmVwbGFjZShGYSxmdW5jdGlvbih0KXtpZih0IGluIEVhKXJldHVybiBFYVt0XTt2YXIgZT10LmNoYXJDb2RlQXQoMCksbj1cIlxcXFx1XCI7cmV0dXJuIDE2PmU/bis9XCIwMDBcIjoyNTY+ZT9uKz1cIjAwXCI6NDA5Nj5lJiYobis9XCIwXCIpLEVhW3RdPW4rZS50b1N0cmluZygxNil9KSwnXCInKX1mdW5jdGlvbiBHYSgpe3JldHVybiBNYXRoLmZsb29yKDIxNDc0ODM2NDgqTWF0aC5yYW5kb20oKSkudG9TdHJpbmcoMzYpK01hdGguYWJzKE1hdGguZmxvb3IoMjE0NzQ4MzY0OCpNYXRoLnJhbmRvbSgpKV5sYSgpKS50b1N0cmluZygzNil9ZnVuY3Rpb24gS2EoKXt0aGlzLldhPS0xfWZ1bmN0aW9uIExhKCl7dGhpcy5XYT0tMSx0aGlzLldhPTY0LHRoaXMuUj1bXSx0aGlzLmxlPVtdLHRoaXMuVGY9W10sdGhpcy5JZD1bXSx0aGlzLklkWzBdPTEyODtmb3IodmFyIHQ9MTt0PHRoaXMuV2E7Kyt0KXRoaXMuSWRbdF09MDt0aGlzLmJlPXRoaXMuJGI9MCx0aGlzLnJlc2V0KCl9ZnVuY3Rpb24gTWEodCxlLG4pe258fChuPTApO3ZhciBpPXQuVGY7aWYocChlKSlmb3IodmFyIHI9MDsxNj5yO3IrKylpW3JdPWUuY2hhckNvZGVBdChuKTw8MjR8ZS5jaGFyQ29kZUF0KG4rMSk8PDE2fGUuY2hhckNvZGVBdChuKzIpPDw4fGUuY2hhckNvZGVBdChuKzMpLG4rPTQ7ZWxzZSBmb3Iocj0wOzE2PnI7cisrKWlbcl09ZVtuXTw8MjR8ZVtuKzFdPDwxNnxlW24rMl08PDh8ZVtuKzNdLG4rPTQ7Zm9yKHI9MTY7ODA+cjtyKyspe3ZhciBvPWlbci0zXV5pW3ItOF1eaVtyLTE0XV5pW3ItMTZdO2lbcl09NDI5NDk2NzI5NSYobzw8MXxvPj4+MzEpfWU9dC5SWzBdLG49dC5SWzFdO2Zvcih2YXIgYSxzPXQuUlsyXSx1PXQuUlszXSxoPXQuUls0XSxyPTA7ODA+cjtyKyspNDA+cj8yMD5yPyhvPXVebiYoc151KSxhPTE1MTg1MDAyNDkpOihvPW5ec151LGE9MTg1OTc3NTM5Myk6NjA+cj8obz1uJnN8dSYobnxzKSxhPTI0MDA5NTk3MDgpOihvPW5ec151LGE9MzM5NTQ2OTc4Miksbz0oZTw8NXxlPj4+MjcpK28raCthK2lbcl0mNDI5NDk2NzI5NSxoPXUsdT1zLHM9NDI5NDk2NzI5NSYobjw8MzB8bj4+PjIpLG49ZSxlPW87dC5SWzBdPXQuUlswXStlJjQyOTQ5NjcyOTUsdC5SWzFdPXQuUlsxXStuJjQyOTQ5NjcyOTUsdC5SWzJdPXQuUlsyXStzJjQyOTQ5NjcyOTUsdC5SWzNdPXQuUlszXSt1JjQyOTQ5NjcyOTUsdC5SWzRdPXQuUls0XStoJjQyOTQ5NjcyOTV9ZnVuY3Rpb24gVGEodCxlKXt2YXIgbj1VYSh0LGUsdm9pZCAwKTtyZXR1cm4gMD5uP251bGw6cCh0KT90LmNoYXJBdChuKTp0W25dfWZ1bmN0aW9uIFVhKHQsZSxuKXtmb3IodmFyIGk9dC5sZW5ndGgscj1wKHQpP3Quc3BsaXQoXCJcIik6dCxvPTA7aT5vO28rKylpZihvIGluIHImJmUuY2FsbChuLHJbb10sbyx0KSlyZXR1cm4gbztyZXR1cm4tMX1mdW5jdGlvbiBWYShlLG4pe3ZhciBpPU5hKGUsbik7aT49MCYmdC5zcGxpY2UuY2FsbChlLGksMSl9ZnVuY3Rpb24gV2EoZSxuLGkpe3JldHVybiAyPj1hcmd1bWVudHMubGVuZ3RoP3Quc2xpY2UuY2FsbChlLG4pOnQuc2xpY2UuY2FsbChlLG4saSl9ZnVuY3Rpb24gWGEodCxlKXt0LnNvcnQoZXx8WWEpfWZ1bmN0aW9uIFlhKHQsZSl7cmV0dXJuIHQ+ZT8xOmU+dD8tMTowfWZ1bmN0aW9uIGZiKHQsZSl7aWYoIWZhKHQpKXRocm93IEVycm9yKFwiZW5jb2RlQnl0ZUFycmF5IHRha2VzIGFuIGFycmF5IGFzIGEgcGFyYW1ldGVyXCIpO2diKCk7Zm9yKHZhciBuPWU/ZGI6Y2IsaT1bXSxyPTA7cjx0Lmxlbmd0aDtyKz0zKXt2YXIgbz10W3JdLGE9cisxPHQubGVuZ3RoLHM9YT90W3IrMV06MCx1PXIrMjx0Lmxlbmd0aCxoPXU/dFtyKzJdOjAsYz1vPj4yLG89KDMmbyk8PDR8cz4+NCxzPSgxNSZzKTw8MnxoPj42LGg9NjMmaDt1fHwoaD02NCxhfHwocz02NCkpLGkucHVzaChuW2NdLG5bb10sbltzXSxuW2hdKX1yZXR1cm4gaS5qb2luKFwiXCIpfWZ1bmN0aW9uIGdiKCl7aWYoIWNiKXtjYj17fSxkYj17fSxlYj17fTtmb3IodmFyIHQ9MDs2NT50O3QrKyljYlt0XT1cIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky89XCIuY2hhckF0KHQpLGRiW3RdPVwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODktXy5cIi5jaGFyQXQodCksZWJbZGJbdF1dPXQsdD49NjImJihlYltcIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky89XCIuY2hhckF0KHQpXT10KX19ZnVuY3Rpb24gdSh0LGUpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxlKX1mdW5jdGlvbiB3KHQsZSl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LGUpP3RbZV06dm9pZCAwfWZ1bmN0aW9uIGhiKHQsZSl7Zm9yKHZhciBuIGluIHQpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsbikmJmUobix0W25dKX1mdW5jdGlvbiBpYih0KXt2YXIgZT17fTtyZXR1cm4gaGIodCxmdW5jdGlvbih0LG4pe2VbdF09bn0pLGV9ZnVuY3Rpb24gamIodCl7dmFyIGU9W107cmV0dXJuIGhiKHQsZnVuY3Rpb24odCxuKXtlYShuKT9PYShuLGZ1bmN0aW9uKG4pe2UucHVzaChlbmNvZGVVUklDb21wb25lbnQodCkrXCI9XCIrZW5jb2RlVVJJQ29tcG9uZW50KG4pKX0pOmUucHVzaChlbmNvZGVVUklDb21wb25lbnQodCkrXCI9XCIrZW5jb2RlVVJJQ29tcG9uZW50KG4pKX0pLGUubGVuZ3RoP1wiJlwiK2Uuam9pbihcIiZcIik6XCJcIn1mdW5jdGlvbiBrYih0KXt2YXIgZT17fTtyZXR1cm4gdD10LnJlcGxhY2UoL15cXD8vLFwiXCIpLnNwbGl0KFwiJlwiKSxPYSh0LGZ1bmN0aW9uKHQpe3QmJih0PXQuc3BsaXQoXCI9XCIpLGVbdFswXV09dFsxXSl9KSxlfWZ1bmN0aW9uIHgodCxlLG4saSl7dmFyIHI7aWYoZT5pP3I9XCJhdCBsZWFzdCBcIitlOmk+biYmKHI9MD09PW4/XCJub25lXCI6XCJubyBtb3JlIHRoYW4gXCIrbikscil0aHJvdyBFcnJvcih0K1wiIGZhaWxlZDogV2FzIGNhbGxlZCB3aXRoIFwiK2krKDE9PT1pP1wiIGFyZ3VtZW50LlwiOlwiIGFyZ3VtZW50cy5cIikrXCIgRXhwZWN0cyBcIityK1wiLlwiKX1mdW5jdGlvbiB6KHQsZSxuKXt2YXIgaT1cIlwiO3N3aXRjaChlKXtjYXNlIDE6aT1uP1wiZmlyc3RcIjpcIkZpcnN0XCI7YnJlYWs7Y2FzZSAyOmk9bj9cInNlY29uZFwiOlwiU2Vjb25kXCI7YnJlYWs7Y2FzZSAzOmk9bj9cInRoaXJkXCI6XCJUaGlyZFwiO2JyZWFrO2Nhc2UgNDppPW4/XCJmb3VydGhcIjpcIkZvdXJ0aFwiO2JyZWFrO2RlZmF1bHQ6dGhyb3cgRXJyb3IoXCJlcnJvclByZWZpeCBjYWxsZWQgd2l0aCBhcmd1bWVudE51bWJlciA+IDQuICBOZWVkIHRvIHVwZGF0ZSBpdD9cIil9cmV0dXJuIHQ9dCtcIiBmYWlsZWQ6IFwiKyhpK1wiIGFyZ3VtZW50IFwiKX1mdW5jdGlvbiBBKHQsZSxpLHIpe2lmKCghcnx8bihpKSkmJiFoYShpKSl0aHJvdyBFcnJvcih6KHQsZSxyKStcIm11c3QgYmUgYSB2YWxpZCBmdW5jdGlvbi5cIil9ZnVuY3Rpb24gbGIodCxlLGkpe2lmKG4oaSkmJighaWEoaSl8fG51bGw9PT1pKSl0aHJvdyBFcnJvcih6KHQsZSwhMCkrXCJtdXN0IGJlIGEgdmFsaWQgY29udGV4dCBvYmplY3QuXCIpfWZ1bmN0aW9uIG1iKHQpe3JldHVyblwidW5kZWZpbmVkXCIhPXR5cGVvZiBKU09OJiZuKEpTT04ucGFyc2UpP0pTT04ucGFyc2UodCk6QWEodCl9ZnVuY3Rpb24gQih0KXtpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgSlNPTiYmbihKU09OLnN0cmluZ2lmeSkpdD1KU09OLnN0cmluZ2lmeSh0KTtlbHNle3ZhciBlPVtdO0NhKG5ldyBCYSx0LGUpLHQ9ZS5qb2luKFwiXCIpfXJldHVybiB0fWZ1bmN0aW9uIG5iKCl7dGhpcy5TZD1DfWZ1bmN0aW9uIG9iKCl7fWZ1bmN0aW9uIHFiKHQsZSxuKXt0aGlzLlFmPXQsdGhpcy5LYT1lLHRoaXMuSGQ9bn1mdW5jdGlvbiB1Yigpe3RoaXMudGI9W119ZnVuY3Rpb24gdmIodCxlKXtmb3IodmFyIG49bnVsbCxpPTA7aTxlLmxlbmd0aDtpKyspe3ZhciByPWVbaV0sbz1yLlliKCk7bnVsbD09PW58fG8uWihuLlliKCkpfHwodC50Yi5wdXNoKG4pLG49bnVsbCksbnVsbD09PW4mJihuPW5ldyB3YihvKSksbi5hZGQocil9biYmdC50Yi5wdXNoKG4pfWZ1bmN0aW9uIHhiKHQsZSxuKXt2Yih0LG4pLHliKHQsZnVuY3Rpb24odCl7cmV0dXJuIHQuWihlKX0pfWZ1bmN0aW9uIHpiKHQsZSxuKXt2Yih0LG4pLHliKHQsZnVuY3Rpb24odCl7cmV0dXJuIHQuY29udGFpbnMoZSl8fGUuY29udGFpbnModCl9KX1mdW5jdGlvbiB5Yih0LGUpe2Zvcih2YXIgbj0hMCxpPTA7aTx0LnRiLmxlbmd0aDtpKyspe3ZhciByPXQudGJbaV07aWYocilpZihyPXIuWWIoKSxlKHIpKXtmb3IodmFyIHI9dC50YltpXSxvPTA7bzxyLnNkLmxlbmd0aDtvKyspe3ZhciBhPXIuc2Rbb107aWYobnVsbCE9PWEpe3Iuc2Rbb109bnVsbDt2YXIgcz1hLlViKCk7QWImJkJiKFwiZXZlbnQ6IFwiK2EudG9TdHJpbmcoKSksQ2Iocyl9fXQudGJbaV09bnVsbH1lbHNlIG49ITF9biYmKHQudGI9W10pfWZ1bmN0aW9uIHdiKHQpe3RoaXMucWE9dCx0aGlzLnNkPVtdfWZ1bmN0aW9uIEQodCxlLG4saSl7dGhpcy50eXBlPXQsdGhpcy5KYT1lLHRoaXMuWWE9bix0aGlzLkplPWksdGhpcy5OZD12b2lkIDB9ZnVuY3Rpb24gRGIodCl7cmV0dXJuIG5ldyBEKEViLHQpfWZ1bmN0aW9uIEZiKHQsZSxuLGkpe3RoaXMudGU9ZSx0aGlzLldkPW4sdGhpcy5OZD1pLHRoaXMucmQ9dH1mdW5jdGlvbiBHYih0LGUsbil7dGhpcy50ZT10LHRoaXMuZXJyb3I9ZSx0aGlzLnBhdGg9bn1mdW5jdGlvbiBzYih0LGUsbil7dGhpcy5CPXQsdGhpcy4kPWUsdGhpcy5UYj1ufWZ1bmN0aW9uIEhiKHQpe3JldHVybiB0LiR9ZnVuY3Rpb24gcmIodCxlKXtyZXR1cm4gdC4kJiYhdC5UYnx8dC5CLkhhKGUpfWZ1bmN0aW9uIEliKHQpe3RoaXMuZGc9dCx0aGlzLkFkPW51bGx9ZnVuY3Rpb24gSmIodCxlKXt0aGlzLk1mPXt9LHRoaXMuWWQ9bmV3IEliKHQpLHRoaXMuY2E9ZTt2YXIgbj0xZTQrMmU0Kk1hdGgucmFuZG9tKCk7c2V0VGltZW91dChxKHRoaXMuSGYsdGhpcyksTWF0aC5mbG9vcihuKSl9ZnVuY3Rpb24gS2IoKXt0aGlzLkRjPXt9fWZ1bmN0aW9uIExiKHQsZSxpKXtuKGkpfHwoaT0xKSx1KHQuRGMsZSl8fCh0LkRjW2VdPTApLHQuRGNbZV0rPWl9ZnVuY3Rpb24gT2IodCl7cmV0dXJuIHQ9dC50b1N0cmluZygpLE1iW3RdfHwoTWJbdF09bmV3IEtiKSxNYlt0XX1mdW5jdGlvbiBQYih0LGUpe3ZhciBuPXQudG9TdHJpbmcoKTtyZXR1cm4gTmJbbl18fChOYltuXT1lKCkpLE5iW25dfWZ1bmN0aW9uIEUodCxlKXt0aGlzLm5hbWU9dCx0aGlzLlM9ZX1mdW5jdGlvbiBRYih0LGUpe3JldHVybiBuZXcgRSh0LGUpfWZ1bmN0aW9uIFJiKHQsZSl7cmV0dXJuIFNiKHQubmFtZSxlLm5hbWUpfWZ1bmN0aW9uIFRiKHQsZSl7cmV0dXJuIFNiKHQsZSl9ZnVuY3Rpb24gVWIodCxlLG4pe3RoaXMudHlwZT1WYix0aGlzLnNvdXJjZT10LHRoaXMucGF0aD1lLHRoaXMuSWE9bn1mdW5jdGlvbiBXYih0LGUpe3RoaXMudHlwZT1YYix0aGlzLnNvdXJjZT1ZYix0aGlzLnBhdGg9dCx0aGlzLlZlPWV9ZnVuY3Rpb24gWmIodCxlKXt0aGlzLnR5cGU9JGIsdGhpcy5zb3VyY2U9dCx0aGlzLnBhdGg9ZX1mdW5jdGlvbiBhYyh0LGUpe3RoaXMuTGE9dCx0aGlzLnhhPWU/ZTpiY31mdW5jdGlvbiBjYyh0LGUpe2Zvcih2YXIgbixpPXQueGEscj1udWxsOyFpLmUoKTspe2lmKG49dC5MYShlLGkua2V5KSwwPT09bil7aWYoaS5sZWZ0LmUoKSlyZXR1cm4gcj9yLmtleTpudWxsO2ZvcihpPWkubGVmdDshaS5yaWdodC5lKCk7KWk9aS5yaWdodDtyZXR1cm4gaS5rZXl9MD5uP2k9aS5sZWZ0Om4+MCYmKHI9aSxpPWkucmlnaHQpfXRocm93IEVycm9yKFwiQXR0ZW1wdGVkIHRvIGZpbmQgcHJlZGVjZXNzb3Iga2V5IGZvciBhIG5vbmV4aXN0ZW50IGtleS4gIFdoYXQgZ2l2ZXM/XCIpfWZ1bmN0aW9uIGRjKHQsZSxuLGkscil7Zm9yKHRoaXMuUmQ9cnx8bnVsbCx0aGlzLkVlPWksdGhpcy5QYT1bXSxyPTE7IXQuZSgpOylpZihyPWU/bih0LmtleSxlKToxLGkmJihyKj0tMSksMD5yKXQ9dGhpcy5FZT90LmxlZnQ6dC5yaWdodDtlbHNle2lmKDA9PT1yKXt0aGlzLlBhLnB1c2godCk7YnJlYWt9dGhpcy5QYS5wdXNoKHQpLHQ9dGhpcy5FZT90LnJpZ2h0OnQubGVmdH19ZnVuY3Rpb24gSCh0KXtpZigwPT09dC5QYS5sZW5ndGgpcmV0dXJuIG51bGw7dmFyIGUsbj10LlBhLnBvcCgpO2lmKGU9dC5SZD90LlJkKG4ua2V5LG4udmFsdWUpOntrZXk6bi5rZXksdmFsdWU6bi52YWx1ZX0sdC5FZSlmb3Iobj1uLmxlZnQ7IW4uZSgpOyl0LlBhLnB1c2gobiksbj1uLnJpZ2h0O2Vsc2UgZm9yKG49bi5yaWdodDshbi5lKCk7KXQuUGEucHVzaChuKSxuPW4ubGVmdDtyZXR1cm4gZX1mdW5jdGlvbiBlYyh0KXtpZigwPT09dC5QYS5sZW5ndGgpcmV0dXJuIG51bGw7dmFyIGU7cmV0dXJuIGU9dC5QYSxlPWVbZS5sZW5ndGgtMV0sdC5SZD90LlJkKGUua2V5LGUudmFsdWUpOntrZXk6ZS5rZXksdmFsdWU6ZS52YWx1ZX19ZnVuY3Rpb24gZmModCxlLG4saSxyKXt0aGlzLmtleT10LHRoaXMudmFsdWU9ZSx0aGlzLmNvbG9yPW51bGwhPW4/bjohMCx0aGlzLmxlZnQ9bnVsbCE9aT9pOmJjLHRoaXMucmlnaHQ9bnVsbCE9cj9yOmJjfWZ1bmN0aW9uIGdjKHQpe3JldHVybiB0LmxlZnQuZSgpP3Q6Z2ModC5sZWZ0KX1mdW5jdGlvbiBpYyh0KXtyZXR1cm4gdC5sZWZ0LmUoKT9iYzoodC5sZWZ0LmZhKCl8fHQubGVmdC5sZWZ0LmZhKCl8fCh0PWpjKHQpKSx0PXQuWChudWxsLG51bGwsbnVsbCxpYyh0LmxlZnQpLG51bGwpLGhjKHQpKX1mdW5jdGlvbiBoYyh0KXtyZXR1cm4gdC5yaWdodC5mYSgpJiYhdC5sZWZ0LmZhKCkmJih0PW1jKHQpKSx0LmxlZnQuZmEoKSYmdC5sZWZ0LmxlZnQuZmEoKSYmKHQ9a2ModCkpLHQubGVmdC5mYSgpJiZ0LnJpZ2h0LmZhKCkmJih0PWxjKHQpKSx0fWZ1bmN0aW9uIGpjKHQpe3JldHVybiB0PWxjKHQpLHQucmlnaHQubGVmdC5mYSgpJiYodD10LlgobnVsbCxudWxsLG51bGwsbnVsbCxrYyh0LnJpZ2h0KSksdD1tYyh0KSx0PWxjKHQpKSx0fWZ1bmN0aW9uIG1jKHQpe3JldHVybiB0LnJpZ2h0LlgobnVsbCxudWxsLHQuY29sb3IsdC5YKG51bGwsbnVsbCwhMCxudWxsLHQucmlnaHQubGVmdCksbnVsbCl9ZnVuY3Rpb24ga2ModCl7cmV0dXJuIHQubGVmdC5YKG51bGwsbnVsbCx0LmNvbG9yLG51bGwsdC5YKG51bGwsbnVsbCwhMCx0LmxlZnQucmlnaHQsbnVsbCkpfWZ1bmN0aW9uIGxjKHQpe3JldHVybiB0LlgobnVsbCxudWxsLCF0LmNvbG9yLHQubGVmdC5YKG51bGwsbnVsbCwhdC5sZWZ0LmNvbG9yLG51bGwsbnVsbCksdC5yaWdodC5YKG51bGwsbnVsbCwhdC5yaWdodC5jb2xvcixudWxsLG51bGwpKX1mdW5jdGlvbiBuYygpe31mdW5jdGlvbiBvYyh0LGUpe3JldHVybiB0JiZcIm9iamVjdFwiPT10eXBlb2YgdD8oSihcIi5zdlwiaW4gdCxcIlVuZXhwZWN0ZWQgbGVhZiBub2RlIG9yIHByaW9yaXR5IGNvbnRlbnRzXCIpLGVbdFtcIi5zdlwiXV0pOnR9ZnVuY3Rpb24gcGModCxlKXt2YXIgbj1uZXcgcWM7cmV0dXJuIHJjKHQsbmV3IEsoXCJcIiksZnVuY3Rpb24odCxpKXtuLm1jKHQsc2MoaSxlKSl9KSxufWZ1bmN0aW9uIHNjKHQsZSl7dmFyIG4saT10LkEoKS5LKCksaT1vYyhpLGUpO2lmKHQuTigpKXt2YXIgcj1vYyh0LkJhKCksZSk7cmV0dXJuIHIhPT10LkJhKCl8fGkhPT10LkEoKS5LKCk/bmV3IHRjKHIsTChpKSk6dH1yZXR1cm4gbj10LGkhPT10LkEoKS5LKCkmJihuPW4uZGEobmV3IHRjKGkpKSksdC5VKE0sZnVuY3Rpb24odCxpKXt2YXIgcj1zYyhpLGUpO3IhPT1pJiYobj1uLlEodCxyKSl9KSxufWZ1bmN0aW9uIEsodCxlKXtpZigxPT1hcmd1bWVudHMubGVuZ3RoKXt0aGlzLm89dC5zcGxpdChcIi9cIik7Zm9yKHZhciBuPTAsaT0wO2k8dGhpcy5vLmxlbmd0aDtpKyspMDx0aGlzLm9baV0ubGVuZ3RoJiYodGhpcy5vW25dPXRoaXMub1tpXSxuKyspO3RoaXMuby5sZW5ndGg9bix0aGlzLlk9MH1lbHNlIHRoaXMubz10LHRoaXMuWT1lfWZ1bmN0aW9uIE4odCxlKXt2YXIgbj1PKHQpO2lmKG51bGw9PT1uKXJldHVybiBlO2lmKG49PT1PKGUpKXJldHVybiBOKEcodCksRyhlKSk7dGhyb3cgRXJyb3IoXCJJTlRFUk5BTCBFUlJPUjogaW5uZXJQYXRoIChcIitlK1wiKSBpcyBub3Qgd2l0aGluIG91dGVyUGF0aCAoXCIrdCtcIilcIil9ZnVuY3Rpb24gTyh0KXtyZXR1cm4gdC5ZPj10Lm8ubGVuZ3RoP251bGw6dC5vW3QuWV19ZnVuY3Rpb24gdWModCl7cmV0dXJuIHQuby5sZW5ndGgtdC5ZfWZ1bmN0aW9uIEcodCl7dmFyIGU9dC5ZO3JldHVybiBlPHQuby5sZW5ndGgmJmUrKyxuZXcgSyh0Lm8sZSl9ZnVuY3Rpb24gdmModCl7cmV0dXJuIHQuWTx0Lm8ubGVuZ3RoP3Qub1t0Lm8ubGVuZ3RoLTFdOm51bGx9ZnVuY3Rpb24gd2ModCxlKXt0aGlzLlFhPXQuc2xpY2UoKSx0aGlzLkVhPU1hdGgubWF4KDEsdGhpcy5RYS5sZW5ndGgpLHRoaXMua2Y9ZTtmb3IodmFyIG49MDtuPHRoaXMuUWEubGVuZ3RoO24rKyl0aGlzLkVhKz14Yyh0aGlzLlFhW25dKTt5Yyh0aGlzKX1mdW5jdGlvbiB5Yyh0KXtpZig3Njg8dC5FYSl0aHJvdyBFcnJvcih0LmtmK1wiaGFzIGEga2V5IHBhdGggbG9uZ2VyIHRoYW4gNzY4IGJ5dGVzIChcIit0LkVhK1wiKS5cIik7aWYoMzI8dC5RYS5sZW5ndGgpdGhyb3cgRXJyb3IodC5rZitcInBhdGggc3BlY2lmaWVkIGV4Y2VlZHMgdGhlIG1heGltdW0gZGVwdGggdGhhdCBjYW4gYmUgd3JpdHRlbiAoMzIpIG9yIG9iamVjdCBjb250YWlucyBhIGN5Y2xlIFwiK3pjKHQpKX1mdW5jdGlvbiB6Yyh0KXtyZXR1cm4gMD09dC5RYS5sZW5ndGg/XCJcIjpcImluIHByb3BlcnR5ICdcIit0LlFhLmpvaW4oXCIuXCIpK1wiJ1wifWZ1bmN0aW9uIEFjKCl7dGhpcy53Yz17fX1mdW5jdGlvbiBCYyh0KXt0aGlzLkVjPXQsdGhpcy5NZD1cImZpcmViYXNlOlwifWZ1bmN0aW9uIENjKHQpe3RyeXtpZihcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiZcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93W3RdKXt2YXIgZT13aW5kb3dbdF07cmV0dXJuIGUuc2V0SXRlbShcImZpcmViYXNlOnNlbnRpbmVsXCIsXCJjYWNoZVwiKSxlLnJlbW92ZUl0ZW0oXCJmaXJlYmFzZTpzZW50aW5lbFwiKSxuZXcgQmMoZSl9fWNhdGNoKG4pe31yZXR1cm4gbmV3IEFjfWZ1bmN0aW9uIEVjKHQsZSxuLGkscil7dGhpcy5ob3N0PXQudG9Mb3dlckNhc2UoKSx0aGlzLmRvbWFpbj10aGlzLmhvc3Quc3Vic3RyKHRoaXMuaG9zdC5pbmRleE9mKFwiLlwiKSsxKSx0aGlzLmxiPWUsdGhpcy5DYj1uLHRoaXMuVGc9aSx0aGlzLkxkPXJ8fFwiXCIsdGhpcy5PYT1EYy5nZXQoXCJob3N0OlwiK3QpfHx0aGlzLmhvc3R9ZnVuY3Rpb24gRmModCxlKXtlIT09dC5PYSYmKHQuT2E9ZSxcInMtXCI9PT10Lk9hLnN1YnN0cigwLDIpJiZEYy5zZXQoXCJob3N0OlwiK3QuaG9zdCx0Lk9hKSl9ZnVuY3Rpb24gSih0LGUpe2lmKCF0KXRocm93IEhjKGUpfWZ1bmN0aW9uIEhjKHQpe3JldHVybiBFcnJvcihcIkZpcmViYXNlICgyLjIuNCkgSU5URVJOQUwgQVNTRVJUIEZBSUxFRDogXCIrdCl9ZnVuY3Rpb24gSWModCl7dHJ5e3ZhciBlO2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBhdG9iKWU9YXRvYih0KTtlbHNle2diKCk7Zm9yKHZhciBuPWViLGk9W10scj0wO3I8dC5sZW5ndGg7KXt2YXIgbz1uW3QuY2hhckF0KHIrKyldLGE9cjx0Lmxlbmd0aD9uW3QuY2hhckF0KHIpXTowOysrcjt2YXIgcz1yPHQubGVuZ3RoP25bdC5jaGFyQXQocildOjY0Oysrcjt2YXIgdT1yPHQubGVuZ3RoP25bdC5jaGFyQXQocildOjY0O2lmKCsrcixudWxsPT1vfHxudWxsPT1hfHxudWxsPT1zfHxudWxsPT11KXRocm93IEVycm9yKCk7aS5wdXNoKG88PDJ8YT4+NCksNjQhPXMmJihpLnB1c2goYTw8NCYyNDB8cz4+MiksNjQhPXUmJmkucHVzaChzPDw2JjE5Mnx1KSl9aWYoODE5Mj5pLmxlbmd0aCllPVN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCxpKTtlbHNle2Zvcih0PVwiXCIsbj0wO248aS5sZW5ndGg7bis9ODE5Mil0Kz1TdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsV2EoaSxuLG4rODE5MikpO2U9dH19cmV0dXJuIGV9Y2F0Y2goaCl7QmIoXCJiYXNlNjREZWNvZGUgZmFpbGVkOiBcIixoKX1yZXR1cm4gbnVsbH1mdW5jdGlvbiBKYyh0KXt2YXIgZT1LYyh0KTt0PW5ldyBMYSx0LnVwZGF0ZShlKTt2YXIgZT1bXSxuPTgqdC5iZTs1Nj50LiRiP3QudXBkYXRlKHQuSWQsNTYtdC4kYik6dC51cGRhdGUodC5JZCx0LldhLSh0LiRiLTU2KSk7Zm9yKHZhciBpPXQuV2EtMTtpPj01NjtpLS0pdC5sZVtpXT0yNTUmbixuLz0yNTY7Zm9yKE1hKHQsdC5sZSksaT1uPTA7NT5pO2krKylmb3IodmFyIHI9MjQ7cj49MDtyLT04KWVbbl09dC5SW2ldPj5yJjI1NSwrK247cmV0dXJuIGZiKGUpfWZ1bmN0aW9uIExjKCl7Zm9yKHZhciB0PVwiXCIsZT0wO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspdD1mYShhcmd1bWVudHNbZV0pP3QrTGMuYXBwbHkobnVsbCxhcmd1bWVudHNbZV0pOlwib2JqZWN0XCI9PXR5cGVvZiBhcmd1bWVudHNbZV0/dCtCKGFyZ3VtZW50c1tlXSk6dCthcmd1bWVudHNbZV0sdCs9XCIgXCI7cmV0dXJuIHR9ZnVuY3Rpb24gQmIoKXtpZighMD09PU1jJiYoTWM9ITEsbnVsbD09PUFiJiYhMD09PVAuZ2V0KFwibG9nZ2luZ19lbmFibGVkXCIpJiZOYyghMCkpLEFiKXt2YXIgdD1MYy5hcHBseShudWxsLGFyZ3VtZW50cyk7QWIodCl9fWZ1bmN0aW9uIE9jKHQpe3JldHVybiBmdW5jdGlvbigpe0JiKHQsYXJndW1lbnRzKX19ZnVuY3Rpb24gUGMoKXtpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgY29uc29sZSl7dmFyIHQ9XCJGSVJFQkFTRSBJTlRFUk5BTCBFUlJPUjogXCIrTGMuYXBwbHkobnVsbCxhcmd1bWVudHMpO1widW5kZWZpbmVkXCIhPXR5cGVvZiBjb25zb2xlLmVycm9yP2NvbnNvbGUuZXJyb3IodCk6Y29uc29sZS5sb2codCl9fWZ1bmN0aW9uIFFjKCl7dmFyIHQ9TGMuYXBwbHkobnVsbCxhcmd1bWVudHMpO3Rocm93IEVycm9yKFwiRklSRUJBU0UgRkFUQUwgRVJST1I6IFwiK3QpfWZ1bmN0aW9uIFEoKXtpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgY29uc29sZSl7dmFyIHQ9XCJGSVJFQkFTRSBXQVJOSU5HOiBcIitMYy5hcHBseShudWxsLGFyZ3VtZW50cyk7XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGNvbnNvbGUud2Fybj9jb25zb2xlLndhcm4odCk6Y29uc29sZS5sb2codCl9fWZ1bmN0aW9uIFJjKHQpe3ZhciBlPVwiXCIsbj1cIlwiLGk9XCJcIixyPVwiXCIsbz0hMCxhPVwiaHR0cHNcIixzPTQ0MztpZihwKHQpKXt2YXIgdT10LmluZGV4T2YoXCIvL1wiKTtmb3IodT49MCYmKGE9dC5zdWJzdHJpbmcoMCx1LTEpLHQ9dC5zdWJzdHJpbmcodSsyKSksdT10LmluZGV4T2YoXCIvXCIpLC0xPT09dSYmKHU9dC5sZW5ndGgpLGU9dC5zdWJzdHJpbmcoMCx1KSxyPVwiXCIsdD10LnN1YnN0cmluZyh1KS5zcGxpdChcIi9cIiksdT0wO3U8dC5sZW5ndGg7dSsrKWlmKDA8dFt1XS5sZW5ndGgpe3ZhciBoPXRbdV07dHJ5e2g9ZGVjb2RlVVJJQ29tcG9uZW50KGgucmVwbGFjZSgvXFwrL2csXCIgXCIpKX1jYXRjaChjKXt9cis9XCIvXCIraH10PWUuc3BsaXQoXCIuXCIpLDM9PT10Lmxlbmd0aD8obj10WzFdLGk9dFswXS50b0xvd2VyQ2FzZSgpKToyPT09dC5sZW5ndGgmJihuPXRbMF0pLHU9ZS5pbmRleE9mKFwiOlwiKSx1Pj0wJiYobz1cImh0dHBzXCI9PT1hfHxcIndzc1wiPT09YSxzPWUuc3Vic3RyaW5nKHUrMSksaXNGaW5pdGUocykmJihzPVN0cmluZyhzKSkscz1wKHMpPy9eXFxzKi0/MHgvaS50ZXN0KHMpP3BhcnNlSW50KHMsMTYpOnBhcnNlSW50KHMsMTApOjAvMCl9cmV0dXJue2hvc3Q6ZSxwb3J0OnMsZG9tYWluOm4sUWc6aSxsYjpvLHNjaGVtZTphLFpjOnJ9fWZ1bmN0aW9uIFNjKHQpe3JldHVybiBnYSh0KSYmKHQhPXR8fHQ9PU51bWJlci5QT1NJVElWRV9JTkZJTklUWXx8dD09TnVtYmVyLk5FR0FUSVZFX0lORklOSVRZKX1mdW5jdGlvbiBUYyh0KXtpZihcImNvbXBsZXRlXCI9PT1kb2N1bWVudC5yZWFkeVN0YXRlKXQoKTtlbHNle3ZhciBlPSExLG49ZnVuY3Rpb24oKXtkb2N1bWVudC5ib2R5P2V8fChlPSEwLHQoKSk6c2V0VGltZW91dChuLE1hdGguZmxvb3IoMTApKX07ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcj8oZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIixuLCExKSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIixuLCExKSk6ZG9jdW1lbnQuYXR0YWNoRXZlbnQmJihkb2N1bWVudC5hdHRhY2hFdmVudChcIm9ucmVhZHlzdGF0ZWNoYW5nZVwiLGZ1bmN0aW9uKCl7XCJjb21wbGV0ZVwiPT09ZG9jdW1lbnQucmVhZHlTdGF0ZSYmbigpfSksd2luZG93LmF0dGFjaEV2ZW50KFwib25sb2FkXCIsbikpfX1mdW5jdGlvbiBTYih0LGUpe2lmKHQ9PT1lKXJldHVybiAwO2lmKFwiW01JTl9OQU1FXVwiPT09dHx8XCJbTUFYX05BTUVdXCI9PT1lKXJldHVybi0xO2lmKFwiW01JTl9OQU1FXVwiPT09ZXx8XCJbTUFYX05BTUVdXCI9PT10KXJldHVybiAxO3ZhciBuPVVjKHQpLGk9VWMoZSk7cmV0dXJuIG51bGwhPT1uP251bGwhPT1pPzA9PW4taT90Lmxlbmd0aC1lLmxlbmd0aDpuLWk6LTE6bnVsbCE9PWk/MTplPnQ/LTE6MX1mdW5jdGlvbiBWYyh0LGUpe2lmKGUmJnQgaW4gZSlyZXR1cm4gZVt0XTt0aHJvdyBFcnJvcihcIk1pc3NpbmcgcmVxdWlyZWQga2V5IChcIit0K1wiKSBpbiBvYmplY3Q6IFwiK0IoZSkpfWZ1bmN0aW9uIFdjKHQpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiB0fHxudWxsPT09dClyZXR1cm4gQih0KTt2YXIgZSxuPVtdO2ZvcihlIGluIHQpbi5wdXNoKGUpO24uc29ydCgpLGU9XCJ7XCI7Zm9yKHZhciBpPTA7aTxuLmxlbmd0aDtpKyspMCE9PWkmJihlKz1cIixcIiksZSs9QihuW2ldKSxlKz1cIjpcIixlKz1XYyh0W25baV1dKTtyZXR1cm4gZStcIn1cIn1mdW5jdGlvbiBYYyh0LGUpe2lmKHQubGVuZ3RoPD1lKXJldHVyblt0XTtmb3IodmFyIG49W10saT0wO2k8dC5sZW5ndGg7aSs9ZSluLnB1c2goaStlPnQ/dC5zdWJzdHJpbmcoaSx0Lmxlbmd0aCk6dC5zdWJzdHJpbmcoaSxpK2UpKTtyZXR1cm4gbn1mdW5jdGlvbiBZYyh0LGUpe2lmKGVhKHQpKWZvcih2YXIgbj0wO248dC5sZW5ndGg7KytuKWUobix0W25dKTtlbHNlIHIodCxlKX1mdW5jdGlvbiBaYyh0KXtKKCFTYyh0KSxcIkludmFsaWQgSlNPTiBudW1iZXJcIik7dmFyIGUsbixpLHI7Zm9yKDA9PT10PyhpPW49MCxlPS0oMS8wKT09PTEvdD8xOjApOihlPTA+dCx0PU1hdGguYWJzKHQpLHQ+PU1hdGgucG93KDIsLTEwMjIpPyhpPU1hdGgubWluKE1hdGguZmxvb3IoTWF0aC5sb2codCkvTWF0aC5MTjIpLDEwMjMpLG49aSsxMDIzLGk9TWF0aC5yb3VuZCh0Kk1hdGgucG93KDIsNTItaSktTWF0aC5wb3coMiw1MikpKToobj0wLGk9TWF0aC5yb3VuZCh0L01hdGgucG93KDIsLTEwNzQpKSkpLHI9W10sdD01Mjt0Oy0tdClyLnB1c2goaSUyPzE6MCksaT1NYXRoLmZsb29yKGkvMik7Zm9yKHQ9MTE7dDstLXQpci5wdXNoKG4lMj8xOjApLG49TWF0aC5mbG9vcihuLzIpO2ZvcihyLnB1c2goZT8xOjApLHIucmV2ZXJzZSgpLGU9ci5qb2luKFwiXCIpLG49XCJcIix0PTA7NjQ+dDt0Kz04KWk9cGFyc2VJbnQoZS5zdWJzdHIodCw4KSwyKS50b1N0cmluZygxNiksMT09PWkubGVuZ3RoJiYoaT1cIjBcIitpKSxuKz1pO3JldHVybiBuLnRvTG93ZXJDYXNlKCl9ZnVuY3Rpb24gVWModCl7cmV0dXJuICRjLnRlc3QodCkmJih0PU51bWJlcih0KSx0Pj0tMjE0NzQ4MzY0OCYmMjE0NzQ4MzY0Nz49dCk/dDpudWxsfWZ1bmN0aW9uIENiKHQpe3RyeXt0KCl9Y2F0Y2goZSl7c2V0VGltZW91dChmdW5jdGlvbigpe3Rocm93IFEoXCJFeGNlcHRpb24gd2FzIHRocm93biBieSB1c2VyIGNhbGxiYWNrLlwiLGUuc3RhY2t8fFwiXCIpLGV9LE1hdGguZmxvb3IoMCkpfX1mdW5jdGlvbiBSKHQpe2lmKGhhKHQpKXt2YXIgZT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSkuc2xpY2UoKTtDYihmdW5jdGlvbigpe3QuYXBwbHkobnVsbCxlKX0pfX1mdW5jdGlvbiBLYyh0KXtmb3IodmFyIGU9W10sbj0wLGk9MDtpPHQubGVuZ3RoO2krKyl7dmFyIHI9dC5jaGFyQ29kZUF0KGkpO3I+PTU1Mjk2JiY1NjMxOT49ciYmKHItPTU1Mjk2LGkrKyxKKGk8dC5sZW5ndGgsXCJTdXJyb2dhdGUgcGFpciBtaXNzaW5nIHRyYWlsIHN1cnJvZ2F0ZS5cIikscj02NTUzNisocjw8MTApKyh0LmNoYXJDb2RlQXQoaSktNTYzMjApKSwxMjg+cj9lW24rK109cjooMjA0OD5yP2VbbisrXT1yPj42fDE5MjooNjU1MzY+cj9lW24rK109cj4+MTJ8MjI0OihlW24rK109cj4+MTh8MjQwLGVbbisrXT1yPj4xMiY2M3wxMjgpLGVbbisrXT1yPj42JjYzfDEyOCksZVtuKytdPTYzJnJ8MTI4KX1yZXR1cm4gZX1mdW5jdGlvbiB4Yyh0KXtmb3IodmFyIGU9MCxuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciBpPXQuY2hhckNvZGVBdChuKTsxMjg+aT9lKys6MjA0OD5pP2UrPTI6aT49NTUyOTYmJjU2MzE5Pj1pPyhlKz00LG4rKyk6ZSs9M31yZXR1cm4gZX1mdW5jdGlvbiBhZCh0KXt2YXIgZT17fSxuPXt9LGk9e30scj1cIlwiO3RyeXt2YXIgbz10LnNwbGl0KFwiLlwiKSxlPW1iKEljKG9bMF0pfHxcIlwiKSxuPW1iKEljKG9bMV0pfHxcIlwiKSxyPW9bMl0saT1uLmR8fHt9O2RlbGV0ZSBuLmR9Y2F0Y2goYSl7fXJldHVybntXZzplLEFjOm4sZGF0YTppLE5nOnJ9fWZ1bmN0aW9uIGJkKHQpe3JldHVybiB0PWFkKHQpLkFjLFwib2JqZWN0XCI9PXR5cGVvZiB0JiZ0Lmhhc093blByb3BlcnR5KFwiaWF0XCIpP3codCxcImlhdFwiKTpudWxsfWZ1bmN0aW9uIGNkKHQpe3Q9YWQodCk7dmFyIGU9dC5BYztyZXR1cm4hIXQuTmcmJiEhZSYmXCJvYmplY3RcIj09dHlwZW9mIGUmJmUuaGFzT3duUHJvcGVydHkoXCJpYXRcIil9ZnVuY3Rpb24gZGQodCl7dGhpcy5WPXQsdGhpcy5nPXQubi5nfWZ1bmN0aW9uIGVkKHQsZSxuLGkpe3ZhciByPVtdLG89W107cmV0dXJuIE9hKGUsZnVuY3Rpb24oZSl7XCJjaGlsZF9jaGFuZ2VkXCI9PT1lLnR5cGUmJnQuZy54ZChlLkplLGUuSmEpJiZvLnB1c2gobmV3IEQoXCJjaGlsZF9tb3ZlZFwiLGUuSmEsZS5ZYSkpfSksZmQodCxyLFwiY2hpbGRfcmVtb3ZlZFwiLGUsaSxuKSxmZCh0LHIsXCJjaGlsZF9hZGRlZFwiLGUsaSxuKSxmZCh0LHIsXCJjaGlsZF9tb3ZlZFwiLG8saSxuKSxmZCh0LHIsXCJjaGlsZF9jaGFuZ2VkXCIsZSxpLG4pLGZkKHQscixFYixlLGksbikscn1mdW5jdGlvbiBmZCh0LGUsbixpLHIsbyl7aT1QYShpLGZ1bmN0aW9uKHQpe3JldHVybiB0LnR5cGU9PT1ufSksWGEoaSxxKHQuZWcsdCkpLE9hKGksZnVuY3Rpb24obil7dmFyIGk9Z2QodCxuLG8pO09hKHIsZnVuY3Rpb24ocil7ci5KZihuLnR5cGUpJiZlLnB1c2goci5jcmVhdGVFdmVudChpLHQuVikpfSl9KX1mdW5jdGlvbiBnZCh0LGUsbil7cmV0dXJuXCJ2YWx1ZVwiIT09ZS50eXBlJiZcImNoaWxkX3JlbW92ZWRcIiE9PWUudHlwZSYmKGUuTmQ9bi5xZihlLllhLGUuSmEsdC5nKSksZX1mdW5jdGlvbiBoZCgpe3RoaXMuZWI9e319ZnVuY3Rpb24gaWQodCxlKXt2YXIgbj1lLnR5cGUsaT1lLllhO0ooXCJjaGlsZF9hZGRlZFwiPT1ufHxcImNoaWxkX2NoYW5nZWRcIj09bnx8XCJjaGlsZF9yZW1vdmVkXCI9PW4sXCJPbmx5IGNoaWxkIGNoYW5nZXMgc3VwcG9ydGVkIGZvciB0cmFja2luZ1wiKSxKKFwiLnByaW9yaXR5XCIhPT1pLFwiT25seSBub24tcHJpb3JpdHkgY2hpbGQgY2hhbmdlcyBjYW4gYmUgdHJhY2tlZC5cIik7dmFyIHI9dyh0LmViLGkpO2lmKHIpe3ZhciBvPXIudHlwZTtpZihcImNoaWxkX2FkZGVkXCI9PW4mJlwiY2hpbGRfcmVtb3ZlZFwiPT1vKXQuZWJbaV09bmV3IEQoXCJjaGlsZF9jaGFuZ2VkXCIsZS5KYSxpLHIuSmEpO2Vsc2UgaWYoXCJjaGlsZF9yZW1vdmVkXCI9PW4mJlwiY2hpbGRfYWRkZWRcIj09bylkZWxldGUgdC5lYltpXTtlbHNlIGlmKFwiY2hpbGRfcmVtb3ZlZFwiPT1uJiZcImNoaWxkX2NoYW5nZWRcIj09byl0LmViW2ldPW5ldyBEKFwiY2hpbGRfcmVtb3ZlZFwiLHIuSmUsaSk7ZWxzZSBpZihcImNoaWxkX2NoYW5nZWRcIj09biYmXCJjaGlsZF9hZGRlZFwiPT1vKXQuZWJbaV09bmV3IEQoXCJjaGlsZF9hZGRlZFwiLGUuSmEsaSk7ZWxzZXtpZihcImNoaWxkX2NoYW5nZWRcIiE9bnx8XCJjaGlsZF9jaGFuZ2VkXCIhPW8pdGhyb3cgSGMoXCJJbGxlZ2FsIGNvbWJpbmF0aW9uIG9mIGNoYW5nZXM6IFwiK2UrXCIgb2NjdXJyZWQgYWZ0ZXIgXCIrcik7dC5lYltpXT1uZXcgRChcImNoaWxkX2NoYW5nZWRcIixlLkphLGksci5KZSl9fWVsc2UgdC5lYltpXT1lfWZ1bmN0aW9uIGpkKHQsZSxuKXt0aGlzLlBiPXQsdGhpcy5xYj1lLHRoaXMuc2I9bnx8bnVsbH1mdW5jdGlvbiBrZCh0LGUsbil7dGhpcy5nYT10LHRoaXMucWI9ZSx0aGlzLnNiPW59ZnVuY3Rpb24gbGQodCl7dGhpcy5nPXR9ZnVuY3Rpb24gbWQodCl7dGhpcy5BZT1uZXcgbGQodC5nKSx0aGlzLmc9dC5nO3ZhciBlO3QubGE/KGU9bmQodCksZT10LmcuT2Mob2QodCksZSkpOmU9dC5nLlNjKCksdGhpcy5kZD1lLHQubmE/KGU9cGQodCksdD10LmcuT2MocWQodCksZSkpOnQ9dC5nLlBjKCksdGhpcy5GYz10fWZ1bmN0aW9uIHJkKHQpe3RoaXMucmE9bmV3IG1kKHQpLHRoaXMuZz10LmcsSih0LmlhLFwiT25seSB2YWxpZCBpZiBsaW1pdCBoYXMgYmVlbiBzZXRcIiksdGhpcy5qYT10LmphLHRoaXMuSmI9IXNkKHQpfWZ1bmN0aW9uIHRkKHQsZSxuLGkscixvKXt2YXIgYTtpZih0LkpiKXt2YXIgcz11ZCh0LmcpO2E9ZnVuY3Rpb24odCxlKXtyZXR1cm4gcyhlLHQpfX1lbHNlIGE9dWQodC5nKTtKKGUuRGIoKT09dC5qYSxcIlwiKTt2YXIgdT1uZXcgRShuLGkpLGg9dC5KYj93ZChlLHQuZyk6eGQoZSx0LmcpLGM9dC5yYS5tYXRjaGVzKHUpO2lmKGUuSGEobikpe3ZhciBmPWUuTShuKSxoPXIueGUodC5nLGgsdC5KYik7cmV0dXJuIG51bGwhPWgmJmgubmFtZT09biYmKGg9ci54ZSh0LmcsaCx0LkpiKSkscj1udWxsPT1oPzE6YShoLHUpLGMmJiFpLmUoKSYmcj49MD8obnVsbCE9byYmaWQobyxuZXcgRChcImNoaWxkX2NoYW5nZWRcIixpLG4sZikpLGUuUShuLGkpKToobnVsbCE9byYmaWQobyxuZXcgRChcImNoaWxkX3JlbW92ZWRcIixmLG4pKSxlPWUuUShuLEMpLG51bGwhPWgmJnQucmEubWF0Y2hlcyhoKT8obnVsbCE9byYmaWQobyxuZXcgRChcImNoaWxkX2FkZGVkXCIsaC5TLGgubmFtZSkpLGUuUShoLm5hbWUsaC5TKSk6ZSl9cmV0dXJuIGkuZSgpP2U6YyYmMDw9YShoLHUpPyhudWxsIT1vJiYoaWQobyxuZXcgRChcImNoaWxkX3JlbW92ZWRcIixoLlMsaC5uYW1lKSksaWQobyxuZXcgRChcImNoaWxkX2FkZGVkXCIsaSxuKSkpLGUuUShuLGkpLlEoaC5uYW1lLEMpKTplfWZ1bmN0aW9uIHlkKHQsZSl7dGhpcy5oZT10LHRoaXMuY2c9ZX1mdW5jdGlvbiB6ZCh0KXt0aGlzLkk9dH1mdW5jdGlvbiBIZCh0LGUsbixpLHIsbyl7dmFyIGE9ZS5EO2lmKG51bGwhPWkuc2MobikpcmV0dXJuIGU7dmFyIHM7aWYobi5lKCkpSihIYihlLnUoKSksXCJJZiBjaGFuZ2UgcGF0aCBpcyBlbXB0eSwgd2UgbXVzdCBoYXZlIGNvbXBsZXRlIHNlcnZlciBkYXRhXCIpLGUudSgpLlRiPyhyPXRiKGUpLGk9aS54YyhyIGluc3RhbmNlb2YgVD9yOkMpKTppPWkudWEodGIoZSkpLG89dC5JLnRhKGUuRC5qKCksaSxvKTtlbHNle3ZhciB1PU8obik7aWYoXCIucHJpb3JpdHlcIj09dSlKKDE9PXVjKG4pLFwiQ2FuJ3QgaGF2ZSBhIHByaW9yaXR5IHdpdGggYWRkaXRpb25hbCBwYXRoIGNvbXBvbmVudHNcIiksbz1hLmooKSxzPWUudSgpLmooKSxpPWkuaGQobixvLHMpLG89bnVsbCE9aT90LkkuZGEobyxpKTphLmooKTtlbHNle3ZhciBoPUcobik7cmIoYSx1KT8ocz1lLnUoKS5qKCksaT1pLmhkKG4sYS5qKCkscyksaT1udWxsIT1pP2EuaigpLk0odSkuRyhoLGkpOmEuaigpLk0odSkpOmk9aS5YYSh1LGUudSgpKSxvPW51bGwhPWk/dC5JLkcoYS5qKCksdSxpLHIsbyk6YS5qKCl9fXJldHVybiBGZChlLG8sYS4kfHxuLmUoKSx0LkkuR2EoKSl9ZnVuY3Rpb24gQmQodCxlLG4saSxyLG8sYSxzKXt2YXIgdT1lLnUoKTtpZihhPWE/dC5JOnQuSS5WYigpLG4uZSgpKWk9YS50YSh1LmooKSxpLG51bGwpO2Vsc2UgaWYoYS5HYSgpJiYhdS5UYilpPXUuaigpLkcobixpKSxpPWEudGEodS5qKCksaSxudWxsKTtlbHNle3ZhciBoPU8obik7aWYoKG4uZSgpPyF1LiR8fHUuVGI6IXJiKHUsTyhuKSkpJiYxPHVjKG4pKXJldHVybiBlO2k9dS5qKCkuTShoKS5HKEcobiksaSksaT1cIi5wcmlvcml0eVwiPT1oP2EuZGEodS5qKCksaSk6YS5HKHUuaigpLGgsaSxwYixudWxsKX1yZXR1cm4gdT11LiR8fG4uZSgpLGU9bmV3IElkKGUuRCxuZXcgc2IoaSx1LGEuR2EoKSkpLEhkKHQsZSxuLHIsbmV3IHFiKHIsZSxvKSxzKX1mdW5jdGlvbiBBZCh0LGUsbixpLHIsbyxhKXt2YXIgcz1lLkQ7aWYocj1uZXcgcWIocixlLG8pLG4uZSgpKWE9dC5JLnRhKGUuRC5qKCksaSxhKSx0PUZkKGUsYSwhMCx0LkkuR2EoKSk7ZWxzZSBpZihvPU8obiksXCIucHJpb3JpdHlcIj09PW8pYT10LkkuZGEoZS5ELmooKSxpKSx0PUZkKGUsYSxzLiQscy5UYik7ZWxzZXt2YXIgdT1HKG4pO2lmKG49cy5qKCkuTShvKSwhdS5lKCkpe3ZhciBoPXIucGYobyk7aT1udWxsIT1oP1wiLnByaW9yaXR5XCI9PT12Yyh1KSYmaC5vYSh1LnBhcmVudCgpKS5lKCk/aDpoLkcodSxpKTpDfW4uWihpKT90PWU6KGE9dC5JLkcocy5qKCksbyxpLHIsYSksdD1GZChlLGEscy4kLHQuSS5HYSgpKSl9cmV0dXJuIHR9ZnVuY3Rpb24gRGQodCxlLG4saSxyLG8sYSl7dmFyIHM9ZTtyZXR1cm4gS2QoaSxmdW5jdGlvbihpLHUpe3ZhciBoPW4udyhpKTtyYihlLkQsTyhoKSkmJihzPUFkKHQscyxoLHUscixvLGEpKX0pLEtkKGksZnVuY3Rpb24oaSx1KXt2YXIgaD1uLncoaSk7cmIoZS5ELE8oaCkpfHwocz1BZCh0LHMsaCx1LHIsbyxhKSl9KSxzfWZ1bmN0aW9uIExkKHQsZSl7cmV0dXJuIEtkKGUsZnVuY3Rpb24oZSxuKXt0PXQuRyhlLG4pfSksdH1mdW5jdGlvbiBFZCh0LGUsbixpLHIsbyxhLHMpe2lmKGUudSgpLmooKS5lKCkmJiFIYihlLnUoKSkpcmV0dXJuIGU7dmFyIHU9ZTtuPW4uZSgpP2k6TWQoTmQsbixpKTt2YXIgaD1lLnUoKS5qKCk7cmV0dXJuIG4uY2hpbGRyZW4uaGEoZnVuY3Rpb24obixpKXtpZihoLkhhKG4pKXt2YXIgYz1lLnUoKS5qKCkuTShuKSxjPUxkKGMsaSk7dT1CZCh0LHUsbmV3IEsobiksYyxyLG8sYSxzKX19KSxuLmNoaWxkcmVuLmhhKGZ1bmN0aW9uKG4saSl7dmFyIGM9IUhiKGUudSgpKSYmbnVsbD09aS52YWx1ZTtoLkhhKG4pfHxjfHwoYz1lLnUoKS5qKCkuTShuKSxjPUxkKGMsaSksdT1CZCh0LHUsbmV3IEsobiksYyxyLG8sYSxzKSl9KSx1fWZ1bmN0aW9uIEdkKHQsZSxuLGkscixvKXtpZihudWxsIT1pLnNjKG4pKXJldHVybiBlO3ZhciBhPW5ldyBxYihpLGUscikscz1yPWUuRC5qKCk7aWYoSGIoZS51KCkpKXtpZihuLmUoKSlyPWkudWEodGIoZSkpLHM9dC5JLnRhKGUuRC5qKCkscixvKTtlbHNlIGlmKFwiLnByaW9yaXR5XCI9PT1PKG4pKXt2YXIgdT1pLlhhKE8obiksZS51KCkpO251bGw9PXV8fHIuZSgpfHxyLkEoKS5aKHUpfHwocz10LkkuZGEocix1KSl9ZWxzZSB1PU8obikscj1pLlhhKHUsZS51KCkpLG51bGwhPXImJihzPXQuSS5HKGUuRC5qKCksdSxyLGEsbykpO3I9ITB9ZWxzZSBlLkQuJHx8bi5lKCk/KHM9cixyPWUuRC5qKCksci5OKCl8fHIuVShNLGZ1bmN0aW9uKG4pe3ZhciByPWkuWGEobixlLnUoKSk7bnVsbCE9ciYmKHM9dC5JLkcocyxuLHIsYSxvKSl9KSxyPWUuRC4kKToodT1PKG4pLCgxPT11YyhuKXx8cmIoZS5ELHUpKSYmKG49aS5YYSh1LGUudSgpKSxudWxsIT1uJiYocz10LkkuRyhyLHUsbixhLG8pKSkscj0hMSk7cmV0dXJuIEZkKGUscyxyLHQuSS5HYSgpKX1mdW5jdGlvbiBPZCgpe31mdW5jdGlvbiB1ZCh0KXtyZXR1cm4gcSh0LmNvbXBhcmUsdCl9ZnVuY3Rpb24gUmQodCl7dGhpcy5iYz10fWZ1bmN0aW9uIFRkKCl7fWZ1bmN0aW9uIFVkKCl7fWZ1bmN0aW9uIFdkKCl7fWZ1bmN0aW9uIFpkKCl7dGhpcy5SYj10aGlzLm5hPXRoaXMuTGI9dGhpcy5sYT10aGlzLmlhPSExLHRoaXMuamE9MCx0aGlzLk5iPVwiXCIsdGhpcy5kYz1udWxsLHRoaXMueGI9XCJcIix0aGlzLmFjPW51bGwsdGhpcy52Yj1cIlwiLHRoaXMuZz1NfWZ1bmN0aW9uIHNkKHQpe3JldHVyblwiXCI9PT10Lk5iP3QubGE6XCJsXCI9PT10Lk5ifWZ1bmN0aW9uIG9kKHQpe3JldHVybiBKKHQubGEsXCJPbmx5IHZhbGlkIGlmIHN0YXJ0IGhhcyBiZWVuIHNldFwiKSx0LmRjfWZ1bmN0aW9uIG5kKHQpe3JldHVybiBKKHQubGEsXCJPbmx5IHZhbGlkIGlmIHN0YXJ0IGhhcyBiZWVuIHNldFwiKSx0LkxiP3QueGI6XCJbTUlOX05BTUVdXCJ9ZnVuY3Rpb24gcWQodCl7cmV0dXJuIEoodC5uYSxcIk9ubHkgdmFsaWQgaWYgZW5kIGhhcyBiZWVuIHNldFwiKSx0LmFjfWZ1bmN0aW9uIHBkKHQpe3JldHVybiBKKHQubmEsXCJPbmx5IHZhbGlkIGlmIGVuZCBoYXMgYmVlbiBzZXRcIiksdC5SYj90LnZiOlwiW01BWF9OQU1FXVwifWZ1bmN0aW9uIGFlKHQpe3ZhciBlPW5ldyBaZDtyZXR1cm4gZS5pYT10LmlhLGUuamE9dC5qYSxlLmxhPXQubGEsZS5kYz10LmRjLGUuTGI9dC5MYixlLnhiPXQueGIsZS5uYT10Lm5hLGUuYWM9dC5hYyxlLlJiPXQuUmIsZS52Yj10LnZiLGUuZz10LmcsZX1mdW5jdGlvbiBiZSh0LGUpe3ZhciBuPWFlKHQpO3JldHVybiBuLmc9ZSxufWZ1bmN0aW9uIGNlKHQpe3ZhciBlPXt9O2lmKHQubGEmJihlLnNwPXQuZGMsdC5MYiYmKGUuc249dC54YikpLHQubmEmJihlLmVwPXQuYWMsdC5SYiYmKGUuZW49dC52YikpLHQuaWEpe2UubD10LmphO3ZhciBuPXQuTmI7XCJcIj09PW4mJihuPXNkKHQpP1wibFwiOlwiclwiKSxlLnZmPW59cmV0dXJuIHQuZyE9PU0mJihlLmk9dC5nLnRvU3RyaW5nKCkpLGV9ZnVuY3Rpb24gZGUodCl7cmV0dXJuISh0LmxhfHx0Lm5hfHx0LmlhKX1mdW5jdGlvbiBlZSh0KXt2YXIgZT17fTtpZihkZSh0KSYmdC5nPT1NKXJldHVybiBlO3ZhciBuO3JldHVybiB0Lmc9PT1NP249XCIkcHJpb3JpdHlcIjp0Lmc9PT1ZZD9uPVwiJHZhbHVlXCI6KEoodC5nIGluc3RhbmNlb2YgUmQsXCJVbnJlY29nbml6ZWQgaW5kZXggdHlwZSFcIiksbj10LmcudG9TdHJpbmcoKSksZS5vcmRlckJ5PUIobiksdC5sYSYmKGUuc3RhcnRBdD1CKHQuZGMpLHQuTGImJihlLnN0YXJ0QXQrPVwiLFwiK0IodC54YikpKSx0Lm5hJiYoZS5lbmRBdD1CKHQuYWMpLHQuUmImJihlLmVuZEF0Kz1cIixcIitCKHQudmIpKSksdC5pYSYmKHNkKHQpP2UubGltaXRUb0ZpcnN0PXQuamE6ZS5saW1pdFRvTGFzdD10LmphKSxlfWZ1bmN0aW9uIGZlKHQsZSl7dGhpcy55ZD10LHRoaXMuY2M9ZX1mdW5jdGlvbiBnZSh0LGUsbil7dmFyIGk9bmEodC55ZCxmdW5jdGlvbihpLHIpe3ZhciBvPXcodC5jYyxyKTtpZihKKG8sXCJNaXNzaW5nIGluZGV4IGltcGxlbWVudGF0aW9uIGZvciBcIityKSxpPT09UGQpe2lmKG8uSGMoZS5TKSl7Zm9yKHZhciBhPVtdLHM9bi5XYihRYiksdT1IKHMpO3U7KXUubmFtZSE9ZS5uYW1lJiZhLnB1c2godSksdT1IKHMpO3JldHVybiBhLnB1c2goZSksaGUoYSx1ZChvKSl9cmV0dXJuIFBkfXJldHVybiBvPW4uZ2V0KGUubmFtZSksYT1pLG8mJihhPWEucmVtb3ZlKG5ldyBFKGUubmFtZSxvKSkpLGEuTmEoZSxlLlMpfSk7cmV0dXJuIG5ldyBmZShpLHQuY2MpfWZ1bmN0aW9uIGllKHQsZSxuKXt2YXIgaT1uYSh0LnlkLGZ1bmN0aW9uKHQpe2lmKHQ9PT1QZClyZXR1cm4gdDt2YXIgaT1uLmdldChlLm5hbWUpO3JldHVybiBpP3QucmVtb3ZlKG5ldyBFKGUubmFtZSxpKSk6dH0pO3JldHVybiBuZXcgZmUoaSx0LmNjKX1mdW5jdGlvbiB0Yyh0LGUpe3RoaXMuQz10LEoobih0aGlzLkMpJiZudWxsIT09dGhpcy5DLFwiTGVhZk5vZGUgc2hvdWxkbid0IGJlIGNyZWF0ZWQgd2l0aCBudWxsL3VuZGVmaW5lZCB2YWx1ZS5cIiksdGhpcy5iYT1lfHxDLGtlKHRoaXMuYmEpLHRoaXMuQmI9bnVsbH1mdW5jdGlvbiBUKHQsZSxuKXt0aGlzLm09dCwodGhpcy5iYT1lKSYma2UodGhpcy5iYSksdC5lKCkmJkooIXRoaXMuYmF8fHRoaXMuYmEuZSgpLFwiQW4gZW1wdHkgbm9kZSBjYW5ub3QgaGF2ZSBhIHByaW9yaXR5XCIpLHRoaXMud2I9bix0aGlzLkJiPW51bGx9ZnVuY3Rpb24gd2QodCxlKXt2YXIgbjtyZXR1cm4gbj0obj1vZSh0LGUpKT8obj1uLlJjKCkpJiZuLm5hbWU6dC5tLlJjKCksbj9uZXcgRShuLHQubS5nZXQobikpOm51bGx9ZnVuY3Rpb24geGQodCxlKXt2YXIgbjtyZXR1cm4gbj0obj1vZSh0LGUpKT8obj1uLmVjKCkpJiZuLm5hbWU6dC5tLmVjKCksbj9uZXcgRShuLHQubS5nZXQobikpOm51bGx9ZnVuY3Rpb24gb2UodCxlKXtyZXR1cm4gZT09PVZkP251bGw6dC53Yi5nZXQoZS50b1N0cmluZygpKX1mdW5jdGlvbiBMKHQsZSl7aWYobnVsbD09PXQpcmV0dXJuIEM7dmFyIG49bnVsbDtpZihcIm9iamVjdFwiPT10eXBlb2YgdCYmXCIucHJpb3JpdHlcImluIHQ/bj10W1wiLnByaW9yaXR5XCJdOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBlJiYobj1lKSxKKG51bGw9PT1ufHxcInN0cmluZ1wiPT10eXBlb2Ygbnx8XCJudW1iZXJcIj09dHlwZW9mIG58fFwib2JqZWN0XCI9PXR5cGVvZiBuJiZcIi5zdlwiaW4gbixcIkludmFsaWQgcHJpb3JpdHkgdHlwZSBmb3VuZDogXCIrdHlwZW9mIG4pLFwib2JqZWN0XCI9PXR5cGVvZiB0JiZcIi52YWx1ZVwiaW4gdCYmbnVsbCE9PXRbXCIudmFsdWVcIl0mJih0PXRbXCIudmFsdWVcIl0pLFwib2JqZWN0XCIhPXR5cGVvZiB0fHxcIi5zdlwiaW4gdClyZXR1cm4gbmV3IHRjKHQsTChuKSk7aWYodCBpbnN0YW5jZW9mIEFycmF5KXt2YXIgaT1DLG89dDtyZXR1cm4gcihvLGZ1bmN0aW9uKHQsZSl7aWYodShvLGUpJiZcIi5cIiE9PWUuc3Vic3RyaW5nKDAsMSkpe3ZhciBuPUwodCk7KG4uTigpfHwhbi5lKCkpJiYoaT1pLlEoZSxuKSl9fSksaS5kYShMKG4pKX12YXIgYT1bXSxzPSExLGg9dDtpZihoYihoLGZ1bmN0aW9uKHQpe2lmKFwic3RyaW5nXCIhPXR5cGVvZiB0fHxcIi5cIiE9PXQuc3Vic3RyaW5nKDAsMSkpe3ZhciBlPUwoaFt0XSk7ZS5lKCl8fChzPXN8fCFlLkEoKS5lKCksYS5wdXNoKG5ldyBFKHQsZSkpKX19KSwwPT1hLmxlbmd0aClyZXR1cm4gQzt2YXIgYz1oZShhLFJiLGZ1bmN0aW9uKHQpe3JldHVybiB0Lm5hbWV9LFRiKTtpZihzKXt2YXIgZj1oZShhLHVkKE0pKTtyZXR1cm4gbmV3IFQoYyxMKG4pLG5ldyBmZSh7XCIucHJpb3JpdHlcIjpmfSx7XCIucHJpb3JpdHlcIjpNfSkpfXJldHVybiBuZXcgVChjLEwobiksamUpfWZ1bmN0aW9uIHFlKHQpe3RoaXMuY291bnQ9cGFyc2VJbnQoTWF0aC5sb2codCsxKS9wZSwxMCksdGhpcy5oZj10aGlzLmNvdW50LTEsdGhpcy5iZz10KzEmcGFyc2VJbnQoQXJyYXkodGhpcy5jb3VudCsxKS5qb2luKFwiMVwiKSwyKX1mdW5jdGlvbiByZSh0KXt2YXIgZT0hKHQuYmcmMTw8dC5oZik7cmV0dXJuIHQuaGYtLSxlfWZ1bmN0aW9uIGhlKHQsZSxuLGkpe2Z1bmN0aW9uIHIoZSxpKXt2YXIgbz1pLWU7aWYoMD09bylyZXR1cm4gbnVsbDtpZigxPT1vKXt2YXIgYT10W2VdLHM9bj9uKGEpOmE7cmV0dXJuIG5ldyBmYyhzLGEuUywhMSxudWxsLG51bGwpfXZhciBhPXBhcnNlSW50KG8vMiwxMCkrZSxvPXIoZSxhKSx1PXIoYSsxLGkpLGE9dFthXSxzPW4/bihhKTphO3JldHVybiBuZXcgZmMocyxhLlMsITEsbyx1KX10LnNvcnQoZSk7dmFyIG89ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gaShlLGkpe3ZhciB1PXMtZSxoPXM7cy09ZTt2YXIgaD1yKHUrMSxoKSx1PXRbdV0sYz1uP24odSk6dSxoPW5ldyBmYyhjLHUuUyxpLG51bGwsaCk7bz9vLmxlZnQ9aDphPWgsbz1ofWZvcih2YXIgbz1udWxsLGE9bnVsbCxzPXQubGVuZ3RoLHU9MDt1PGUuY291bnQ7Kyt1KXt2YXIgaD1yZShlKSxjPU1hdGgucG93KDIsZS5jb3VudC0odSsxKSk7aD9pKGMsITEpOihpKGMsITEpLGkoYywhMCkpfXJldHVybiBhfShuZXcgcWUodC5sZW5ndGgpKTtyZXR1cm4gbnVsbCE9PW8/bmV3IGFjKGl8fGUsbyk6bmV3IGFjKGl8fGUpfWZ1bmN0aW9uIGxlKHQpe3JldHVyblwibnVtYmVyXCI9PXR5cGVvZiB0P1wibnVtYmVyOlwiK1pjKHQpOlwic3RyaW5nOlwiK3R9ZnVuY3Rpb24ga2UodCl7aWYodC5OKCkpe3ZhciBlPXQuSygpO0ooXCJzdHJpbmdcIj09dHlwZW9mIGV8fFwibnVtYmVyXCI9PXR5cGVvZiBlfHxcIm9iamVjdFwiPT10eXBlb2YgZSYmdShlLFwiLnN2XCIpLFwiUHJpb3JpdHkgbXVzdCBiZSBhIHN0cmluZyBvciBudW1iZXIuXCIpfWVsc2UgSih0PT09U2R8fHQuZSgpLFwicHJpb3JpdHkgb2YgdW5leHBlY3RlZCB0eXBlLlwiKTtKKHQ9PT1TZHx8dC5BKCkuZSgpLFwiUHJpb3JpdHkgbm9kZXMgY2FuJ3QgaGF2ZSBhIHByaW9yaXR5IG9mIHRoZWlyIG93bi5cIil9ZnVuY3Rpb24gc2UoKXtULmNhbGwodGhpcyxuZXcgYWMoVGIpLEMsamUpfWZ1bmN0aW9uIElkKHQsZSl7dGhpcy5EPXQsdGhpcy5VZD1lfWZ1bmN0aW9uIEZkKHQsZSxuLGkpe3JldHVybiBuZXcgSWQobmV3IHNiKGUsbixpKSx0LlVkKX1mdW5jdGlvbiBKZCh0KXtyZXR1cm4gdC5ELiQ/dC5ELmooKTpudWxsfWZ1bmN0aW9uIHRiKHQpe3JldHVybiB0LlVkLiQ/dC5VZC5qKCk6bnVsbH1mdW5jdGlvbiB0ZSh0LGUpe3RoaXMuVj10O3ZhciBuPXQubixpPW5ldyBsZChuLmcpLG49ZGUobik/bmV3IGxkKG4uZyk6bi5pYT9uZXcgcmQobik6bmV3IG1kKG4pO3RoaXMuR2Y9bmV3IHpkKG4pO3ZhciByPWUudSgpLG89ZS5ELGE9aS50YShDLHIuaigpLG51bGwpLHM9bi50YShDLG8uaigpLG51bGwpO3RoaXMuS2E9bmV3IElkKG5ldyBzYihzLG8uJCxuLkdhKCkpLG5ldyBzYihhLHIuJCxpLkdhKCkpKSx0aGlzLlphPVtdLHRoaXMuaWc9bmV3IGRkKHQpfWZ1bmN0aW9uIHVlKHQpe3JldHVybiB0LlZ9ZnVuY3Rpb24gd2UodCxlKXt2YXIgbj10LkthLkQsaT1bXTtyZXR1cm4gbi5qKCkuTigpfHxuLmooKS5VKE0sZnVuY3Rpb24odCxlKXtpLnB1c2gobmV3IEQoXCJjaGlsZF9hZGRlZFwiLGUsdCkpfSksbi4kJiZpLnB1c2goRGIobi5qKCkpKSx2ZSh0LGksbi5qKCksZSl9ZnVuY3Rpb24gdmUodCxlLG4saSl7cmV0dXJuIGVkKHQuaWcsZSxuLGk/W2ldOnQuWmEpfWZ1bmN0aW9uIHhlKHQsZSxuKXt0aGlzLnR5cGU9Q2QsdGhpcy5zb3VyY2U9dCx0aGlzLnBhdGg9ZSx0aGlzLmNoaWxkcmVuPW59ZnVuY3Rpb24geWUodCxlLG4saSl7dGhpcy52ZT10LHRoaXMub2Y9ZSx0aGlzLkliPW4sdGhpcy5hZj1pLEooIWl8fGUsXCJUYWdnZWQgcXVlcmllcyBtdXN0IGJlIGZyb20gc2VydmVyLlwiKX1mdW5jdGlvbiBBZSh0LGUpe3RoaXMuZj1PYyhcInA6cmVzdDpcIiksdGhpcy5IPXQsdGhpcy5HYj1lLHRoaXMuRmE9bnVsbCx0aGlzLmFhPXt9fWZ1bmN0aW9uIEJlKHQsZSl7aWYobihlKSlyZXR1cm5cInRhZyRcIitlO3ZhciBpPXQubjtyZXR1cm4gSihkZShpKSYmaS5nPT1NLFwic2hvdWxkIGhhdmUgYSB0YWcgaWYgaXQncyBub3QgYSBkZWZhdWx0IHF1ZXJ5LlwiKSx0LnBhdGgudG9TdHJpbmcoKX1mdW5jdGlvbiBDZSh0LGUsbixpKXtuPW58fHt9LG4uZm9ybWF0PVwiZXhwb3J0XCIsdC5GYSYmKG4uYXV0aD10LkZhKTt2YXIgcj0odC5ILmxiP1wiaHR0cHM6Ly9cIjpcImh0dHA6Ly9cIikrdC5ILmhvc3QrZStcIj9cIitqYihuKTt0LmYoXCJTZW5kaW5nIFJFU1QgcmVxdWVzdCBmb3IgXCIrcik7dmFyIG89bmV3IFhNTEh0dHBSZXF1ZXN0O28ub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7aWYoaSYmND09PW8ucmVhZHlTdGF0ZSl7dC5mKFwiUkVTVCBSZXNwb25zZSBmb3IgXCIrcitcIiByZWNlaXZlZC4gc3RhdHVzOlwiLG8uc3RhdHVzLFwicmVzcG9uc2U6XCIsby5yZXNwb25zZVRleHQpO3ZhciBlPW51bGw7aWYoMjAwPD1vLnN0YXR1cyYmMzAwPm8uc3RhdHVzKXt0cnl7ZT1tYihvLnJlc3BvbnNlVGV4dCl9Y2F0Y2gobil7UShcIkZhaWxlZCB0byBwYXJzZSBKU09OIHJlc3BvbnNlIGZvciBcIityK1wiOiBcIitvLnJlc3BvbnNlVGV4dCl9aShudWxsLGUpfWVsc2UgNDAxIT09by5zdGF0dXMmJjQwNCE9PW8uc3RhdHVzJiZRKFwiR290IHVuc3VjY2Vzc2Z1bCBSRVNUIHJlc3BvbnNlIGZvciBcIityK1wiIFN0YXR1czogXCIrby5zdGF0dXMpLGkoby5zdGF0dXMpO2k9bnVsbH19LG8ub3BlbihcIkdFVFwiLHIsITApLG8uc2VuZCgpfWZ1bmN0aW9uIERlKHQsZSl7dGhpcy52YWx1ZT10LHRoaXMuY2hpbGRyZW49ZXx8RWV9ZnVuY3Rpb24gRmUodCl7dmFyIGU9TmQ7cmV0dXJuIHIodCxmdW5jdGlvbih0LG4pe2U9ZS5zZXQobmV3IEsobiksdCl9KSxlfWZ1bmN0aW9uIEdlKHQsZSxuKXtpZihudWxsIT10LnZhbHVlJiZuKHQudmFsdWUpKXJldHVybntwYXRoOkYsdmFsdWU6dC52YWx1ZX07aWYoZS5lKCkpcmV0dXJuIG51bGw7dmFyIGk9TyhlKTtyZXR1cm4gdD10LmNoaWxkcmVuLmdldChpKSxudWxsIT09dD8oZT1HZSh0LEcoZSksbiksbnVsbCE9ZT97cGF0aDpuZXcgSyhpKS53KGUucGF0aCksdmFsdWU6ZS52YWx1ZX06bnVsbCk6bnVsbH1mdW5jdGlvbiBIZSh0LGUpe3JldHVybiBHZSh0LGUsZnVuY3Rpb24oKXtyZXR1cm4hMH0pfWZ1bmN0aW9uIE1kKHQsZSxuKXtpZihlLmUoKSlyZXR1cm4gbjt2YXIgaT1PKGUpO3JldHVybiBlPU1kKHQuY2hpbGRyZW4uZ2V0KGkpfHxOZCxHKGUpLG4pLGk9ZS5lKCk/dC5jaGlsZHJlbi5yZW1vdmUoaSk6dC5jaGlsZHJlbi5OYShpLGUpLG5ldyBEZSh0LnZhbHVlLGkpfWZ1bmN0aW9uIEllKHQsZSl7cmV0dXJuIEplKHQsRixlKX1mdW5jdGlvbiBKZSh0LGUsbil7dmFyIGk9e307cmV0dXJuIHQuY2hpbGRyZW4uaGEoZnVuY3Rpb24odCxyKXtpW3RdPUplKHIsZS53KHQpLG4pfSksbihlLHQudmFsdWUsaSl9ZnVuY3Rpb24gS2UodCxlLG4pe3JldHVybiBMZSh0LGUsRixuKX1mdW5jdGlvbiBMZSh0LGUsbixpKXt2YXIgcj10LnZhbHVlP2kobix0LnZhbHVlKTohMTtyZXR1cm4gcj9yOmUuZSgpP251bGw6KHI9TyhlKSwodD10LmNoaWxkcmVuLmdldChyKSk/TGUodCxHKGUpLG4udyhyKSxpKTpudWxsKX1mdW5jdGlvbiBNZSh0LGUsbil7dmFyIGk9RjtpZighZS5lKCkpe3ZhciByPSEwO3QudmFsdWUmJihyPW4oaSx0LnZhbHVlKSksITA9PT1yJiYocj1PKGUpLCh0PXQuY2hpbGRyZW4uZ2V0KHIpKSYmTmUodCxHKGUpLGkudyhyKSxuKSl9fWZ1bmN0aW9uIE5lKHQsZSxuLGkpe2lmKGUuZSgpKXJldHVybiB0O3QudmFsdWUmJmkobix0LnZhbHVlKTt2YXIgcj1PKGUpO3JldHVybih0PXQuY2hpbGRyZW4uZ2V0KHIpKT9OZSh0LEcoZSksbi53KHIpLGkpOk5kfWZ1bmN0aW9uIEtkKHQsZSl7T2UodCxGLGUpfWZ1bmN0aW9uIE9lKHQsZSxuKXt0LmNoaWxkcmVuLmhhKGZ1bmN0aW9uKHQsaSl7T2UoaSxlLncodCksbil9KSx0LnZhbHVlJiZuKGUsdC52YWx1ZSl9ZnVuY3Rpb24gUGUodCxlKXt0LmNoaWxkcmVuLmhhKGZ1bmN0aW9uKHQsbil7bi52YWx1ZSYmZSh0LG4udmFsdWUpfSl9ZnVuY3Rpb24gUWUodCl7dGhpcy5XPXR9ZnVuY3Rpb24gU2UodCxlLG4pe2lmKGUuZSgpKXJldHVybiBuZXcgUWUobmV3IERlKG4pKTt2YXIgaT1IZSh0LlcsZSk7aWYobnVsbCE9aSl7dmFyIHI9aS5wYXRoLGk9aS52YWx1ZTtyZXR1cm4gZT1OKHIsZSksaT1pLkcoZSxuKSxuZXcgUWUodC5XLnNldChyLGkpKX1yZXR1cm4gdD1NZCh0LlcsZSxuZXcgRGUobikpLG5ldyBRZSh0KX1mdW5jdGlvbiBUZSh0LGUsbil7dmFyIGk9dDtyZXR1cm4gaGIobixmdW5jdGlvbih0LG4pe2k9U2UoaSxlLncodCksbil9KSxpfWZ1bmN0aW9uIFVlKHQsZSl7dmFyIG49SGUodC5XLGUpO3JldHVybiBudWxsIT1uP3QuVy5nZXQobi5wYXRoKS5vYShOKG4ucGF0aCxlKSk6bnVsbH1mdW5jdGlvbiBWZSh0KXt2YXIgZT1bXSxuPXQuVy52YWx1ZTtyZXR1cm4gbnVsbCE9bj9uLk4oKXx8bi5VKE0sZnVuY3Rpb24odCxuKXtlLnB1c2gobmV3IEUodCxuKSl9KTp0LlcuY2hpbGRyZW4uaGEoZnVuY3Rpb24odCxuKXtudWxsIT1uLnZhbHVlJiZlLnB1c2gobmV3IEUodCxuLnZhbHVlKSl9KSxlfWZ1bmN0aW9uIFdlKHQsZSl7aWYoZS5lKCkpcmV0dXJuIHQ7dmFyIG49VWUodCxlKTtyZXR1cm4gbmV3IFFlKG51bGwhPW4/bmV3IERlKG4pOnQuVy5zdWJ0cmVlKGUpKX1mdW5jdGlvbiBYZSh0LGUsbil7aWYobnVsbCE9ZS52YWx1ZSlyZXR1cm4gbi5HKHQsZS52YWx1ZSk7dmFyIGk9bnVsbDtyZXR1cm4gZS5jaGlsZHJlbi5oYShmdW5jdGlvbihlLHIpe1wiLnByaW9yaXR5XCI9PT1lPyhKKG51bGwhPT1yLnZhbHVlLFwiUHJpb3JpdHkgd3JpdGVzIG11c3QgYWx3YXlzIGJlIGxlYWYgbm9kZXNcIiksaT1yLnZhbHVlKTpuPVhlKHQudyhlKSxyLG4pfSksbi5vYSh0KS5lKCl8fG51bGw9PT1pfHwobj1uLkcodC53KFwiLnByaW9yaXR5XCIpLGkpKSxufWZ1bmN0aW9uIFllKCl7dGhpcy5UPVJlLHRoaXMuemE9W10sdGhpcy5MYz0tMX1mdW5jdGlvbiBaZSh0LGUpe3JldHVybiB0LklhP3QucGF0aC5jb250YWlucyhlKTohIXVhKHQuY2hpbGRyZW4sZnVuY3Rpb24obixpKXtyZXR1cm4gdC5wYXRoLncoaSkuY29udGFpbnMoZSl9KX1mdW5jdGlvbiBhZih0KXtyZXR1cm4gdC52aXNpYmxlfWZ1bmN0aW9uICRlKHQsZSxuKXtmb3IodmFyIGk9UmUscj0wO3I8dC5sZW5ndGg7KytyKXt2YXIgbz10W3JdO2lmKGUobykpe3ZhciBhPW8ucGF0aDtpZihvLklhKW4uY29udGFpbnMoYSk/KGE9TihuLGEpLGk9U2UoaSxhLG8uSWEpKTphLmNvbnRhaW5zKG4pJiYoYT1OKGEsbiksaT1TZShpLEYsby5JYS5vYShhKSkpO2Vsc2V7aWYoIW8uY2hpbGRyZW4pdGhyb3cgSGMoXCJXcml0ZVJlY29yZCBzaG91bGQgaGF2ZSAuc25hcCBvciAuY2hpbGRyZW5cIik7XG5cbm4uY29udGFpbnMoYSk/KGE9TihuLGEpLGk9VGUoaSxhLG8uY2hpbGRyZW4pKTphLmNvbnRhaW5zKG4pJiYoYT1OKGEsbiksYS5lKCk/aT1UZShpLEYsby5jaGlsZHJlbik6KG89dyhvLmNoaWxkcmVuLE8oYSkpKSYmKG89by5vYShHKGEpKSxpPVNlKGksRixvKSkpfX19cmV0dXJuIGl9ZnVuY3Rpb24gYmYodCxlKXt0aGlzLk1iPXQsdGhpcy5XPWV9ZnVuY3Rpb24gY2YoKXt0aGlzLnlhPXt9fWZ1bmN0aW9uIGVmKHQpe3JldHVybiBQYShyYSh0LnlhKSxmdW5jdGlvbih0KXtyZXR1cm4hZGUodC5WLm4pfSl9ZnVuY3Rpb24gZmYodCxlKXtpZihkZShlLm4pKXJldHVybiBkZih0KTt2YXIgbj1lLndhKCk7cmV0dXJuIHcodC55YSxuKX1mdW5jdGlvbiBkZih0KXtyZXR1cm4gdmEodC55YSxmdW5jdGlvbih0KXtyZXR1cm4gZGUodC5WLm4pfSl8fG51bGx9ZnVuY3Rpb24gZ2YodCl7dGhpcy5zYT1OZCx0aGlzLkhiPW5ldyBZZSx0aGlzLiRlPXt9LHRoaXMua2M9e30sdGhpcy5NYz10fWZ1bmN0aW9uIGhmKHQsZSxpLHIsbyl7dmFyIGE9dC5IYixzPW87cmV0dXJuIEoocj5hLkxjLFwiU3RhY2tpbmcgYW4gb2xkZXIgd3JpdGUgb24gdG9wIG9mIG5ld2VyIG9uZXNcIiksbihzKXx8KHM9ITApLGEuemEucHVzaCh7cGF0aDplLElhOmksaWU6cix2aXNpYmxlOnN9KSxzJiYoYS5UPVNlKGEuVCxlLGkpKSxhLkxjPXIsbz9qZih0LG5ldyBVYihZYixlLGkpKTpbXX1mdW5jdGlvbiBrZih0LGUsbixpKXt2YXIgcj10LkhiO3JldHVybiBKKGk+ci5MYyxcIlN0YWNraW5nIGFuIG9sZGVyIG1lcmdlIG9uIHRvcCBvZiBuZXdlciBvbmVzXCIpLHIuemEucHVzaCh7cGF0aDplLGNoaWxkcmVuOm4saWU6aSx2aXNpYmxlOiEwfSksci5UPVRlKHIuVCxlLG4pLHIuTGM9aSxuPUZlKG4pLGpmKHQsbmV3IHhlKFliLGUsbikpfWZ1bmN0aW9uIGxmKHQsZSxuKXtyZXR1cm4gbj1ufHwhMSxlPXQuSGIuT2QoZSksbnVsbD09ZT9bXTpqZih0LG5ldyBXYihlLG4pKX1mdW5jdGlvbiBtZih0LGUsbil7cmV0dXJuIG49RmUobiksamYodCxuZXcgeGUoemUsZSxuKSl9ZnVuY3Rpb24gbmYodCxlLG4saSl7aWYoaT1vZih0LGkpLG51bGwhPWkpe3ZhciByPXBmKGkpO3JldHVybiBpPXIucGF0aCxyPXIuSWIsZT1OKGksZSksbj1uZXcgVWIobmV3IHllKCExLCEwLHIsITApLGUsbikscWYodCxpLG4pfXJldHVybltdfWZ1bmN0aW9uIHJmKHQsZSxuLGkpe2lmKGk9b2YodCxpKSl7dmFyIHI9cGYoaSk7cmV0dXJuIGk9ci5wYXRoLHI9ci5JYixlPU4oaSxlKSxuPUZlKG4pLG49bmV3IHhlKG5ldyB5ZSghMSwhMCxyLCEwKSxlLG4pLHFmKHQsaSxuKX1yZXR1cm5bXX1mdW5jdGlvbiB2Zih0KXtyZXR1cm4gSWUodCxmdW5jdGlvbih0LGUsbil7aWYoZSYmbnVsbCE9ZGYoZSkpcmV0dXJuW2RmKGUpXTt2YXIgaT1bXTtyZXR1cm4gZSYmKGk9ZWYoZSkpLHIobixmdW5jdGlvbih0KXtpPWkuY29uY2F0KHQpfSksaX0pfWZ1bmN0aW9uIHlmKHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDsrK24pe3ZhciBpPWVbbl07aWYoIWRlKGkubikpe3ZhciBpPXNmKGkpLHI9dC5rY1tpXTtkZWxldGUgdC5rY1tpXSxkZWxldGUgdC4kZVtcIl9cIityXX19fWZ1bmN0aW9uIHVmKHQsZSxuKXt2YXIgaT1lLnBhdGgsbz14Zih0LGUpO2lmKG49d2YodCxuKSxlPXQuTWMuWGUoZSxvLG4udWQsbi5KKSxpPXQuc2Euc3VidHJlZShpKSxvKUoobnVsbD09ZGYoaS52YWx1ZSksXCJJZiB3ZSdyZSBhZGRpbmcgYSBxdWVyeSwgaXQgc2hvdWxkbid0IGJlIHNoYWRvd2VkXCIpO2Vsc2UgZm9yKG89SWUoaSxmdW5jdGlvbih0LGUsbil7aWYoIXQuZSgpJiZlJiZudWxsIT1kZihlKSlyZXR1cm5bdWUoZGYoZSkpXTt2YXIgaT1bXTtyZXR1cm4gZSYmKGk9aS5jb25jYXQoUWEoZWYoZSksZnVuY3Rpb24odCl7cmV0dXJuIHQuVn0pKSkscihuLGZ1bmN0aW9uKHQpe2k9aS5jb25jYXQodCl9KSxpfSksaT0wO2k8by5sZW5ndGg7KytpKW49b1tpXSx0Lk1jLlpkKG4seGYodCxuKSk7cmV0dXJuIGV9ZnVuY3Rpb24gd2YodCxlKXt2YXIgbj1lLlYsaT14Zih0LG4pO3JldHVybnt1ZDpmdW5jdGlvbigpe3JldHVybihlLnUoKXx8QykuaGFzaCgpfSxKOmZ1bmN0aW9uKGUpe2lmKFwib2tcIj09PWUpe2lmKGkpe3ZhciByPW4ucGF0aDtpZihlPW9mKHQsaSkpe3ZhciBvPXBmKGUpO2U9by5wYXRoLG89by5JYixyPU4oZSxyKSxyPW5ldyBaYihuZXcgeWUoITEsITAsbywhMCksciksZT1xZih0LGUscil9ZWxzZSBlPVtdfWVsc2UgZT1qZih0LG5ldyBaYih6ZSxuLnBhdGgpKTtyZXR1cm4gZX1yZXR1cm4gcj1cIlVua25vd24gRXJyb3JcIixcInRvb19iaWdcIj09PWU/cj1cIlRoZSBkYXRhIHJlcXVlc3RlZCBleGNlZWRzIHRoZSBtYXhpbXVtIHNpemUgdGhhdCBjYW4gYmUgYWNjZXNzZWQgd2l0aCBhIHNpbmdsZSByZXF1ZXN0LlwiOlwicGVybWlzc2lvbl9kZW5pZWRcIj09ZT9yPVwiQ2xpZW50IGRvZXNuJ3QgaGF2ZSBwZXJtaXNzaW9uIHRvIGFjY2VzcyB0aGUgZGVzaXJlZCBkYXRhLlwiOlwidW5hdmFpbGFibGVcIj09ZSYmKHI9XCJUaGUgc2VydmljZSBpcyB1bmF2YWlsYWJsZVwiKSxyPUVycm9yKGUrXCI6IFwiK3IpLHIuY29kZT1lLnRvVXBwZXJDYXNlKCksdC5rYihuLG51bGwscil9fX1mdW5jdGlvbiBzZih0KXtyZXR1cm4gdC5wYXRoLnRvU3RyaW5nKCkrXCIkXCIrdC53YSgpfWZ1bmN0aW9uIHBmKHQpe3ZhciBlPXQuaW5kZXhPZihcIiRcIik7cmV0dXJuIEooLTEhPT1lJiZlPHQubGVuZ3RoLTEsXCJCYWQgcXVlcnlLZXkuXCIpLHtJYjp0LnN1YnN0cihlKzEpLHBhdGg6bmV3IEsodC5zdWJzdHIoMCxlKSl9fWZ1bmN0aW9uIG9mKHQsZSl7dmFyIG49dC4kZSxpPVwiX1wiK2U7cmV0dXJuIGkgaW4gbj9uW2ldOnZvaWQgMH1mdW5jdGlvbiB4Zih0LGUpe3ZhciBuPXNmKGUpO3JldHVybiB3KHQua2Msbil9ZnVuY3Rpb24gcWYodCxlLG4pe3ZhciBpPXQuc2EuZ2V0KGUpO3JldHVybiBKKGksXCJNaXNzaW5nIHN5bmMgcG9pbnQgZm9yIHF1ZXJ5IHRhZyB0aGF0IHdlJ3JlIHRyYWNraW5nXCIpLGkuYmIobixuZXcgYmYoZSx0LkhiKSxudWxsKX1mdW5jdGlvbiBqZih0LGUpe3JldHVybiB6Zih0LGUsdC5zYSxudWxsLG5ldyBiZihGLHQuSGIpKX1mdW5jdGlvbiB6Zih0LGUsbixpLHIpe2lmKGUucGF0aC5lKCkpcmV0dXJuIEFmKHQsZSxuLGkscik7dmFyIG89bi5nZXQoRik7bnVsbD09aSYmbnVsbCE9byYmKGk9by5oYihGKSk7dmFyIGE9W10scz1PKGUucGF0aCksdT1lLldjKHMpO2lmKChuPW4uY2hpbGRyZW4uZ2V0KHMpKSYmdSl2YXIgaD1pP2kuTShzKTpudWxsLHM9ci53KHMpLGE9YS5jb25jYXQoemYodCx1LG4saCxzKSk7cmV0dXJuIG8mJihhPWEuY29uY2F0KG8uYmIoZSxyLGkpKSksYX1mdW5jdGlvbiBBZih0LGUsbixpLHIpe3ZhciBvPW4uZ2V0KEYpO251bGw9PWkmJm51bGwhPW8mJihpPW8uaGIoRikpO3ZhciBhPVtdO3JldHVybiBuLmNoaWxkcmVuLmhhKGZ1bmN0aW9uKG4sbyl7dmFyIHM9aT9pLk0obik6bnVsbCx1PXIudyhuKSxoPWUuV2Mobik7aCYmKGE9YS5jb25jYXQoQWYodCxoLG8scyx1KSkpfSksbyYmKGE9YS5jb25jYXQoby5iYihlLHIsaSkpKSxhfWZ1bmN0aW9uIEJmKCl7dGhpcy5jaGlsZHJlbj17fSx0aGlzLmtkPTAsdGhpcy52YWx1ZT1udWxsfWZ1bmN0aW9uIENmKHQsZSxuKXt0aGlzLkRkPXQ/dDpcIlwiLHRoaXMuWWM9ZT9lOm51bGwsdGhpcy5CPW4/bjpuZXcgQmZ9ZnVuY3Rpb24gRGYodCxlKXtmb3IodmFyIG4saT1lIGluc3RhbmNlb2YgSz9lOm5ldyBLKGUpLHI9dDtudWxsIT09KG49TyhpKSk7KXI9bmV3IENmKG4scix3KHIuQi5jaGlsZHJlbixuKXx8bmV3IEJmKSxpPUcoaSk7cmV0dXJuIHJ9ZnVuY3Rpb24gRWYodCxlKXtKKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBlLFwiQ2Fubm90IHNldCB2YWx1ZSB0byB1bmRlZmluZWRcIiksdC5CLnZhbHVlPWUsRmYodCl9ZnVuY3Rpb24gR2YodCxlLG4saSl7biYmIWkmJmUodCksdC5VKGZ1bmN0aW9uKHQpe0dmKHQsZSwhMCxpKX0pLG4mJmkmJmUodCl9ZnVuY3Rpb24gSGYodCxlKXtmb3IodmFyIG49dC5wYXJlbnQoKTtudWxsIT09biYmIWUobik7KW49bi5wYXJlbnQoKX1mdW5jdGlvbiBGZih0KXtpZihudWxsIT09dC5ZYyl7dmFyIGU9dC5ZYyxuPXQuRGQsaT10LmUoKSxyPXUoZS5CLmNoaWxkcmVuLG4pO2kmJnI/KGRlbGV0ZSBlLkIuY2hpbGRyZW5bbl0sZS5CLmtkLS0sRmYoZSkpOml8fHJ8fChlLkIuY2hpbGRyZW5bbl09dC5CLGUuQi5rZCsrLEZmKGUpKX19ZnVuY3Rpb24gSWYodCl7SihlYSh0KSYmMDx0Lmxlbmd0aCxcIlJlcXVpcmVzIGEgbm9uLWVtcHR5IGFycmF5XCIpLHRoaXMuVWY9dCx0aGlzLk5jPXt9fWZ1bmN0aW9uIEpmKHQsZSl7SihUYSh0LlVmLGZ1bmN0aW9uKHQpe3JldHVybiB0PT09ZX0pLFwiVW5rbm93biBldmVudDogXCIrZSl9ZnVuY3Rpb24gTGYoKXtpZihJZi5jYWxsKHRoaXMsW1wib25saW5lXCJdKSx0aGlzLmljPSEwLFwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcil7dmFyIHQ9dGhpczt3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm9ubGluZVwiLGZ1bmN0aW9uKCl7dC5pY3x8KHQuaWM9ITAsdC5kZShcIm9ubGluZVwiLCEwKSl9LCExKSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm9mZmxpbmVcIixmdW5jdGlvbigpe3QuaWMmJih0LmljPSExLHQuZGUoXCJvbmxpbmVcIiwhMSkpfSwhMSl9fWZ1bmN0aW9uIE1mKCl7SWYuY2FsbCh0aGlzLFtcInZpc2libGVcIl0pO3ZhciB0LGU7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGRvY3VtZW50JiZcInVuZGVmaW5lZFwiIT10eXBlb2YgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lciYmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBkb2N1bWVudC5oaWRkZW4/KGU9XCJ2aXNpYmlsaXR5Y2hhbmdlXCIsdD1cImhpZGRlblwiKTpcInVuZGVmaW5lZFwiIT10eXBlb2YgZG9jdW1lbnQubW96SGlkZGVuPyhlPVwibW96dmlzaWJpbGl0eWNoYW5nZVwiLHQ9XCJtb3pIaWRkZW5cIik6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGRvY3VtZW50Lm1zSGlkZGVuPyhlPVwibXN2aXNpYmlsaXR5Y2hhbmdlXCIsdD1cIm1zSGlkZGVuXCIpOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBkb2N1bWVudC53ZWJraXRIaWRkZW4mJihlPVwid2Via2l0dmlzaWJpbGl0eWNoYW5nZVwiLHQ9XCJ3ZWJraXRIaWRkZW5cIikpLHRoaXMudWM9ITAsZSl7dmFyIG49dGhpcztkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKGUsZnVuY3Rpb24oKXt2YXIgZT0hZG9jdW1lbnRbdF07ZSE9PW4udWMmJihuLnVjPWUsbi5kZShcInZpc2libGVcIixlKSl9LCExKX19ZnVuY3Rpb24gUGYodCl7cmV0dXJuIHAodCkmJjAhPT10Lmxlbmd0aCYmIU5mLnRlc3QodCl9ZnVuY3Rpb24gUWYodCl7cmV0dXJuIG51bGw9PT10fHxwKHQpfHxnYSh0KSYmIVNjKHQpfHxpYSh0KSYmdSh0LFwiLnN2XCIpfWZ1bmN0aW9uIFJmKHQsZSxpLHIpe3ImJiFuKGUpfHxTZih6KHQsMSxyKSxlLGkpfWZ1bmN0aW9uIFNmKHQsZSxpKXtpZihpIGluc3RhbmNlb2YgSyYmKGk9bmV3IHdjKGksdCkpLCFuKGUpKXRocm93IEVycm9yKHQrXCJjb250YWlucyB1bmRlZmluZWQgXCIremMoaSkpO2lmKGhhKGUpKXRocm93IEVycm9yKHQrXCJjb250YWlucyBhIGZ1bmN0aW9uIFwiK3pjKGkpK1wiIHdpdGggY29udGVudHM6IFwiK2UudG9TdHJpbmcoKSk7aWYoU2MoZSkpdGhyb3cgRXJyb3IodCtcImNvbnRhaW5zIFwiK2UudG9TdHJpbmcoKStcIiBcIit6YyhpKSk7aWYocChlKSYmZS5sZW5ndGg+MTA0ODU3NjAvMyYmMTA0ODU3NjA8eGMoZSkpdGhyb3cgRXJyb3IodCtcImNvbnRhaW5zIGEgc3RyaW5nIGdyZWF0ZXIgdGhhbiAxMDQ4NTc2MCB1dGY4IGJ5dGVzIFwiK3pjKGkpK1wiICgnXCIrZS5zdWJzdHJpbmcoMCw1MCkrXCIuLi4nKVwiKTtpZihpYShlKSl7dmFyIHI9ITEsbz0hMTtpZihoYihlLGZ1bmN0aW9uKGUsbil7aWYoXCIudmFsdWVcIj09PWUpcj0hMDtlbHNlIGlmKFwiLnByaW9yaXR5XCIhPT1lJiZcIi5zdlwiIT09ZSYmKG89ITAsIVBmKGUpKSl0aHJvdyBFcnJvcih0K1wiIGNvbnRhaW5zIGFuIGludmFsaWQga2V5IChcIitlK1wiKSBcIit6YyhpKSsnLiAgS2V5cyBtdXN0IGJlIG5vbi1lbXB0eSBzdHJpbmdzIGFuZCBjYW5cXCd0IGNvbnRhaW4gXCIuXCIsIFwiI1wiLCBcIiRcIiwgXCIvXCIsIFwiW1wiLCBvciBcIl1cIicpO2kucHVzaChlKSxTZih0LG4saSksaS5wb3AoKX0pLHImJm8pdGhyb3cgRXJyb3IodCsnIGNvbnRhaW5zIFwiLnZhbHVlXCIgY2hpbGQgJyt6YyhpKStcIiBpbiBhZGRpdGlvbiB0byBhY3R1YWwgY2hpbGRyZW4uXCIpfX1mdW5jdGlvbiBUZih0LGUsbil7aWYoIWlhKGUpfHxlYShlKSl0aHJvdyBFcnJvcih6KHQsMSwhMSkrXCIgbXVzdCBiZSBhbiBPYmplY3QgY29udGFpbmluZyB0aGUgY2hpbGRyZW4gdG8gcmVwbGFjZS5cIik7aWYodShlLFwiLnZhbHVlXCIpKXRocm93IEVycm9yKHoodCwxLCExKSsnIG11c3Qgbm90IGNvbnRhaW4gXCIudmFsdWVcIi4gIFRvIG92ZXJ3cml0ZSB3aXRoIGEgbGVhZiB2YWx1ZSwganVzdCB1c2UgLnNldCgpIGluc3RlYWQuJyk7UmYodCxlLG4sITEpfWZ1bmN0aW9uIFVmKHQsZSxuKXtpZihTYyhuKSl0aHJvdyBFcnJvcih6KHQsZSwhMSkrXCJpcyBcIituLnRvU3RyaW5nKCkrXCIsIGJ1dCBtdXN0IGJlIGEgdmFsaWQgRmlyZWJhc2UgcHJpb3JpdHkgKGEgc3RyaW5nLCBmaW5pdGUgbnVtYmVyLCBzZXJ2ZXIgdmFsdWUsIG9yIG51bGwpLlwiKTtpZighUWYobikpdGhyb3cgRXJyb3Ioeih0LGUsITEpK1wibXVzdCBiZSBhIHZhbGlkIEZpcmViYXNlIHByaW9yaXR5IChhIHN0cmluZywgZmluaXRlIG51bWJlciwgc2VydmVyIHZhbHVlLCBvciBudWxsKS5cIil9ZnVuY3Rpb24gVmYodCxlLGkpe2lmKCFpfHxuKGUpKXN3aXRjaChlKXtjYXNlXCJ2YWx1ZVwiOmNhc2VcImNoaWxkX2FkZGVkXCI6Y2FzZVwiY2hpbGRfcmVtb3ZlZFwiOmNhc2VcImNoaWxkX2NoYW5nZWRcIjpjYXNlXCJjaGlsZF9tb3ZlZFwiOmJyZWFrO2RlZmF1bHQ6dGhyb3cgRXJyb3Ioeih0LDEsaSkrJ211c3QgYmUgYSB2YWxpZCBldmVudCB0eXBlOiBcInZhbHVlXCIsIFwiY2hpbGRfYWRkZWRcIiwgXCJjaGlsZF9yZW1vdmVkXCIsIFwiY2hpbGRfY2hhbmdlZFwiLCBvciBcImNoaWxkX21vdmVkXCIuJyl9fWZ1bmN0aW9uIFdmKHQsZSxpLHIpe2lmKCghcnx8bihpKSkmJiFQZihpKSl0aHJvdyBFcnJvcih6KHQsZSxyKSsnd2FzIGFuIGludmFsaWQga2V5OiBcIicraSsnXCIuICBGaXJlYmFzZSBrZXlzIG11c3QgYmUgbm9uLWVtcHR5IHN0cmluZ3MgYW5kIGNhblxcJ3QgY29udGFpbiBcIi5cIiwgXCIjXCIsIFwiJFwiLCBcIi9cIiwgXCJbXCIsIG9yIFwiXVwiKS4nKX1mdW5jdGlvbiBYZih0LGUpe2lmKCFwKGUpfHwwPT09ZS5sZW5ndGh8fE9mLnRlc3QoZSkpdGhyb3cgRXJyb3Ioeih0LDEsITEpKyd3YXMgYW4gaW52YWxpZCBwYXRoOiBcIicrZSsnXCIuIFBhdGhzIG11c3QgYmUgbm9uLWVtcHR5IHN0cmluZ3MgYW5kIGNhblxcJ3QgY29udGFpbiBcIi5cIiwgXCIjXCIsIFwiJFwiLCBcIltcIiwgb3IgXCJdXCInKX1mdW5jdGlvbiBZZih0LGUpe2lmKFwiLmluZm9cIj09PU8oZSkpdGhyb3cgRXJyb3IodCtcIiBmYWlsZWQ6IENhbid0IG1vZGlmeSBkYXRhIHVuZGVyIC8uaW5mby9cIil9ZnVuY3Rpb24gWmYodCxlKXtpZighcChlKSl0aHJvdyBFcnJvcih6KHQsMSwhMSkrXCJtdXN0IGJlIGEgdmFsaWQgY3JlZGVudGlhbCAoYSBzdHJpbmcpLlwiKX1mdW5jdGlvbiAkZih0LGUsbil7aWYoIXAobikpdGhyb3cgRXJyb3Ioeih0LGUsITEpK1wibXVzdCBiZSBhIHZhbGlkIHN0cmluZy5cIil9ZnVuY3Rpb24gYWcodCxlLGkscil7aWYoIShyJiYhbihpKXx8aWEoaSkmJm51bGwhPT1pKSl0aHJvdyBFcnJvcih6KHQsZSxyKStcIm11c3QgYmUgYSB2YWxpZCBvYmplY3QuXCIpfWZ1bmN0aW9uIGJnKHQsZSxuKXtpZighaWEoZSl8fG51bGw9PT1lfHwhdShlLG4pKXRocm93IEVycm9yKHoodCwxLCExKSsnbXVzdCBjb250YWluIHRoZSBrZXkgXCInK24rJ1wiJyk7aWYoIXAodyhlLG4pKSl0aHJvdyBFcnJvcih6KHQsMSwhMSkrJ211c3QgY29udGFpbiB0aGUga2V5IFwiJytuKydcIiB3aXRoIHR5cGUgXCJzdHJpbmdcIicpfWZ1bmN0aW9uIGNnKCl7dGhpcy5zZXQ9e319ZnVuY3Rpb24gZGcodCxlKXtyKHQuc2V0LGZ1bmN0aW9uKHQsbil7ZShuLHQpfSl9ZnVuY3Rpb24gcWMoKXt0aGlzLm09dGhpcy5DPW51bGx9ZnVuY3Rpb24gZWcodCxlKXtpZihlLmUoKSlyZXR1cm4gdC5DPW51bGwsdC5tPW51bGwsITA7aWYobnVsbCE9PXQuQyl7aWYodC5DLk4oKSlyZXR1cm4hMTt2YXIgbj10LkM7cmV0dXJuIHQuQz1udWxsLG4uVShNLGZ1bmN0aW9uKGUsbil7dC5tYyhuZXcgSyhlKSxuKX0pLGVnKHQsZSl9cmV0dXJuIG51bGwhPT10Lm0/KG49TyhlKSxlPUcoZSksdC5tLmNvbnRhaW5zKG4pJiZlZyh0Lm0uZ2V0KG4pLGUpJiZ0Lm0ucmVtb3ZlKG4pLHQubS5lKCk/KHQubT1udWxsLCEwKTohMSk6ITB9ZnVuY3Rpb24gcmModCxlLG4pe251bGwhPT10LkM/bihlLHQuQyk6dC5VKGZ1bmN0aW9uKHQsaSl7dmFyIHI9bmV3IEsoZS50b1N0cmluZygpK1wiL1wiK3QpO3JjKGkscixuKX0pfWZ1bmN0aW9uIGdnKHQsZSxuKXt0aGlzLmxkPXR8fHt9LHRoaXMuY2U9ZXx8e30sdGhpcy5hYj1ufHx7fSx0aGlzLmxkLnJlbWVtYmVyfHwodGhpcy5sZC5yZW1lbWJlcj1cImRlZmF1bHRcIil9ZnVuY3Rpb24gaWcodCl7dmFyIGU9e30sbj17fTtyZXR1cm4gaGIodHx8e30sZnVuY3Rpb24odCxpKXswPD1OYShoZyx0KT9lW3RdPWk6blt0XT1pfSksbmV3IGdnKGUse30sbil9ZnVuY3Rpb24gamcodCxlKXt0aGlzLlBlPVtcInNlc3Npb25cIix0LkxkLHQuQ2JdLmpvaW4oXCI6XCIpLHRoaXMuJGQ9ZX1mdW5jdGlvbiBrZygpe3JldHVyblwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cmJiEhKHdpbmRvdy5jb3Jkb3ZhfHx3aW5kb3cucGhvbmVnYXB8fHdpbmRvdy5QaG9uZUdhcCkmJi9pb3N8aXBob25lfGlwb2R8aXBhZHxhbmRyb2lkfGJsYWNrYmVycnl8aWVtb2JpbGUvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpfWZ1bmN0aW9uIGxnKCl7cmV0dXJuXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGxvY2F0aW9uJiYvXmZpbGU6XFwvLy50ZXN0KGxvY2F0aW9uLmhyZWYpfWZ1bmN0aW9uIG1nKCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIG5hdmlnYXRvcilyZXR1cm4hMTt2YXIgdD1uYXZpZ2F0b3IudXNlckFnZW50O2lmKFwiTWljcm9zb2Z0IEludGVybmV0IEV4cGxvcmVyXCI9PT1uYXZpZ2F0b3IuYXBwTmFtZSl7aWYoKHQ9dC5tYXRjaCgvTVNJRSAoWzAtOV17MSx9W1xcLjAtOV17MCx9KS8pKSYmMTx0Lmxlbmd0aClyZXR1cm4gODw9cGFyc2VGbG9hdCh0WzFdKX1lbHNlIGlmKC0xPHQuaW5kZXhPZihcIlRyaWRlbnRcIikmJih0PXQubWF0Y2goL3J2OihbMC05XXsyLDJ9W1xcLjAtOV17MCx9KS8pKSYmMTx0Lmxlbmd0aClyZXR1cm4gODw9cGFyc2VGbG9hdCh0WzFdKTtyZXR1cm4hMX1mdW5jdGlvbiBuZygpe3ZhciB0LGU9d2luZG93Lm9wZW5lci5mcmFtZXM7Zm9yKHQ9ZS5sZW5ndGgtMTt0Pj0wO3QtLSl0cnl7aWYoZVt0XS5sb2NhdGlvbi5wcm90b2NvbD09PXdpbmRvdy5sb2NhdGlvbi5wcm90b2NvbCYmZVt0XS5sb2NhdGlvbi5ob3N0PT09d2luZG93LmxvY2F0aW9uLmhvc3QmJlwiX193aW5jaGFuX3JlbGF5X2ZyYW1lXCI9PT1lW3RdLm5hbWUpcmV0dXJuIGVbdF19Y2F0Y2gobil7fXJldHVybiBudWxsfWZ1bmN0aW9uIG9nKHQsZSxuKXt0LmF0dGFjaEV2ZW50P3QuYXR0YWNoRXZlbnQoXCJvblwiK2Usbik6dC5hZGRFdmVudExpc3RlbmVyJiZ0LmFkZEV2ZW50TGlzdGVuZXIoZSxuLCExKX1mdW5jdGlvbiBwZyh0LGUsbil7dC5kZXRhY2hFdmVudD90LmRldGFjaEV2ZW50KFwib25cIitlLG4pOnQucmVtb3ZlRXZlbnRMaXN0ZW5lciYmdC5yZW1vdmVFdmVudExpc3RlbmVyKGUsbiwhMSl9ZnVuY3Rpb24gcWcodCl7L15odHRwcz86XFwvXFwvLy50ZXN0KHQpfHwodD13aW5kb3cubG9jYXRpb24uaHJlZik7dmFyIGU9L14oaHR0cHM/OlxcL1xcL1tcXC1fYS16QS1aXFwuMC05Ol0rKS8uZXhlYyh0KTtyZXR1cm4gZT9lWzFdOnR9ZnVuY3Rpb24gcmcodCl7dmFyIGU9XCJcIjt0cnl7dD10LnJlcGxhY2UoXCIjXCIsXCJcIik7dmFyIG49a2IodCk7biYmdShuLFwiX19maXJlYmFzZV9yZXF1ZXN0X2tleVwiKSYmKGU9dyhuLFwiX19maXJlYmFzZV9yZXF1ZXN0X2tleVwiKSl9Y2F0Y2goaSl7fXJldHVybiBlfWZ1bmN0aW9uIHNnKCl7dmFyIHQ9UmMoZmcpO3JldHVybiB0LnNjaGVtZStcIjovL1wiK3QuaG9zdCtcIi92MlwifWZ1bmN0aW9uIHRnKHQpe3JldHVybiBzZygpK1wiL1wiK3QrXCIvYXV0aC9jaGFubmVsXCJ9ZnVuY3Rpb24gdWcodCl7dmFyIGU9dGhpcztpZih0aGlzLnpjPXQsdGhpcy5hZT1cIipcIixtZygpP3RoaXMuUWM9dGhpcy53ZD1uZygpOih0aGlzLlFjPXdpbmRvdy5vcGVuZXIsdGhpcy53ZD13aW5kb3cpLCFlLlFjKXRocm93XCJVbmFibGUgdG8gZmluZCByZWxheSBmcmFtZVwiO29nKHRoaXMud2QsXCJtZXNzYWdlXCIscSh0aGlzLmhjLHRoaXMpKSxvZyh0aGlzLndkLFwibWVzc2FnZVwiLHEodGhpcy5BZix0aGlzKSk7dHJ5e3ZnKHRoaXMse2E6XCJyZWFkeVwifSl9Y2F0Y2gobil7b2codGhpcy5RYyxcImxvYWRcIixmdW5jdGlvbigpe3ZnKGUse2E6XCJyZWFkeVwifSl9KX1vZyh3aW5kb3csXCJ1bmxvYWRcIixxKHRoaXMueWcsdGhpcykpfWZ1bmN0aW9uIHZnKHQsZSl7ZT1CKGUpLG1nKCk/dC5RYy5kb1Bvc3QoZSx0LmFlKTp0LlFjLnBvc3RNZXNzYWdlKGUsdC5hZSl9ZnVuY3Rpb24gd2codCl7dGhpcy5vYz1HYSgpK0dhKCkrR2EoKSx0aGlzLkRmPXR9ZnVuY3Rpb24geWcodCl7dmFyIGU9RXJyb3Iodyh4Zyx0KSx0KTtyZXR1cm4gZS5jb2RlPXQsZX1mdW5jdGlvbiB6Zyh0KXsoIXQud2luZG93X2ZlYXR1cmVzfHxcInVuZGVmaW5lZFwiIT10eXBlb2YgbmF2aWdhdG9yJiYoLTEhPT1uYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoXCJGZW5uZWMvXCIpfHwtMSE9PW5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZihcIkZpcmVmb3gvXCIpJiYtMSE9PW5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZihcIkFuZHJvaWRcIikpKSYmKHQud2luZG93X2ZlYXR1cmVzPXZvaWQgMCksdC53aW5kb3dfbmFtZXx8KHQud2luZG93X25hbWU9XCJfYmxhbmtcIiksdGhpcy5vcHRpb25zPXR9ZnVuY3Rpb24gQWcodCl7dC5tZXRob2R8fCh0Lm1ldGhvZD1cIkdFVFwiKSx0LmhlYWRlcnN8fCh0LmhlYWRlcnM9e30pLHQuaGVhZGVycy5jb250ZW50X3R5cGV8fCh0LmhlYWRlcnMuY29udGVudF90eXBlPVwiYXBwbGljYXRpb24vanNvblwiKSx0LmhlYWRlcnMuY29udGVudF90eXBlPXQuaGVhZGVycy5jb250ZW50X3R5cGUudG9Mb3dlckNhc2UoKSx0aGlzLm9wdGlvbnM9dH1mdW5jdGlvbiBCZyh0KXt0aGlzLm9jPUdhKCkrR2EoKStHYSgpLHRoaXMuRGY9dH1mdW5jdGlvbiBDZyh0KXt0LmNhbGxiYWNrX3BhcmFtZXRlcnx8KHQuY2FsbGJhY2tfcGFyYW1ldGVyPVwiY2FsbGJhY2tcIiksdGhpcy5vcHRpb25zPXQsd2luZG93Ll9fZmlyZWJhc2VfYXV0aF9qc29ucD13aW5kb3cuX19maXJlYmFzZV9hdXRoX2pzb25wfHx7fX1mdW5jdGlvbiBEZyh0LGUsbil7c2V0VGltZW91dChmdW5jdGlvbigpe3RyeXt2YXIgaT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpO2kudHlwZT1cInRleHQvamF2YXNjcmlwdFwiLGkuaWQ9dCxpLmFzeW5jPSEwLGkuc3JjPWUsaS5vbmVycm9yPWZ1bmN0aW9uKCl7dmFyIGU9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodCk7bnVsbCE9PWUmJmUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlKSxuJiZuKHlnKFwiTkVUV09SS19FUlJPUlwiKSl9O3ZhciByPWRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaGVhZFwiKTsociYmMCE9ci5sZW5ndGg/clswXTpkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpLmFwcGVuZENoaWxkKGkpfWNhdGNoKG8pe24mJm4oeWcoXCJORVRXT1JLX0VSUk9SXCIpKX19LDApfWZ1bmN0aW9uIEVnKHQsZSxuLGkpe0lmLmNhbGwodGhpcyxbXCJhdXRoX3N0YXR1c1wiXSksdGhpcy5IPXQsdGhpcy5kZj1lLHRoaXMuU2c9bix0aGlzLktlPWksdGhpcy5yYz1uZXcgamcodCxbRGMsUF0pLHRoaXMubmI9bnVsbCx0aGlzLlJlPSExLEZnKHRoaXMpfWZ1bmN0aW9uIEZnKHQpe1AuZ2V0KFwicmVkaXJlY3RfcmVxdWVzdF9pZFwiKSYmR2codCk7dmFyIGU9dC5yYy5nZXQoKTtlJiZlLnRva2VuPyhIZyh0LGUpLHQuZGYoZS50b2tlbixmdW5jdGlvbihuLGkpe0lnKHQsbixpLCExLGUudG9rZW4sZSl9LGZ1bmN0aW9uKGUsbil7SmcodCxcInJlc3VtZVNlc3Npb24oKVwiLGUsbil9KSk6SGcodCxudWxsKX1mdW5jdGlvbiBLZyh0LGUsbixpLHIsbyl7XCJmaXJlYmFzZWlvLWRlbW8uY29tXCI9PT10LkguZG9tYWluJiZRKFwiRmlyZWJhc2UgYXV0aGVudGljYXRpb24gaXMgbm90IHN1cHBvcnRlZCBvbiBkZW1vIEZpcmViYXNlcyAoKi5maXJlYmFzZWlvLWRlbW8uY29tKS4gVG8gc2VjdXJlIHlvdXIgRmlyZWJhc2UsIGNyZWF0ZSBhIHByb2R1Y3Rpb24gRmlyZWJhc2UgYXQgaHR0cHM6Ly93d3cuZmlyZWJhc2UuY29tLlwiKSx0LmRmKGUsZnVuY3Rpb24obyxhKXtJZyh0LG8sYSwhMCxlLG4saXx8e30scil9LGZ1bmN0aW9uKGUsbil7SmcodCxcImF1dGgoKVwiLGUsbixvKX0pfWZ1bmN0aW9uIExnKHQsZSl7dC5yYy5jbGVhcigpLEhnKHQsbnVsbCksdC5TZyhmdW5jdGlvbih0LG4pe2lmKFwib2tcIj09PXQpUihlLG51bGwpO2Vsc2V7dmFyIGk9KHR8fFwiZXJyb3JcIikudG9VcHBlckNhc2UoKSxyPWk7biYmKHIrPVwiOiBcIituKSxyPUVycm9yKHIpLHIuY29kZT1pLFIoZSxyKX19KX1mdW5jdGlvbiBJZyh0LGUsbixpLHIsbyxhLHMpe1wib2tcIj09PWU/KGkmJihlPW4uYXV0aCxvLmF1dGg9ZSxvLmV4cGlyZXM9bi5leHBpcmVzLG8udG9rZW49Y2Qocik/cjpcIlwiLG49bnVsbCxlJiZ1KGUsXCJ1aWRcIik/bj13KGUsXCJ1aWRcIik6dShvLFwidWlkXCIpJiYobj13KG8sXCJ1aWRcIikpLG8udWlkPW4sbj1cImN1c3RvbVwiLGUmJnUoZSxcInByb3ZpZGVyXCIpP249dyhlLFwicHJvdmlkZXJcIik6dShvLFwicHJvdmlkZXJcIikmJihuPXcobyxcInByb3ZpZGVyXCIpKSxvLnByb3ZpZGVyPW4sdC5yYy5jbGVhcigpLGNkKHIpJiYoYT1hfHx7fSxuPURjLFwic2Vzc2lvbk9ubHlcIj09PWEucmVtZW1iZXImJihuPVApLFwibm9uZVwiIT09YS5yZW1lbWJlciYmdC5yYy5zZXQobyxuKSksSGcodCxvKSksUihzLG51bGwsbykpOih0LnJjLmNsZWFyKCksSGcodCxudWxsKSxvPXQ9KGV8fFwiZXJyb3JcIikudG9VcHBlckNhc2UoKSxuJiYobys9XCI6IFwiK24pLG89RXJyb3Iobyksby5jb2RlPXQsUihzLG8pKX1mdW5jdGlvbiBKZyh0LGUsbixpLHIpe1EoZStcIiB3YXMgY2FuY2VsZWQ6IFwiK2kpLHQucmMuY2xlYXIoKSxIZyh0LG51bGwpLHQ9RXJyb3IoaSksdC5jb2RlPW4udG9VcHBlckNhc2UoKSxSKHIsdCl9ZnVuY3Rpb24gTWcodCxlLG4saSxyKXtOZyh0KSxuPW5ldyBnZyhpfHx7fSx7fSxufHx7fSksT2codCxbQWcsQ2ddLFwiL2F1dGgvXCIrZSxuLHIpfWZ1bmN0aW9uIFBnKHQsZSxuLGkpe05nKHQpO3ZhciByPVt6ZyxCZ107bj1pZyhuKSxcImFub255bW91c1wiPT09ZXx8XCJwYXNzd29yZFwiPT09ZT9zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7UihpLHlnKFwiVFJBTlNQT1JUX1VOQVZBSUxBQkxFXCIpKX0sMCk6KG4uY2Uud2luZG93X2ZlYXR1cmVzPVwibWVudWJhcj15ZXMsbW9kYWw9eWVzLGFsd2F5c1JhaXNlZD15ZXNsb2NhdGlvbj15ZXMscmVzaXphYmxlPXllcyxzY3JvbGxiYXJzPXllcyxzdGF0dXM9eWVzLGhlaWdodD02MjUsd2lkdGg9NjI1LHRvcD1cIisoXCJvYmplY3RcIj09dHlwZW9mIHNjcmVlbj8uNSooc2NyZWVuLmhlaWdodC02MjUpOjApK1wiLGxlZnQ9XCIrKFwib2JqZWN0XCI9PXR5cGVvZiBzY3JlZW4/LjUqKHNjcmVlbi53aWR0aC02MjUpOjApLG4uY2UucmVsYXlfdXJsPXRnKHQuSC5DYiksbi5jZS5yZXF1ZXN0V2l0aENyZWRlbnRpYWw9cSh0LnBjLHQpLE9nKHQscixcIi9hdXRoL1wiK2UsbixpKSl9ZnVuY3Rpb24gR2codCl7dmFyIGU9UC5nZXQoXCJyZWRpcmVjdF9yZXF1ZXN0X2lkXCIpO2lmKGUpe3ZhciBuPVAuZ2V0KFwicmVkaXJlY3RfY2xpZW50X29wdGlvbnNcIik7UC5yZW1vdmUoXCJyZWRpcmVjdF9yZXF1ZXN0X2lkXCIpLFAucmVtb3ZlKFwicmVkaXJlY3RfY2xpZW50X29wdGlvbnNcIik7dmFyIGk9W0FnLENnXSxlPXtyZXF1ZXN0SWQ6ZSxyZXF1ZXN0S2V5OnJnKGRvY3VtZW50LmxvY2F0aW9uLmhhc2gpfSxuPW5ldyBnZyhuLHt9LGUpO3QuUmU9ITA7dHJ5e2RvY3VtZW50LmxvY2F0aW9uLmhhc2g9ZG9jdW1lbnQubG9jYXRpb24uaGFzaC5yZXBsYWNlKC8mX19maXJlYmFzZV9yZXF1ZXN0X2tleT0oW2EtekEtejAtOV0qKS8sXCJcIil9Y2F0Y2gocil7fU9nKHQsaSxcIi9hdXRoL3Nlc3Npb25cIixuLGZ1bmN0aW9uKCl7dGhpcy5SZT0hMX0uYmluZCh0KSl9fWZ1bmN0aW9uIE9nKHQsZSxuLGkscil7UWcodCxlLG4saSxmdW5jdGlvbihlLG4peyFlJiZuJiZuLnRva2VuJiZuLnVpZD9LZyh0LG4udG9rZW4sbixpLmxkLGZ1bmN0aW9uKHQsZSl7dD9SKHIsdCk6UihyLG51bGwsZSl9KTpSKHIsZXx8eWcoXCJVTktOT1dOX0VSUk9SXCIpKX0pfWZ1bmN0aW9uIFFnKHQsZSxuLGkscil7ZT1QYShlLGZ1bmN0aW9uKHQpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIHQuaXNBdmFpbGFibGUmJnQuaXNBdmFpbGFibGUoKX0pLDA9PT1lLmxlbmd0aD9zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7UihyLHlnKFwiVFJBTlNQT1JUX1VOQVZBSUxBQkxFXCIpKX0sMCk6KGU9bmV3KGUuc2hpZnQoKSkoaS5jZSksaT1pYihpLmFiKSxpLnY9XCJqcy0yLjIuNFwiLGkudHJhbnNwb3J0PWUuQmMoKSxpLnN1cHByZXNzX3N0YXR1c19jb2Rlcz0hMCx0PXNnKCkrXCIvXCIrdC5ILkNiK24sZS5vcGVuKHQsaSxmdW5jdGlvbih0LGUpe2lmKHQpUihyLHQpO2Vsc2UgaWYoZSYmZS5lcnJvcil7dmFyIG49RXJyb3IoZS5lcnJvci5tZXNzYWdlKTtuLmNvZGU9ZS5lcnJvci5jb2RlLG4uZGV0YWlscz1lLmVycm9yLmRldGFpbHMsUihyLG4pfWVsc2UgUihyLG51bGwsZSl9KSl9ZnVuY3Rpb24gSGcodCxlKXt2YXIgbj1udWxsIT09dC5uYnx8bnVsbCE9PWU7dC5uYj1lLG4mJnQuZGUoXCJhdXRoX3N0YXR1c1wiLGUpLHQuS2UobnVsbCE9PWUpfWZ1bmN0aW9uIE5nKHQpe3ZhciBlPXQuSDtpZihcImZpcmViYXNlaW8uY29tXCIhPT1lLmRvbWFpbiYmXCJmaXJlYmFzZWlvLWRlbW8uY29tXCIhPT1lLmRvbWFpbiYmXCJhdXRoLmZpcmViYXNlLmNvbVwiPT09ZmcpdGhyb3cgRXJyb3IoXCJUaGlzIGN1c3RvbSBGaXJlYmFzZSBzZXJ2ZXIgKCdcIit0LkguZG9tYWluK1wiJykgZG9lcyBub3Qgc3VwcG9ydCBkZWxlZ2F0ZWQgbG9naW4uXCIpfWZ1bmN0aW9uIFJnKHQpe3RoaXMuaGM9dCx0aGlzLktkPVtdLHRoaXMuUWI9MCx0aGlzLnBlPS0xLHRoaXMuRmI9bnVsbH1mdW5jdGlvbiBTZyh0LGUsbil7dC5wZT1lLHQuRmI9bix0LnBlPHQuUWImJih0LkZiKCksdC5GYj1udWxsKX1mdW5jdGlvbiBUZyh0LGUsbil7Zm9yKHQuS2RbZV09bjt0LktkW3QuUWJdOyl7dmFyIGk9dC5LZFt0LlFiXTtkZWxldGUgdC5LZFt0LlFiXTtmb3IodmFyIHI9MDtyPGkubGVuZ3RoOysrcilpZihpW3JdKXt2YXIgbz10O0NiKGZ1bmN0aW9uKCl7by5oYyhpW3JdKX0pfWlmKHQuUWI9PT10LnBlKXt0LkZiJiYoY2xlYXJUaW1lb3V0KHQuRmIpLHQuRmIoKSx0LkZiPW51bGwpO2JyZWFrfXQuUWIrK319ZnVuY3Rpb24gVWcodCxlLG4pe3RoaXMucWU9dCx0aGlzLmY9T2ModCksdGhpcy5vYj10aGlzLnBiPTAsdGhpcy5WYT1PYihlKSx0aGlzLlZkPW4sdGhpcy5HYz0hMSx0aGlzLmdkPWZ1bmN0aW9uKHQpe2UuaG9zdCE9PWUuT2EmJih0Lm5zPWUuQ2IpO3ZhciBuLGk9W107Zm9yKG4gaW4gdCl0Lmhhc093blByb3BlcnR5KG4pJiZpLnB1c2gobitcIj1cIit0W25dKTtyZXR1cm4oZS5sYj9cImh0dHBzOi8vXCI6XCJodHRwOi8vXCIpK2UuT2ErXCIvLmxwP1wiK2kuam9pbihcIiZcIil9fWZ1bmN0aW9uIFlnKHQsZSl7dmFyIG49QihlKS5sZW5ndGg7dC5vYis9bixMYih0LlZhLFwiYnl0ZXNfcmVjZWl2ZWRcIixuKX1mdW5jdGlvbiBYZyh0LGUsbixpKXtpZih0aGlzLmdkPWksdGhpcy5qYj1uLHRoaXMuT2U9bmV3IGNnLHRoaXMuJGM9W10sdGhpcy5zZT1NYXRoLmZsb29yKDFlOCpNYXRoLnJhbmRvbSgpKSx0aGlzLlRkPSEwLHRoaXMuZmU9R2MoKSx3aW5kb3dbXCJwTFBDb21tYW5kXCIrdGhpcy5mZV09dCx3aW5kb3dbXCJwUlRMUENCXCIrdGhpcy5mZV09ZSx0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpZnJhbWVcIiksdC5zdHlsZS5kaXNwbGF5PVwibm9uZVwiLCFkb2N1bWVudC5ib2R5KXRocm93XCJEb2N1bWVudCBib2R5IGhhcyBub3QgaW5pdGlhbGl6ZWQuIFdhaXQgdG8gaW5pdGlhbGl6ZSBGaXJlYmFzZSB1bnRpbCBhZnRlciB0aGUgZG9jdW1lbnQgaXMgcmVhZHkuXCI7ZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0KTt0cnl7dC5jb250ZW50V2luZG93LmRvY3VtZW50fHxCYihcIk5vIElFIGRvbWFpbiBzZXR0aW5nIHJlcXVpcmVkXCIpfWNhdGNoKHIpe3Quc3JjPVwiamF2YXNjcmlwdDp2b2lkKChmdW5jdGlvbigpe2RvY3VtZW50Lm9wZW4oKTtkb2N1bWVudC5kb21haW49J1wiK2RvY3VtZW50LmRvbWFpbitcIic7ZG9jdW1lbnQuY2xvc2UoKTt9KSgpKVwifXQuY29udGVudERvY3VtZW50P3QuZ2I9dC5jb250ZW50RG9jdW1lbnQ6dC5jb250ZW50V2luZG93P3QuZ2I9dC5jb250ZW50V2luZG93LmRvY3VtZW50OnQuZG9jdW1lbnQmJih0LmdiPXQuZG9jdW1lbnQpLHRoaXMuQ2E9dCx0PVwiXCIsdGhpcy5DYS5zcmMmJlwiamF2YXNjcmlwdDpcIj09PXRoaXMuQ2Euc3JjLnN1YnN0cigwLDExKSYmKHQ9JzxzY3JpcHQ+ZG9jdW1lbnQuZG9tYWluPVwiJytkb2N1bWVudC5kb21haW4rJ1wiOzwvc2NyaXB0PicpLHQ9XCI8aHRtbD48Ym9keT5cIit0K1wiPC9ib2R5PjwvaHRtbD5cIjt0cnl7dGhpcy5DYS5nYi5vcGVuKCksdGhpcy5DYS5nYi53cml0ZSh0KSx0aGlzLkNhLmdiLmNsb3NlKCl9Y2F0Y2gobyl7QmIoXCJmcmFtZSB3cml0aW5nIGV4Y2VwdGlvblwiKSxvLnN0YWNrJiZCYihvLnN0YWNrKSxCYihvKX19ZnVuY3Rpb24gJGcodCl7aWYodC5rZSYmdC5UZCYmdC5PZS5jb3VudCgpPCgwPHQuJGMubGVuZ3RoPzI6MSkpe3Quc2UrKzt2YXIgZT17fTtlLmlkPXQucmcsZS5wdz10LnNnLGUuc2VyPXQuc2U7Zm9yKHZhciBlPXQuZ2QoZSksbj1cIlwiLGk9MDswPHQuJGMubGVuZ3RoJiYxODcwPj10LiRjWzBdLmpmLmxlbmd0aCszMCtuLmxlbmd0aDspe3ZhciByPXQuJGMuc2hpZnQoKSxuPW4rXCImc2VnXCIraStcIj1cIityLkpnK1wiJnRzXCIraStcIj1cIityLlJnK1wiJmRcIitpK1wiPVwiK3IuamY7aSsrfXJldHVybiBhaCh0LGUrbix0LnNlKSwhMH1yZXR1cm4hMX1mdW5jdGlvbiBhaCh0LGUsbil7ZnVuY3Rpb24gaSgpe3QuT2UucmVtb3ZlKG4pLCRnKHQpfXQuT2UuYWRkKG4sMSk7dmFyIHI9c2V0VGltZW91dChpLE1hdGguZmxvb3IoMjVlMykpO1pnKHQsZSxmdW5jdGlvbigpe2NsZWFyVGltZW91dChyKSxpKCl9KX1mdW5jdGlvbiBaZyh0LGUsbil7c2V0VGltZW91dChmdW5jdGlvbigpe3RyeXtpZih0LlRkKXt2YXIgaT10LkNhLmdiLmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIik7aS50eXBlPVwidGV4dC9qYXZhc2NyaXB0XCIsaS5hc3luYz0hMCxpLnNyYz1lLGkub25sb2FkPWkub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7dmFyIHQ9aS5yZWFkeVN0YXRlO3QmJlwibG9hZGVkXCIhPT10JiZcImNvbXBsZXRlXCIhPT10fHwoaS5vbmxvYWQ9aS5vbnJlYWR5c3RhdGVjaGFuZ2U9bnVsbCxpLnBhcmVudE5vZGUmJmkucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChpKSxuKCkpfSxpLm9uZXJyb3I9ZnVuY3Rpb24oKXtCYihcIkxvbmctcG9sbCBzY3JpcHQgZmFpbGVkIHRvIGxvYWQ6IFwiK2UpLHQuVGQ9ITEsdC5jbG9zZSgpfSx0LkNhLmdiLmJvZHkuYXBwZW5kQ2hpbGQoaSl9fWNhdGNoKHIpe319LE1hdGguZmxvb3IoMSkpfWZ1bmN0aW9uIGNoKHQsZSxuKXt0aGlzLnFlPXQsdGhpcy5mPU9jKHRoaXMucWUpLHRoaXMuZnJhbWVzPXRoaXMuSmM9bnVsbCx0aGlzLm9iPXRoaXMucGI9dGhpcy5iZj0wLHRoaXMuVmE9T2IoZSksdGhpcy5mYj0oZS5sYj9cIndzczovL1wiOlwid3M6Ly9cIikrZS5PYStcIi8ud3M/dj01XCIsXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGxvY2F0aW9uJiZsb2NhdGlvbi5ocmVmJiYtMSE9PWxvY2F0aW9uLmhyZWYuaW5kZXhPZihcImZpcmViYXNlaW8uY29tXCIpJiYodGhpcy5mYis9XCImcj1mXCIpLGUuaG9zdCE9PWUuT2EmJih0aGlzLmZiPXRoaXMuZmIrXCImbnM9XCIrZS5DYiksbiYmKHRoaXMuZmI9dGhpcy5mYitcIiZzPVwiK24pfWZ1bmN0aW9uIGZoKHQsZSl7aWYodC5mcmFtZXMucHVzaChlKSx0LmZyYW1lcy5sZW5ndGg9PXQuYmYpe3ZhciBuPXQuZnJhbWVzLmpvaW4oXCJcIik7dC5mcmFtZXM9bnVsbCxuPW1iKG4pLHQud2cobil9fWZ1bmN0aW9uIGVoKHQpe2NsZWFySW50ZXJ2YWwodC5KYyksdC5KYz1zZXRJbnRlcnZhbChmdW5jdGlvbigpe3QudmEmJnQudmEuc2VuZChcIjBcIiksZWgodCl9LE1hdGguZmxvb3IoNDVlMykpfWZ1bmN0aW9uIGdoKHQpe2hoKHRoaXMsdCl9ZnVuY3Rpb24gaGgodCxlKXt2YXIgbj1jaCYmY2guaXNBdmFpbGFibGUoKSxpPW4mJiEoRGMudWZ8fCEwPT09RGMuZ2V0KFwicHJldmlvdXNfd2Vic29ja2V0X2ZhaWx1cmVcIikpO2lmKGUuVGcmJihufHxRKFwid3NzOi8vIFVSTCB1c2VkLCBidXQgYnJvd3NlciBpc24ndCBrbm93biB0byBzdXBwb3J0IHdlYnNvY2tldHMuICBUcnlpbmcgYW55d2F5LlwiKSxpPSEwKSxpKXQuZWQ9W2NoXTtlbHNle3ZhciByPXQuZWQ9W107WWMoaWgsZnVuY3Rpb24odCxlKXtlJiZlLmlzQXZhaWxhYmxlKCkmJnIucHVzaChlKX0pfX1mdW5jdGlvbiBqaCh0KXtpZigwPHQuZWQubGVuZ3RoKXJldHVybiB0LmVkWzBdO3Rocm93IEVycm9yKFwiTm8gdHJhbnNwb3J0cyBhdmFpbGFibGVcIil9ZnVuY3Rpb24ga2godCxlLG4saSxyLG8pe3RoaXMuaWQ9dCx0aGlzLmY9T2MoXCJjOlwiK3RoaXMuaWQrXCI6XCIpLHRoaXMuaGM9bix0aGlzLlZjPWksdGhpcy5rYT1yLHRoaXMuTWU9byx0aGlzLkg9ZSx0aGlzLkpkPVtdLHRoaXMuZWY9MCx0aGlzLk5mPW5ldyBnaChlKSx0aGlzLlVhPTAsdGhpcy5mKFwiQ29ubmVjdGlvbiBjcmVhdGVkXCIpLGxoKHRoaXMpfWZ1bmN0aW9uIGxoKHQpe3ZhciBlPWpoKHQuTmYpO3QuTD1uZXcgZShcImM6XCIrdC5pZCtcIjpcIit0LmVmKyssdC5IKSx0LlFlPWUucmVzcG9uc2VzUmVxdWlyZWRUb0JlSGVhbHRoeXx8MDt2YXIgbj1taCh0LHQuTCksaT1uaCh0LHQuTCk7dC5mZD10LkwsdC5iZD10LkwsdC5GPW51bGwsdC5BYj0hMSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dC5MJiZ0Lkwub3BlbihuLGkpfSxNYXRoLmZsb29yKDApKSxlPWUuaGVhbHRoeVRpbWVvdXR8fDAsZT4wJiYodC52ZD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dC52ZD1udWxsLHQuQWJ8fCh0LkwmJjEwMjQwMDx0Lkwub2I/KHQuZihcIkNvbm5lY3Rpb24gZXhjZWVkZWQgaGVhbHRoeSB0aW1lb3V0IGJ1dCBoYXMgcmVjZWl2ZWQgXCIrdC5MLm9iK1wiIGJ5dGVzLiAgTWFya2luZyBjb25uZWN0aW9uIGhlYWx0aHkuXCIpLHQuQWI9ITAsdC5MLkJkKCkpOnQuTCYmMTAyNDA8dC5MLnBiP3QuZihcIkNvbm5lY3Rpb24gZXhjZWVkZWQgaGVhbHRoeSB0aW1lb3V0IGJ1dCBoYXMgc2VudCBcIit0LkwucGIrXCIgYnl0ZXMuICBMZWF2aW5nIGNvbm5lY3Rpb24gYWxpdmUuXCIpOih0LmYoXCJDbG9zaW5nIHVuaGVhbHRoeSBjb25uZWN0aW9uIGFmdGVyIHRpbWVvdXQuXCIpLHQuY2xvc2UoKSkpfSxNYXRoLmZsb29yKGUpKSl9ZnVuY3Rpb24gbmgodCxlKXtyZXR1cm4gZnVuY3Rpb24obil7ZT09PXQuTD8odC5MPW51bGwsbnx8MCE9PXQuVWE/MT09PXQuVWEmJnQuZihcIlJlYWx0aW1lIGNvbm5lY3Rpb24gbG9zdC5cIik6KHQuZihcIlJlYWx0aW1lIGNvbm5lY3Rpb24gZmFpbGVkLlwiKSxcInMtXCI9PT10LkguT2Euc3Vic3RyKDAsMikmJihEYy5yZW1vdmUoXCJob3N0OlwiK3QuSC5ob3N0KSx0LkguT2E9dC5ILmhvc3QpKSx0LmNsb3NlKCkpOmU9PT10LkY/KHQuZihcIlNlY29uZGFyeSBjb25uZWN0aW9uIGxvc3QuXCIpLG49dC5GLHQuRj1udWxsLHQuZmQhPT1uJiZ0LmJkIT09bnx8dC5jbG9zZSgpKTp0LmYoXCJjbG9zaW5nIGFuIG9sZCBjb25uZWN0aW9uXCIpfX1mdW5jdGlvbiBtaCh0LGUpe3JldHVybiBmdW5jdGlvbihuKXtpZigyIT10LlVhKWlmKGU9PT10LmJkKXt2YXIgaT1WYyhcInRcIixuKTtpZihuPVZjKFwiZFwiLG4pLFwiY1wiPT1pKXtpZihpPVZjKFwidFwiLG4pLFwiZFwiaW4gbilpZihuPW4uZCxcImhcIj09PWkpe3ZhciBpPW4udHMscj1uLnYsbz1uLmg7dC5WZD1uLnMsRmModC5ILG8pLDA9PXQuVWEmJih0Lkwuc3RhcnQoKSxvaCh0LHQuTCxpKSxcIjVcIiE9PXImJlEoXCJQcm90b2NvbCB2ZXJzaW9uIG1pc21hdGNoIGRldGVjdGVkXCIpLG49dC5OZiwobj0xPG4uZWQubGVuZ3RoP24uZWRbMV06bnVsbCkmJnBoKHQsbikpfWVsc2UgaWYoXCJuXCI9PT1pKXtmb3IodC5mKFwicmVjdmQgZW5kIHRyYW5zbWlzc2lvbiBvbiBwcmltYXJ5XCIpLHQuYmQ9dC5GLG49MDtuPHQuSmQubGVuZ3RoOysrbil0LkZkKHQuSmRbbl0pO3QuSmQ9W10scWgodCl9ZWxzZVwic1wiPT09aT8odC5mKFwiQ29ubmVjdGlvbiBzaHV0ZG93biBjb21tYW5kIHJlY2VpdmVkLiBTaHV0dGluZyBkb3duLi4uXCIpLHQuTWUmJih0Lk1lKG4pLHQuTWU9bnVsbCksdC5rYT1udWxsLHQuY2xvc2UoKSk6XCJyXCI9PT1pPyh0LmYoXCJSZXNldCBwYWNrZXQgcmVjZWl2ZWQuICBOZXcgaG9zdDogXCIrbiksRmModC5ILG4pLDE9PT10LlVhP3QuY2xvc2UoKToocmgodCksbGgodCkpKTpcImVcIj09PWk/UGMoXCJTZXJ2ZXIgRXJyb3I6IFwiK24pOlwib1wiPT09aT8odC5mKFwiZ290IHBvbmcgb24gcHJpbWFyeS5cIiksc2godCksdGgodCkpOlBjKFwiVW5rbm93biBjb250cm9sIHBhY2tldCBjb21tYW5kOiBcIitpKX1lbHNlXCJkXCI9PWkmJnQuRmQobil9ZWxzZSBpZihlPT09dC5GKWlmKGk9VmMoXCJ0XCIsbiksbj1WYyhcImRcIixuKSxcImNcIj09aSlcInRcImluIG4mJihuPW4udCxcImFcIj09PW4/dWgodCk6XCJyXCI9PT1uPyh0LmYoXCJHb3QgYSByZXNldCBvbiBzZWNvbmRhcnksIGNsb3NpbmcgaXRcIiksdC5GLmNsb3NlKCksdC5mZCE9PXQuRiYmdC5iZCE9PXQuRnx8dC5jbG9zZSgpKTpcIm9cIj09PW4mJih0LmYoXCJnb3QgcG9uZyBvbiBzZWNvbmRhcnkuXCIpLHQuTGYtLSx1aCh0KSkpO2Vsc2V7aWYoXCJkXCIhPWkpdGhyb3cgRXJyb3IoXCJVbmtub3duIHByb3RvY29sIGxheWVyOiBcIitpKTt0LkpkLnB1c2gobil9ZWxzZSB0LmYoXCJtZXNzYWdlIG9uIG9sZCBjb25uZWN0aW9uXCIpfX1mdW5jdGlvbiBxaCh0KXt0LmZkPT09dC5GJiZ0LmJkPT09dC5GJiYodC5mKFwiY2xlYW5pbmcgdXAgYW5kIHByb21vdGluZyBhIGNvbm5lY3Rpb246IFwiK3QuRi5xZSksdC5MPXQuRix0LkY9bnVsbCl9ZnVuY3Rpb24gdWgodCl7MD49dC5MZj8odC5mKFwiU2Vjb25kYXJ5IGNvbm5lY3Rpb24gaXMgaGVhbHRoeS5cIiksdC5BYj0hMCx0LkYuQmQoKSx0LkYuc3RhcnQoKSx0LmYoXCJzZW5kaW5nIGNsaWVudCBhY2sgb24gc2Vjb25kYXJ5XCIpLHQuRi5zZW5kKHt0OlwiY1wiLGQ6e3Q6XCJhXCIsZDp7fX19KSx0LmYoXCJFbmRpbmcgdHJhbnNtaXNzaW9uIG9uIHByaW1hcnlcIiksdC5MLnNlbmQoe3Q6XCJjXCIsZDp7dDpcIm5cIixkOnt9fX0pLHQuZmQ9dC5GLHFoKHQpKToodC5mKFwic2VuZGluZyBwaW5nIG9uIHNlY29uZGFyeS5cIiksdC5GLnNlbmQoe3Q6XCJjXCIsZDp7dDpcInBcIixkOnt9fX0pKX1mdW5jdGlvbiBzaCh0KXt0LkFifHwodC5RZS0tLDA+PXQuUWUmJih0LmYoXCJQcmltYXJ5IGNvbm5lY3Rpb24gaXMgaGVhbHRoeS5cIiksdC5BYj0hMCx0LkwuQmQoKSkpfWZ1bmN0aW9uIHBoKHQsZSl7dC5GPW5ldyBlKFwiYzpcIit0LmlkK1wiOlwiK3QuZWYrKyx0LkgsdC5WZCksdC5MZj1lLnJlc3BvbnNlc1JlcXVpcmVkVG9CZUhlYWx0aHl8fDAsdC5GLm9wZW4obWgodCx0LkYpLG5oKHQsdC5GKSksc2V0VGltZW91dChmdW5jdGlvbigpe3QuRiYmKHQuZihcIlRpbWVkIG91dCB0cnlpbmcgdG8gdXBncmFkZS5cIiksdC5GLmNsb3NlKCkpfSxNYXRoLmZsb29yKDZlNCkpfWZ1bmN0aW9uIG9oKHQsZSxuKXt0LmYoXCJSZWFsdGltZSBjb25uZWN0aW9uIGVzdGFibGlzaGVkLlwiKSx0Lkw9ZSx0LlVhPTEsdC5WYyYmKHQuVmMobiksdC5WYz1udWxsKSwwPT09dC5RZT8odC5mKFwiUHJpbWFyeSBjb25uZWN0aW9uIGlzIGhlYWx0aHkuXCIpLHQuQWI9ITApOnNldFRpbWVvdXQoZnVuY3Rpb24oKXt0aCh0KX0sTWF0aC5mbG9vcig1ZTMpKX1mdW5jdGlvbiB0aCh0KXt0LkFifHwxIT09dC5VYXx8KHQuZihcInNlbmRpbmcgcGluZyBvbiBwcmltYXJ5LlwiKSx2aCh0LHt0OlwiY1wiLGQ6e3Q6XCJwXCIsZDp7fX19KSl9ZnVuY3Rpb24gdmgodCxlKXtpZigxIT09dC5VYSl0aHJvd1wiQ29ubmVjdGlvbiBpcyBub3QgY29ubmVjdGVkXCI7dC5mZC5zZW5kKGUpfWZ1bmN0aW9uIHJoKHQpe3QuZihcIlNodXR0aW5nIGRvd24gYWxsIGNvbm5lY3Rpb25zXCIpLHQuTCYmKHQuTC5jbG9zZSgpLHQuTD1udWxsKSx0LkYmJih0LkYuY2xvc2UoKSx0LkY9bnVsbCksdC52ZCYmKGNsZWFyVGltZW91dCh0LnZkKSx0LnZkPW51bGwpfWZ1bmN0aW9uIHdoKHQsZSxuLGkpe3RoaXMuaWQ9eGgrKyx0aGlzLmY9T2MoXCJwOlwiK3RoaXMuaWQrXCI6XCIpLHRoaXMud2Y9dGhpcy5EZT0hMSx0aGlzLmFhPXt9LHRoaXMucGE9W10sdGhpcy5YYz0wLHRoaXMuVWM9W10sdGhpcy5tYT0hMSx0aGlzLiRhPTFlMyx0aGlzLkNkPTNlNSx0aGlzLkdiPWUsdGhpcy5UYz1uLHRoaXMuTmU9aSx0aGlzLkg9dCx0aGlzLldlPW51bGwsdGhpcy5RZD17fSx0aGlzLklnPTAsdGhpcy5tZj0hMCx0aGlzLktjPXRoaXMuRmU9bnVsbCx5aCh0aGlzLDApLE1mLnViKCkuRWIoXCJ2aXNpYmxlXCIsdGhpcy56Zyx0aGlzKSwtMT09PXQuaG9zdC5pbmRleE9mKFwiZmJsb2NhbFwiKSYmTGYudWIoKS5FYihcIm9ubGluZVwiLHRoaXMueGcsdGhpcyl9ZnVuY3Rpb24gQWgodCxlKXt2YXIgbj1lLkZnLGk9bi5wYXRoLnRvU3RyaW5nKCkscj1uLndhKCk7dC5mKFwiTGlzdGVuIG9uIFwiK2krXCIgZm9yIFwiK3IpO3ZhciBvPXtwOml9O2UudGFnJiYoby5xPWNlKG4ubiksby50PWUudGFnKSxvLmg9ZS51ZCgpLHQuRGEoXCJxXCIsbyxmdW5jdGlvbihvKXt2YXIgYT1vLmQscz1vLnM7aWYoYSYmXCJvYmplY3RcIj09dHlwZW9mIGEmJnUoYSxcIndcIikpe3ZhciBoPXcoYSxcIndcIik7ZWEoaCkmJjA8PU5hKGgsXCJub19pbmRleFwiKSYmUShcIlVzaW5nIGFuIHVuc3BlY2lmaWVkIGluZGV4LiBDb25zaWRlciBhZGRpbmcgXCIrKCdcIi5pbmRleE9uXCI6IFwiJytuLm4uZy50b1N0cmluZygpKydcIicpK1wiIGF0IFwiK24ucGF0aC50b1N0cmluZygpK1wiIHRvIHlvdXIgc2VjdXJpdHkgcnVsZXMgZm9yIGJldHRlciBwZXJmb3JtYW5jZVwiKX0odC5hYVtpXSYmdC5hYVtpXVtyXSk9PT1lJiYodC5mKFwibGlzdGVuIHJlc3BvbnNlXCIsbyksXCJva1wiIT09cyYmQmgodCxpLHIpLGUuSiYmZS5KKHMsYSkpfSl9ZnVuY3Rpb24gQ2godCl7dmFyIGU9dC5GYTt0Lm1hJiZlJiZ0LkRhKFwiYXV0aFwiLHtjcmVkOmUuZmd9LGZ1bmN0aW9uKG4pe3ZhciBpPW4ucztuPW4uZHx8XCJlcnJvclwiLFwib2tcIiE9PWkmJnQuRmE9PT1lJiZkZWxldGUgdC5GYSxlLm5mP1wib2tcIiE9PWkmJmUuamQmJmUuamQoaSxuKTooZS5uZj0hMCxlLnljJiZlLnljKGksbikpfSl9ZnVuY3Rpb24gRGgodCxlLG4saSxyKXtuPXtwOm4sZDppfSx0LmYoXCJvbkRpc2Nvbm5lY3QgXCIrZSxuKSx0LkRhKGUsbixmdW5jdGlvbih0KXtyJiZzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7cih0LnMsdC5kKX0sTWF0aC5mbG9vcigwKSl9KX1mdW5jdGlvbiBFaCh0LGUsaSxyLG8sYSl7cj17cDppLGQ6cn0sbihhKSYmKHIuaD1hKSx0LnBhLnB1c2goe2FjdGlvbjplLElmOnIsSjpvfSksdC5YYysrLGU9dC5wYS5sZW5ndGgtMSx0Lm1hP0ZoKHQsZSk6dC5mKFwiQnVmZmVyaW5nIHB1dDogXCIraSl9ZnVuY3Rpb24gRmgodCxlKXt2YXIgbj10LnBhW2VdLmFjdGlvbixpPXQucGFbZV0uSWYscj10LnBhW2VdLko7dC5wYVtlXS5HZz10Lm1hLHQuRGEobixpLGZ1bmN0aW9uKGkpe3QuZihuK1wiIHJlc3BvbnNlXCIsaSksZGVsZXRlIHQucGFbZV0sdC5YYy0tLDA9PT10LlhjJiYodC5wYT1bXSksciYmcihpLnMsaS5kKX0pfWZ1bmN0aW9uIHloKHQsZSl7SighdC5TYSxcIlNjaGVkdWxpbmcgYSBjb25uZWN0IHdoZW4gd2UncmUgYWxyZWFkeSBjb25uZWN0ZWQvaW5nP1wiKSx0LlNiJiZjbGVhclRpbWVvdXQodC5TYiksdC5TYj1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dC5TYj1udWxsLEloKHQpfSxNYXRoLmZsb29yKGUpKX1mdW5jdGlvbiBJaCh0KXtpZihKaCh0KSl7dC5mKFwiTWFraW5nIGEgY29ubmVjdGlvbiBhdHRlbXB0XCIpLHQuRmU9KG5ldyBEYXRlKS5nZXRUaW1lKCksdC5LYz1udWxsO3ZhciBlPXEodC5GZCx0KSxuPXEodC5WYyx0KSxpPXEodC5DZix0KSxyPXQuaWQrXCI6XCIremgrKzt0LlNhPW5ldyBraChyLHQuSCxlLG4saSxmdW5jdGlvbihlKXtRKGUrXCIgKFwiK3QuSC50b1N0cmluZygpK1wiKVwiKSx0LndmPSEwfSl9fWZ1bmN0aW9uIEdoKHQsZSxuKXtuPW4/UWEobixmdW5jdGlvbih0KXtyZXR1cm4gV2ModCl9KS5qb2luKFwiJFwiKTpcImRlZmF1bHRcIiwodD1CaCh0LGUsbikpJiZ0LkomJnQuSihcInBlcm1pc3Npb25fZGVuaWVkXCIpfWZ1bmN0aW9uIEJoKHQsZSxpKXtlPW5ldyBLKGUpLnRvU3RyaW5nKCk7dmFyIHI7cmV0dXJuIG4odC5hYVtlXSk/KHI9dC5hYVtlXVtpXSxkZWxldGUgdC5hYVtlXVtpXSwwPT09cGEodC5hYVtlXSkmJmRlbGV0ZSB0LmFhW2VdKTpyPXZvaWQgMCxyfWZ1bmN0aW9uIEhoKHQpe0NoKHQpLHIodC5hYSxmdW5jdGlvbihlKXtyKGUsZnVuY3Rpb24oZSl7QWgodCxlKX0pfSk7Zm9yKHZhciBlPTA7ZTx0LnBhLmxlbmd0aDtlKyspdC5wYVtlXSYmRmgodCxlKTtmb3IoO3QuVWMubGVuZ3RoOyllPXQuVWMuc2hpZnQoKSxEaCh0LGUuYWN0aW9uLGUuWmMsZS5kYXRhLGUuSil9ZnVuY3Rpb24gSmgodCl7dmFyIGU7cmV0dXJuIGU9TGYudWIoKS5pYywhdC53ZiYmIXQuRGUmJmV9ZnVuY3Rpb24gUyh0LGUsbil7dGhpcy5CPXQsdGhpcy5WPWUsdGhpcy5nPW59ZnVuY3Rpb24gS2godCxlKXt0aGlzLkg9dCx0aGlzLlZhPU9iKHQpLHRoaXMuZWE9bmV3IHViLHRoaXMuRWQ9MSx0aGlzLlJhPW51bGwsZXx8MDw9KFwib2JqZWN0XCI9PXR5cGVvZiB3aW5kb3cmJndpbmRvdy5uYXZpZ2F0b3ImJndpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50fHxcIlwiKS5zZWFyY2goL2dvb2dsZWJvdHxnb29nbGUgd2VibWFzdGVyIHRvb2xzfGJpbmdib3R8eWFob28hIHNsdXJwfGJhaWR1c3BpZGVyfHlhbmRleGJvdHxkdWNrZHVja2JvdC9pKT8odGhpcy5jYT1uZXcgQWUodGhpcy5ILHEodGhpcy5HYix0aGlzKSksc2V0VGltZW91dChxKHRoaXMuVGMsdGhpcywhMCksMCkpOnRoaXMuY2E9dGhpcy5SYT1uZXcgd2godGhpcy5ILHEodGhpcy5HYix0aGlzKSxxKHRoaXMuVGMsdGhpcykscSh0aGlzLk5lLHRoaXMpKSx0aGlzLlBnPVBiKHQscShmdW5jdGlvbigpe3JldHVybiBuZXcgSmIodGhpcy5WYSx0aGlzLmNhKX0sdGhpcykpLHRoaXMudGM9bmV3IENmLHRoaXMuQmU9bmV3IG5iO3ZhciBuPXRoaXM7dGhpcy56ZD1uZXcgZ2Yoe1hlOmZ1bmN0aW9uKHQsZSxpLHIpe3JldHVybiBlPVtdLGk9bi5CZS5qKHQucGF0aCksaS5lKCl8fChlPWpmKG4uemQsbmV3IFViKHplLHQucGF0aCxpKSksc2V0VGltZW91dChmdW5jdGlvbigpe3IoXCJva1wiKX0sMCkpLGV9LFpkOmJhfSksTGgodGhpcyxcImNvbm5lY3RlZFwiLCExKSx0aGlzLmthPW5ldyBxYyx0aGlzLlA9bmV3IEVnKHQscSh0aGlzLmNhLlAsdGhpcy5jYSkscSh0aGlzLmNhLmVlLHRoaXMuY2EpLHEodGhpcy5LZSx0aGlzKSksdGhpcy5wZD0wLHRoaXMuQ2U9bnVsbCx0aGlzLk89bmV3IGdmKHtYZTpmdW5jdGlvbih0LGUsaSxyKXtyZXR1cm4gbi5jYS54Zih0LGksZSxmdW5jdGlvbihlLGkpe3ZhciBvPXIoZSxpKTt6YihuLmVhLHQucGF0aCxvKX0pLFtdfSxaZDpmdW5jdGlvbih0LGUpe24uY2EuT2YodCxlKX19KX1mdW5jdGlvbiBNaCh0KXtyZXR1cm4gdD10LkJlLmoobmV3IEsoXCIuaW5mby9zZXJ2ZXJUaW1lT2Zmc2V0XCIpKS5LKCl8fDAsKG5ldyBEYXRlKS5nZXRUaW1lKCkrdH1mdW5jdGlvbiBOaCh0KXtyZXR1cm4gdD10PXt0aW1lc3RhbXA6TWgodCl9LHQudGltZXN0YW1wPXQudGltZXN0YW1wfHwobmV3IERhdGUpLmdldFRpbWUoKSx0fWZ1bmN0aW9uIExoKHQsZSxuKXtlPW5ldyBLKFwiLy5pbmZvL1wiK2UpLG49TChuKTt2YXIgaT10LkJlO2kuU2Q9aS5TZC5HKGUsbiksbj1qZih0LnpkLG5ldyBVYih6ZSxlLG4pKSx6Yih0LmVhLGUsbil9ZnVuY3Rpb24gUGgodCl7dC5mKFwib25EaXNjb25uZWN0RXZlbnRzXCIpO3ZhciBlPU5oKHQpLG49W107cmMocGModC5rYSxlKSxGLGZ1bmN0aW9uKGUsaSl7bj1uLmNvbmNhdChqZih0Lk8sbmV3IFViKHplLGUsaSkpKTt2YXIgcj1SaCh0LGUpO09oKHQscil9KSx0LmthPW5ldyBxYyx6Yih0LmVhLEYsbil9ZnVuY3Rpb24gU2godCxlLG4saSl7dmFyIHI9TChuKTt0LmNhLkxlKGUudG9TdHJpbmcoKSxyLksoITApLGZ1bmN0aW9uKG4sbyl7XCJva1wiPT09biYmdC5rYS5tYyhlLHIpLFFoKGksbixvKX0pfWZ1bmN0aW9uIFRoKHQsZSxuLGkscil7dmFyIG89TChuLGkpO3QuY2EuTGUoZS50b1N0cmluZygpLG8uSyghMCksZnVuY3Rpb24obixpKXtcIm9rXCI9PT1uJiZ0LmthLm1jKGUsbyksUWgocixuLGkpfSl9ZnVuY3Rpb24gVWgodCxlLG4saSl7dmFyIHIsbz0hMDtmb3IociBpbiBuKW89ITE7bz8oQmIoXCJvbkRpc2Nvbm5lY3QoKS51cGRhdGUoKSBjYWxsZWQgd2l0aCBlbXB0eSBkYXRhLiAgRG9uJ3QgZG8gYW55dGhpbmcuXCIpLFFoKGksXCJva1wiKSk6dC5jYS5CZihlLnRvU3RyaW5nKCksbixmdW5jdGlvbihyLG8pe2lmKFwib2tcIj09PXIpZm9yKHZhciBhIGluIG4pe3ZhciBzPUwoblthXSk7dC5rYS5tYyhlLncoYSkscyl9UWgoaSxyLG8pfSl9ZnVuY3Rpb24gVmgodCxlLG4pe249XCIuaW5mb1wiPT09TyhlLnBhdGgpP3QuemQuT2IoZSxuKTp0Lk8uT2IoZSxuKSx4Yih0LmVhLGUucGF0aCxuKX1mdW5jdGlvbiBRaCh0LGUsbil7dCYmQ2IoZnVuY3Rpb24oKXtpZihcIm9rXCI9PWUpdChudWxsKTtlbHNle3ZhciBpPShlfHxcImVycm9yXCIpLnRvVXBwZXJDYXNlKCkscj1pO24mJihyKz1cIjogXCIrbikscj1FcnJvcihyKSxyLmNvZGU9aSx0KHIpfX0pfWZ1bmN0aW9uIFdoKHQsZSxpLHIsbyl7ZnVuY3Rpb24gYSgpe310LmYoXCJ0cmFuc2FjdGlvbiBvbiBcIitlKTt2YXIgcz1uZXcgVSh0LGUpO2lmKHMuRWIoXCJ2YWx1ZVwiLGEpLGk9e3BhdGg6ZSx1cGRhdGU6aSxKOnIsc3RhdHVzOm51bGwsRWY6R2MoKSxjZjpvLEtmOjAsZ2U6ZnVuY3Rpb24oKXtzLmdjKFwidmFsdWVcIixhKX0samU6bnVsbCxBYTpudWxsLG1kOm51bGwsbmQ6bnVsbCxvZDpudWxsfSxyPXQuTy51YShlLHZvaWQgMCl8fEMsaS5tZD1yLHI9aS51cGRhdGUoci5LKCkpLG4ocikpe1NmKFwidHJhbnNhY3Rpb24gZmFpbGVkOiBEYXRhIHJldHVybmVkIFwiLHIsaS5wYXRoKSxpLnN0YXR1cz0xLG89RGYodC50YyxlKTt2YXIgaD1vLkJhKCl8fFtdO2gucHVzaChpKSxFZihvLGgpLFwib2JqZWN0XCI9PXR5cGVvZiByJiZudWxsIT09ciYmdShyLFwiLnByaW9yaXR5XCIpPyhoPXcocixcIi5wcmlvcml0eVwiKSxKKFFmKGgpLFwiSW52YWxpZCBwcmlvcml0eSByZXR1cm5lZCBieSB0cmFuc2FjdGlvbi4gUHJpb3JpdHkgbXVzdCBiZSBhIHZhbGlkIHN0cmluZywgZmluaXRlIG51bWJlciwgc2VydmVyIHZhbHVlLCBvciBudWxsLlwiKSk6aD0odC5PLnVhKGUpfHxDKS5BKCkuSygpLG89TmgodCkscj1MKHIsaCksbz1zYyhyLG8pLGkubmQ9cixpLm9kPW8saS5BYT10LkVkKyssaT1oZih0Lk8sZSxvLGkuQWEsaS5jZiksemIodC5lYSxlLGkpLFhoKHQpfWVsc2UgaS5nZSgpLGkubmQ9bnVsbCxpLm9kPW51bGwsaS5KJiYodD1uZXcgUyhpLm1kLG5ldyBVKHQsaS5wYXRoKSxNKSxpLkoobnVsbCwhMSx0KSl9ZnVuY3Rpb24gWGgodCxlKXt2YXIgbj1lfHx0LnRjO2lmKGV8fFloKHQsbiksbnVsbCE9PW4uQmEoKSl7dmFyIGk9WmgodCxuKTtKKDA8aS5sZW5ndGgsXCJTZW5kaW5nIHplcm8gbGVuZ3RoIHRyYW5zYWN0aW9uIHF1ZXVlXCIpLFNhKGksZnVuY3Rpb24odCl7cmV0dXJuIDE9PT10LnN0YXR1c30pJiYkaCh0LG4ucGF0aCgpLGkpfWVsc2Ugbi50ZCgpJiZuLlUoZnVuY3Rpb24oZSl7WGgodCxlKX0pfWZ1bmN0aW9uICRoKHQsZSxuKXtmb3IodmFyIGk9UWEobixmdW5jdGlvbih0KXtyZXR1cm4gdC5BYX0pLHI9dC5PLnVhKGUsaSl8fEMsaT1yLHI9ci5oYXNoKCksbz0wO288bi5sZW5ndGg7bysrKXt2YXIgYT1uW29dO0ooMT09PWEuc3RhdHVzLFwidHJ5VG9TZW5kVHJhbnNhY3Rpb25RdWV1ZV86IGl0ZW1zIGluIHF1ZXVlIHNob3VsZCBhbGwgYmUgcnVuLlwiKSxhLnN0YXR1cz0yLGEuS2YrKzt2YXIgcz1OKGUsYS5wYXRoKSxpPWkuRyhzLGEubmQpfWk9aS5LKCEwKSx0LmNhLnB1dChlLnRvU3RyaW5nKCksaSxmdW5jdGlvbihpKXt0LmYoXCJ0cmFuc2FjdGlvbiBwdXQgcmVzcG9uc2VcIix7cGF0aDplLnRvU3RyaW5nKCksc3RhdHVzOml9KTt2YXIgcj1bXTtpZihcIm9rXCI9PT1pKXtmb3IoaT1bXSxvPTA7bzxuLmxlbmd0aDtvKyspe2lmKG5bb10uc3RhdHVzPTMscj1yLmNvbmNhdChsZih0Lk8sbltvXS5BYSkpLG5bb10uSil7dmFyIGE9bltvXS5vZCxzPW5ldyBVKHQsbltvXS5wYXRoKTtpLnB1c2gocShuW29dLkosbnVsbCxudWxsLCEwLG5ldyBTKGEscyxNKSkpfW5bb10uZ2UoKX1mb3IoWWgodCxEZih0LnRjLGUpKSxYaCh0KSx6Yih0LmVhLGUsciksbz0wO288aS5sZW5ndGg7bysrKUNiKGlbb10pfWVsc2V7aWYoXCJkYXRhc3RhbGVcIj09PWkpZm9yKG89MDtvPG4ubGVuZ3RoO28rKyluW29dLnN0YXR1cz00PT09bltvXS5zdGF0dXM/NToxO2Vsc2UgZm9yKFEoXCJ0cmFuc2FjdGlvbiBhdCBcIitlLnRvU3RyaW5nKCkrXCIgZmFpbGVkOiBcIitpKSxvPTA7bzxuLmxlbmd0aDtvKyspbltvXS5zdGF0dXM9NSxuW29dLmplPWk7T2godCxlKX19LHIpfWZ1bmN0aW9uIE9oKHQsZSl7dmFyIG49YWkodCxlKSxpPW4ucGF0aCgpLG49WmgodCxuKTtyZXR1cm4gYmkodCxuLGkpLGl9ZnVuY3Rpb24gYmkodCxlLGkpe2lmKDAhPT1lLmxlbmd0aCl7Zm9yKHZhciByPVtdLG89W10sYT1RYShlLGZ1bmN0aW9uKHQpe3JldHVybiB0LkFhfSkscz0wO3M8ZS5sZW5ndGg7cysrKXt2YXIgaCxjPWVbc10sZj1OKGksYy5wYXRoKSxsPSExO2lmKEoobnVsbCE9PWYsXCJyZXJ1blRyYW5zYWN0aW9uc1VuZGVyTm9kZV86IHJlbGF0aXZlUGF0aCBzaG91bGQgbm90IGJlIG51bGwuXCIpLDU9PT1jLnN0YXR1cylsPSEwLGg9Yy5qZSxvPW8uY29uY2F0KGxmKHQuTyxjLkFhLCEwKSk7ZWxzZSBpZigxPT09Yy5zdGF0dXMpaWYoMjU8PWMuS2YpbD0hMCxoPVwibWF4cmV0cnlcIixvPW8uY29uY2F0KGxmKHQuTyxjLkFhLCEwKSk7ZWxzZXt2YXIgZD10Lk8udWEoYy5wYXRoLGEpfHxDO2MubWQ9ZDt2YXIgcD1lW3NdLnVwZGF0ZShkLksoKSk7bihwKT8oU2YoXCJ0cmFuc2FjdGlvbiBmYWlsZWQ6IERhdGEgcmV0dXJuZWQgXCIscCxjLnBhdGgpLGY9TChwKSxcIm9iamVjdFwiPT10eXBlb2YgcCYmbnVsbCE9cCYmdShwLFwiLnByaW9yaXR5XCIpfHwoZj1mLmRhKGQuQSgpKSksZD1jLkFhLHA9TmgodCkscD1zYyhmLHApLGMubmQ9ZixjLm9kPXAsYy5BYT10LkVkKyssVmEoYSxkKSxvPW8uY29uY2F0KGhmKHQuTyxjLnBhdGgscCxjLkFhLGMuY2YpKSxvPW8uY29uY2F0KGxmKHQuTyxkLCEwKSkpOihsPSEwLGg9XCJub2RhdGFcIixvPW8uY29uY2F0KGxmKHQuTyxjLkFhLCEwKSkpfXpiKHQuZWEsaSxvKSxvPVtdLGwmJihlW3NdLnN0YXR1cz0zLHNldFRpbWVvdXQoZVtzXS5nZSxNYXRoLmZsb29yKDApKSxlW3NdLkomJihcIm5vZGF0YVwiPT09aD8oYz1uZXcgVSh0LGVbc10ucGF0aCksci5wdXNoKHEoZVtzXS5KLG51bGwsbnVsbCwhMSxuZXcgUyhlW3NdLm1kLGMsTSkpKSk6ci5wdXNoKHEoZVtzXS5KLG51bGwsRXJyb3IoaCksITEsbnVsbCkpKSl9Zm9yKFloKHQsdC50Yykscz0wO3M8ci5sZW5ndGg7cysrKUNiKHJbc10pO1hoKHQpfX1mdW5jdGlvbiBhaSh0LGUpe2Zvcih2YXIgbixpPXQudGM7bnVsbCE9PShuPU8oZSkpJiZudWxsPT09aS5CYSgpOylpPURmKGksbiksZT1HKGUpO3JldHVybiBpfWZ1bmN0aW9uIFpoKHQsZSl7dmFyIG49W107cmV0dXJuIGNpKHQsZSxuKSxuLnNvcnQoZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5FZi1lLkVmfSksbn1mdW5jdGlvbiBjaSh0LGUsbil7dmFyIGk9ZS5CYSgpO2lmKG51bGwhPT1pKWZvcih2YXIgcj0wO3I8aS5sZW5ndGg7cisrKW4ucHVzaChpW3JdKTtlLlUoZnVuY3Rpb24oZSl7Y2kodCxlLG4pfSl9ZnVuY3Rpb24gWWgodCxlKXt2YXIgbj1lLkJhKCk7aWYobil7Zm9yKHZhciBpPTAscj0wO3I8bi5sZW5ndGg7cisrKTMhPT1uW3JdLnN0YXR1cyYmKG5baV09bltyXSxpKyspO24ubGVuZ3RoPWksRWYoZSwwPG4ubGVuZ3RoP246bnVsbCl9ZS5VKGZ1bmN0aW9uKGUpe1loKHQsZSl9KX1mdW5jdGlvbiBSaCh0LGUpe3ZhciBuPWFpKHQsZSkucGF0aCgpLGk9RGYodC50YyxlKTtyZXR1cm4gSGYoaSxmdW5jdGlvbihlKXtkaSh0LGUpfSksZGkodCxpKSxHZihpLGZ1bmN0aW9uKGUpe2RpKHQsZSl9KSxufWZ1bmN0aW9uIGRpKHQsZSl7dmFyIG49ZS5CYSgpO2lmKG51bGwhPT1uKXtmb3IodmFyIGk9W10scj1bXSxvPS0xLGE9MDthPG4ubGVuZ3RoO2ErKyk0IT09blthXS5zdGF0dXMmJigyPT09blthXS5zdGF0dXM/KEoobz09PWEtMSxcIkFsbCBTRU5UIGl0ZW1zIHNob3VsZCBiZSBhdCBiZWdpbm5pbmcgb2YgcXVldWUuXCIpLG89YSxuW2FdLnN0YXR1cz00LG5bYV0uamU9XCJzZXRcIik6KEooMT09PW5bYV0uc3RhdHVzLFwiVW5leHBlY3RlZCB0cmFuc2FjdGlvbiBzdGF0dXMgaW4gYWJvcnRcIiksblthXS5nZSgpLHI9ci5jb25jYXQobGYodC5PLG5bYV0uQWEsITApKSxuW2FdLkomJmkucHVzaChxKG5bYV0uSixudWxsLEVycm9yKFwic2V0XCIpLCExLG51bGwpKSkpO2ZvcigtMT09PW8/RWYoZSxudWxsKTpuLmxlbmd0aD1vKzEsemIodC5lYSxlLnBhdGgoKSxyKSxhPTA7YTxpLmxlbmd0aDthKyspQ2IoaVthXSl9fWZ1bmN0aW9uIFcoKXt0aGlzLm5jPXt9LHRoaXMuUGY9ITF9ZnVuY3Rpb24gWCh0LGUpe3RoaXMuYWQ9dCx0aGlzLnFhPWV9ZnVuY3Rpb24gWSh0LGUsbixpKXt0aGlzLms9dCx0aGlzLnBhdGg9ZSx0aGlzLm49bix0aGlzLmpjPWl9ZnVuY3Rpb24gZWkodCl7dmFyIGU9bnVsbCxuPW51bGw7aWYodC5sYSYmKGU9b2QodCkpLHQubmEmJihuPXFkKHQpKSx0Lmc9PT1WZCl7aWYodC5sYSl7aWYoXCJbTUlOX05BTUVdXCIhPW5kKHQpKXRocm93IEVycm9yKFwiUXVlcnk6IFdoZW4gb3JkZXJpbmcgYnkga2V5LCB5b3UgbWF5IG9ubHkgcGFzcyBvbmUgYXJndW1lbnQgdG8gc3RhcnRBdCgpLCBlbmRBdCgpLCBvciBlcXVhbFRvKCkuXCIpO2lmKFwic3RyaW5nXCIhPXR5cGVvZiBlKXRocm93IEVycm9yKFwiUXVlcnk6IFdoZW4gb3JkZXJpbmcgYnkga2V5LCB0aGUgYXJndW1lbnQgcGFzc2VkIHRvIHN0YXJ0QXQoKSwgZW5kQXQoKSxvciBlcXVhbFRvKCkgbXVzdCBiZSBhIHN0cmluZy5cIil9aWYodC5uYSl7aWYoXCJbTUFYX05BTUVdXCIhPXBkKHQpKXRocm93IEVycm9yKFwiUXVlcnk6IFdoZW4gb3JkZXJpbmcgYnkga2V5LCB5b3UgbWF5IG9ubHkgcGFzcyBvbmUgYXJndW1lbnQgdG8gc3RhcnRBdCgpLCBlbmRBdCgpLCBvciBlcXVhbFRvKCkuXCIpO2lmKFwic3RyaW5nXCIhPXR5cGVvZiBuKXRocm93IEVycm9yKFwiUXVlcnk6IFdoZW4gb3JkZXJpbmcgYnkga2V5LCB0aGUgYXJndW1lbnQgcGFzc2VkIHRvIHN0YXJ0QXQoKSwgZW5kQXQoKSxvciBlcXVhbFRvKCkgbXVzdCBiZSBhIHN0cmluZy5cIil9fWVsc2UgaWYodC5nPT09TSl7aWYobnVsbCE9ZSYmIVFmKGUpfHxudWxsIT1uJiYhUWYobikpdGhyb3cgRXJyb3IoXCJRdWVyeTogV2hlbiBvcmRlcmluZyBieSBwcmlvcml0eSwgdGhlIGZpcnN0IGFyZ3VtZW50IHBhc3NlZCB0byBzdGFydEF0KCksIGVuZEF0KCksIG9yIGVxdWFsVG8oKSBtdXN0IGJlIGEgdmFsaWQgcHJpb3JpdHkgdmFsdWUgKG51bGwsIGEgbnVtYmVyLCBvciBhIHN0cmluZykuXCIpfWVsc2UgaWYoSih0LmcgaW5zdGFuY2VvZiBSZHx8dC5nPT09WWQsXCJ1bmtub3duIGluZGV4IHR5cGUuXCIpLG51bGwhPWUmJlwib2JqZWN0XCI9PXR5cGVvZiBlfHxudWxsIT1uJiZcIm9iamVjdFwiPT10eXBlb2Ygbil0aHJvdyBFcnJvcihcIlF1ZXJ5OiBGaXJzdCBhcmd1bWVudCBwYXNzZWQgdG8gc3RhcnRBdCgpLCBlbmRBdCgpLCBvciBlcXVhbFRvKCkgY2Fubm90IGJlIGFuIG9iamVjdC5cIil9ZnVuY3Rpb24gZmkodCl7aWYodC5sYSYmdC5uYSYmdC5pYSYmKCF0LmlhfHxcIlwiPT09dC5OYikpdGhyb3cgRXJyb3IoXCJRdWVyeTogQ2FuJ3QgY29tYmluZSBzdGFydEF0KCksIGVuZEF0KCksIGFuZCBsaW1pdCgpLiBVc2UgbGltaXRUb0ZpcnN0KCkgb3IgbGltaXRUb0xhc3QoKSBpbnN0ZWFkLlwiKTtcblxufWZ1bmN0aW9uIGdpKHQsZSl7aWYoITA9PT10LmpjKXRocm93IEVycm9yKGUrXCI6IFlvdSBjYW4ndCBjb21iaW5lIG11bHRpcGxlIG9yZGVyQnkgY2FsbHMuXCIpfWZ1bmN0aW9uIGhpKHQsZSxuKXt2YXIgaT17Y2FuY2VsOm51bGwsTWE6bnVsbH07aWYoZSYmbilpLmNhbmNlbD1lLEEodCwzLGkuY2FuY2VsLCEwKSxpLk1hPW4sbGIodCw0LGkuTWEpO2Vsc2UgaWYoZSlpZihcIm9iamVjdFwiPT10eXBlb2YgZSYmbnVsbCE9PWUpaS5NYT1lO2Vsc2V7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSl0aHJvdyBFcnJvcih6KHQsMywhMCkrXCIgbXVzdCBlaXRoZXIgYmUgYSBjYW5jZWwgY2FsbGJhY2sgb3IgYSBjb250ZXh0IG9iamVjdC5cIik7aS5jYW5jZWw9ZX1yZXR1cm4gaX1mdW5jdGlvbiBVKHQsZSl7dmFyIG4saSxyO2lmKHQgaW5zdGFuY2VvZiBLaCluPXQsaT1lO2Vsc2V7eChcIm5ldyBGaXJlYmFzZVwiLDEsMixhcmd1bWVudHMubGVuZ3RoKSxpPVJjKGFyZ3VtZW50c1swXSksbj1pLlFnLFwiZmlyZWJhc2VcIj09PWkuZG9tYWluJiZRYyhpLmhvc3QrXCIgaXMgbm8gbG9uZ2VyIHN1cHBvcnRlZC4gUGxlYXNlIHVzZSA8WU9VUiBGSVJFQkFTRT4uZmlyZWJhc2Vpby5jb20gaW5zdGVhZFwiKSxufHxRYyhcIkNhbm5vdCBwYXJzZSBGaXJlYmFzZSB1cmwuIFBsZWFzZSB1c2UgaHR0cHM6Ly88WU9VUiBGSVJFQkFTRT4uZmlyZWJhc2Vpby5jb21cIiksaS5sYnx8XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmd2luZG93LmxvY2F0aW9uJiZ3aW5kb3cubG9jYXRpb24ucHJvdG9jb2wmJi0xIT09d2luZG93LmxvY2F0aW9uLnByb3RvY29sLmluZGV4T2YoXCJodHRwczpcIikmJlEoXCJJbnNlY3VyZSBGaXJlYmFzZSBhY2Nlc3MgZnJvbSBhIHNlY3VyZSBwYWdlLiBQbGVhc2UgdXNlIGh0dHBzIGluIGNhbGxzIHRvIG5ldyBGaXJlYmFzZSgpLlwiKSxuPW5ldyBFYyhpLmhvc3QsaS5sYixuLFwid3NcIj09PWkuc2NoZW1lfHxcIndzc1wiPT09aS5zY2hlbWUpLGk9bmV3IEsoaS5aYykscj1pLnRvU3RyaW5nKCk7dmFyIG87aWYoIShvPSFwKG4uaG9zdCl8fDA9PT1uLmhvc3QubGVuZ3RofHwhUGYobi5DYikpJiYobz0wIT09ci5sZW5ndGgpJiYociYmKHI9ci5yZXBsYWNlKC9eXFwvKlxcLmluZm8oXFwvfCQpLyxcIi9cIikpLG89IShwKHIpJiYwIT09ci5sZW5ndGgmJiFPZi50ZXN0KHIpKSksbyl0aHJvdyBFcnJvcih6KFwibmV3IEZpcmViYXNlXCIsMSwhMSkrJ211c3QgYmUgYSB2YWxpZCBmaXJlYmFzZSBVUkwgYW5kIHRoZSBwYXRoIGNhblxcJ3QgY29udGFpbiBcIi5cIiwgXCIjXCIsIFwiJFwiLCBcIltcIiwgb3IgXCJdXCIuJyk7aWYoZSlpZihlIGluc3RhbmNlb2YgVylyPWU7ZWxzZXtpZighcChlKSl0aHJvdyBFcnJvcihcIkV4cGVjdGVkIGEgdmFsaWQgRmlyZWJhc2UuQ29udGV4dCBmb3Igc2Vjb25kIGFyZ3VtZW50IHRvIG5ldyBGaXJlYmFzZSgpXCIpO3I9Vy51YigpLG4uTGQ9ZX1lbHNlIHI9Vy51YigpO289bi50b1N0cmluZygpO3ZhciBhPXcoci5uYyxvKTthfHwoYT1uZXcgS2gobixyLlBmKSxyLm5jW29dPWEpLG49YX1ZLmNhbGwodGhpcyxuLGksJGQsITEpfWZ1bmN0aW9uIE5jKHQsZSl7SighZXx8ITA9PT10fHwhMT09PXQsXCJDYW4ndCB0dXJuIG9uIGN1c3RvbSBsb2dnZXJzIHBlcnNpc3RlbnRseS5cIiksITA9PT10PyhcInVuZGVmaW5lZFwiIT10eXBlb2YgY29uc29sZSYmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGNvbnNvbGUubG9nP0FiPXEoY29uc29sZS5sb2csY29uc29sZSk6XCJvYmplY3RcIj09dHlwZW9mIGNvbnNvbGUubG9nJiYoQWI9ZnVuY3Rpb24odCl7Y29uc29sZS5sb2codCl9KSksZSYmUC5zZXQoXCJsb2dnaW5nX2VuYWJsZWRcIiwhMCkpOnQ/QWI9dDooQWI9bnVsbCxQLnJlbW92ZShcImxvZ2dpbmdfZW5hYmxlZFwiKSl9dmFyIGgsYWE9dGhpcyxsYT1EYXRlLm5vd3x8ZnVuY3Rpb24oKXtyZXR1cm4rbmV3IERhdGV9LHlhPVwiY29uc3RydWN0b3IgaGFzT3duUHJvcGVydHkgaXNQcm90b3R5cGVPZiBwcm9wZXJ0eUlzRW51bWVyYWJsZSB0b0xvY2FsZVN0cmluZyB0b1N0cmluZyB2YWx1ZU9mXCIuc3BsaXQoXCIgXCIpLEVhPXsnXCInOidcXFxcXCInLFwiXFxcXFwiOlwiXFxcXFxcXFxcIixcIi9cIjpcIlxcXFwvXCIsXCJcXGJcIjpcIlxcXFxiXCIsXCJcXGZcIjpcIlxcXFxmXCIsXCJcXG5cIjpcIlxcXFxuXCIsXCJcXHJcIjpcIlxcXFxyXCIsXCJcdFwiOlwiXFxcXHRcIixcIlx1MDAwYlwiOlwiXFxcXHUwMDBiXCJ9LEZhPS9cXHVmZmZmLy50ZXN0KFwi77+/XCIpPy9bXFxcXFxcXCJcXHgwMC1cXHgxZlxceDdmLVxcdWZmZmZdL2c6L1tcXFxcXFxcIlxceDAwLVxceDFmXFx4N2YtXFx4ZmZdL2csSGE7dDp7dmFyIElhPWFhLm5hdmlnYXRvcjtpZihJYSl7dmFyIEphPUlhLnVzZXJBZ2VudDtpZihKYSl7SGE9SmE7YnJlYWsgdH19SGE9XCJcIn1tYShMYSxLYSksTGEucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5SWzBdPTE3MzI1ODQxOTMsdGhpcy5SWzFdPTQwMjMyMzM0MTcsdGhpcy5SWzJdPTI1NjIzODMxMDIsdGhpcy5SWzNdPTI3MTczMzg3OCx0aGlzLlJbNF09MzI4NTM3NzUyMCx0aGlzLmJlPXRoaXMuJGI9MH0sTGEucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbih0LGUpe2lmKG51bGwhPXQpe24oZSl8fChlPXQubGVuZ3RoKTtmb3IodmFyIGk9ZS10aGlzLldhLHI9MCxvPXRoaXMubGUsYT10aGlzLiRiO2U+cjspe2lmKDA9PWEpZm9yKDtpPj1yOylNYSh0aGlzLHQscikscis9dGhpcy5XYTtpZihwKHQpKXtmb3IoO2U+cjspaWYob1thXT10LmNoYXJDb2RlQXQociksKythLCsrcixhPT10aGlzLldhKXtNYSh0aGlzLG8pLGE9MDticmVha319ZWxzZSBmb3IoO2U+cjspaWYob1thXT10W3JdLCsrYSwrK3IsYT09dGhpcy5XYSl7TWEodGhpcyxvKSxhPTA7YnJlYWt9fXRoaXMuJGI9YSx0aGlzLmJlKz1lfX07dmFyIHQ9QXJyYXkucHJvdG90eXBlLE5hPXQuaW5kZXhPZj9mdW5jdGlvbihlLG4saSl7cmV0dXJuIHQuaW5kZXhPZi5jYWxsKGUsbixpKX06ZnVuY3Rpb24odCxlLG4pe2lmKG49bnVsbD09bj8wOjA+bj9NYXRoLm1heCgwLHQubGVuZ3RoK24pOm4scCh0KSlyZXR1cm4gcChlKSYmMT09ZS5sZW5ndGg/dC5pbmRleE9mKGUsbik6LTE7Zm9yKDtuPHQubGVuZ3RoO24rKylpZihuIGluIHQmJnRbbl09PT1lKXJldHVybiBuO3JldHVybi0xfSxPYT10LmZvckVhY2g/ZnVuY3Rpb24oZSxuLGkpe3QuZm9yRWFjaC5jYWxsKGUsbixpKX06ZnVuY3Rpb24odCxlLG4pe2Zvcih2YXIgaT10Lmxlbmd0aCxyPXAodCk/dC5zcGxpdChcIlwiKTp0LG89MDtpPm87bysrKW8gaW4gciYmZS5jYWxsKG4scltvXSxvLHQpfSxQYT10LmZpbHRlcj9mdW5jdGlvbihlLG4saSl7cmV0dXJuIHQuZmlsdGVyLmNhbGwoZSxuLGkpfTpmdW5jdGlvbih0LGUsbil7Zm9yKHZhciBpPXQubGVuZ3RoLHI9W10sbz0wLGE9cCh0KT90LnNwbGl0KFwiXCIpOnQscz0wO2k+cztzKyspaWYocyBpbiBhKXt2YXIgdT1hW3NdO2UuY2FsbChuLHUscyx0KSYmKHJbbysrXT11KX1yZXR1cm4gcn0sUWE9dC5tYXA/ZnVuY3Rpb24oZSxuLGkpe3JldHVybiB0Lm1hcC5jYWxsKGUsbixpKX06ZnVuY3Rpb24odCxlLG4pe2Zvcih2YXIgaT10Lmxlbmd0aCxyPUFycmF5KGkpLG89cCh0KT90LnNwbGl0KFwiXCIpOnQsYT0wO2k+YTthKyspYSBpbiBvJiYoclthXT1lLmNhbGwobixvW2FdLGEsdCkpO3JldHVybiByfSxSYT10LnJlZHVjZT9mdW5jdGlvbihlLG4saSxyKXtmb3IodmFyIG89W10sYT0xLHM9YXJndW1lbnRzLmxlbmd0aDtzPmE7YSsrKW8ucHVzaChhcmd1bWVudHNbYV0pO3JldHVybiByJiYob1swXT1xKG4scikpLHQucmVkdWNlLmFwcGx5KGUsbyl9OmZ1bmN0aW9uKHQsZSxuLGkpe3ZhciByPW47cmV0dXJuIE9hKHQsZnVuY3Rpb24obixvKXtyPWUuY2FsbChpLHIsbixvLHQpfSkscn0sU2E9dC5ldmVyeT9mdW5jdGlvbihlLG4saSl7cmV0dXJuIHQuZXZlcnkuY2FsbChlLG4saSl9OmZ1bmN0aW9uKHQsZSxuKXtmb3IodmFyIGk9dC5sZW5ndGgscj1wKHQpP3Quc3BsaXQoXCJcIik6dCxvPTA7aT5vO28rKylpZihvIGluIHImJiFlLmNhbGwobixyW29dLG8sdCkpcmV0dXJuITE7cmV0dXJuITB9LFphPS0xIT1IYS5pbmRleE9mKFwiT3BlcmFcIil8fC0xIT1IYS5pbmRleE9mKFwiT1BSXCIpLCRhPS0xIT1IYS5pbmRleE9mKFwiVHJpZGVudFwiKXx8LTEhPUhhLmluZGV4T2YoXCJNU0lFXCIpLGFiPS0xIT1IYS5pbmRleE9mKFwiR2Vja29cIikmJi0xPT1IYS50b0xvd2VyQ2FzZSgpLmluZGV4T2YoXCJ3ZWJraXRcIikmJiEoLTEhPUhhLmluZGV4T2YoXCJUcmlkZW50XCIpfHwtMSE9SGEuaW5kZXhPZihcIk1TSUVcIikpLGJiPS0xIT1IYS50b0xvd2VyQ2FzZSgpLmluZGV4T2YoXCJ3ZWJraXRcIik7IWZ1bmN0aW9uKCl7dmFyIHQsZT1cIlwiO3JldHVybiBaYSYmYWEub3BlcmE/KGU9YWEub3BlcmEudmVyc2lvbixoYShlKT9lKCk6ZSk6KGFiP3Q9L3J2XFw6KFteXFwpO10rKShcXCl8OykvOiRhP3Q9L1xcYig/Ok1TSUV8cnYpWzogXShbXlxcKTtdKykoXFwpfDspLzpiYiYmKHQ9L1dlYktpdFxcLyhcXFMrKS8pLHQmJihlPShlPXQuZXhlYyhIYSkpP2VbMV06XCJcIiksJGEmJih0PSh0PWFhLmRvY3VtZW50KT90LmRvY3VtZW50TW9kZTp2b2lkIDAsdD5wYXJzZUZsb2F0KGUpKT9TdHJpbmcodCk6ZSl9KCk7dmFyIGNiPW51bGwsZGI9bnVsbCxlYj1udWxsO25iLnByb3RvdHlwZS5qPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLlNkLm9hKHQpfSxuYi5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5TZC50b1N0cmluZygpfSxvYi5wcm90b3R5cGUucGY9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH0sb2IucHJvdG90eXBlLnhlPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9O3ZhciBwYj1uZXcgb2I7cWIucHJvdG90eXBlLnBmPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuS2EuRDtyZXR1cm4gcmIoZSx0KT9lLmooKS5NKHQpOihlPW51bGwhPXRoaXMuSGQ/bmV3IHNiKHRoaXMuSGQsITAsITEpOnRoaXMuS2EudSgpLHRoaXMuUWYuWGEodCxlKSl9LHFiLnByb3RvdHlwZS54ZT1mdW5jdGlvbih0LGUsbil7dmFyIGk9bnVsbCE9dGhpcy5IZD90aGlzLkhkOnRiKHRoaXMuS2EpO3JldHVybiB0PXRoaXMuUWYubWUoaSxlLDEsbix0KSwwPT09dC5sZW5ndGg/bnVsbDp0WzBdfSx3Yi5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKHQpe3RoaXMuc2QucHVzaCh0KX0sd2IucHJvdG90eXBlLlliPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucWF9O3ZhciBFYj1cInZhbHVlXCI7RmIucHJvdG90eXBlLlliPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5XZC5sYygpO3JldHVyblwidmFsdWVcIj09PXRoaXMucmQ/dC5wYXRoOnQucGFyZW50KCkucGF0aH0sRmIucHJvdG90eXBlLnllPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmR9LEZiLnByb3RvdHlwZS5VYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRlLlViKHRoaXMpfSxGYi5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ZYigpLnRvU3RyaW5nKCkrXCI6XCIrdGhpcy5yZCtcIjpcIitCKHRoaXMuV2QubGYoKSl9LEdiLnByb3RvdHlwZS5ZYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnBhdGh9LEdiLnByb3RvdHlwZS55ZT1mdW5jdGlvbigpe3JldHVyblwiY2FuY2VsXCJ9LEdiLnByb3RvdHlwZS5VYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRlLlViKHRoaXMpfSxHYi5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wYXRoLnRvU3RyaW5nKCkrXCI6Y2FuY2VsXCJ9LHNiLnByb3RvdHlwZS5qPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuQn0sSWIucHJvdG90eXBlLmdldD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZGcuZ2V0KCksZT14YSh0KTtpZih0aGlzLkFkKWZvcih2YXIgbiBpbiB0aGlzLkFkKWVbbl0tPXRoaXMuQWRbbl07cmV0dXJuIHRoaXMuQWQ9dCxlfSxKYi5wcm90b3R5cGUuSGY9ZnVuY3Rpb24oKXt2YXIgdCxlPXRoaXMuWWQuZ2V0KCksbj17fSxpPSExO2Zvcih0IGluIGUpMDxlW3RdJiZ1KHRoaXMuTWYsdCkmJihuW3RdPWVbdF0saT0hMCk7aSYmdGhpcy5jYS5UZShuKSxzZXRUaW1lb3V0KHEodGhpcy5IZix0aGlzKSxNYXRoLmZsb29yKDZlNSpNYXRoLnJhbmRvbSgpKSl9LEtiLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4geGEodGhpcy5EYyl9O3ZhciBNYj17fSxOYj17fTtVYi5wcm90b3R5cGUuV2M9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMucGF0aC5lKCk/bmV3IFViKHRoaXMuc291cmNlLEYsdGhpcy5JYS5NKHQpKTpuZXcgVWIodGhpcy5zb3VyY2UsRyh0aGlzLnBhdGgpLHRoaXMuSWEpfSxVYi5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm5cIk9wZXJhdGlvbihcIit0aGlzLnBhdGgrXCI6IFwiK3RoaXMuc291cmNlLnRvU3RyaW5nKCkrXCIgb3ZlcndyaXRlOiBcIit0aGlzLklhLnRvU3RyaW5nKCkrXCIpXCJ9LFdiLnByb3RvdHlwZS5XYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnBhdGguZSgpP3RoaXM6bmV3IFdiKEcodGhpcy5wYXRoKSx0aGlzLlZlKX0sV2IucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuXCJPcGVyYXRpb24oXCIrdGhpcy5wYXRoK1wiOiBcIit0aGlzLnNvdXJjZS50b1N0cmluZygpK1wiIGFjayB3cml0ZSByZXZlcnQ9XCIrdGhpcy5WZStcIilcIn0sWmIucHJvdG90eXBlLldjPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGF0aC5lKCk/bmV3IFpiKHRoaXMuc291cmNlLEYpOm5ldyBaYih0aGlzLnNvdXJjZSxHKHRoaXMucGF0aCkpfSxaYi5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm5cIk9wZXJhdGlvbihcIit0aGlzLnBhdGgrXCI6IFwiK3RoaXMuc291cmNlLnRvU3RyaW5nKCkrXCIgbGlzdGVuX2NvbXBsZXRlKVwifSxoPWFjLnByb3RvdHlwZSxoLk5hPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG5ldyBhYyh0aGlzLkxhLHRoaXMueGEuTmEodCxlLHRoaXMuTGEpLlgobnVsbCxudWxsLCExLG51bGwsbnVsbCkpfSxoLnJlbW92ZT1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IGFjKHRoaXMuTGEsdGhpcy54YS5yZW1vdmUodCx0aGlzLkxhKS5YKG51bGwsbnVsbCwhMSxudWxsLG51bGwpKX0saC5nZXQ9ZnVuY3Rpb24odCl7Zm9yKHZhciBlLG49dGhpcy54YTshbi5lKCk7KXtpZihlPXRoaXMuTGEodCxuLmtleSksMD09PWUpcmV0dXJuIG4udmFsdWU7MD5lP249bi5sZWZ0OmU+MCYmKG49bi5yaWdodCl9cmV0dXJuIG51bGx9LGguZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnhhLmUoKX0saC5jb3VudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnhhLmNvdW50KCl9LGguUmM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy54YS5SYygpfSxoLmVjPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMueGEuZWMoKX0saC5oYT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy54YS5oYSh0KX0saC5XYj1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IGRjKHRoaXMueGEsbnVsbCx0aGlzLkxhLCExLHQpfSxoLlhiPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG5ldyBkYyh0aGlzLnhhLHQsdGhpcy5MYSwhMSxlKX0saC5aYj1mdW5jdGlvbih0LGUpe3JldHVybiBuZXcgZGModGhpcy54YSx0LHRoaXMuTGEsITAsZSl9LGgucmY9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBkYyh0aGlzLnhhLG51bGwsdGhpcy5MYSwhMCx0KX0saD1mYy5wcm90b3R5cGUsaC5YPWZ1bmN0aW9uKHQsZSxuLGkscil7cmV0dXJuIG5ldyBmYyhudWxsIT10P3Q6dGhpcy5rZXksbnVsbCE9ZT9lOnRoaXMudmFsdWUsbnVsbCE9bj9uOnRoaXMuY29sb3IsbnVsbCE9aT9pOnRoaXMubGVmdCxudWxsIT1yP3I6dGhpcy5yaWdodCl9LGguY291bnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sZWZ0LmNvdW50KCkrMSt0aGlzLnJpZ2h0LmNvdW50KCl9LGguZT1mdW5jdGlvbigpe3JldHVybiExfSxoLmhhPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmxlZnQuaGEodCl8fHQodGhpcy5rZXksdGhpcy52YWx1ZSl8fHRoaXMucmlnaHQuaGEodCl9LGguUmM9ZnVuY3Rpb24oKXtyZXR1cm4gZ2ModGhpcykua2V5fSxoLmVjPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmlnaHQuZSgpP3RoaXMua2V5OnRoaXMucmlnaHQuZWMoKX0saC5OYT1mdW5jdGlvbih0LGUsbil7dmFyIGkscjtyZXR1cm4gcj10aGlzLGk9bih0LHIua2V5KSxyPTA+aT9yLlgobnVsbCxudWxsLG51bGwsci5sZWZ0Lk5hKHQsZSxuKSxudWxsKTowPT09aT9yLlgobnVsbCxlLG51bGwsbnVsbCxudWxsKTpyLlgobnVsbCxudWxsLG51bGwsbnVsbCxyLnJpZ2h0Lk5hKHQsZSxuKSksaGMocil9LGgucmVtb3ZlPWZ1bmN0aW9uKHQsZSl7dmFyIG4saTtpZihuPXRoaXMsMD5lKHQsbi5rZXkpKW4ubGVmdC5lKCl8fG4ubGVmdC5mYSgpfHxuLmxlZnQubGVmdC5mYSgpfHwobj1qYyhuKSksbj1uLlgobnVsbCxudWxsLG51bGwsbi5sZWZ0LnJlbW92ZSh0LGUpLG51bGwpO2Vsc2V7aWYobi5sZWZ0LmZhKCkmJihuPWtjKG4pKSxuLnJpZ2h0LmUoKXx8bi5yaWdodC5mYSgpfHxuLnJpZ2h0LmxlZnQuZmEoKXx8KG49bGMobiksbi5sZWZ0LmxlZnQuZmEoKSYmKG49a2Mobiksbj1sYyhuKSkpLDA9PT1lKHQsbi5rZXkpKXtpZihuLnJpZ2h0LmUoKSlyZXR1cm4gYmM7aT1nYyhuLnJpZ2h0KSxuPW4uWChpLmtleSxpLnZhbHVlLG51bGwsbnVsbCxpYyhuLnJpZ2h0KSl9bj1uLlgobnVsbCxudWxsLG51bGwsbnVsbCxuLnJpZ2h0LnJlbW92ZSh0LGUpKX1yZXR1cm4gaGMobil9LGguZmE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb2xvcn0saD1uYy5wcm90b3R5cGUsaC5YPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9LGguTmE9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbmV3IGZjKHQsZSxudWxsKX0saC5yZW1vdmU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30saC5jb3VudD1mdW5jdGlvbigpe3JldHVybiAwfSxoLmU9ZnVuY3Rpb24oKXtyZXR1cm4hMH0saC5oYT1mdW5jdGlvbigpe3JldHVybiExfSxoLlJjPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9LGguZWM9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH0saC5mYT1mdW5jdGlvbigpe3JldHVybiExfTt2YXIgYmM9bmV3IG5jO2g9Sy5wcm90b3R5cGUsaC50b1N0cmluZz1mdW5jdGlvbigpe2Zvcih2YXIgdD1cIlwiLGU9dGhpcy5ZO2U8dGhpcy5vLmxlbmd0aDtlKyspXCJcIiE9PXRoaXMub1tlXSYmKHQrPVwiL1wiK3RoaXMub1tlXSk7cmV0dXJuIHR8fFwiL1wifSxoLnNsaWNlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLm8uc2xpY2UodGhpcy5ZKyh0fHwwKSl9LGgucGFyZW50PWZ1bmN0aW9uKCl7aWYodGhpcy5ZPj10aGlzLm8ubGVuZ3RoKXJldHVybiBudWxsO2Zvcih2YXIgdD1bXSxlPXRoaXMuWTtlPHRoaXMuby5sZW5ndGgtMTtlKyspdC5wdXNoKHRoaXMub1tlXSk7cmV0dXJuIG5ldyBLKHQsMCl9LGgudz1mdW5jdGlvbih0KXtmb3IodmFyIGU9W10sbj10aGlzLlk7bjx0aGlzLm8ubGVuZ3RoO24rKyllLnB1c2godGhpcy5vW25dKTtpZih0IGluc3RhbmNlb2YgSylmb3Iobj10Llk7bjx0Lm8ubGVuZ3RoO24rKyllLnB1c2godC5vW25dKTtlbHNlIGZvcih0PXQuc3BsaXQoXCIvXCIpLG49MDtuPHQubGVuZ3RoO24rKykwPHRbbl0ubGVuZ3RoJiZlLnB1c2godFtuXSk7cmV0dXJuIG5ldyBLKGUsMCl9LGguZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLlk+PXRoaXMuby5sZW5ndGh9LGguWj1mdW5jdGlvbih0KXtpZih1Yyh0aGlzKSE9PXVjKHQpKXJldHVybiExO2Zvcih2YXIgZT10aGlzLlksbj10Llk7ZTw9dGhpcy5vLmxlbmd0aDtlKyssbisrKWlmKHRoaXMub1tlXSE9PXQub1tuXSlyZXR1cm4hMTtyZXR1cm4hMH0saC5jb250YWlucz1mdW5jdGlvbih0KXt2YXIgZT10aGlzLlksbj10Llk7aWYodWModGhpcyk+dWModCkpcmV0dXJuITE7Zm9yKDtlPHRoaXMuby5sZW5ndGg7KXtpZih0aGlzLm9bZV0hPT10Lm9bbl0pcmV0dXJuITE7KytlLCsrbn1yZXR1cm4hMH07dmFyIEY9bmV3IEsoXCJcIik7d2MucHJvdG90eXBlLnB1c2g9ZnVuY3Rpb24odCl7MDx0aGlzLlFhLmxlbmd0aCYmKHRoaXMuRWErPTEpLHRoaXMuUWEucHVzaCh0KSx0aGlzLkVhKz14Yyh0KSx5Yyh0aGlzKX0sd2MucHJvdG90eXBlLnBvcD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuUWEucG9wKCk7dGhpcy5FYS09eGModCksMDx0aGlzLlFhLmxlbmd0aCYmLS10aGlzLkVhfSxBYy5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKHQsZSl7bnVsbD09ZT9kZWxldGUgdGhpcy53Y1t0XTp0aGlzLndjW3RdPWV9LEFjLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24odCl7cmV0dXJuIHUodGhpcy53Yyx0KT90aGlzLndjW3RdOm51bGx9LEFjLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24odCl7ZGVsZXRlIHRoaXMud2NbdF19LEFjLnByb3RvdHlwZS51Zj0hMCxoPUJjLnByb3RvdHlwZSxoLnNldD1mdW5jdGlvbih0LGUpe251bGw9PWU/dGhpcy5FYy5yZW1vdmVJdGVtKHRoaXMuTWQrdCk6dGhpcy5FYy5zZXRJdGVtKHRoaXMuTWQrdCxCKGUpKX0saC5nZXQ9ZnVuY3Rpb24odCl7cmV0dXJuIHQ9dGhpcy5FYy5nZXRJdGVtKHRoaXMuTWQrdCksbnVsbD09dD9udWxsOm1iKHQpfSxoLnJlbW92ZT1mdW5jdGlvbih0KXt0aGlzLkVjLnJlbW92ZUl0ZW0odGhpcy5NZCt0KX0saC51Zj0hMSxoLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuRWMudG9TdHJpbmcoKX07dmFyIERjPUNjKFwibG9jYWxTdG9yYWdlXCIpLFA9Q2MoXCJzZXNzaW9uU3RvcmFnZVwiKTtFYy5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXt2YXIgdD0odGhpcy5sYj9cImh0dHBzOi8vXCI6XCJodHRwOi8vXCIpK3RoaXMuaG9zdDtyZXR1cm4gdGhpcy5MZCYmKHQrPVwiPFwiK3RoaXMuTGQrXCI+XCIpLHR9O3ZhciBHYz1mdW5jdGlvbigpe3ZhciB0PTE7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHQrK319KCksQWI9bnVsbCxNYz0hMCwkYz0vXi0/XFxkezEsMTB9JC87ZGQucHJvdG90eXBlLmVnPWZ1bmN0aW9uKHQsZSl7aWYobnVsbD09dC5ZYXx8bnVsbD09ZS5ZYSl0aHJvdyBIYyhcIlNob3VsZCBvbmx5IGNvbXBhcmUgY2hpbGRfIGV2ZW50cy5cIik7cmV0dXJuIHRoaXMuZy5jb21wYXJlKG5ldyBFKHQuWWEsdC5KYSksbmV3IEUoZS5ZYSxlLkphKSl9LGg9amQucHJvdG90eXBlLGguSmY9ZnVuY3Rpb24odCl7cmV0dXJuXCJ2YWx1ZVwiPT09dH0saC5jcmVhdGVFdmVudD1mdW5jdGlvbih0LGUpe3ZhciBuPWUubi5nO3JldHVybiBuZXcgRmIoXCJ2YWx1ZVwiLHRoaXMsbmV3IFModC5KYSxlLmxjKCksbikpfSxoLlViPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuc2I7aWYoXCJjYW5jZWxcIj09PXQueWUoKSl7Sih0aGlzLnFiLFwiUmFpc2luZyBhIGNhbmNlbCBldmVudCBvbiBhIGxpc3RlbmVyIHdpdGggbm8gY2FuY2VsIGNhbGxiYWNrXCIpO3ZhciBuPXRoaXMucWI7cmV0dXJuIGZ1bmN0aW9uKCl7bi5jYWxsKGUsdC5lcnJvcil9fXZhciBpPXRoaXMuUGI7cmV0dXJuIGZ1bmN0aW9uKCl7aS5jYWxsKGUsdC5XZCl9fSxoLmZmPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMucWI/bmV3IEdiKHRoaXMsdCxlKTpudWxsfSxoLm1hdGNoZXM9ZnVuY3Rpb24odCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBqZD90LlBiJiZ0aGlzLlBiP3QuUGI9PT10aGlzLlBiJiZ0LnNiPT09dGhpcy5zYjohMDohMX0saC5zZj1mdW5jdGlvbigpe3JldHVybiBudWxsIT09dGhpcy5QYn0saD1rZC5wcm90b3R5cGUsaC5KZj1mdW5jdGlvbih0KXtyZXR1cm4gdD1cImNoaWxkcmVuX2FkZGVkXCI9PT10P1wiY2hpbGRfYWRkZWRcIjp0LChcImNoaWxkcmVuX3JlbW92ZWRcIj09PXQ/XCJjaGlsZF9yZW1vdmVkXCI6dClpbiB0aGlzLmdhfSxoLmZmPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMucWI/bmV3IEdiKHRoaXMsdCxlKTpudWxsfSxoLmNyZWF0ZUV2ZW50PWZ1bmN0aW9uKHQsZSl7SihudWxsIT10LllhLFwiQ2hpbGQgZXZlbnRzIHNob3VsZCBoYXZlIGEgY2hpbGROYW1lLlwiKTt2YXIgbj1lLmxjKCkudyh0LllhKTtyZXR1cm4gbmV3IEZiKHQudHlwZSx0aGlzLG5ldyBTKHQuSmEsbixlLm4uZyksdC5OZCl9LGguVWI9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5zYjtpZihcImNhbmNlbFwiPT09dC55ZSgpKXtKKHRoaXMucWIsXCJSYWlzaW5nIGEgY2FuY2VsIGV2ZW50IG9uIGEgbGlzdGVuZXIgd2l0aCBubyBjYW5jZWwgY2FsbGJhY2tcIik7dmFyIG49dGhpcy5xYjtyZXR1cm4gZnVuY3Rpb24oKXtuLmNhbGwoZSx0LmVycm9yKX19dmFyIGk9dGhpcy5nYVt0LnJkXTtyZXR1cm4gZnVuY3Rpb24oKXtpLmNhbGwoZSx0LldkLHQuTmQpfX0saC5tYXRjaGVzPWZ1bmN0aW9uKHQpe2lmKHQgaW5zdGFuY2VvZiBrZCl7aWYoIXRoaXMuZ2F8fCF0LmdhKXJldHVybiEwO2lmKHRoaXMuc2I9PT10LnNiKXt2YXIgZT1wYSh0LmdhKTtpZihlPT09cGEodGhpcy5nYSkpe2lmKDE9PT1lKXt2YXIgZT1xYSh0LmdhKSxuPXFhKHRoaXMuZ2EpO3JldHVybiEobiE9PWV8fHQuZ2FbZV0mJnRoaXMuZ2Fbbl0mJnQuZ2FbZV0hPT10aGlzLmdhW25dKX1yZXR1cm4gb2EodGhpcy5nYSxmdW5jdGlvbihlLG4pe3JldHVybiB0LmdhW25dPT09ZX0pfX19cmV0dXJuITF9LGguc2Y9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9PXRoaXMuZ2F9LGg9bGQucHJvdG90eXBlLGguRz1mdW5jdGlvbih0LGUsbixpLHIpe3JldHVybiBKKHQuSWModGhpcy5nKSxcIkEgbm9kZSBtdXN0IGJlIGluZGV4ZWQgaWYgb25seSBhIGNoaWxkIGlzIHVwZGF0ZWRcIiksaT10Lk0oZSksaS5aKG4pP3Q6KG51bGwhPXImJihuLmUoKT90LkhhKGUpP2lkKHIsbmV3IEQoXCJjaGlsZF9yZW1vdmVkXCIsaSxlKSk6Sih0Lk4oKSxcIkEgY2hpbGQgcmVtb3ZlIHdpdGhvdXQgYW4gb2xkIGNoaWxkIG9ubHkgbWFrZXMgc2Vuc2Ugb24gYSBsZWFmIG5vZGVcIik6aS5lKCk/aWQocixuZXcgRChcImNoaWxkX2FkZGVkXCIsbixlKSk6aWQocixuZXcgRChcImNoaWxkX2NoYW5nZWRcIixuLGUsaSkpKSx0Lk4oKSYmbi5lKCk/dDp0LlEoZSxuKS5tYih0aGlzLmcpKX0saC50YT1mdW5jdGlvbih0LGUsbil7cmV0dXJuIG51bGwhPW4mJih0Lk4oKXx8dC5VKE0sZnVuY3Rpb24odCxpKXtlLkhhKHQpfHxpZChuLG5ldyBEKFwiY2hpbGRfcmVtb3ZlZFwiLGksdCkpfSksZS5OKCl8fGUuVShNLGZ1bmN0aW9uKGUsaSl7aWYodC5IYShlKSl7dmFyIHI9dC5NKGUpO3IuWihpKXx8aWQobixuZXcgRChcImNoaWxkX2NoYW5nZWRcIixpLGUscikpfWVsc2UgaWQobixuZXcgRChcImNoaWxkX2FkZGVkXCIsaSxlKSl9KSksZS5tYih0aGlzLmcpfSxoLmRhPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuZSgpP0M6dC5kYShlKX0saC5HYT1mdW5jdGlvbigpe3JldHVybiExfSxoLlZiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9LGg9bWQucHJvdG90eXBlLGgubWF0Y2hlcz1mdW5jdGlvbih0KXtyZXR1cm4gMD49dGhpcy5nLmNvbXBhcmUodGhpcy5kZCx0KSYmMD49dGhpcy5nLmNvbXBhcmUodCx0aGlzLkZjKX0saC5HPWZ1bmN0aW9uKHQsZSxuLGkscil7cmV0dXJuIHRoaXMubWF0Y2hlcyhuZXcgRShlLG4pKXx8KG49QyksdGhpcy5BZS5HKHQsZSxuLGkscil9LGgudGE9ZnVuY3Rpb24odCxlLG4pe2UuTigpJiYoZT1DKTt2YXIgaT1lLm1iKHRoaXMuZyksaT1pLmRhKEMpLHI9dGhpcztyZXR1cm4gZS5VKE0sZnVuY3Rpb24odCxlKXtyLm1hdGNoZXMobmV3IEUodCxlKSl8fChpPWkuUSh0LEMpKX0pLHRoaXMuQWUudGEodCxpLG4pfSxoLmRhPWZ1bmN0aW9uKHQpe3JldHVybiB0fSxoLkdhPWZ1bmN0aW9uKCl7cmV0dXJuITB9LGguVmI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5BZX0saD1yZC5wcm90b3R5cGUsaC5HPWZ1bmN0aW9uKHQsZSxuLGkscil7cmV0dXJuIHRoaXMucmEubWF0Y2hlcyhuZXcgRShlLG4pKXx8KG49QyksdC5NKGUpLloobik/dDp0LkRiKCk8dGhpcy5qYT90aGlzLnJhLlZiKCkuRyh0LGUsbixpLHIpOnRkKHRoaXMsdCxlLG4saSxyKX0saC50YT1mdW5jdGlvbih0LGUsbil7dmFyIGk7aWYoZS5OKCl8fGUuZSgpKWk9Qy5tYih0aGlzLmcpO2Vsc2UgaWYoMip0aGlzLmphPGUuRGIoKSYmZS5JYyh0aGlzLmcpKXtpPUMubWIodGhpcy5nKSxlPXRoaXMuSmI/ZS5aYih0aGlzLnJhLkZjLHRoaXMuZyk6ZS5YYih0aGlzLnJhLmRkLHRoaXMuZyk7Zm9yKHZhciByPTA7MDxlLlBhLmxlbmd0aCYmcjx0aGlzLmphOyl7dmFyIG8sYT1IKGUpO2lmKCEobz10aGlzLkpiPzA+PXRoaXMuZy5jb21wYXJlKHRoaXMucmEuZGQsYSk6MD49dGhpcy5nLmNvbXBhcmUoYSx0aGlzLnJhLkZjKSkpYnJlYWs7aT1pLlEoYS5uYW1lLGEuUykscisrfX1lbHNle2k9ZS5tYih0aGlzLmcpLGk9aS5kYShDKTt2YXIgcyx1LGg7aWYodGhpcy5KYil7ZT1pLnJmKHRoaXMuZykscz10aGlzLnJhLkZjLHU9dGhpcy5yYS5kZDt2YXIgYz11ZCh0aGlzLmcpO2g9ZnVuY3Rpb24odCxlKXtyZXR1cm4gYyhlLHQpfX1lbHNlIGU9aS5XYih0aGlzLmcpLHM9dGhpcy5yYS5kZCx1PXRoaXMucmEuRmMsaD11ZCh0aGlzLmcpO2Zvcih2YXIgcj0wLGY9ITE7MDxlLlBhLmxlbmd0aDspYT1IKGUpLCFmJiYwPj1oKHMsYSkmJihmPSEwKSwobz1mJiZyPHRoaXMuamEmJjA+PWgoYSx1KSk/cisrOmk9aS5RKGEubmFtZSxDKX1yZXR1cm4gdGhpcy5yYS5WYigpLnRhKHQsaSxuKX0saC5kYT1mdW5jdGlvbih0KXtyZXR1cm4gdH0saC5HYT1mdW5jdGlvbigpe3JldHVybiEwfSxoLlZiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmEuVmIoKX0semQucHJvdG90eXBlLmJiPWZ1bmN0aW9uKHQsZSxuLGkpe3ZhciByLG89bmV3IGhkO2lmKGUudHlwZT09PVZiKWUuc291cmNlLnZlP249QWQodGhpcyx0LGUucGF0aCxlLklhLG4saSxvKTooSihlLnNvdXJjZS5vZixcIlVua25vd24gc291cmNlLlwiKSxyPWUuc291cmNlLmFmLG49QmQodGhpcyx0LGUucGF0aCxlLklhLG4saSxyLG8pKTtlbHNlIGlmKGUudHlwZT09PUNkKWUuc291cmNlLnZlP249RGQodGhpcyx0LGUucGF0aCxlLmNoaWxkcmVuLG4saSxvKTooSihlLnNvdXJjZS5vZixcIlVua25vd24gc291cmNlLlwiKSxyPWUuc291cmNlLmFmLG49RWQodGhpcyx0LGUucGF0aCxlLmNoaWxkcmVuLG4saSxyLG8pKTtlbHNlIGlmKGUudHlwZT09PVhiKWlmKGUuVmUpaWYocj1lLnBhdGgsbnVsbCE9bi5zYyhyKSluPXQ7ZWxzZXtpZihlPW5ldyBxYihuLHQsaSksaT10LkQuaigpLHIuZSgpfHxcIi5wcmlvcml0eVwiPT09TyhyKSlIYih0LnUoKSk/ZT1uLnVhKHRiKHQpKTooZT10LnUoKS5qKCksSihlIGluc3RhbmNlb2YgVCxcInNlcnZlckNoaWxkcmVuIHdvdWxkIGJlIGNvbXBsZXRlIGlmIGxlYWYgbm9kZVwiKSxlPW4ueGMoZSkpLGU9dGhpcy5JLnRhKGksZSxvKTtlbHNle3I9TyhyKTt2YXIgYT1uLlhhKHIsdC51KCkpO251bGw9PWEmJnJiKHQudSgpLHIpJiYoYT1pLk0ocikpLGU9bnVsbCE9YT90aGlzLkkuRyhpLHIsYSxlLG8pOnQuRC5qKCkuSGEocik/dGhpcy5JLkcoaSxyLEMsZSxvKTppLGUuZSgpJiZIYih0LnUoKSkmJihpPW4udWEodGIodCkpLGkuTigpJiYoZT10aGlzLkkudGEoZSxpLG8pKSl9aT1IYih0LnUoKSl8fG51bGwhPW4uc2MoRiksbj1GZCh0LGUsaSx0aGlzLkkuR2EoKSl9ZWxzZSBuPUdkKHRoaXMsdCxlLnBhdGgsbixpLG8pO2Vsc2V7aWYoZS50eXBlIT09JGIpdGhyb3cgSGMoXCJVbmtub3duIG9wZXJhdGlvbiB0eXBlOiBcIitlLnR5cGUpO2k9ZS5wYXRoLGU9dC51KCkscj1lLmooKSxhPWUuJHx8aS5lKCksbj1IZCh0aGlzLG5ldyBJZCh0LkQsbmV3IHNiKHIsYSxlLlRiKSksaSxuLHBiLG8pfXJldHVybiBvPXJhKG8uZWIpLGk9bixlPWkuRCxlLiQmJihyPWUuaigpLk4oKXx8ZS5qKCkuZSgpLGE9SmQodCksKDA8by5sZW5ndGh8fCF0LkQuJHx8ciYmIWUuaigpLlooYSl8fCFlLmooKS5BKCkuWihhLkEoKSkpJiZvLnB1c2goRGIoSmQoaSkpKSksbmV3IHlkKG4sbyl9O3ZhciBQZD17fTtPZC5wcm90b3R5cGUueGQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gMCE9PXRoaXMuY29tcGFyZShuZXcgRShcIltNSU5fTkFNRV1cIix0KSxuZXcgRShcIltNSU5fTkFNRV1cIixlKSl9LE9kLnByb3RvdHlwZS5TYz1mdW5jdGlvbigpe3JldHVybiBRZH0sbWEoUmQsT2QpLGg9UmQucHJvdG90eXBlLGguSGM9ZnVuY3Rpb24odCl7cmV0dXJuIXQuTSh0aGlzLmJjKS5lKCl9LGguY29tcGFyZT1mdW5jdGlvbih0LGUpe3ZhciBuPXQuUy5NKHRoaXMuYmMpLGk9ZS5TLk0odGhpcy5iYyksbj1uLkNjKGkpO3JldHVybiAwPT09bj9TYih0Lm5hbWUsZS5uYW1lKTpufSxoLk9jPWZ1bmN0aW9uKHQsZSl7dmFyIG49TCh0KSxuPUMuUSh0aGlzLmJjLG4pO3JldHVybiBuZXcgRShlLG4pfSxoLlBjPWZ1bmN0aW9uKCl7dmFyIHQ9Qy5RKHRoaXMuYmMsU2QpO3JldHVybiBuZXcgRShcIltNQVhfTkFNRV1cIix0KX0saC50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmJjfSxtYShUZCxPZCksaD1UZC5wcm90b3R5cGUsaC5jb21wYXJlPWZ1bmN0aW9uKHQsZSl7dmFyIG49dC5TLkEoKSxpPWUuUy5BKCksbj1uLkNjKGkpO3JldHVybiAwPT09bj9TYih0Lm5hbWUsZS5uYW1lKTpufSxoLkhjPWZ1bmN0aW9uKHQpe3JldHVybiF0LkEoKS5lKCl9LGgueGQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4hdC5BKCkuWihlLkEoKSl9LGguU2M9ZnVuY3Rpb24oKXtyZXR1cm4gUWR9LGguUGM9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IEUoXCJbTUFYX05BTUVdXCIsbmV3IHRjKFwiW1BSSU9SSVRZLVBPU1RdXCIsU2QpKX0saC5PYz1mdW5jdGlvbih0LGUpe3ZhciBuPUwodCk7cmV0dXJuIG5ldyBFKGUsbmV3IHRjKFwiW1BSSU9SSVRZLVBPU1RdXCIsbikpfSxoLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuXCIucHJpb3JpdHlcIn07dmFyIE09bmV3IFRkO21hKFVkLE9kKSxoPVVkLnByb3RvdHlwZSxoLmNvbXBhcmU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gU2IodC5uYW1lLGUubmFtZSl9LGguSGM9ZnVuY3Rpb24oKXt0aHJvdyBIYyhcIktleUluZGV4LmlzRGVmaW5lZE9uIG5vdCBleHBlY3RlZCB0byBiZSBjYWxsZWQuXCIpfSxoLnhkPWZ1bmN0aW9uKCl7cmV0dXJuITF9LGguU2M9ZnVuY3Rpb24oKXtyZXR1cm4gUWR9LGguUGM9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IEUoXCJbTUFYX05BTUVdXCIsQyl9LGguT2M9ZnVuY3Rpb24odCl7cmV0dXJuIEoocCh0KSxcIktleUluZGV4IGluZGV4VmFsdWUgbXVzdCBhbHdheXMgYmUgYSBzdHJpbmcuXCIpLG5ldyBFKHQsQyl9LGgudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm5cIi5rZXlcIn07dmFyIFZkPW5ldyBVZDttYShXZCxPZCksaD1XZC5wcm90b3R5cGUsaC5jb21wYXJlPWZ1bmN0aW9uKHQsZSl7dmFyIG49dC5TLkNjKGUuUyk7cmV0dXJuIDA9PT1uP1NiKHQubmFtZSxlLm5hbWUpOm59LGguSGM9ZnVuY3Rpb24oKXtyZXR1cm4hMH0saC54ZD1mdW5jdGlvbih0LGUpe3JldHVybiF0LlooZSl9LGguU2M9ZnVuY3Rpb24oKXtyZXR1cm4gUWR9LGguUGM9ZnVuY3Rpb24oKXtyZXR1cm4gWGR9LGguT2M9ZnVuY3Rpb24odCxlKXt2YXIgbj1MKHQpO3JldHVybiBuZXcgRShlLG4pfSxoLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuXCIudmFsdWVcIn07dmFyIFlkPW5ldyBXZCwkZD1uZXcgWmQ7aD1aZC5wcm90b3R5cGUsaC5HZT1mdW5jdGlvbih0KXt2YXIgZT1hZSh0aGlzKTtyZXR1cm4gZS5pYT0hMCxlLmphPXQsZS5OYj1cIlwiLGV9LGguSGU9ZnVuY3Rpb24odCl7dmFyIGU9YWUodGhpcyk7cmV0dXJuIGUuaWE9ITAsZS5qYT10LGUuTmI9XCJsXCIsZX0saC5JZT1mdW5jdGlvbih0KXt2YXIgZT1hZSh0aGlzKTtyZXR1cm4gZS5pYT0hMCxlLmphPXQsZS5OYj1cInJcIixlfSxoLlhkPWZ1bmN0aW9uKHQsZSl7dmFyIGk9YWUodGhpcyk7cmV0dXJuIGkubGE9ITAsbih0KXx8KHQ9bnVsbCksaS5kYz10LG51bGwhPWU/KGkuTGI9ITAsaS54Yj1lKTooaS5MYj0hMSxpLnhiPVwiXCIpLGl9LGgucWQ9ZnVuY3Rpb24odCxlKXt2YXIgaT1hZSh0aGlzKTtyZXR1cm4gaS5uYT0hMCxuKHQpfHwodD1udWxsKSxpLmFjPXQsbihlKT8oaS5SYj0hMCxpLnZiPWUpOihpLllnPSExLGkudmI9XCJcIiksaX0saC50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiBCKGNlKHRoaXMpKX0sZmUucHJvdG90eXBlLmdldD1mdW5jdGlvbih0KXt2YXIgZT13KHRoaXMueWQsdCk7aWYoIWUpdGhyb3cgRXJyb3IoXCJObyBpbmRleCBkZWZpbmVkIGZvciBcIit0KTtyZXR1cm4gZT09PVBkP251bGw6ZX07dmFyIGplPW5ldyBmZSh7XCIucHJpb3JpdHlcIjpQZH0se1wiLnByaW9yaXR5XCI6TX0pO2g9dGMucHJvdG90eXBlLGguTj1mdW5jdGlvbigpe3JldHVybiEwfSxoLkE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iYX0saC5kYT1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IHRjKHRoaXMuQyx0KX0saC5NPWZ1bmN0aW9uKHQpe3JldHVyblwiLnByaW9yaXR5XCI9PT10P3RoaXMuYmE6Q30saC5vYT1mdW5jdGlvbih0KXtyZXR1cm4gdC5lKCk/dGhpczpcIi5wcmlvcml0eVwiPT09Tyh0KT90aGlzLmJhOkN9LGguSGE9ZnVuY3Rpb24oKXtyZXR1cm4hMX0saC5xZj1mdW5jdGlvbigpe3JldHVybiBudWxsfSxoLlE9ZnVuY3Rpb24odCxlKXtyZXR1cm5cIi5wcmlvcml0eVwiPT09dD90aGlzLmRhKGUpOmUuZSgpJiZcIi5wcmlvcml0eVwiIT09dD90aGlzOkMuUSh0LGUpLmRhKHRoaXMuYmEpfSxoLkc9ZnVuY3Rpb24odCxlKXt2YXIgbj1PKHQpO3JldHVybiBudWxsPT09bj9lOmUuZSgpJiZcIi5wcmlvcml0eVwiIT09bj90aGlzOihKKFwiLnByaW9yaXR5XCIhPT1ufHwxPT09dWModCksXCIucHJpb3JpdHkgbXVzdCBiZSB0aGUgbGFzdCB0b2tlbiBpbiBhIHBhdGhcIiksdGhpcy5RKG4sQy5HKEcodCksZSkpKX0saC5lPWZ1bmN0aW9uKCl7cmV0dXJuITF9LGguRGI9ZnVuY3Rpb24oKXtyZXR1cm4gMH0saC5LPWZ1bmN0aW9uKHQpe3JldHVybiB0JiYhdGhpcy5BKCkuZSgpP3tcIi52YWx1ZVwiOnRoaXMuQmEoKSxcIi5wcmlvcml0eVwiOnRoaXMuQSgpLksoKX06dGhpcy5CYSgpfSxoLmhhc2g9ZnVuY3Rpb24oKXtpZihudWxsPT09dGhpcy5CYil7dmFyIHQ9XCJcIjt0aGlzLmJhLmUoKXx8KHQrPVwicHJpb3JpdHk6XCIrbGUodGhpcy5iYS5LKCkpK1wiOlwiKTt2YXIgZT10eXBlb2YgdGhpcy5DLHQ9dCsoZStcIjpcIiksdD1cIm51bWJlclwiPT09ZT90K1pjKHRoaXMuQyk6dCt0aGlzLkM7dGhpcy5CYj1KYyh0KX1yZXR1cm4gdGhpcy5CYn0saC5CYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLkN9LGguQ2M9ZnVuY3Rpb24odCl7aWYodD09PUMpcmV0dXJuIDE7aWYodCBpbnN0YW5jZW9mIFQpcmV0dXJuLTE7Sih0Lk4oKSxcIlVua25vd24gbm9kZSB0eXBlXCIpO3ZhciBlPXR5cGVvZiB0LkMsbj10eXBlb2YgdGhpcy5DLGk9TmEobWUsZSkscj1OYShtZSxuKTtyZXR1cm4gSihpPj0wLFwiVW5rbm93biBsZWFmIHR5cGU6IFwiK2UpLEoocj49MCxcIlVua25vd24gbGVhZiB0eXBlOiBcIituKSxpPT09cj9cIm9iamVjdFwiPT09bj8wOnRoaXMuQzx0LkM/LTE6dGhpcy5DPT09dC5DPzA6MTpyLWl9O3ZhciBtZT1bXCJvYmplY3RcIixcImJvb2xlYW5cIixcIm51bWJlclwiLFwic3RyaW5nXCJdO3RjLnByb3RvdHlwZS5tYj1mdW5jdGlvbigpe3JldHVybiB0aGlzfSx0Yy5wcm90b3R5cGUuSWM9ZnVuY3Rpb24oKXtyZXR1cm4hMH0sdGMucHJvdG90eXBlLlo9ZnVuY3Rpb24odCl7cmV0dXJuIHQ9PT10aGlzPyEwOnQuTigpP3RoaXMuQz09PXQuQyYmdGhpcy5iYS5aKHQuYmEpOiExfSx0Yy5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gQih0aGlzLksoITApKX0saD1ULnByb3RvdHlwZSxoLk49ZnVuY3Rpb24oKXtyZXR1cm4hMX0saC5BPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYmF8fEN9LGguZGE9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMubS5lKCk/dGhpczpuZXcgVCh0aGlzLm0sdCx0aGlzLndiKX0saC5NPWZ1bmN0aW9uKHQpe3JldHVyblwiLnByaW9yaXR5XCI9PT10P3RoaXMuQSgpOih0PXRoaXMubS5nZXQodCksbnVsbD09PXQ/Qzp0KX0saC5vYT1mdW5jdGlvbih0KXt2YXIgZT1PKHQpO3JldHVybiBudWxsPT09ZT90aGlzOnRoaXMuTShlKS5vYShHKHQpKX0saC5IYT1mdW5jdGlvbih0KXtyZXR1cm4gbnVsbCE9PXRoaXMubS5nZXQodCl9LGguUT1mdW5jdGlvbih0LGUpe2lmKEooZSxcIldlIHNob3VsZCBhbHdheXMgYmUgcGFzc2luZyBzbmFwc2hvdCBub2Rlc1wiKSxcIi5wcmlvcml0eVwiPT09dClyZXR1cm4gdGhpcy5kYShlKTt2YXIgbixpLHI9bmV3IEUodCxlKTtyZXR1cm4gZS5lKCk/KG49dGhpcy5tLnJlbW92ZSh0KSxyPWllKHRoaXMud2Iscix0aGlzLm0pKToobj10aGlzLm0uTmEodCxlKSxyPWdlKHRoaXMud2Iscix0aGlzLm0pKSxpPW4uZSgpP0M6dGhpcy5iYSxuZXcgVChuLGkscil9LGguRz1mdW5jdGlvbih0LGUpe3ZhciBuPU8odCk7aWYobnVsbD09PW4pcmV0dXJuIGU7SihcIi5wcmlvcml0eVwiIT09Tyh0KXx8MT09PXVjKHQpLFwiLnByaW9yaXR5IG11c3QgYmUgdGhlIGxhc3QgdG9rZW4gaW4gYSBwYXRoXCIpO3ZhciBpPXRoaXMuTShuKS5HKEcodCksZSk7cmV0dXJuIHRoaXMuUShuLGkpfSxoLmU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tLmUoKX0saC5EYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLm0uY291bnQoKX07dmFyIG5lPS9eKDB8WzEtOV1cXGQqKSQvO2g9VC5wcm90b3R5cGUsaC5LPWZ1bmN0aW9uKHQpe2lmKHRoaXMuZSgpKXJldHVybiBudWxsO3ZhciBlPXt9LG49MCxpPTAscj0hMDtpZih0aGlzLlUoTSxmdW5jdGlvbihvLGEpe2Vbb109YS5LKHQpLG4rKyxyJiZuZS50ZXN0KG8pP2k9TWF0aC5tYXgoaSxOdW1iZXIobykpOnI9ITF9KSwhdCYmciYmMipuPmkpe3ZhciBvLGE9W107Zm9yKG8gaW4gZSlhW29dPWVbb107cmV0dXJuIGF9cmV0dXJuIHQmJiF0aGlzLkEoKS5lKCkmJihlW1wiLnByaW9yaXR5XCJdPXRoaXMuQSgpLksoKSksZX0saC5oYXNoPWZ1bmN0aW9uKCl7aWYobnVsbD09PXRoaXMuQmIpe3ZhciB0PVwiXCI7dGhpcy5BKCkuZSgpfHwodCs9XCJwcmlvcml0eTpcIitsZSh0aGlzLkEoKS5LKCkpK1wiOlwiKSx0aGlzLlUoTSxmdW5jdGlvbihlLG4pe3ZhciBpPW4uaGFzaCgpO1wiXCIhPT1pJiYodCs9XCI6XCIrZStcIjpcIitpKX0pLHRoaXMuQmI9XCJcIj09PXQ/XCJcIjpKYyh0KX1yZXR1cm4gdGhpcy5CYn0saC5xZj1mdW5jdGlvbih0LGUsbil7cmV0dXJuKG49b2UodGhpcyxuKSk/KHQ9Y2MobixuZXcgRSh0LGUpKSk/dC5uYW1lOm51bGw6Y2ModGhpcy5tLHQpfSxoLlU9ZnVuY3Rpb24odCxlKXt2YXIgbj1vZSh0aGlzLHQpO3JldHVybiBuP24uaGEoZnVuY3Rpb24odCl7cmV0dXJuIGUodC5uYW1lLHQuUyl9KTp0aGlzLm0uaGEoZSl9LGguV2I9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuWGIodC5TYygpLHQpfSxoLlhiPWZ1bmN0aW9uKHQsZSl7dmFyIG49b2UodGhpcyxlKTtpZihuKXJldHVybiBuLlhiKHQsZnVuY3Rpb24odCl7cmV0dXJuIHR9KTtmb3IodmFyIG49dGhpcy5tLlhiKHQubmFtZSxRYiksaT1lYyhuKTtudWxsIT1pJiYwPmUuY29tcGFyZShpLHQpOylIKG4pLGk9ZWMobik7cmV0dXJuIG59LGgucmY9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuWmIodC5QYygpLHQpfSxoLlpiPWZ1bmN0aW9uKHQsZSl7dmFyIG49b2UodGhpcyxlKTtpZihuKXJldHVybiBuLlpiKHQsZnVuY3Rpb24odCl7cmV0dXJuIHR9KTtmb3IodmFyIG49dGhpcy5tLlpiKHQubmFtZSxRYiksaT1lYyhuKTtudWxsIT1pJiYwPGUuY29tcGFyZShpLHQpOylIKG4pLGk9ZWMobik7cmV0dXJuIG59LGguQ2M9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZSgpP3QuZSgpPzA6LTE6dC5OKCl8fHQuZSgpPzE6dD09PVNkPy0xOjB9LGgubWI9ZnVuY3Rpb24odCl7aWYodD09PVZkfHx0YSh0aGlzLndiLmNjLHQudG9TdHJpbmcoKSkpcmV0dXJuIHRoaXM7dmFyIGU9dGhpcy53YixuPXRoaXMubTtKKHQhPT1WZCxcIktleUluZGV4IGFsd2F5cyBleGlzdHMgYW5kIGlzbid0IG1lYW50IHRvIGJlIGFkZGVkIHRvIHRoZSBJbmRleE1hcC5cIik7Zm9yKHZhciBpPVtdLHI9ITEsbj1uLldiKFFiKSxvPUgobik7bzspcj1yfHx0LkhjKG8uUyksaS5wdXNoKG8pLG89SChuKTtyZXR1cm4gaT1yP2hlKGksdWQodCkpOlBkLHI9dC50b1N0cmluZygpLG49eGEoZS5jYyksbltyXT10LHQ9eGEoZS55ZCksdFtyXT1pLG5ldyBUKHRoaXMubSx0aGlzLmJhLG5ldyBmZSh0LG4pKX0saC5JYz1mdW5jdGlvbih0KXtyZXR1cm4gdD09PVZkfHx0YSh0aGlzLndiLmNjLHQudG9TdHJpbmcoKSl9LGguWj1mdW5jdGlvbih0KXtpZih0PT09dGhpcylyZXR1cm4hMDtpZih0Lk4oKSlyZXR1cm4hMTtpZih0aGlzLkEoKS5aKHQuQSgpKSYmdGhpcy5tLmNvdW50KCk9PT10Lm0uY291bnQoKSl7dmFyIGU9dGhpcy5XYihNKTt0PXQuV2IoTSk7Zm9yKHZhciBuPUgoZSksaT1IKHQpO24mJmk7KXtpZihuLm5hbWUhPT1pLm5hbWV8fCFuLlMuWihpLlMpKXJldHVybiExO249SChlKSxpPUgodCl9cmV0dXJuIG51bGw9PT1uJiZudWxsPT09aX1yZXR1cm4hMX0saC50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiBCKHRoaXMuSyghMCkpfTt2YXIgcGU9TWF0aC5sb2coMiksQz1uZXcgVChuZXcgYWMoVGIpLG51bGwsamUpO21hKHNlLFQpLGg9c2UucHJvdG90eXBlLGguQ2M9ZnVuY3Rpb24odCl7cmV0dXJuIHQ9PT10aGlzPzA6MX0saC5aPWZ1bmN0aW9uKHQpe3JldHVybiB0PT09dGhpc30saC5BPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9LGguTT1mdW5jdGlvbigpe3JldHVybiBDfSxoLmU9ZnVuY3Rpb24oKXtyZXR1cm4hMX07dmFyIFNkPW5ldyBzZSxRZD1uZXcgRShcIltNSU5fTkFNRV1cIixDKSxYZD1uZXcgRShcIltNQVhfTkFNRV1cIixTZCk7SWQucHJvdG90eXBlLnU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5VZH0saD10ZS5wcm90b3R5cGUsaC51PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuS2EudSgpLmooKX0saC5oYj1mdW5jdGlvbih0KXt2YXIgZT10Yih0aGlzLkthKTtyZXR1cm4gZSYmKGRlKHRoaXMuVi5uKXx8IXQuZSgpJiYhZS5NKE8odCkpLmUoKSk/ZS5vYSh0KTpudWxsfSxoLmU9ZnVuY3Rpb24oKXtyZXR1cm4gMD09PXRoaXMuWmEubGVuZ3RofSxoLk9iPWZ1bmN0aW9uKHQpe3RoaXMuWmEucHVzaCh0KX0saC5rYj1mdW5jdGlvbih0LGUpe3ZhciBuPVtdO2lmKGUpe0oobnVsbD09dCxcIkEgY2FuY2VsIHNob3VsZCBjYW5jZWwgYWxsIGV2ZW50IHJlZ2lzdHJhdGlvbnMuXCIpO3ZhciBpPXRoaXMuVi5wYXRoO09hKHRoaXMuWmEsZnVuY3Rpb24odCl7KHQ9dC5mZihlLGkpKSYmbi5wdXNoKHQpfSl9aWYodCl7Zm9yKHZhciByPVtdLG89MDtvPHRoaXMuWmEubGVuZ3RoOysrbyl7dmFyIGE9dGhpcy5aYVtvXTtpZihhLm1hdGNoZXModCkpe2lmKHQuc2YoKSl7cj1yLmNvbmNhdCh0aGlzLlphLnNsaWNlKG8rMSkpO2JyZWFrfX1lbHNlIHIucHVzaChhKX10aGlzLlphPXJ9ZWxzZSB0aGlzLlphPVtdO3JldHVybiBufSxoLmJiPWZ1bmN0aW9uKHQsZSxuKXt0LnR5cGU9PT1DZCYmbnVsbCE9PXQuc291cmNlLkliJiYoSih0Yih0aGlzLkthKSxcIldlIHNob3VsZCBhbHdheXMgaGF2ZSBhIGZ1bGwgY2FjaGUgYmVmb3JlIGhhbmRsaW5nIG1lcmdlc1wiKSxKKEpkKHRoaXMuS2EpLFwiTWlzc2luZyBldmVudCBjYWNoZSwgZXZlbiB0aG91Z2ggd2UgaGF2ZSBhIHNlcnZlciBjYWNoZVwiKSk7dmFyIGk9dGhpcy5LYTtyZXR1cm4gdD10aGlzLkdmLmJiKGksdCxlLG4pLGU9dGhpcy5HZixuPXQuaGUsSihuLkQuaigpLkljKGUuSS5nKSxcIkV2ZW50IHNuYXAgbm90IGluZGV4ZWRcIiksSihuLnUoKS5qKCkuSWMoZS5JLmcpLFwiU2VydmVyIHNuYXAgbm90IGluZGV4ZWRcIiksSihIYih0LmhlLnUoKSl8fCFIYihpLnUoKSksXCJPbmNlIGEgc2VydmVyIHNuYXAgaXMgY29tcGxldGUsIGl0IHNob3VsZCBuZXZlciBnbyBiYWNrXCIpLHRoaXMuS2E9dC5oZSx2ZSh0aGlzLHQuY2csdC5oZS5ELmooKSxudWxsKX0seGUucHJvdG90eXBlLldjPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnBhdGguZSgpPyh0PXRoaXMuY2hpbGRyZW4uc3VidHJlZShuZXcgSyh0KSksdC5lKCk/bnVsbDp0LnZhbHVlP25ldyBVYih0aGlzLnNvdXJjZSxGLHQudmFsdWUpOm5ldyB4ZSh0aGlzLnNvdXJjZSxGLHQpKTooSihPKHRoaXMucGF0aCk9PT10LFwiQ2FuJ3QgZ2V0IGEgbWVyZ2UgZm9yIGEgY2hpbGQgbm90IG9uIHRoZSBwYXRoIG9mIHRoZSBvcGVyYXRpb25cIiksbmV3IHhlKHRoaXMuc291cmNlLEcodGhpcy5wYXRoKSx0aGlzLmNoaWxkcmVuKSl9LHhlLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVyblwiT3BlcmF0aW9uKFwiK3RoaXMucGF0aCtcIjogXCIrdGhpcy5zb3VyY2UudG9TdHJpbmcoKStcIiBtZXJnZTogXCIrdGhpcy5jaGlsZHJlbi50b1N0cmluZygpK1wiKVwifTt2YXIgVmI9MCxDZD0xLFhiPTIsJGI9MyxZYj1uZXcgeWUoITAsITEsbnVsbCwhMSksemU9bmV3IHllKCExLCEwLG51bGwsITEpO3llLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnZlP1widXNlclwiOnRoaXMuYWY/XCJzZXJ2ZXIocXVlcnlJRD1cIit0aGlzLkliK1wiKVwiOlwic2VydmVyXCJ9LGg9QWUucHJvdG90eXBlLGgueGY9ZnVuY3Rpb24odCxlLG4saSl7dmFyIHI9dC5wYXRoLnRvU3RyaW5nKCk7dGhpcy5mKFwiTGlzdGVuIGNhbGxlZCBmb3IgXCIrcitcIiBcIit0LndhKCkpO3ZhciBvPUJlKHQsbiksYT17fTt0aGlzLmFhW29dPWEsdD1lZSh0Lm4pO3ZhciBzPXRoaXM7Q2UodGhpcyxyK1wiLmpzb25cIix0LGZ1bmN0aW9uKHQsZSl7dmFyIHU9ZTs0MDQ9PT10JiYodD11PW51bGwpLG51bGw9PT10JiZzLkdiKHIsdSwhMSxuKSx3KHMuYWEsbyk9PT1hJiZpKHQ/NDAxPT10P1wicGVybWlzc2lvbl9kZW5pZWRcIjpcInJlc3RfZXJyb3I6XCIrdDpcIm9rXCIsbnVsbCl9KX0saC5PZj1mdW5jdGlvbih0LGUpe3ZhciBuPUJlKHQsZSk7ZGVsZXRlIHRoaXMuYWFbbl19LGguUD1mdW5jdGlvbih0LGUpe3RoaXMuRmE9dDt2YXIgbj1hZCh0KSxpPW4uZGF0YSxuPW4uQWMmJm4uQWMuZXhwO2UmJmUoXCJva1wiLHthdXRoOmksZXhwaXJlczpufSl9LGguZWU9ZnVuY3Rpb24odCl7dGhpcy5GYT1udWxsLHQoXCJva1wiLG51bGwpfSxoLkxlPWZ1bmN0aW9uKCl7fSxoLkJmPWZ1bmN0aW9uKCl7fSxoLkdkPWZ1bmN0aW9uKCl7fSxoLnB1dD1mdW5jdGlvbigpe30saC55Zj1mdW5jdGlvbigpe30saC5UZT1mdW5jdGlvbigpe307dmFyIEVlPW5ldyBhYyhmdW5jdGlvbih0LGUpe3JldHVybiB0PT09ZT8wOmU+dD8tMToxfSk7aD1EZS5wcm90b3R5cGUsaC5lPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGw9PT10aGlzLnZhbHVlJiZ0aGlzLmNoaWxkcmVuLmUoKX0saC5zdWJ0cmVlPWZ1bmN0aW9uKHQpe2lmKHQuZSgpKXJldHVybiB0aGlzO3ZhciBlPXRoaXMuY2hpbGRyZW4uZ2V0KE8odCkpO3JldHVybiBudWxsIT09ZT9lLnN1YnRyZWUoRyh0KSk6TmR9LGguc2V0PWZ1bmN0aW9uKHQsZSl7aWYodC5lKCkpcmV0dXJuIG5ldyBEZShlLHRoaXMuY2hpbGRyZW4pO3ZhciBuPU8odCksaT0odGhpcy5jaGlsZHJlbi5nZXQobil8fE5kKS5zZXQoRyh0KSxlKSxuPXRoaXMuY2hpbGRyZW4uTmEobixpKTtyZXR1cm4gbmV3IERlKHRoaXMudmFsdWUsbil9LGgucmVtb3ZlPWZ1bmN0aW9uKHQpe2lmKHQuZSgpKXJldHVybiB0aGlzLmNoaWxkcmVuLmUoKT9OZDpuZXcgRGUobnVsbCx0aGlzLmNoaWxkcmVuKTt2YXIgZT1PKHQpLG49dGhpcy5jaGlsZHJlbi5nZXQoZSk7cmV0dXJuIG4/KHQ9bi5yZW1vdmUoRyh0KSksZT10LmUoKT90aGlzLmNoaWxkcmVuLnJlbW92ZShlKTp0aGlzLmNoaWxkcmVuLk5hKGUsdCksbnVsbD09PXRoaXMudmFsdWUmJmUuZSgpP05kOm5ldyBEZSh0aGlzLnZhbHVlLGUpKTp0aGlzfSxoLmdldD1mdW5jdGlvbih0KXtpZih0LmUoKSlyZXR1cm4gdGhpcy52YWx1ZTt2YXIgZT10aGlzLmNoaWxkcmVuLmdldChPKHQpKTtyZXR1cm4gZT9lLmdldChHKHQpKTpudWxsfTt2YXIgTmQ9bmV3IERlKG51bGwpO0RlLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3ZhciB0PXt9O3JldHVybiBLZCh0aGlzLGZ1bmN0aW9uKGUsbil7dFtlLnRvU3RyaW5nKCldPW4udG9TdHJpbmcoKX0pLEIodCl9O3ZhciBSZT1uZXcgUWUobmV3IERlKG51bGwpKTtRZS5wcm90b3R5cGUuT2Q9ZnVuY3Rpb24odCl7cmV0dXJuIHQuZSgpP1JlOih0PU1kKHRoaXMuVyx0LE5kKSxuZXcgUWUodCkpfSxRZS5wcm90b3R5cGUuZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLlcuZSgpfSxRZS5wcm90b3R5cGUuYXBwbHk9ZnVuY3Rpb24odCl7cmV0dXJuIFhlKEYsdGhpcy5XLHQpfSxoPVllLnByb3RvdHlwZSxoLk9kPWZ1bmN0aW9uKHQpe3ZhciBlPVVhKHRoaXMuemEsZnVuY3Rpb24oZSl7cmV0dXJuIGUuaWU9PT10fSk7SihlPj0wLFwicmVtb3ZlV3JpdGUgY2FsbGVkIHdpdGggbm9uZXhpc3RlbnQgd3JpdGVJZC5cIik7dmFyIG49dGhpcy56YVtlXTt0aGlzLnphLnNwbGljZShlLDEpO2Zvcih2YXIgaT1uLnZpc2libGUsbz0hMSxhPXRoaXMuemEubGVuZ3RoLTE7aSYmYT49MDspe3ZhciBzPXRoaXMuemFbYV07cy52aXNpYmxlJiYoYT49ZSYmWmUocyxuLnBhdGgpP2k9ITE6bi5wYXRoLmNvbnRhaW5zKHMucGF0aCkmJihvPSEwKSksYS0tfWlmKGkpe2lmKG8pdGhpcy5UPSRlKHRoaXMuemEsYWYsRiksdGhpcy5MYz0wPHRoaXMuemEubGVuZ3RoP3RoaXMuemFbdGhpcy56YS5sZW5ndGgtMV0uaWU6LTE7ZWxzZSBpZihuLklhKXRoaXMuVD10aGlzLlQuT2Qobi5wYXRoKTtlbHNle3ZhciB1PXRoaXM7cihuLmNoaWxkcmVuLGZ1bmN0aW9uKHQsZSl7dS5UPXUuVC5PZChuLnBhdGgudyhlKSl9KX1yZXR1cm4gbi5wYXRofXJldHVybiBudWxsfSxoLnVhPWZ1bmN0aW9uKHQsZSxuLGkpe2lmKG58fGkpe3ZhciByPVdlKHRoaXMuVCx0KTtyZXR1cm4haSYmci5lKCk/ZTppfHxudWxsIT1lfHxudWxsIT1VZShyLEYpPyhyPSRlKHRoaXMuemEsZnVuY3Rpb24oZSl7cmV0dXJuISghZS52aXNpYmxlJiYhaXx8biYmMDw9TmEobixlLmllKXx8IWUucGF0aC5jb250YWlucyh0KSYmIXQuY29udGFpbnMoZS5wYXRoKSl9LHQpLGU9ZXx8QyxyLmFwcGx5KGUpKTpudWxsfXJldHVybiByPVVlKHRoaXMuVCx0KSxudWxsIT1yP3I6KHI9V2UodGhpcy5ULHQpLHIuZSgpP2U6bnVsbCE9ZXx8bnVsbCE9VWUocixGKT8oZT1lfHxDLHIuYXBwbHkoZSkpOm51bGwpfSxoLnhjPWZ1bmN0aW9uKHQsZSl7dmFyIG49QyxpPVVlKHRoaXMuVCx0KTtpZihpKWkuTigpfHxpLlUoTSxmdW5jdGlvbih0LGUpe249bi5RKHQsZSl9KTtlbHNlIGlmKGUpe3ZhciByPVdlKHRoaXMuVCx0KTtlLlUoTSxmdW5jdGlvbih0LGUpe3ZhciBpPVdlKHIsbmV3IEsodCkpLmFwcGx5KGUpO249bi5RKHQsaSl9KSxPYShWZShyKSxmdW5jdGlvbih0KXtuPW4uUSh0Lm5hbWUsdC5TKX0pfWVsc2Ugcj1XZSh0aGlzLlQsdCksT2EoVmUociksZnVuY3Rpb24odCl7bj1uLlEodC5uYW1lLHQuUyl9KTtyZXR1cm4gbn0saC5oZD1mdW5jdGlvbih0LGUsbixpKXtyZXR1cm4gSihufHxpLFwiRWl0aGVyIGV4aXN0aW5nRXZlbnRTbmFwIG9yIGV4aXN0aW5nU2VydmVyU25hcCBtdXN0IGV4aXN0XCIpLHQ9dC53KGUpLG51bGwhPVVlKHRoaXMuVCx0KT9udWxsOih0PVdlKHRoaXMuVCx0KSx0LmUoKT9pLm9hKGUpOnQuYXBwbHkoaS5vYShlKSkpfSxoLlhhPWZ1bmN0aW9uKHQsZSxuKXt0PXQudyhlKTt2YXIgaT1VZSh0aGlzLlQsdCk7cmV0dXJuIG51bGwhPWk/aTpyYihuLGUpP1dlKHRoaXMuVCx0KS5hcHBseShuLmooKS5NKGUpKTpudWxsfSxoLnNjPWZ1bmN0aW9uKHQpe3JldHVybiBVZSh0aGlzLlQsdCl9LGgubWU9ZnVuY3Rpb24odCxlLG4saSxyLG8pe3ZhciBhO2lmKHQ9V2UodGhpcy5ULHQpLGE9VWUodCxGKSxudWxsPT1hKXtpZihudWxsPT1lKXJldHVybltdO2E9dC5hcHBseShlKX1pZihhPWEubWIobyksYS5lKCl8fGEuTigpKXJldHVybltdO2ZvcihlPVtdLHQ9dWQobykscj1yP2EuWmIobixvKTphLlhiKG4sbyksbz1IKHIpO28mJmUubGVuZ3RoPGk7KTAhPT10KG8sbikmJmUucHVzaChvKSxvPUgocik7cmV0dXJuIGV9LGg9YmYucHJvdG90eXBlLGgudWE9ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0aGlzLlcudWEodGhpcy5NYix0LGUsbil9LGgueGM9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuVy54Yyh0aGlzLk1iLHQpfSxoLmhkPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdGhpcy5XLmhkKHRoaXMuTWIsdCxlLG4pfSxoLnNjPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLlcuc2ModGhpcy5NYi53KHQpKX0saC5tZT1mdW5jdGlvbih0LGUsbixpLHIpe3JldHVybiB0aGlzLlcubWUodGhpcy5NYix0LGUsbixpLHIpfSxoLlhhPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuVy5YYSh0aGlzLk1iLHQsZSl9LGgudz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IGJmKHRoaXMuTWIudyh0KSx0aGlzLlcpfSxoPWNmLnByb3RvdHlwZSxoLmU9ZnVuY3Rpb24oKXtyZXR1cm4gd2EodGhpcy55YSl9LGguYmI9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPXQuc291cmNlLkliO2lmKG51bGwhPT1pKXJldHVybiBpPXcodGhpcy55YSxpKSxKKG51bGwhPWksXCJTeW5jVHJlZSBnYXZlIHVzIGFuIG9wIGZvciBhbiBpbnZhbGlkIHF1ZXJ5LlwiKSxpLmJiKHQsZSxuKTt2YXIgbz1bXTtyZXR1cm4gcih0aGlzLnlhLGZ1bmN0aW9uKGkpe289by5jb25jYXQoaS5iYih0LGUsbikpfSksb30saC5PYj1mdW5jdGlvbih0LGUsbixpLHIpe3ZhciBvPXQud2EoKSxhPXcodGhpcy55YSxvKTtpZighYSl7dmFyIGE9bi51YShyP2k6bnVsbCkscz0hMTthP3M9ITA6KGE9aSBpbnN0YW5jZW9mIFQ/bi54YyhpKTpDLHM9ITEpLGE9bmV3IHRlKHQsbmV3IElkKG5ldyBzYihhLHMsITEpLG5ldyBzYihpLHIsITEpKSksdGhpcy55YVtvXT1hfXJldHVybiBhLk9iKGUpLHdlKGEsZSl9LGgua2I9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPXQud2EoKSxvPVtdLGE9W10scz1udWxsIT1kZih0aGlzKTtpZihcImRlZmF1bHRcIj09PWkpe3ZhciB1PXRoaXM7cih0aGlzLnlhLGZ1bmN0aW9uKHQsaSl7YT1hLmNvbmNhdCh0LmtiKGUsbikpLHQuZSgpJiYoZGVsZXRlIHUueWFbaV0sZGUodC5WLm4pfHxvLnB1c2godC5WKSl9KX1lbHNle3ZhciBoPXcodGhpcy55YSxpKTtoJiYoYT1hLmNvbmNhdChoLmtiKGUsbikpLGguZSgpJiYoZGVsZXRlIHRoaXMueWFbaV0sZGUoaC5WLm4pfHxvLnB1c2goaC5WKSkpfXJldHVybiBzJiZudWxsPT1kZih0aGlzKSYmby5wdXNoKG5ldyBVKHQuayx0LnBhdGgpKSx7SGc6byxqZzphfX0saC5oYj1mdW5jdGlvbih0KXt2YXIgZT1udWxsO3JldHVybiByKHRoaXMueWEsZnVuY3Rpb24obil7ZT1lfHxuLmhiKHQpfSksZX0sZ2YucHJvdG90eXBlLk9iPWZ1bmN0aW9uKHQsZSl7dmFyIG49dC5wYXRoLGk9bnVsbCxyPSExO01lKHRoaXMuc2EsbixmdW5jdGlvbih0LGUpe3ZhciBvPU4odCxuKTtyZXR1cm4gaT1lLmhiKG8pLHI9cnx8bnVsbCE9ZGYoZSksIWl9KTt2YXIgbz10aGlzLnNhLmdldChuKTtvPyhyPXJ8fG51bGwhPWRmKG8pLGk9aXx8by5oYihGKSk6KG89bmV3IGNmLHRoaXMuc2E9dGhpcy5zYS5zZXQobixvKSk7dmFyIGE7bnVsbCE9aT9hPSEwOihhPSExLGk9QyxQZSh0aGlzLnNhLnN1YnRyZWUobiksZnVuY3Rpb24odCxlKXt2YXIgbj1lLmhiKEYpO24mJihpPWkuUSh0LG4pKX0pKTt2YXIgcz1udWxsIT1mZihvLHQpO2lmKCFzJiYhZGUodC5uKSl7dmFyIHU9c2YodCk7SighKHUgaW4gdGhpcy5rYyksXCJWaWV3IGRvZXMgbm90IGV4aXN0LCBidXQgd2UgaGF2ZSBhIHRhZ1wiKTt2YXIgaD10ZisrO3RoaXMua2NbdV09aCx0aGlzLiRlW1wiX1wiK2hdPXV9cmV0dXJuIGE9by5PYih0LGUsbmV3IGJmKG4sdGhpcy5IYiksaSxhKSxzfHxyfHwobz1mZihvLHQpLGE9YS5jb25jYXQodWYodGhpcyx0LG8pKSksYX0sZ2YucHJvdG90eXBlLmtiPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT10LnBhdGgscj10aGlzLnNhLmdldChpKSxvPVtdO2lmKHImJihcImRlZmF1bHRcIj09PXQud2EoKXx8bnVsbCE9ZmYocix0KSkpe289ci5rYih0LGUsbiksci5lKCkmJih0aGlzLnNhPXRoaXMuc2EucmVtb3ZlKGkpKSxyPW8uSGcsbz1vLmpnLGU9LTEhPT1VYShyLGZ1bmN0aW9uKHQpe3JldHVybiBkZSh0Lm4pfSk7dmFyIGE9S2UodGhpcy5zYSxpLGZ1bmN0aW9uKHQsZSl7cmV0dXJuIG51bGwhPWRmKGUpfSk7aWYoZSYmIWEmJihpPXRoaXMuc2Euc3VidHJlZShpKSwhaS5lKCkpKWZvcih2YXIgaT12ZihpKSxzPTA7czxpLmxlbmd0aDsrK3Mpe3ZhciB1PWlbc10saD11LlYsdT13Zih0aGlzLHUpO3RoaXMuTWMuWGUoaCx4Zih0aGlzLGgpLHUudWQsdS5KKX1pZighYSYmMDxyLmxlbmd0aCYmIW4paWYoZSl0aGlzLk1jLlpkKHQsbnVsbCk7ZWxzZXt2YXIgYz10aGlzO09hKHIsZnVuY3Rpb24odCl7dC53YSgpO3ZhciBlPWMua2Nbc2YodCldO2MuTWMuWmQodCxlKX0pfXlmKHRoaXMscil9cmV0dXJuIG99LGdmLnByb3RvdHlwZS51YT1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuSGIsaT1LZSh0aGlzLnNhLHQsZnVuY3Rpb24oZSxuKXt2YXIgaT1OKGUsdCk7cmV0dXJuKGk9bi5oYihpKSk/aTp2b2lkIDB9KTtyZXR1cm4gbi51YSh0LGksZSwhMCl9O3ZhciB0Zj0xO2g9Q2YucHJvdG90eXBlLGguQmE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5CLnZhbHVlfSxoLmNsZWFyPWZ1bmN0aW9uKCl7dGhpcy5CLnZhbHVlPW51bGwsdGhpcy5CLmNoaWxkcmVuPXt9LHRoaXMuQi5rZD0wLEZmKHRoaXMpfSxoLnRkPWZ1bmN0aW9uKCl7cmV0dXJuIDA8dGhpcy5CLmtkfSxoLmU9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbD09PXRoaXMuQmEoKSYmIXRoaXMudGQoKX0saC5VPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7cih0aGlzLkIuY2hpbGRyZW4sZnVuY3Rpb24obixpKXt0KG5ldyBDZihpLGUsbikpfSl9LGgucGF0aD1mdW5jdGlvbigpe3JldHVybiBuZXcgSyhudWxsPT09dGhpcy5ZYz90aGlzLkRkOnRoaXMuWWMucGF0aCgpK1wiL1wiK3RoaXMuRGQpfSxoLm5hbWU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5EZH0saC5wYXJlbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ZY30sSWYucHJvdG90eXBlLmRlPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLk5jW3RdfHxbXSxuPTA7bjxlLmxlbmd0aDtuKyspZVtuXS55Yy5hcHBseShlW25dLk1hLEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKSl9LElmLnByb3RvdHlwZS5FYj1mdW5jdGlvbih0LGUsbil7SmYodGhpcyx0KSx0aGlzLk5jW3RdPXRoaXMuTmNbdF18fFtdLHRoaXMuTmNbdF0ucHVzaCh7eWM6ZSxNYTpufSksKHQ9dGhpcy56ZSh0KSkmJmUuYXBwbHkobix0KX0sSWYucHJvdG90eXBlLmdjPWZ1bmN0aW9uKHQsZSxuKXtKZih0aGlzLHQpLHQ9dGhpcy5OY1t0XXx8W107Zm9yKHZhciBpPTA7aTx0Lmxlbmd0aDtpKyspaWYodFtpXS55Yz09PWUmJighbnx8bj09PXRbaV0uTWEpKXt0LnNwbGljZShpLDEpO2JyZWFrfX07dmFyIEtmPWZ1bmN0aW9uKCl7dmFyIHQ9MCxlPVtdO3JldHVybiBmdW5jdGlvbihuKXt2YXIgaT1uPT09dDt0PW47Zm9yKHZhciByPUFycmF5KDgpLG89NztvPj0wO28tLSlyW29dPVwiLTAxMjM0NTY3ODlBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWl9hYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5elwiLmNoYXJBdChuJTY0KSxuPU1hdGguZmxvb3Iobi82NCk7aWYoSigwPT09bixcIkNhbm5vdCBwdXNoIGF0IHRpbWUgPT0gMFwiKSxuPXIuam9pbihcIlwiKSxpKXtmb3Iobz0xMTtvPj0wJiY2Mz09PWVbb107by0tKWVbb109MDtlW29dKyt9ZWxzZSBmb3Iobz0wOzEyPm87bysrKWVbb109TWF0aC5mbG9vcig2NCpNYXRoLnJhbmRvbSgpKTtmb3Iobz0wOzEyPm87bysrKW4rPVwiLTAxMjM0NTY3ODlBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWl9hYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5elwiLmNoYXJBdChlW29dKTtyZXR1cm4gSigyMD09PW4ubGVuZ3RoLFwibmV4dFB1c2hJZDogTGVuZ3RoIHNob3VsZCBiZSAyMC5cIiksbn19KCk7bWEoTGYsSWYpLExmLnByb3RvdHlwZS56ZT1mdW5jdGlvbih0KXtyZXR1cm4gSihcIm9ubGluZVwiPT09dCxcIlVua25vd24gZXZlbnQgdHlwZTogXCIrdCksW3RoaXMuaWNdfSxjYShMZiksbWEoTWYsSWYpLE1mLnByb3RvdHlwZS56ZT1mdW5jdGlvbih0KXtyZXR1cm4gSihcInZpc2libGVcIj09PXQsXCJVbmtub3duIGV2ZW50IHR5cGU6IFwiK3QpLFt0aGlzLnVjXX0sY2EoTWYpO3ZhciBOZj0vW1xcW1xcXS4jJFxcL1xcdTAwMDAtXFx1MDAxRlxcdTAwN0ZdLyxPZj0vW1xcW1xcXS4jJFxcdTAwMDAtXFx1MDAxRlxcdTAwN0ZdLztoPWNnLnByb3RvdHlwZSxoLmFkZD1mdW5jdGlvbih0LGUpe3RoaXMuc2V0W3RdPW51bGwhPT1lP2U6ITB9LGguY29udGFpbnM9ZnVuY3Rpb24odCl7cmV0dXJuIHUodGhpcy5zZXQsdCl9LGguZ2V0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmNvbnRhaW5zKHQpP3RoaXMuc2V0W3RdOnZvaWQgMH0saC5yZW1vdmU9ZnVuY3Rpb24odCl7ZGVsZXRlIHRoaXMuc2V0W3RdfSxoLmNsZWFyPWZ1bmN0aW9uKCl7dGhpcy5zZXQ9e319LGguZT1mdW5jdGlvbigpe3JldHVybiB3YSh0aGlzLnNldCl9LGguY291bnQ9ZnVuY3Rpb24oKXtyZXR1cm4gcGEodGhpcy5zZXQpfSxoLmtleXM9ZnVuY3Rpb24oKXt2YXIgdD1bXTtcblxucmV0dXJuIHIodGhpcy5zZXQsZnVuY3Rpb24oZSxuKXt0LnB1c2gobil9KSx0fSxxYy5wcm90b3R5cGUuZmluZD1mdW5jdGlvbih0KXtpZihudWxsIT10aGlzLkMpcmV0dXJuIHRoaXMuQy5vYSh0KTtpZih0LmUoKXx8bnVsbD09dGhpcy5tKXJldHVybiBudWxsO3ZhciBlPU8odCk7cmV0dXJuIHQ9Ryh0KSx0aGlzLm0uY29udGFpbnMoZSk/dGhpcy5tLmdldChlKS5maW5kKHQpOm51bGx9LHFjLnByb3RvdHlwZS5tYz1mdW5jdGlvbih0LGUpe2lmKHQuZSgpKXRoaXMuQz1lLHRoaXMubT1udWxsO2Vsc2UgaWYobnVsbCE9PXRoaXMuQyl0aGlzLkM9dGhpcy5DLkcodCxlKTtlbHNle251bGw9PXRoaXMubSYmKHRoaXMubT1uZXcgY2cpO3ZhciBuPU8odCk7dGhpcy5tLmNvbnRhaW5zKG4pfHx0aGlzLm0uYWRkKG4sbmV3IHFjKSxuPXRoaXMubS5nZXQobiksdD1HKHQpLG4ubWModCxlKX19LHFjLnByb3RvdHlwZS5VPWZ1bmN0aW9uKHQpe251bGwhPT10aGlzLm0mJmRnKHRoaXMubSxmdW5jdGlvbihlLG4pe3QoZSxuKX0pfTt2YXIgZmc9XCJhdXRoLmZpcmViYXNlLmNvbVwiLGhnPVtcInJlbWVtYmVyXCIsXCJyZWRpcmVjdFRvXCJdO2pnLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24odCxlKXtpZighZSl7aWYoIXRoaXMuJGQubGVuZ3RoKXRocm93IEVycm9yKFwiZmIubG9naW4uU2Vzc2lvbk1hbmFnZXIgOiBObyBzdG9yYWdlIG9wdGlvbnMgYXZhaWxhYmxlIVwiKTtlPXRoaXMuJGRbMF19ZS5zZXQodGhpcy5QZSx0KX0samcucHJvdG90eXBlLmdldD1mdW5jdGlvbigpe3ZhciB0PVFhKHRoaXMuJGQscSh0aGlzLm5nLHRoaXMpKSx0PVBhKHQsZnVuY3Rpb24odCl7cmV0dXJuIG51bGwhPT10fSk7cmV0dXJuIFhhKHQsZnVuY3Rpb24odCxlKXtyZXR1cm4gYmQoZS50b2tlbiktYmQodC50b2tlbil9KSwwPHQubGVuZ3RoP3Quc2hpZnQoKTpudWxsfSxqZy5wcm90b3R5cGUubmc9ZnVuY3Rpb24odCl7dHJ5e3ZhciBlPXQuZ2V0KHRoaXMuUGUpO2lmKGUmJmUudG9rZW4pcmV0dXJuIGV9Y2F0Y2gobil7fXJldHVybiBudWxsfSxqZy5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO09hKHRoaXMuJGQsZnVuY3Rpb24oZSl7ZS5yZW1vdmUodC5QZSl9KX0sdWcucHJvdG90eXBlLmhjPWZ1bmN0aW9uKHQpe3ZhciBlLG49dGhpczt0cnl7ZT1tYih0LmRhdGEpfWNhdGNoKGkpe31lJiZcInJlcXVlc3RcIj09PWUuYSYmKHBnKHdpbmRvdyxcIm1lc3NhZ2VcIix0aGlzLmhjKSx0aGlzLmFlPXQub3JpZ2luLHRoaXMuemMmJnNldFRpbWVvdXQoZnVuY3Rpb24oKXtuLnpjKG4uYWUsZS5kLGZ1bmN0aW9uKHQsZSl7bi5hZz0hZSxuLnpjPXZvaWQgMCx2ZyhuLHthOlwicmVzcG9uc2VcIixkOnQsZm9yY2VLZWVwV2luZG93T3BlbjplfSl9KX0sMCkpfSx1Zy5wcm90b3R5cGUueWc9ZnVuY3Rpb24oKXt0cnl7cGcodGhpcy53ZCxcIm1lc3NhZ2VcIix0aGlzLkFmKX1jYXRjaCh0KXt9dGhpcy56YyYmKHZnKHRoaXMse2E6XCJlcnJvclwiLGQ6XCJ1bmtub3duIGNsb3NlZCB3aW5kb3dcIn0pLHRoaXMuemM9dm9pZCAwKTt0cnl7d2luZG93LmNsb3NlKCl9Y2F0Y2goZSl7fX0sdWcucHJvdG90eXBlLkFmPWZ1bmN0aW9uKHQpe2lmKHRoaXMuYWcmJlwiZGllXCI9PT10LmRhdGEpdHJ5e3dpbmRvdy5jbG9zZSgpfWNhdGNoKGUpe319LHdnLnByb3RvdHlwZS5vcGVuPWZ1bmN0aW9uKHQsZSl7UC5zZXQoXCJyZWRpcmVjdF9yZXF1ZXN0X2lkXCIsdGhpcy5vYyksUC5zZXQoXCJyZWRpcmVjdF9yZXF1ZXN0X2lkXCIsdGhpcy5vYyksZS5yZXF1ZXN0SWQ9dGhpcy5vYyxlLnJlZGlyZWN0VG89ZS5yZWRpcmVjdFRvfHx3aW5kb3cubG9jYXRpb24uaHJlZix0Kz0oL1xcPy8udGVzdCh0KT9cIlwiOlwiP1wiKStqYihlKSx3aW5kb3cubG9jYXRpb249dH0sd2cuaXNBdmFpbGFibGU9ZnVuY3Rpb24oKXtyZXR1cm4hbGcoKSYmIWtnKCl9LHdnLnByb3RvdHlwZS5CYz1mdW5jdGlvbigpe3JldHVyblwicmVkaXJlY3RcIn07dmFyIHhnPXtORVRXT1JLX0VSUk9SOlwiVW5hYmxlIHRvIGNvbnRhY3QgdGhlIEZpcmViYXNlIHNlcnZlci5cIixTRVJWRVJfRVJST1I6XCJBbiB1bmtub3duIHNlcnZlciBlcnJvciBvY2N1cnJlZC5cIixUUkFOU1BPUlRfVU5BVkFJTEFCTEU6XCJUaGVyZSBhcmUgbm8gbG9naW4gdHJhbnNwb3J0cyBhdmFpbGFibGUgZm9yIHRoZSByZXF1ZXN0ZWQgbWV0aG9kLlwiLFJFUVVFU1RfSU5URVJSVVBURUQ6XCJUaGUgYnJvd3NlciByZWRpcmVjdGVkIHRoZSBwYWdlIGJlZm9yZSB0aGUgbG9naW4gcmVxdWVzdCBjb3VsZCBjb21wbGV0ZS5cIixVU0VSX0NBTkNFTExFRDpcIlRoZSB1c2VyIGNhbmNlbGxlZCBhdXRoZW50aWNhdGlvbi5cIn07emcucHJvdG90eXBlLm9wZW49ZnVuY3Rpb24odCxlLG4pe2Z1bmN0aW9uIGkodCl7aWYobyYmKGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQobyksbz12b2lkIDApLGMmJihjPWNsZWFySW50ZXJ2YWwoYykpLHBnKHdpbmRvdyxcIm1lc3NhZ2VcIixyKSxwZyh3aW5kb3csXCJ1bmxvYWRcIixpKSxoJiYhdCl0cnl7aC5jbG9zZSgpfWNhdGNoKGUpe2EucG9zdE1lc3NhZ2UoXCJkaWVcIix1KX1oPWE9dm9pZCAwfWZ1bmN0aW9uIHIodCl7aWYodC5vcmlnaW49PT11KXRyeXt2YXIgZT1tYih0LmRhdGEpO1wicmVhZHlcIj09PWUuYT9hLnBvc3RNZXNzYWdlKGYsdSk6XCJlcnJvclwiPT09ZS5hPyhpKCExKSxuJiYobihlLmQpLG49bnVsbCkpOlwicmVzcG9uc2VcIj09PWUuYSYmKGkoZS5mb3JjZUtlZXBXaW5kb3dPcGVuKSxuJiYobihudWxsLGUuZCksbj1udWxsKSl9Y2F0Y2gocil7fX12YXIgbyxhLHM9bWcoKTtpZighdGhpcy5vcHRpb25zLnJlbGF5X3VybClyZXR1cm4gbihFcnJvcihcImludmFsaWQgYXJndW1lbnRzOiBvcmlnaW4gb2YgdXJsIGFuZCByZWxheV91cmwgbXVzdCBtYXRjaFwiKSk7dmFyIHU9cWcodCk7aWYodSE9PXFnKHRoaXMub3B0aW9ucy5yZWxheV91cmwpKW4mJnNldFRpbWVvdXQoZnVuY3Rpb24oKXtuKEVycm9yKFwiaW52YWxpZCBhcmd1bWVudHM6IG9yaWdpbiBvZiB1cmwgYW5kIHJlbGF5X3VybCBtdXN0IG1hdGNoXCIpKX0sMCk7ZWxzZXtzJiYobz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaWZyYW1lXCIpLG8uc2V0QXR0cmlidXRlKFwic3JjXCIsdGhpcy5vcHRpb25zLnJlbGF5X3VybCksby5zdHlsZS5kaXNwbGF5PVwibm9uZVwiLG8uc2V0QXR0cmlidXRlKFwibmFtZVwiLFwiX193aW5jaGFuX3JlbGF5X2ZyYW1lXCIpLGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobyksYT1vLmNvbnRlbnRXaW5kb3cpLHQrPSgvXFw/Ly50ZXN0KHQpP1wiXCI6XCI/XCIpK2piKGUpO3ZhciBoPXdpbmRvdy5vcGVuKHQsdGhpcy5vcHRpb25zLndpbmRvd19uYW1lLHRoaXMub3B0aW9ucy53aW5kb3dfZmVhdHVyZXMpO2F8fChhPWgpO3ZhciBjPXNldEludGVydmFsKGZ1bmN0aW9uKCl7aCYmaC5jbG9zZWQmJihpKCExKSxuJiYobih5ZyhcIlVTRVJfQ0FOQ0VMTEVEXCIpKSxuPW51bGwpKX0sNTAwKSxmPUIoe2E6XCJyZXF1ZXN0XCIsZDplfSk7b2cod2luZG93LFwidW5sb2FkXCIsaSksb2cod2luZG93LFwibWVzc2FnZVwiLHIpfX0semcuaXNBdmFpbGFibGU9ZnVuY3Rpb24oKXtyZXR1cm5cInBvc3RNZXNzYWdlXCJpbiB3aW5kb3cmJiFsZygpJiYhKGtnKCl8fFwidW5kZWZpbmVkXCIhPXR5cGVvZiBuYXZpZ2F0b3ImJihuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9XaW5kb3dzIFBob25lLyl8fHdpbmRvdy5XaW5kb3dzJiYvXm1zLWFwcHg6Ly50ZXN0KGxvY2F0aW9uLmhyZWYpKXx8XCJ1bmRlZmluZWRcIiE9dHlwZW9mIG5hdmlnYXRvciYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmKG5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goLyhpUGhvbmV8aVBvZHxpUGFkKS4qQXBwbGVXZWJLaXQoPyEuKlNhZmFyaSkvaSl8fG5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL0NyaU9TLyl8fG5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL1R3aXR0ZXIgZm9yIGlQaG9uZS8pfHxuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9GQkFOXFwvRkJJT1MvKXx8d2luZG93Lm5hdmlnYXRvci5zdGFuZGFsb25lKSkmJiEoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIG5hdmlnYXRvciYmbmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvUGhhbnRvbUpTLykpfSx6Zy5wcm90b3R5cGUuQmM9ZnVuY3Rpb24oKXtyZXR1cm5cInBvcHVwXCJ9LEFnLnByb3RvdHlwZS5vcGVuPWZ1bmN0aW9uKHQsZSxuKXtmdW5jdGlvbiBpKCl7biYmKG4oeWcoXCJSRVFVRVNUX0lOVEVSUlVQVEVEXCIpKSxuPW51bGwpfXZhciByLG89bmV3IFhNTEh0dHBSZXF1ZXN0LGE9dGhpcy5vcHRpb25zLm1ldGhvZC50b1VwcGVyQ2FzZSgpO2lmKG9nKHdpbmRvdyxcImJlZm9yZXVubG9hZFwiLGkpLG8ub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7aWYobiYmND09PW8ucmVhZHlTdGF0ZSl7dmFyIHQ7aWYoMjAwPD1vLnN0YXR1cyYmMzAwPm8uc3RhdHVzKXt0cnl7dD1tYihvLnJlc3BvbnNlVGV4dCl9Y2F0Y2goZSl7fW4obnVsbCx0KX1lbHNlIG4oNTAwPD1vLnN0YXR1cyYmNjAwPm8uc3RhdHVzP3lnKFwiU0VSVkVSX0VSUk9SXCIpOnlnKFwiTkVUV09SS19FUlJPUlwiKSk7bj1udWxsLHBnKHdpbmRvdyxcImJlZm9yZXVubG9hZFwiLGkpfX0sXCJHRVRcIj09PWEpdCs9KC9cXD8vLnRlc3QodCk/XCJcIjpcIj9cIikramIoZSkscj1udWxsO2Vsc2V7dmFyIHM9dGhpcy5vcHRpb25zLmhlYWRlcnMuY29udGVudF90eXBlO1wiYXBwbGljYXRpb24vanNvblwiPT09cyYmKHI9QihlKSksXCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRcIj09PXMmJihyPWpiKGUpKX1vLm9wZW4oYSx0LCEwKSx0PXtcIlgtUmVxdWVzdGVkLVdpdGhcIjpcIlhNTEh0dHBSZXF1ZXN0XCIsQWNjZXB0OlwiYXBwbGljYXRpb24vanNvbjt0ZXh0L3BsYWluXCJ9LHphKHQsdGhpcy5vcHRpb25zLmhlYWRlcnMpO2Zvcih2YXIgdSBpbiB0KW8uc2V0UmVxdWVzdEhlYWRlcih1LHRbdV0pO28uc2VuZChyKX0sQWcuaXNBdmFpbGFibGU9ZnVuY3Rpb24oKXtyZXR1cm4hKCF3aW5kb3cuWE1MSHR0cFJlcXVlc3R8fFwic3RyaW5nXCIhPXR5cGVvZihuZXcgWE1MSHR0cFJlcXVlc3QpLnJlc3BvbnNlVHlwZXx8XCJ1bmRlZmluZWRcIiE9dHlwZW9mIG5hdmlnYXRvciYmKG5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL01TSUUvKXx8bmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvVHJpZGVudC8pKSYmIW1nKCkpfSxBZy5wcm90b3R5cGUuQmM9ZnVuY3Rpb24oKXtyZXR1cm5cImpzb25cIn0sQmcucHJvdG90eXBlLm9wZW49ZnVuY3Rpb24odCxlLG4pe2Z1bmN0aW9uIGkoKXtuJiYobih5ZyhcIlVTRVJfQ0FOQ0VMTEVEXCIpKSxuPW51bGwpfXZhciByLG89dGhpcyxhPVJjKGZnKTtlLnJlcXVlc3RJZD10aGlzLm9jLGUucmVkaXJlY3RUbz1hLnNjaGVtZStcIjovL1wiK2EuaG9zdCtcIi9ibGFuay9wYWdlLmh0bWxcIix0Kz0vXFw/Ly50ZXN0KHQpP1wiXCI6XCI/XCIsdCs9amIoZSksKHI9d2luZG93Lm9wZW4odCxcIl9ibGFua1wiLFwibG9jYXRpb249bm9cIikpJiZoYShyLmFkZEV2ZW50TGlzdGVuZXIpPyhyLmFkZEV2ZW50TGlzdGVuZXIoXCJsb2Fkc3RhcnRcIixmdW5jdGlvbih0KXt2YXIgZTtpZihlPXQmJnQudXJsKXQ6e3RyeXt2YXIgcz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYVwiKTtzLmhyZWY9dC51cmwsZT1zLmhvc3Q9PT1hLmhvc3QmJlwiL2JsYW5rL3BhZ2UuaHRtbFwiPT09cy5wYXRobmFtZTticmVhayB0fWNhdGNoKHUpe31lPSExfWUmJih0PXJnKHQudXJsKSxyLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJleGl0XCIsaSksci5jbG9zZSgpLHQ9bmV3IGdnKG51bGwsbnVsbCx7cmVxdWVzdElkOm8ub2MscmVxdWVzdEtleTp0fSksby5EZi5yZXF1ZXN0V2l0aENyZWRlbnRpYWwoXCIvYXV0aC9zZXNzaW9uXCIsdCxuKSxuPW51bGwpfSksci5hZGRFdmVudExpc3RlbmVyKFwiZXhpdFwiLGkpKTpuKHlnKFwiVFJBTlNQT1JUX1VOQVZBSUxBQkxFXCIpKX0sQmcuaXNBdmFpbGFibGU9ZnVuY3Rpb24oKXtyZXR1cm4ga2coKX0sQmcucHJvdG90eXBlLkJjPWZ1bmN0aW9uKCl7cmV0dXJuXCJyZWRpcmVjdFwifSxDZy5wcm90b3R5cGUub3Blbj1mdW5jdGlvbih0LGUsbil7ZnVuY3Rpb24gaSgpe24mJihuKHlnKFwiUkVRVUVTVF9JTlRFUlJVUFRFRFwiKSksbj1udWxsKX1mdW5jdGlvbiByKCl7c2V0VGltZW91dChmdW5jdGlvbigpe3dpbmRvdy5fX2ZpcmViYXNlX2F1dGhfanNvbnBbb109dm9pZCAwLHdhKHdpbmRvdy5fX2ZpcmViYXNlX2F1dGhfanNvbnApJiYod2luZG93Ll9fZmlyZWJhc2VfYXV0aF9qc29ucD12b2lkIDApO3RyeXt2YXIgdD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChvKTt0JiZ0LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodCl9Y2F0Y2goZSl7fX0sMSkscGcod2luZG93LFwiYmVmb3JldW5sb2FkXCIsaSl9dmFyIG89XCJmblwiKyhuZXcgRGF0ZSkuZ2V0VGltZSgpK01hdGguZmxvb3IoOTk5OTkqTWF0aC5yYW5kb20oKSk7ZVt0aGlzLm9wdGlvbnMuY2FsbGJhY2tfcGFyYW1ldGVyXT1cIl9fZmlyZWJhc2VfYXV0aF9qc29ucC5cIitvLHQrPSgvXFw/Ly50ZXN0KHQpP1wiXCI6XCI/XCIpK2piKGUpLG9nKHdpbmRvdyxcImJlZm9yZXVubG9hZFwiLGkpLHdpbmRvdy5fX2ZpcmViYXNlX2F1dGhfanNvbnBbb109ZnVuY3Rpb24odCl7biYmKG4obnVsbCx0KSxuPW51bGwpLHIoKX0sRGcobyx0LG4pfSxDZy5pc0F2YWlsYWJsZT1mdW5jdGlvbigpe3JldHVybiEwfSxDZy5wcm90b3R5cGUuQmM9ZnVuY3Rpb24oKXtyZXR1cm5cImpzb25cIn0sbWEoRWcsSWYpLGg9RWcucHJvdG90eXBlLGgud2U9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5uYnx8bnVsbH0saC5yZT1mdW5jdGlvbih0LGUpe05nKHRoaXMpO3ZhciBuPWlnKHQpO24uYWIuX21ldGhvZD1cIlBPU1RcIix0aGlzLnBjKFwiL3VzZXJzXCIsbixmdW5jdGlvbih0LG4pe3Q/UihlLHQpOlIoZSx0LG4pfSl9LGguU2U9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzO05nKHRoaXMpO3ZhciBpPVwiL3VzZXJzL1wiK2VuY29kZVVSSUNvbXBvbmVudCh0LmVtYWlsKSxyPWlnKHQpO3IuYWIuX21ldGhvZD1cIkRFTEVURVwiLHRoaXMucGMoaSxyLGZ1bmN0aW9uKHQsaSl7IXQmJmkmJmkudWlkJiZuLm5iJiZuLm5iLnVpZCYmbi5uYi51aWQ9PT1pLnVpZCYmTGcobiksUihlLHQpfSl9LGgub2U9ZnVuY3Rpb24odCxlKXtOZyh0aGlzKTt2YXIgbj1cIi91c2Vycy9cIitlbmNvZGVVUklDb21wb25lbnQodC5lbWFpbCkrXCIvcGFzc3dvcmRcIixpPWlnKHQpO2kuYWIuX21ldGhvZD1cIlBVVFwiLGkuYWIucGFzc3dvcmQ9dC5uZXdQYXNzd29yZCx0aGlzLnBjKG4saSxmdW5jdGlvbih0KXtSKGUsdCl9KX0saC5uZT1mdW5jdGlvbih0LGUpe05nKHRoaXMpO3ZhciBuPVwiL3VzZXJzL1wiK2VuY29kZVVSSUNvbXBvbmVudCh0Lm9sZEVtYWlsKStcIi9lbWFpbFwiLGk9aWcodCk7aS5hYi5fbWV0aG9kPVwiUFVUXCIsaS5hYi5lbWFpbD10Lm5ld0VtYWlsLGkuYWIucGFzc3dvcmQ9dC5wYXNzd29yZCx0aGlzLnBjKG4saSxmdW5jdGlvbih0KXtSKGUsdCl9KX0saC5VZT1mdW5jdGlvbih0LGUpe05nKHRoaXMpO3ZhciBuPVwiL3VzZXJzL1wiK2VuY29kZVVSSUNvbXBvbmVudCh0LmVtYWlsKStcIi9wYXNzd29yZFwiLGk9aWcodCk7aS5hYi5fbWV0aG9kPVwiUE9TVFwiLHRoaXMucGMobixpLGZ1bmN0aW9uKHQpe1IoZSx0KX0pfSxoLnBjPWZ1bmN0aW9uKHQsZSxuKXtRZyh0aGlzLFtBZyxDZ10sdCxlLG4pfSxoLnplPWZ1bmN0aW9uKHQpe3JldHVybiBKKFwiYXV0aF9zdGF0dXNcIj09PXQsJ2luaXRpYWwgZXZlbnQgbXVzdCBiZSBvZiB0eXBlIFwiYXV0aF9zdGF0dXNcIicpLHRoaXMuUmU/bnVsbDpbdGhpcy5uYl19O3ZhciBWZyxXZztVZy5wcm90b3R5cGUub3Blbj1mdW5jdGlvbih0LGUpe3RoaXMuZ2Y9MCx0aGlzLmthPWUsdGhpcy56Zj1uZXcgUmcodCksdGhpcy56Yj0hMTt2YXIgbj10aGlzO3RoaXMucmI9c2V0VGltZW91dChmdW5jdGlvbigpe24uZihcIlRpbWVkIG91dCB0cnlpbmcgdG8gY29ubmVjdC5cIiksbi5pYigpLG4ucmI9bnVsbH0sTWF0aC5mbG9vcigzZTQpKSxUYyhmdW5jdGlvbigpe2lmKCFuLnpiKXtuLlRhPW5ldyBYZyhmdW5jdGlvbih0LGUsaSl7aWYoWWcobixhcmd1bWVudHMpLG4uVGEpaWYobi5yYiYmKGNsZWFyVGltZW91dChuLnJiKSxuLnJiPW51bGwpLG4uR2M9ITAsXCJzdGFydFwiPT10KW4uaWQ9ZSxuLkZmPWk7ZWxzZXtpZihcImNsb3NlXCIhPT10KXRocm93IEVycm9yKFwiVW5yZWNvZ25pemVkIGNvbW1hbmQgcmVjZWl2ZWQ6IFwiK3QpO2U/KG4uVGEuVGQ9ITEsU2cobi56ZixlLGZ1bmN0aW9uKCl7bi5pYigpfSkpOm4uaWIoKX19LGZ1bmN0aW9uKHQsZSl7WWcobixhcmd1bWVudHMpLFRnKG4uemYsdCxlKX0sZnVuY3Rpb24oKXtuLmliKCl9LG4uZ2QpO3ZhciB0PXtzdGFydDpcInRcIn07dC5zZXI9TWF0aC5mbG9vcigxZTgqTWF0aC5yYW5kb20oKSksbi5UYS5mZSYmKHQuY2I9bi5UYS5mZSksdC52PVwiNVwiLG4uVmQmJih0LnM9bi5WZCksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGxvY2F0aW9uJiZsb2NhdGlvbi5ocmVmJiYtMSE9PWxvY2F0aW9uLmhyZWYuaW5kZXhPZihcImZpcmViYXNlaW8uY29tXCIpJiYodC5yPVwiZlwiKSx0PW4uZ2QodCksbi5mKFwiQ29ubmVjdGluZyB2aWEgbG9uZy1wb2xsIHRvIFwiK3QpLFpnKG4uVGEsdCxmdW5jdGlvbigpe30pfX0pfSxVZy5wcm90b3R5cGUuc3RhcnQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLlRhLGU9dGhpcy5GZjtmb3IodC5yZz10aGlzLmlkLHQuc2c9ZSx0LmtlPSEwOyRnKHQpOyk7dD10aGlzLmlkLGU9dGhpcy5GZix0aGlzLmZjPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpZnJhbWVcIik7dmFyIG49e2RmcmFtZTpcInRcIn07bi5pZD10LG4ucHc9ZSx0aGlzLmZjLnNyYz10aGlzLmdkKG4pLHRoaXMuZmMuc3R5bGUuZGlzcGxheT1cIm5vbmVcIixkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMuZmMpfSxVZy5pc0F2YWlsYWJsZT1mdW5jdGlvbigpe3JldHVybiEoV2d8fFwib2JqZWN0XCI9PXR5cGVvZiB3aW5kb3cmJndpbmRvdy5jaHJvbWUmJndpbmRvdy5jaHJvbWUuZXh0ZW5zaW9uJiYhL15jaHJvbWUvLnRlc3Qod2luZG93LmxvY2F0aW9uLmhyZWYpfHxcIm9iamVjdFwiPT10eXBlb2YgV2luZG93cyYmXCJvYmplY3RcIj09dHlwZW9mIFdpbmRvd3MuVWcpfSxoPVVnLnByb3RvdHlwZSxoLkJkPWZ1bmN0aW9uKCl7fSxoLmNkPWZ1bmN0aW9uKCl7dGhpcy56Yj0hMCx0aGlzLlRhJiYodGhpcy5UYS5jbG9zZSgpLHRoaXMuVGE9bnVsbCksdGhpcy5mYyYmKGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQodGhpcy5mYyksdGhpcy5mYz1udWxsKSx0aGlzLnJiJiYoY2xlYXJUaW1lb3V0KHRoaXMucmIpLHRoaXMucmI9bnVsbCl9LGguaWI9ZnVuY3Rpb24oKXt0aGlzLnpifHwodGhpcy5mKFwiTG9uZ3BvbGwgaXMgY2xvc2luZyBpdHNlbGZcIiksdGhpcy5jZCgpLHRoaXMua2EmJih0aGlzLmthKHRoaXMuR2MpLHRoaXMua2E9bnVsbCkpfSxoLmNsb3NlPWZ1bmN0aW9uKCl7dGhpcy56Ynx8KHRoaXMuZihcIkxvbmdwb2xsIGlzIGJlaW5nIGNsb3NlZC5cIiksdGhpcy5jZCgpKX0saC5zZW5kPWZ1bmN0aW9uKHQpe3Q9Qih0KSx0aGlzLnBiKz10Lmxlbmd0aCxMYih0aGlzLlZhLFwiYnl0ZXNfc2VudFwiLHQubGVuZ3RoKSx0PUtjKHQpLHQ9ZmIodCwhMCksdD1YYyh0LDE4NDApO2Zvcih2YXIgZT0wO2U8dC5sZW5ndGg7ZSsrKXt2YXIgbj10aGlzLlRhO24uJGMucHVzaCh7Smc6dGhpcy5nZixSZzp0Lmxlbmd0aCxqZjp0W2VdfSksbi5rZSYmJGcobiksdGhpcy5nZisrfX0sWGcucHJvdG90eXBlLmNsb3NlPWZ1bmN0aW9uKCl7aWYodGhpcy5rZT0hMSx0aGlzLkNhKXt0aGlzLkNhLmdiLmJvZHkuaW5uZXJIVE1MPVwiXCI7dmFyIHQ9dGhpcztzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7bnVsbCE9PXQuQ2EmJihkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHQuQ2EpLHQuQ2E9bnVsbCl9LE1hdGguZmxvb3IoMCkpfXZhciBlPXRoaXMuamI7ZSYmKHRoaXMuamI9bnVsbCxlKCkpfTt2YXIgYmg9bnVsbDtcInVuZGVmaW5lZFwiIT10eXBlb2YgTW96V2ViU29ja2V0P2JoPU1veldlYlNvY2tldDpcInVuZGVmaW5lZFwiIT10eXBlb2YgV2ViU29ja2V0JiYoYmg9V2ViU29ja2V0KTt2YXIgZGg7Y2gucHJvdG90eXBlLm9wZW49ZnVuY3Rpb24odCxlKXt0aGlzLmpiPWUsdGhpcy53Zz10LHRoaXMuZihcIldlYnNvY2tldCBjb25uZWN0aW5nIHRvIFwiK3RoaXMuZmIpLHRoaXMuR2M9ITEsRGMuc2V0KFwicHJldmlvdXNfd2Vic29ja2V0X2ZhaWx1cmVcIiwhMCk7dHJ5e3RoaXMudmE9bmV3IGJoKHRoaXMuZmIpfWNhdGNoKG4pe3RoaXMuZihcIkVycm9yIGluc3RhbnRpYXRpbmcgV2ViU29ja2V0LlwiKTt2YXIgaT1uLm1lc3NhZ2V8fG4uZGF0YTtyZXR1cm4gaSYmdGhpcy5mKGkpLHZvaWQgdGhpcy5pYigpfXZhciByPXRoaXM7dGhpcy52YS5vbm9wZW49ZnVuY3Rpb24oKXtyLmYoXCJXZWJzb2NrZXQgY29ubmVjdGVkLlwiKSxyLkdjPSEwfSx0aGlzLnZhLm9uY2xvc2U9ZnVuY3Rpb24oKXtyLmYoXCJXZWJzb2NrZXQgY29ubmVjdGlvbiB3YXMgZGlzY29ubmVjdGVkLlwiKSxyLnZhPW51bGwsci5pYigpfSx0aGlzLnZhLm9ubWVzc2FnZT1mdW5jdGlvbih0KXtpZihudWxsIT09ci52YSlpZih0PXQuZGF0YSxyLm9iKz10Lmxlbmd0aCxMYihyLlZhLFwiYnl0ZXNfcmVjZWl2ZWRcIix0Lmxlbmd0aCksZWgociksbnVsbCE9PXIuZnJhbWVzKWZoKHIsdCk7ZWxzZXt0OntpZihKKG51bGw9PT1yLmZyYW1lcyxcIldlIGFscmVhZHkgaGF2ZSBhIGZyYW1lIGJ1ZmZlclwiKSw2Pj10Lmxlbmd0aCl7dmFyIGU9TnVtYmVyKHQpO2lmKCFpc05hTihlKSl7ci5iZj1lLHIuZnJhbWVzPVtdLHQ9bnVsbDticmVhayB0fX1yLmJmPTEsci5mcmFtZXM9W119bnVsbCE9PXQmJmZoKHIsdCl9fSx0aGlzLnZhLm9uZXJyb3I9ZnVuY3Rpb24odCl7ci5mKFwiV2ViU29ja2V0IGVycm9yLiAgQ2xvc2luZyBjb25uZWN0aW9uLlwiKSwodD10Lm1lc3NhZ2V8fHQuZGF0YSkmJnIuZih0KSxyLmliKCl9fSxjaC5wcm90b3R5cGUuc3RhcnQ9ZnVuY3Rpb24oKXt9LGNoLmlzQXZhaWxhYmxlPWZ1bmN0aW9uKCl7dmFyIHQ9ITE7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIG5hdmlnYXRvciYmbmF2aWdhdG9yLnVzZXJBZ2VudCl7dmFyIGU9bmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvQW5kcm9pZCAoWzAtOV17MCx9XFwuWzAtOV17MCx9KS8pO2UmJjE8ZS5sZW5ndGgmJjQuND5wYXJzZUZsb2F0KGVbMV0pJiYodD0hMCl9cmV0dXJuIXQmJm51bGwhPT1iaCYmIWRofSxjaC5yZXNwb25zZXNSZXF1aXJlZFRvQmVIZWFsdGh5PTIsY2guaGVhbHRoeVRpbWVvdXQ9M2U0LGg9Y2gucHJvdG90eXBlLGguQmQ9ZnVuY3Rpb24oKXtEYy5yZW1vdmUoXCJwcmV2aW91c193ZWJzb2NrZXRfZmFpbHVyZVwiKX0saC5zZW5kPWZ1bmN0aW9uKHQpe2VoKHRoaXMpLHQ9Qih0KSx0aGlzLnBiKz10Lmxlbmd0aCxMYih0aGlzLlZhLFwiYnl0ZXNfc2VudFwiLHQubGVuZ3RoKSx0PVhjKHQsMTYzODQpLDE8dC5sZW5ndGgmJnRoaXMudmEuc2VuZChTdHJpbmcodC5sZW5ndGgpKTtmb3IodmFyIGU9MDtlPHQubGVuZ3RoO2UrKyl0aGlzLnZhLnNlbmQodFtlXSl9LGguY2Q9ZnVuY3Rpb24oKXt0aGlzLnpiPSEwLHRoaXMuSmMmJihjbGVhckludGVydmFsKHRoaXMuSmMpLHRoaXMuSmM9bnVsbCksdGhpcy52YSYmKHRoaXMudmEuY2xvc2UoKSx0aGlzLnZhPW51bGwpfSxoLmliPWZ1bmN0aW9uKCl7dGhpcy56Ynx8KHRoaXMuZihcIldlYlNvY2tldCBpcyBjbG9zaW5nIGl0c2VsZlwiKSx0aGlzLmNkKCksdGhpcy5qYiYmKHRoaXMuamIodGhpcy5HYyksdGhpcy5qYj1udWxsKSl9LGguY2xvc2U9ZnVuY3Rpb24oKXt0aGlzLnpifHwodGhpcy5mKFwiV2ViU29ja2V0IGlzIGJlaW5nIGNsb3NlZFwiKSx0aGlzLmNkKCkpfTt2YXIgaWg9W1VnLGNoXTtraC5wcm90b3R5cGUuRGE9ZnVuY3Rpb24odCl7dmgodGhpcyx7dDpcImRcIixkOnR9KX0sa2gucHJvdG90eXBlLkZkPWZ1bmN0aW9uKHQpe3NoKHRoaXMpLHRoaXMuaGModCl9LGtoLnByb3RvdHlwZS5jbG9zZT1mdW5jdGlvbigpezIhPT10aGlzLlVhJiYodGhpcy5mKFwiQ2xvc2luZyByZWFsdGltZSBjb25uZWN0aW9uLlwiKSx0aGlzLlVhPTIscmgodGhpcyksdGhpcy5rYSYmKHRoaXMua2EoKSx0aGlzLmthPW51bGwpKX07dmFyIHhoPTAsemg9MDtoPXdoLnByb3RvdHlwZSxoLkRhPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT0rK3RoaXMuSWc7dD17cjppLGE6dCxiOmV9LHRoaXMuZihCKHQpKSxKKHRoaXMubWEsXCJzZW5kUmVxdWVzdCBjYWxsIHdoZW4gd2UncmUgbm90IGNvbm5lY3RlZCBub3QgYWxsb3dlZC5cIiksdGhpcy5TYS5EYSh0KSxuJiYodGhpcy5RZFtpXT1uKX0saC54Zj1mdW5jdGlvbih0LGUsbixpKXt2YXIgcj10LndhKCksbz10LnBhdGgudG9TdHJpbmcoKTt0aGlzLmYoXCJMaXN0ZW4gY2FsbGVkIGZvciBcIitvK1wiIFwiK3IpLHRoaXMuYWFbb109dGhpcy5hYVtvXXx8e30sSighdGhpcy5hYVtvXVtyXSxcImxpc3RlbigpIGNhbGxlZCB0d2ljZSBmb3Igc2FtZSBwYXRoL3F1ZXJ5SWQuXCIpLHQ9e0o6aSx1ZDplLEZnOnQsdGFnOm59LHRoaXMuYWFbb11bcl09dCx0aGlzLm1hJiZBaCh0aGlzLHQpfSxoLlA9ZnVuY3Rpb24odCxlLG4pe3RoaXMuRmE9e2ZnOnQsbmY6ITEseWM6ZSxqZDpufSx0aGlzLmYoXCJBdXRoZW50aWNhdGluZyB1c2luZyBjcmVkZW50aWFsOiBcIit0KSxDaCh0aGlzKSwoZT00MD09dC5sZW5ndGgpfHwodD1hZCh0KS5BYyxlPVwib2JqZWN0XCI9PXR5cGVvZiB0JiYhMD09PXcodCxcImFkbWluXCIpKSxlJiYodGhpcy5mKFwiQWRtaW4gYXV0aCBjcmVkZW50aWFsIGRldGVjdGVkLiAgUmVkdWNpbmcgbWF4IHJlY29ubmVjdCB0aW1lLlwiKSx0aGlzLkNkPTNlNCl9LGguZWU9ZnVuY3Rpb24odCl7ZGVsZXRlIHRoaXMuRmEsdGhpcy5tYSYmdGhpcy5EYShcInVuYXV0aFwiLHt9LGZ1bmN0aW9uKGUpe3QoZS5zLGUuZCl9KX0saC5PZj1mdW5jdGlvbih0LGUpe3ZhciBuPXQucGF0aC50b1N0cmluZygpLGk9dC53YSgpO2lmKHRoaXMuZihcIlVubGlzdGVuIGNhbGxlZCBmb3IgXCIrbitcIiBcIitpKSxCaCh0aGlzLG4saSkmJnRoaXMubWEpe3ZhciByPWNlKHQubik7dGhpcy5mKFwiVW5saXN0ZW4gb24gXCIrbitcIiBmb3IgXCIraSksbj17cDpufSxlJiYobi5xPXIsbi50PWUpLHRoaXMuRGEoXCJuXCIsbil9fSxoLkxlPWZ1bmN0aW9uKHQsZSxuKXt0aGlzLm1hP0RoKHRoaXMsXCJvXCIsdCxlLG4pOnRoaXMuVWMucHVzaCh7WmM6dCxhY3Rpb246XCJvXCIsZGF0YTplLEo6bn0pfSxoLkJmPWZ1bmN0aW9uKHQsZSxuKXt0aGlzLm1hP0RoKHRoaXMsXCJvbVwiLHQsZSxuKTp0aGlzLlVjLnB1c2goe1pjOnQsYWN0aW9uOlwib21cIixkYXRhOmUsSjpufSl9LGguR2Q9ZnVuY3Rpb24odCxlKXt0aGlzLm1hP0RoKHRoaXMsXCJvY1wiLHQsbnVsbCxlKTp0aGlzLlVjLnB1c2goe1pjOnQsYWN0aW9uOlwib2NcIixkYXRhOm51bGwsSjplfSl9LGgucHV0PWZ1bmN0aW9uKHQsZSxuLGkpe0VoKHRoaXMsXCJwXCIsdCxlLG4saSl9LGgueWY9ZnVuY3Rpb24odCxlLG4saSl7RWgodGhpcyxcIm1cIix0LGUsbixpKX0saC5UZT1mdW5jdGlvbih0KXt0aGlzLm1hJiYodD17Yzp0fSx0aGlzLmYoXCJyZXBvcnRTdGF0c1wiLHQpLHRoaXMuRGEoXCJzXCIsdCxmdW5jdGlvbih0KXtcIm9rXCIhPT10LnMmJnRoaXMuZihcInJlcG9ydFN0YXRzXCIsXCJFcnJvciBzZW5kaW5nIHN0YXRzOiBcIit0LmQpfSkpfSxoLkZkPWZ1bmN0aW9uKHQpe2lmKFwiclwiaW4gdCl7dGhpcy5mKFwiZnJvbSBzZXJ2ZXI6IFwiK0IodCkpO3ZhciBlPXQucixuPXRoaXMuUWRbZV07biYmKGRlbGV0ZSB0aGlzLlFkW2VdLG4odC5iKSl9ZWxzZXtpZihcImVycm9yXCJpbiB0KXRocm93XCJBIHNlcnZlci1zaWRlIGVycm9yIGhhcyBvY2N1cnJlZDogXCIrdC5lcnJvcjtcImFcImluIHQmJihlPXQuYSxuPXQuYix0aGlzLmYoXCJoYW5kbGVTZXJ2ZXJNZXNzYWdlXCIsZSxuKSxcImRcIj09PWU/dGhpcy5HYihuLnAsbi5kLCExLG4udCk6XCJtXCI9PT1lP3RoaXMuR2Iobi5wLG4uZCwhMCxuLnQpOlwiY1wiPT09ZT9HaCh0aGlzLG4ucCxuLnEpOlwiYWNcIj09PWU/KHQ9bi5zLGU9bi5kLG49dGhpcy5GYSxkZWxldGUgdGhpcy5GYSxuJiZuLmpkJiZuLmpkKHQsZSkpOlwic2RcIj09PWU/dGhpcy5XZT90aGlzLldlKG4pOlwibXNnXCJpbiBuJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgY29uc29sZSYmY29uc29sZS5sb2coXCJGSVJFQkFTRTogXCIrbi5tc2cucmVwbGFjZShcIlxcblwiLFwiXFxuRklSRUJBU0U6IFwiKSk6UGMoXCJVbnJlY29nbml6ZWQgYWN0aW9uIHJlY2VpdmVkIGZyb20gc2VydmVyOiBcIitCKGUpK1wiXFxuQXJlIHlvdSB1c2luZyB0aGUgbGF0ZXN0IGNsaWVudD9cIikpfX0saC5WYz1mdW5jdGlvbih0KXt0aGlzLmYoXCJjb25uZWN0aW9uIHJlYWR5XCIpLHRoaXMubWE9ITAsdGhpcy5LYz0obmV3IERhdGUpLmdldFRpbWUoKSx0aGlzLk5lKHtzZXJ2ZXJUaW1lT2Zmc2V0OnQtKG5ldyBEYXRlKS5nZXRUaW1lKCl9KSx0aGlzLm1mJiYodD17fSx0W1wic2RrLmpzLlwiK1wiMi4yLjRcIi5yZXBsYWNlKC9cXC4vZyxcIi1cIildPTEsa2coKSYmKHRbXCJmcmFtZXdvcmsuY29yZG92YVwiXT0xKSx0aGlzLlRlKHQpKSxIaCh0aGlzKSx0aGlzLm1mPSExLHRoaXMuVGMoITApfSxoLnpnPWZ1bmN0aW9uKHQpe3QmJiF0aGlzLnVjJiZ0aGlzLiRhPT09dGhpcy5DZCYmKHRoaXMuZihcIldpbmRvdyBiZWNhbWUgdmlzaWJsZS4gIFJlZHVjaW5nIGRlbGF5LlwiKSx0aGlzLiRhPTFlMyx0aGlzLlNhfHx5aCh0aGlzLDApKSx0aGlzLnVjPXR9LGgueGc9ZnVuY3Rpb24odCl7dD8odGhpcy5mKFwiQnJvd3NlciB3ZW50IG9ubGluZS5cIiksdGhpcy4kYT0xZTMsdGhpcy5TYXx8eWgodGhpcywwKSk6KHRoaXMuZihcIkJyb3dzZXIgd2VudCBvZmZsaW5lLiAgS2lsbGluZyBjb25uZWN0aW9uLlwiKSx0aGlzLlNhJiZ0aGlzLlNhLmNsb3NlKCkpfSxoLkNmPWZ1bmN0aW9uKCl7dGhpcy5mKFwiZGF0YSBjbGllbnQgZGlzY29ubmVjdGVkXCIpLHRoaXMubWE9ITEsdGhpcy5TYT1udWxsO2Zvcih2YXIgdD0wO3Q8dGhpcy5wYS5sZW5ndGg7dCsrKXt2YXIgZT10aGlzLnBhW3RdO2UmJlwiaFwiaW4gZS5JZiYmZS5HZyYmKGUuSiYmZS5KKFwiZGlzY29ubmVjdFwiKSxkZWxldGUgdGhpcy5wYVt0XSx0aGlzLlhjLS0pfTA9PT10aGlzLlhjJiYodGhpcy5wYT1bXSksdGhpcy5RZD17fSxKaCh0aGlzKSYmKHRoaXMudWM/dGhpcy5LYyYmKDNlNDwobmV3IERhdGUpLmdldFRpbWUoKS10aGlzLktjJiYodGhpcy4kYT0xZTMpLHRoaXMuS2M9bnVsbCk6KHRoaXMuZihcIldpbmRvdyBpc24ndCB2aXNpYmxlLiAgRGVsYXlpbmcgcmVjb25uZWN0LlwiKSx0aGlzLiRhPXRoaXMuQ2QsdGhpcy5GZT0obmV3IERhdGUpLmdldFRpbWUoKSksdD1NYXRoLm1heCgwLHRoaXMuJGEtKChuZXcgRGF0ZSkuZ2V0VGltZSgpLXRoaXMuRmUpKSx0Kj1NYXRoLnJhbmRvbSgpLHRoaXMuZihcIlRyeWluZyB0byByZWNvbm5lY3QgaW4gXCIrdCtcIm1zXCIpLHloKHRoaXMsdCksdGhpcy4kYT1NYXRoLm1pbih0aGlzLkNkLDEuMyp0aGlzLiRhKSksdGhpcy5UYyghMSl9LGgueWI9ZnVuY3Rpb24oKXt0aGlzLkRlPSEwLHRoaXMuU2E/dGhpcy5TYS5jbG9zZSgpOih0aGlzLlNiJiYoY2xlYXJUaW1lb3V0KHRoaXMuU2IpLHRoaXMuU2I9bnVsbCksdGhpcy5tYSYmdGhpcy5DZigpKX0saC5xYz1mdW5jdGlvbigpe3RoaXMuRGU9ITEsdGhpcy4kYT0xZTMsdGhpcy5TYXx8eWgodGhpcywwKX07dmFyIFY9e2xnOmZ1bmN0aW9uKCl7Vmc9ZGg9ITB9fTtWLmZvcmNlTG9uZ1BvbGxpbmc9Vi5sZyxWLm1nPWZ1bmN0aW9uKCl7V2c9ITB9LFYuZm9yY2VXZWJTb2NrZXRzPVYubWcsVi5NZz1mdW5jdGlvbih0LGUpe3Quay5SYS5XZT1lfSxWLnNldFNlY3VyaXR5RGVidWdDYWxsYmFjaz1WLk1nLFYuWWU9ZnVuY3Rpb24odCxlKXt0LmsuWWUoZSl9LFYuc3RhdHM9Vi5ZZSxWLlplPWZ1bmN0aW9uKHQsZSl7dC5rLlplKGUpfSxWLnN0YXRzSW5jcmVtZW50Q291bnRlcj1WLlplLFYucGQ9ZnVuY3Rpb24odCl7cmV0dXJuIHQuay5wZH0sVi5kYXRhVXBkYXRlQ291bnQ9Vi5wZCxWLnBnPWZ1bmN0aW9uKHQsZSl7dC5rLkNlPWV9LFYuaW50ZXJjZXB0U2VydmVyRGF0YT1WLnBnLFYudmc9ZnVuY3Rpb24odCl7bmV3IHVnKHQpfSxWLm9uUG9wdXBPcGVuPVYudmcsVi5LZz1mdW5jdGlvbih0KXtmZz10fSxWLnNldEF1dGhlbnRpY2F0aW9uU2VydmVyPVYuS2csUy5wcm90b3R5cGUuSz1mdW5jdGlvbigpe3JldHVybiB4KFwiRmlyZWJhc2UuRGF0YVNuYXBzaG90LnZhbFwiLDAsMCxhcmd1bWVudHMubGVuZ3RoKSx0aGlzLkIuSygpfSxTLnByb3RvdHlwZS52YWw9Uy5wcm90b3R5cGUuSyxTLnByb3RvdHlwZS5sZj1mdW5jdGlvbigpe3JldHVybiB4KFwiRmlyZWJhc2UuRGF0YVNuYXBzaG90LmV4cG9ydFZhbFwiLDAsMCxhcmd1bWVudHMubGVuZ3RoKSx0aGlzLkIuSyghMCl9LFMucHJvdG90eXBlLmV4cG9ydFZhbD1TLnByb3RvdHlwZS5sZixTLnByb3RvdHlwZS5rZz1mdW5jdGlvbigpe3JldHVybiB4KFwiRmlyZWJhc2UuRGF0YVNuYXBzaG90LmV4aXN0c1wiLDAsMCxhcmd1bWVudHMubGVuZ3RoKSwhdGhpcy5CLmUoKX0sUy5wcm90b3R5cGUuZXhpc3RzPVMucHJvdG90eXBlLmtnLFMucHJvdG90eXBlLnc9ZnVuY3Rpb24odCl7eChcIkZpcmViYXNlLkRhdGFTbmFwc2hvdC5jaGlsZFwiLDAsMSxhcmd1bWVudHMubGVuZ3RoKSxnYSh0KSYmKHQ9U3RyaW5nKHQpKSxYZihcIkZpcmViYXNlLkRhdGFTbmFwc2hvdC5jaGlsZFwiLHQpO3ZhciBlPW5ldyBLKHQpLG49dGhpcy5WLncoZSk7cmV0dXJuIG5ldyBTKHRoaXMuQi5vYShlKSxuLE0pfSxTLnByb3RvdHlwZS5jaGlsZD1TLnByb3RvdHlwZS53LFMucHJvdG90eXBlLkhhPWZ1bmN0aW9uKHQpe3goXCJGaXJlYmFzZS5EYXRhU25hcHNob3QuaGFzQ2hpbGRcIiwxLDEsYXJndW1lbnRzLmxlbmd0aCksWGYoXCJGaXJlYmFzZS5EYXRhU25hcHNob3QuaGFzQ2hpbGRcIix0KTt2YXIgZT1uZXcgSyh0KTtyZXR1cm4hdGhpcy5CLm9hKGUpLmUoKX0sUy5wcm90b3R5cGUuaGFzQ2hpbGQ9Uy5wcm90b3R5cGUuSGEsUy5wcm90b3R5cGUuQT1mdW5jdGlvbigpe3JldHVybiB4KFwiRmlyZWJhc2UuRGF0YVNuYXBzaG90LmdldFByaW9yaXR5XCIsMCwwLGFyZ3VtZW50cy5sZW5ndGgpLHRoaXMuQi5BKCkuSygpfSxTLnByb3RvdHlwZS5nZXRQcmlvcml0eT1TLnByb3RvdHlwZS5BLFMucHJvdG90eXBlLmZvckVhY2g9ZnVuY3Rpb24odCl7aWYoeChcIkZpcmViYXNlLkRhdGFTbmFwc2hvdC5mb3JFYWNoXCIsMSwxLGFyZ3VtZW50cy5sZW5ndGgpLEEoXCJGaXJlYmFzZS5EYXRhU25hcHNob3QuZm9yRWFjaFwiLDEsdCwhMSksdGhpcy5CLk4oKSlyZXR1cm4hMTt2YXIgZT10aGlzO3JldHVybiEhdGhpcy5CLlUodGhpcy5nLGZ1bmN0aW9uKG4saSl7cmV0dXJuIHQobmV3IFMoaSxlLlYudyhuKSxNKSl9KX0sUy5wcm90b3R5cGUuZm9yRWFjaD1TLnByb3RvdHlwZS5mb3JFYWNoLFMucHJvdG90eXBlLnRkPWZ1bmN0aW9uKCl7cmV0dXJuIHgoXCJGaXJlYmFzZS5EYXRhU25hcHNob3QuaGFzQ2hpbGRyZW5cIiwwLDAsYXJndW1lbnRzLmxlbmd0aCksdGhpcy5CLk4oKT8hMTohdGhpcy5CLmUoKX0sUy5wcm90b3R5cGUuaGFzQ2hpbGRyZW49Uy5wcm90b3R5cGUudGQsUy5wcm90b3R5cGUubmFtZT1mdW5jdGlvbigpe3JldHVybiBRKFwiRmlyZWJhc2UuRGF0YVNuYXBzaG90Lm5hbWUoKSBiZWluZyBkZXByZWNhdGVkLiBQbGVhc2UgdXNlIEZpcmViYXNlLkRhdGFTbmFwc2hvdC5rZXkoKSBpbnN0ZWFkLlwiKSx4KFwiRmlyZWJhc2UuRGF0YVNuYXBzaG90Lm5hbWVcIiwwLDAsYXJndW1lbnRzLmxlbmd0aCksdGhpcy5rZXkoKX0sUy5wcm90b3R5cGUubmFtZT1TLnByb3RvdHlwZS5uYW1lLFMucHJvdG90eXBlLmtleT1mdW5jdGlvbigpe3JldHVybiB4KFwiRmlyZWJhc2UuRGF0YVNuYXBzaG90LmtleVwiLDAsMCxhcmd1bWVudHMubGVuZ3RoKSx0aGlzLlYua2V5KCl9LFMucHJvdG90eXBlLmtleT1TLnByb3RvdHlwZS5rZXksUy5wcm90b3R5cGUuRGI9ZnVuY3Rpb24oKXtyZXR1cm4geChcIkZpcmViYXNlLkRhdGFTbmFwc2hvdC5udW1DaGlsZHJlblwiLDAsMCxhcmd1bWVudHMubGVuZ3RoKSx0aGlzLkIuRGIoKX0sUy5wcm90b3R5cGUubnVtQ2hpbGRyZW49Uy5wcm90b3R5cGUuRGIsUy5wcm90b3R5cGUubGM9ZnVuY3Rpb24oKXtyZXR1cm4geChcIkZpcmViYXNlLkRhdGFTbmFwc2hvdC5yZWZcIiwwLDAsYXJndW1lbnRzLmxlbmd0aCksdGhpcy5WfSxTLnByb3RvdHlwZS5yZWY9Uy5wcm90b3R5cGUubGMsaD1LaC5wcm90b3R5cGUsaC50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybih0aGlzLkgubGI/XCJodHRwczovL1wiOlwiaHR0cDovL1wiKSt0aGlzLkguaG9zdH0saC5uYW1lPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuSC5DYn0saC5HYj1mdW5jdGlvbih0LGUsbixpKXt0aGlzLnBkKys7dmFyIHI9bmV3IEsodCk7ZT10aGlzLkNlP3RoaXMuQ2UodCxlKTplLHQ9W10saT9uPyhlPW5hKGUsZnVuY3Rpb24odCl7cmV0dXJuIEwodCl9KSx0PXJmKHRoaXMuTyxyLGUsaSkpOihlPUwoZSksdD1uZih0aGlzLk8scixlLGkpKTpuPyhpPW5hKGUsZnVuY3Rpb24odCl7cmV0dXJuIEwodCl9KSx0PW1mKHRoaXMuTyxyLGkpKTooaT1MKGUpLHQ9amYodGhpcy5PLG5ldyBVYih6ZSxyLGkpKSksaT1yLDA8dC5sZW5ndGgmJihpPU9oKHRoaXMscikpLHpiKHRoaXMuZWEsaSx0KX0saC5UYz1mdW5jdGlvbih0KXtMaCh0aGlzLFwiY29ubmVjdGVkXCIsdCksITE9PT10JiZQaCh0aGlzKX0saC5OZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzO1ljKHQsZnVuY3Rpb24odCxuKXtMaChlLG4sdCl9KX0saC5LZT1mdW5jdGlvbih0KXtMaCh0aGlzLFwiYXV0aGVudGljYXRlZFwiLHQpfSxoLktiPWZ1bmN0aW9uKHQsZSxuLGkpe3RoaXMuZihcInNldFwiLHtwYXRoOnQudG9TdHJpbmcoKSx2YWx1ZTplLFhnOm59KTt2YXIgcj1OaCh0aGlzKTtlPUwoZSxuKTt2YXIgcj1zYyhlLHIpLG89dGhpcy5FZCsrLHI9aGYodGhpcy5PLHQscixvLCEwKTt2Yih0aGlzLmVhLHIpO3ZhciBhPXRoaXM7dGhpcy5jYS5wdXQodC50b1N0cmluZygpLGUuSyghMCksZnVuY3Rpb24oZSxuKXt2YXIgcj1cIm9rXCI9PT1lO3J8fFEoXCJzZXQgYXQgXCIrdCtcIiBmYWlsZWQ6IFwiK2UpLHI9bGYoYS5PLG8sIXIpLHpiKGEuZWEsdCxyKSxRaChpLGUsbil9KSxyPVJoKHRoaXMsdCksT2godGhpcyxyKSx6Yih0aGlzLmVhLHIsW10pfSxoLnVwZGF0ZT1mdW5jdGlvbih0LGUsbil7dGhpcy5mKFwidXBkYXRlXCIse3BhdGg6dC50b1N0cmluZygpLHZhbHVlOmV9KTt2YXIgaT0hMCxvPU5oKHRoaXMpLGE9e307aWYocihlLGZ1bmN0aW9uKHQsZSl7aT0hMTt2YXIgbj1MKHQpO2FbZV09c2MobixvKX0pLGkpQmIoXCJ1cGRhdGUoKSBjYWxsZWQgd2l0aCBlbXB0eSBkYXRhLiAgRG9uJ3QgZG8gYW55dGhpbmcuXCIpLFFoKG4sXCJva1wiKTtlbHNle3ZhciBzPXRoaXMuRWQrKyx1PWtmKHRoaXMuTyx0LGEscyk7dmIodGhpcy5lYSx1KTt2YXIgaD10aGlzO3RoaXMuY2EueWYodC50b1N0cmluZygpLGUsZnVuY3Rpb24oZSxpKXt2YXIgcj1cIm9rXCI9PT1lO3J8fFEoXCJ1cGRhdGUgYXQgXCIrdCtcIiBmYWlsZWQ6IFwiK2UpO3ZhciByPWxmKGguTyxzLCFyKSxvPXQ7MDxyLmxlbmd0aCYmKG89T2goaCx0KSksemIoaC5lYSxvLHIpLFFoKG4sZSxpKX0pLGU9UmgodGhpcyx0KSxPaCh0aGlzLGUpLHpiKHRoaXMuZWEsdCxbXSl9fSxoLkdkPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpczt0aGlzLmNhLkdkKHQudG9TdHJpbmcoKSxmdW5jdGlvbihpLHIpe1wib2tcIj09PWkmJmVnKG4ua2EsdCksUWgoZSxpLHIpfSl9LGgueWI9ZnVuY3Rpb24oKXt0aGlzLlJhJiZ0aGlzLlJhLnliKCl9LGgucWM9ZnVuY3Rpb24oKXt0aGlzLlJhJiZ0aGlzLlJhLnFjKCl9LGguWWU9ZnVuY3Rpb24odCl7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGNvbnNvbGUpe3Q/KHRoaXMuWWR8fCh0aGlzLllkPW5ldyBJYih0aGlzLlZhKSksdD10aGlzLllkLmdldCgpKTp0PXRoaXMuVmEuZ2V0KCk7dmFyIGUsbj1SYShzYSh0KSxmdW5jdGlvbih0LGUpe3JldHVybiBNYXRoLm1heChlLmxlbmd0aCx0KX0sMCk7Zm9yKGUgaW4gdCl7Zm9yKHZhciBpPXRbZV0scj1lLmxlbmd0aDtuKzI+cjtyKyspZSs9XCIgXCI7Y29uc29sZS5sb2coZStpKX19fSxoLlplPWZ1bmN0aW9uKHQpe0xiKHRoaXMuVmEsdCksdGhpcy5QZy5NZlt0XT0hMH0saC5mPWZ1bmN0aW9uKCl7dmFyIHQ9XCJcIjt0aGlzLlJhJiYodD10aGlzLlJhLmlkK1wiOlwiKSxCYih0LGFyZ3VtZW50cyl9LGNhKFcpLFcucHJvdG90eXBlLnliPWZ1bmN0aW9uKCl7Zm9yKHZhciB0IGluIHRoaXMubmMpdGhpcy5uY1t0XS55YigpfSxXLnByb3RvdHlwZS5pbnRlcnJ1cHQ9Vy5wcm90b3R5cGUueWIsVy5wcm90b3R5cGUucWM9ZnVuY3Rpb24oKXtmb3IodmFyIHQgaW4gdGhpcy5uYyl0aGlzLm5jW3RdLnFjKCl9LFcucHJvdG90eXBlLnJlc3VtZT1XLnByb3RvdHlwZS5xYyxXLnByb3RvdHlwZS51ZT1mdW5jdGlvbigpe3RoaXMuUGY9ITB9LFgucHJvdG90eXBlLmNhbmNlbD1mdW5jdGlvbih0KXt4KFwiRmlyZWJhc2Uub25EaXNjb25uZWN0KCkuY2FuY2VsXCIsMCwxLGFyZ3VtZW50cy5sZW5ndGgpLEEoXCJGaXJlYmFzZS5vbkRpc2Nvbm5lY3QoKS5jYW5jZWxcIiwxLHQsITApLHRoaXMuYWQuR2QodGhpcy5xYSx0fHxudWxsKX0sWC5wcm90b3R5cGUuY2FuY2VsPVgucHJvdG90eXBlLmNhbmNlbCxYLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24odCl7eChcIkZpcmViYXNlLm9uRGlzY29ubmVjdCgpLnJlbW92ZVwiLDAsMSxhcmd1bWVudHMubGVuZ3RoKSxZZihcIkZpcmViYXNlLm9uRGlzY29ubmVjdCgpLnJlbW92ZVwiLHRoaXMucWEpLEEoXCJGaXJlYmFzZS5vbkRpc2Nvbm5lY3QoKS5yZW1vdmVcIiwxLHQsITApLFNoKHRoaXMuYWQsdGhpcy5xYSxudWxsLHQpfSxYLnByb3RvdHlwZS5yZW1vdmU9WC5wcm90b3R5cGUucmVtb3ZlLFgucHJvdG90eXBlLnNldD1mdW5jdGlvbih0LGUpe3goXCJGaXJlYmFzZS5vbkRpc2Nvbm5lY3QoKS5zZXRcIiwxLDIsYXJndW1lbnRzLmxlbmd0aCksWWYoXCJGaXJlYmFzZS5vbkRpc2Nvbm5lY3QoKS5zZXRcIix0aGlzLnFhKSxSZihcIkZpcmViYXNlLm9uRGlzY29ubmVjdCgpLnNldFwiLHQsdGhpcy5xYSwhMSksQShcIkZpcmViYXNlLm9uRGlzY29ubmVjdCgpLnNldFwiLDIsZSwhMCksU2godGhpcy5hZCx0aGlzLnFhLHQsZSl9LFgucHJvdG90eXBlLnNldD1YLnByb3RvdHlwZS5zZXQsWC5wcm90b3R5cGUuS2I9ZnVuY3Rpb24odCxlLG4pe3goXCJGaXJlYmFzZS5vbkRpc2Nvbm5lY3QoKS5zZXRXaXRoUHJpb3JpdHlcIiwyLDMsYXJndW1lbnRzLmxlbmd0aCksWWYoXCJGaXJlYmFzZS5vbkRpc2Nvbm5lY3QoKS5zZXRXaXRoUHJpb3JpdHlcIix0aGlzLnFhKSxSZihcIkZpcmViYXNlLm9uRGlzY29ubmVjdCgpLnNldFdpdGhQcmlvcml0eVwiLHQsdGhpcy5xYSwhMSksVWYoXCJGaXJlYmFzZS5vbkRpc2Nvbm5lY3QoKS5zZXRXaXRoUHJpb3JpdHlcIiwyLGUpLEEoXCJGaXJlYmFzZS5vbkRpc2Nvbm5lY3QoKS5zZXRXaXRoUHJpb3JpdHlcIiwzLG4sITApLFRoKHRoaXMuYWQsdGhpcy5xYSx0LGUsbil9LFgucHJvdG90eXBlLnNldFdpdGhQcmlvcml0eT1YLnByb3RvdHlwZS5LYixYLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24odCxlKXtpZih4KFwiRmlyZWJhc2Uub25EaXNjb25uZWN0KCkudXBkYXRlXCIsMSwyLGFyZ3VtZW50cy5sZW5ndGgpLFlmKFwiRmlyZWJhc2Uub25EaXNjb25uZWN0KCkudXBkYXRlXCIsdGhpcy5xYSksZWEodCkpe2Zvcih2YXIgbj17fSxpPTA7aTx0Lmxlbmd0aDsrK2kpbltcIlwiK2ldPXRbaV07dD1uLFEoXCJQYXNzaW5nIGFuIEFycmF5IHRvIEZpcmViYXNlLm9uRGlzY29ubmVjdCgpLnVwZGF0ZSgpIGlzIGRlcHJlY2F0ZWQuIFVzZSBzZXQoKSBpZiB5b3Ugd2FudCB0byBvdmVyd3JpdGUgdGhlIGV4aXN0aW5nIGRhdGEsIG9yIGFuIE9iamVjdCB3aXRoIGludGVnZXIga2V5cyBpZiB5b3UgcmVhbGx5IGRvIHdhbnQgdG8gb25seSB1cGRhdGUgc29tZSBvZiB0aGUgY2hpbGRyZW4uXCIpfVRmKFwiRmlyZWJhc2Uub25EaXNjb25uZWN0KCkudXBkYXRlXCIsdCx0aGlzLnFhKSxBKFwiRmlyZWJhc2Uub25EaXNjb25uZWN0KCkudXBkYXRlXCIsMixlLCEwKSxVaCh0aGlzLmFkLHRoaXMucWEsdCxlKX0sWC5wcm90b3R5cGUudXBkYXRlPVgucHJvdG90eXBlLnVwZGF0ZSxZLnByb3RvdHlwZS5sYz1mdW5jdGlvbigpe3JldHVybiB4KFwiUXVlcnkucmVmXCIsMCwwLGFyZ3VtZW50cy5sZW5ndGgpLG5ldyBVKHRoaXMuayx0aGlzLnBhdGgpfSxZLnByb3RvdHlwZS5yZWY9WS5wcm90b3R5cGUubGMsWS5wcm90b3R5cGUuRWI9ZnVuY3Rpb24odCxlLG4saSl7eChcIlF1ZXJ5Lm9uXCIsMiw0LGFyZ3VtZW50cy5sZW5ndGgpLFZmKFwiUXVlcnkub25cIix0LCExKSxBKFwiUXVlcnkub25cIiwyLGUsITEpO3ZhciByPWhpKFwiUXVlcnkub25cIixuLGkpO2lmKFwidmFsdWVcIj09PXQpVmgodGhpcy5rLHRoaXMsbmV3IGpkKGUsci5jYW5jZWx8fG51bGwsci5NYXx8bnVsbCkpO2Vsc2V7dmFyIG89e307b1t0XT1lLFZoKHRoaXMuayx0aGlzLG5ldyBrZChvLHIuY2FuY2VsLHIuTWEpKX1yZXR1cm4gZX0sWS5wcm90b3R5cGUub249WS5wcm90b3R5cGUuRWIsWS5wcm90b3R5cGUuZ2M9ZnVuY3Rpb24odCxlLG4pe3goXCJRdWVyeS5vZmZcIiwwLDMsYXJndW1lbnRzLmxlbmd0aCksVmYoXCJRdWVyeS5vZmZcIix0LCEwKSxBKFwiUXVlcnkub2ZmXCIsMixlLCEwKSxsYihcIlF1ZXJ5Lm9mZlwiLDMsbik7dmFyIGk9bnVsbCxyPW51bGw7XCJ2YWx1ZVwiPT09dD9pPW5ldyBqZChlfHxudWxsLG51bGwsbnx8bnVsbCk6dCYmKGUmJihyPXt9LHJbdF09ZSksaT1uZXcga2QocixudWxsLG58fG51bGwpKSxyPXRoaXMuayxpPVwiLmluZm9cIj09PU8odGhpcy5wYXRoKT9yLnpkLmtiKHRoaXMsaSk6ci5PLmtiKHRoaXMsaSkseGIoci5lYSx0aGlzLnBhdGgsaSl9LFkucHJvdG90eXBlLm9mZj1ZLnByb3RvdHlwZS5nYyxZLnByb3RvdHlwZS5BZz1mdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG4oYSl7byYmKG89ITEsci5nYyh0LG4pLGUuY2FsbChpLk1hLGEpKX14KFwiUXVlcnkub25jZVwiLDIsNCxhcmd1bWVudHMubGVuZ3RoKSxWZihcIlF1ZXJ5Lm9uY2VcIix0LCExKSxBKFwiUXVlcnkub25jZVwiLDIsZSwhMSk7dmFyIGk9aGkoXCJRdWVyeS5vbmNlXCIsYXJndW1lbnRzWzJdLGFyZ3VtZW50c1szXSkscj10aGlzLG89ITA7dGhpcy5FYih0LG4sZnVuY3Rpb24oZSl7ci5nYyh0LG4pLGkuY2FuY2VsJiZpLmNhbmNlbC5jYWxsKGkuTWEsZSl9KX0sWS5wcm90b3R5cGUub25jZT1ZLnByb3RvdHlwZS5BZyxZLnByb3RvdHlwZS5HZT1mdW5jdGlvbih0KXtpZihRKFwiUXVlcnkubGltaXQoKSBiZWluZyBkZXByZWNhdGVkLiBQbGVhc2UgdXNlIFF1ZXJ5LmxpbWl0VG9GaXJzdCgpIG9yIFF1ZXJ5LmxpbWl0VG9MYXN0KCkgaW5zdGVhZC5cIikseChcIlF1ZXJ5LmxpbWl0XCIsMSwxLGFyZ3VtZW50cy5sZW5ndGgpLCFnYSh0KXx8TWF0aC5mbG9vcih0KSE9PXR8fDA+PXQpdGhyb3cgRXJyb3IoXCJRdWVyeS5saW1pdDogRmlyc3QgYXJndW1lbnQgbXVzdCBiZSBhIHBvc2l0aXZlIGludGVnZXIuXCIpO2lmKHRoaXMubi5pYSl0aHJvdyBFcnJvcihcIlF1ZXJ5LmxpbWl0OiBMaW1pdCB3YXMgYWxyZWFkeSBzZXQgKGJ5IGFub3RoZXIgY2FsbCB0byBsaW1pdCwgbGltaXRUb0ZpcnN0LCBvcmxpbWl0VG9MYXN0LlwiKTt2YXIgZT10aGlzLm4uR2UodCk7cmV0dXJuIGZpKGUpLG5ldyBZKHRoaXMuayx0aGlzLnBhdGgsZSx0aGlzLmpjKX0sWS5wcm90b3R5cGUubGltaXQ9WS5wcm90b3R5cGUuR2UsWS5wcm90b3R5cGUuSGU9ZnVuY3Rpb24odCl7aWYoeChcIlF1ZXJ5LmxpbWl0VG9GaXJzdFwiLDEsMSxhcmd1bWVudHMubGVuZ3RoKSwhZ2EodCl8fE1hdGguZmxvb3IodCkhPT10fHwwPj10KXRocm93IEVycm9yKFwiUXVlcnkubGltaXRUb0ZpcnN0OiBGaXJzdCBhcmd1bWVudCBtdXN0IGJlIGEgcG9zaXRpdmUgaW50ZWdlci5cIik7aWYodGhpcy5uLmlhKXRocm93IEVycm9yKFwiUXVlcnkubGltaXRUb0ZpcnN0OiBMaW1pdCB3YXMgYWxyZWFkeSBzZXQgKGJ5IGFub3RoZXIgY2FsbCB0byBsaW1pdCwgbGltaXRUb0ZpcnN0LCBvciBsaW1pdFRvTGFzdCkuXCIpO3JldHVybiBuZXcgWSh0aGlzLmssdGhpcy5wYXRoLHRoaXMubi5IZSh0KSx0aGlzLmpjKX0sWS5wcm90b3R5cGUubGltaXRUb0ZpcnN0PVkucHJvdG90eXBlLkhlLFkucHJvdG90eXBlLkllPWZ1bmN0aW9uKHQpe2lmKHgoXCJRdWVyeS5saW1pdFRvTGFzdFwiLDEsMSxhcmd1bWVudHMubGVuZ3RoKSwhZ2EodCl8fE1hdGguZmxvb3IodCkhPT10fHwwPj10KXRocm93IEVycm9yKFwiUXVlcnkubGltaXRUb0xhc3Q6IEZpcnN0IGFyZ3VtZW50IG11c3QgYmUgYSBwb3NpdGl2ZSBpbnRlZ2VyLlwiKTtpZih0aGlzLm4uaWEpdGhyb3cgRXJyb3IoXCJRdWVyeS5saW1pdFRvTGFzdDogTGltaXQgd2FzIGFscmVhZHkgc2V0IChieSBhbm90aGVyIGNhbGwgdG8gbGltaXQsIGxpbWl0VG9GaXJzdCwgb3IgbGltaXRUb0xhc3QpLlwiKTtyZXR1cm4gbmV3IFkodGhpcy5rLHRoaXMucGF0aCx0aGlzLm4uSWUodCksdGhpcy5qYyl9LFkucHJvdG90eXBlLmxpbWl0VG9MYXN0PVkucHJvdG90eXBlLkllLFkucHJvdG90eXBlLkJnPWZ1bmN0aW9uKHQpe2lmKHgoXCJRdWVyeS5vcmRlckJ5Q2hpbGRcIiwxLDEsYXJndW1lbnRzLmxlbmd0aCksXCIka2V5XCI9PT10KXRocm93IEVycm9yKCdRdWVyeS5vcmRlckJ5Q2hpbGQ6IFwiJGtleVwiIGlzIGludmFsaWQuICBVc2UgUXVlcnkub3JkZXJCeUtleSgpIGluc3RlYWQuJyk7aWYoXCIkcHJpb3JpdHlcIj09PXQpdGhyb3cgRXJyb3IoJ1F1ZXJ5Lm9yZGVyQnlDaGlsZDogXCIkcHJpb3JpdHlcIiBpcyBpbnZhbGlkLiAgVXNlIFF1ZXJ5Lm9yZGVyQnlQcmlvcml0eSgpIGluc3RlYWQuJyk7aWYoXCIkdmFsdWVcIj09PXQpdGhyb3cgRXJyb3IoJ1F1ZXJ5Lm9yZGVyQnlDaGlsZDogXCIkdmFsdWVcIiBpcyBpbnZhbGlkLiAgVXNlIFF1ZXJ5Lm9yZGVyQnlWYWx1ZSgpIGluc3RlYWQuJyk7V2YoXCJRdWVyeS5vcmRlckJ5Q2hpbGRcIiwxLHQsITEpLGdpKHRoaXMsXCJRdWVyeS5vcmRlckJ5Q2hpbGRcIik7dmFyIGU9YmUodGhpcy5uLG5ldyBSZCh0KSk7cmV0dXJuIGVpKGUpLG5ldyBZKHRoaXMuayx0aGlzLnBhdGgsZSwhMCl9LFkucHJvdG90eXBlLm9yZGVyQnlDaGlsZD1ZLnByb3RvdHlwZS5CZyxZLnByb3RvdHlwZS5DZz1mdW5jdGlvbigpe3goXCJRdWVyeS5vcmRlckJ5S2V5XCIsMCwwLGFyZ3VtZW50cy5sZW5ndGgpLGdpKHRoaXMsXCJRdWVyeS5vcmRlckJ5S2V5XCIpO3ZhciB0PWJlKHRoaXMubixWZCk7cmV0dXJuIGVpKHQpLG5ldyBZKHRoaXMuayx0aGlzLnBhdGgsdCwhMCl9LFkucHJvdG90eXBlLm9yZGVyQnlLZXk9WS5wcm90b3R5cGUuQ2csWS5wcm90b3R5cGUuRGc9ZnVuY3Rpb24oKXt4KFwiUXVlcnkub3JkZXJCeVByaW9yaXR5XCIsMCwwLGFyZ3VtZW50cy5sZW5ndGgpLGdpKHRoaXMsXCJRdWVyeS5vcmRlckJ5UHJpb3JpdHlcIik7dmFyIHQ9YmUodGhpcy5uLE0pO3JldHVybiBlaSh0KSxuZXcgWSh0aGlzLmssdGhpcy5wYXRoLHQsITApfSxZLnByb3RvdHlwZS5vcmRlckJ5UHJpb3JpdHk9WS5wcm90b3R5cGUuRGcsWS5wcm90b3R5cGUuRWc9ZnVuY3Rpb24oKXt4KFwiUXVlcnkub3JkZXJCeVZhbHVlXCIsMCwwLGFyZ3VtZW50cy5sZW5ndGgpLGdpKHRoaXMsXCJRdWVyeS5vcmRlckJ5VmFsdWVcIik7dmFyIHQ9YmUodGhpcy5uLFlkKTtyZXR1cm4gZWkodCksbmV3IFkodGhpcy5rLHRoaXMucGF0aCx0LCEwKX0sWS5wcm90b3R5cGUub3JkZXJCeVZhbHVlPVkucHJvdG90eXBlLkVnLFkucHJvdG90eXBlLlhkPWZ1bmN0aW9uKHQsZSl7eChcIlF1ZXJ5LnN0YXJ0QXRcIiwwLDIsYXJndW1lbnRzLmxlbmd0aCksUmYoXCJRdWVyeS5zdGFydEF0XCIsdCx0aGlzLnBhdGgsITApLFdmKFwiUXVlcnkuc3RhcnRBdFwiLDIsZSwhMCk7dmFyIGk9dGhpcy5uLlhkKHQsZSk7aWYoZmkoaSksZWkoaSksdGhpcy5uLmxhKXRocm93IEVycm9yKFwiUXVlcnkuc3RhcnRBdDogU3RhcnRpbmcgcG9pbnQgd2FzIGFscmVhZHkgc2V0IChieSBhbm90aGVyIGNhbGwgdG8gc3RhcnRBdCBvciBlcXVhbFRvKS5cIik7cmV0dXJuIG4odCl8fChlPXQ9bnVsbCksbmV3IFkodGhpcy5rLHRoaXMucGF0aCxpLHRoaXMuamMpfSxZLnByb3RvdHlwZS5zdGFydEF0PVkucHJvdG90eXBlLlhkLFkucHJvdG90eXBlLnFkPWZ1bmN0aW9uKHQsZSl7eChcIlF1ZXJ5LmVuZEF0XCIsMCwyLGFyZ3VtZW50cy5sZW5ndGgpLFJmKFwiUXVlcnkuZW5kQXRcIix0LHRoaXMucGF0aCwhMCksV2YoXCJRdWVyeS5lbmRBdFwiLDIsZSwhMCk7dmFyIG49dGhpcy5uLnFkKHQsZSk7aWYoZmkobiksZWkobiksdGhpcy5uLm5hKXRocm93IEVycm9yKFwiUXVlcnkuZW5kQXQ6IEVuZGluZyBwb2ludCB3YXMgYWxyZWFkeSBzZXQgKGJ5IGFub3RoZXIgY2FsbCB0byBlbmRBdCBvciBlcXVhbFRvKS5cIik7cmV0dXJuIG5ldyBZKHRoaXMuayx0aGlzLnBhdGgsbix0aGlzLmpjKX0sWS5wcm90b3R5cGUuZW5kQXQ9WS5wcm90b3R5cGUucWQsWS5wcm90b3R5cGUuaGc9ZnVuY3Rpb24odCxlKXtpZih4KFwiUXVlcnkuZXF1YWxUb1wiLDEsMixhcmd1bWVudHMubGVuZ3RoKSxSZihcIlF1ZXJ5LmVxdWFsVG9cIix0LHRoaXMucGF0aCwhMSksV2YoXCJRdWVyeS5lcXVhbFRvXCIsMixlLCEwKSx0aGlzLm4ubGEpdGhyb3cgRXJyb3IoXCJRdWVyeS5lcXVhbFRvOiBTdGFydGluZyBwb2ludCB3YXMgYWxyZWFkeSBzZXQgKGJ5IGFub3RoZXIgY2FsbCB0byBlbmRBdCBvciBlcXVhbFRvKS5cIik7aWYodGhpcy5uLm5hKXRocm93IEVycm9yKFwiUXVlcnkuZXF1YWxUbzogRW5kaW5nIHBvaW50IHdhcyBhbHJlYWR5IHNldCAoYnkgYW5vdGhlciBjYWxsIHRvIGVuZEF0IG9yIGVxdWFsVG8pLlwiKTtyZXR1cm4gdGhpcy5YZCh0LGUpLnFkKHQsZSl9LFkucHJvdG90eXBlLmVxdWFsVG89WS5wcm90b3R5cGUuaGcsWS5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXt4KFwiUXVlcnkudG9TdHJpbmdcIiwwLDAsYXJndW1lbnRzLmxlbmd0aCk7Zm9yKHZhciB0PXRoaXMucGF0aCxlPVwiXCIsbj10Llk7bjx0Lm8ubGVuZ3RoO24rKylcIlwiIT09dC5vW25dJiYoZSs9XCIvXCIrZW5jb2RlVVJJQ29tcG9uZW50KFN0cmluZyh0Lm9bbl0pKSk7cmV0dXJuIHQ9dGhpcy5rLnRvU3RyaW5nKCkrKGV8fFwiL1wiKSxlPWpiKGVlKHRoaXMubikpLHQrPWUucmVwbGFjZSgvXiYvLFwiXCIpfSxZLnByb3RvdHlwZS50b1N0cmluZz1ZLnByb3RvdHlwZS50b1N0cmluZyxZLnByb3RvdHlwZS53YT1mdW5jdGlvbigpe3ZhciB0PVdjKGNlKHRoaXMubikpO3JldHVyblwie31cIj09PXQ/XCJkZWZhdWx0XCI6dH07dmFyIFo9e307Wi52Yz13aCxaLkRhdGFDb25uZWN0aW9uPVoudmMsd2gucHJvdG90eXBlLk9nPWZ1bmN0aW9uKHQsZSl7dGhpcy5EYShcInFcIix7cDp0fSxlKX0sWi52Yy5wcm90b3R5cGUuc2ltcGxlTGlzdGVuPVoudmMucHJvdG90eXBlLk9nLHdoLnByb3RvdHlwZS5nZz1mdW5jdGlvbih0LGUpe3RoaXMuRGEoXCJlY2hvXCIse2Q6dH0sZSl9LFoudmMucHJvdG90eXBlLmVjaG89Wi52Yy5wcm90b3R5cGUuZ2csd2gucHJvdG90eXBlLmludGVycnVwdD13aC5wcm90b3R5cGUueWIsWi5TZj1raCxaLlJlYWxUaW1lQ29ubmVjdGlvbj1aLlNmLGtoLnByb3RvdHlwZS5zZW5kUmVxdWVzdD1raC5wcm90b3R5cGUuRGEsa2gucHJvdG90eXBlLmNsb3NlPWtoLnByb3RvdHlwZS5jbG9zZSxaLm9nPWZ1bmN0aW9uKHQpe3ZhciBlPXdoLnByb3RvdHlwZS5wdXQ7cmV0dXJuIHdoLnByb3RvdHlwZS5wdXQ9ZnVuY3Rpb24oaSxyLG8sYSl7bihhKSYmKGE9dCgpKSxlLmNhbGwodGhpcyxpLHIsbyxhKX0sZnVuY3Rpb24oKXt3aC5wcm90b3R5cGUucHV0PWV9fSxaLmhpamFja0hhc2g9Wi5vZyxaLlJmPUVjLFouQ29ubmVjdGlvblRhcmdldD1aLlJmLFoud2E9ZnVuY3Rpb24odCl7cmV0dXJuIHQud2EoKX0sWi5xdWVyeUlkZW50aWZpZXI9Wi53YSxaLnFnPWZ1bmN0aW9uKHQpe3JldHVybiB0LmsuUmEuYWF9LFoubGlzdGVucz1aLnFnLFoudWU9ZnVuY3Rpb24odCl7dC51ZSgpfSxaLmZvcmNlUmVzdENsaWVudD1aLnVlLG1hKFUsWSk7dmFyIGlpPVUsamk9W1wiRmlyZWJhc2VcIl0sa2k9YWE7amlbMF1pbiBraXx8IWtpLmV4ZWNTY3JpcHR8fGtpLmV4ZWNTY3JpcHQoXCJ2YXIgXCIramlbMF0pO2Zvcih2YXIgbGk7amkubGVuZ3RoJiYobGk9amkuc2hpZnQoKSk7KSFqaS5sZW5ndGgmJm4oaWkpP2tpW2xpXT1paTpraT1raVtsaV0/a2lbbGldOmtpW2xpXT17fTtVLnByb3RvdHlwZS5uYW1lPWZ1bmN0aW9uKCl7cmV0dXJuIFEoXCJGaXJlYmFzZS5uYW1lKCkgYmVpbmcgZGVwcmVjYXRlZC4gUGxlYXNlIHVzZSBGaXJlYmFzZS5rZXkoKSBpbnN0ZWFkLlwiKSx4KFwiRmlyZWJhc2UubmFtZVwiLDAsMCxhcmd1bWVudHMubGVuZ3RoKSx0aGlzLmtleSgpfSxVLnByb3RvdHlwZS5uYW1lPVUucHJvdG90eXBlLm5hbWUsVS5wcm90b3R5cGUua2V5PWZ1bmN0aW9uKCl7cmV0dXJuIHgoXCJGaXJlYmFzZS5rZXlcIiwwLDAsYXJndW1lbnRzLmxlbmd0aCksdGhpcy5wYXRoLmUoKT9udWxsOnZjKHRoaXMucGF0aCl9LFUucHJvdG90eXBlLmtleT1VLnByb3RvdHlwZS5rZXksVS5wcm90b3R5cGUudz1mdW5jdGlvbih0KXtpZih4KFwiRmlyZWJhc2UuY2hpbGRcIiwxLDEsYXJndW1lbnRzLmxlbmd0aCksZ2EodCkpdD1TdHJpbmcodCk7ZWxzZSBpZighKHQgaW5zdGFuY2VvZiBLKSlpZihudWxsPT09Tyh0aGlzLnBhdGgpKXt2YXIgZT10O2UmJihlPWUucmVwbGFjZSgvXlxcLypcXC5pbmZvKFxcL3wkKS8sXCIvXCIpKSxYZihcIkZpcmViYXNlLmNoaWxkXCIsZSl9ZWxzZSBYZihcIkZpcmViYXNlLmNoaWxkXCIsdCk7cmV0dXJuIG5ldyBVKHRoaXMuayx0aGlzLnBhdGgudyh0KSl9LFUucHJvdG90eXBlLmNoaWxkPVUucHJvdG90eXBlLncsVS5wcm90b3R5cGUucGFyZW50PWZ1bmN0aW9uKCl7eChcIkZpcmViYXNlLnBhcmVudFwiLDAsMCxhcmd1bWVudHMubGVuZ3RoKTt2YXIgdD10aGlzLnBhdGgucGFyZW50KCk7cmV0dXJuIG51bGw9PT10P251bGw6bmV3IFUodGhpcy5rLHQpfSxVLnByb3RvdHlwZS5wYXJlbnQ9VS5wcm90b3R5cGUucGFyZW50LFUucHJvdG90eXBlLnJvb3Q9ZnVuY3Rpb24oKXt4KFwiRmlyZWJhc2UucmVmXCIsMCwwLGFyZ3VtZW50cy5sZW5ndGgpO2Zvcih2YXIgdD10aGlzO251bGwhPT10LnBhcmVudCgpOyl0PXQucGFyZW50KCk7cmV0dXJuIHR9LFUucHJvdG90eXBlLnJvb3Q9VS5wcm90b3R5cGUucm9vdCxVLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24odCxlKXt4KFwiRmlyZWJhc2Uuc2V0XCIsMSwyLGFyZ3VtZW50cy5sZW5ndGgpLFlmKFwiRmlyZWJhc2Uuc2V0XCIsdGhpcy5wYXRoKSxSZihcIkZpcmViYXNlLnNldFwiLHQsdGhpcy5wYXRoLCExKSxBKFwiRmlyZWJhc2Uuc2V0XCIsMixlLCEwKSx0aGlzLmsuS2IodGhpcy5wYXRoLHQsbnVsbCxlfHxudWxsKX0sVS5wcm90b3R5cGUuc2V0PVUucHJvdG90eXBlLnNldCxVLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24odCxlKXtpZih4KFwiRmlyZWJhc2UudXBkYXRlXCIsMSwyLGFyZ3VtZW50cy5sZW5ndGgpLFlmKFwiRmlyZWJhc2UudXBkYXRlXCIsdGhpcy5wYXRoKSxlYSh0KSl7Zm9yKHZhciBuPXt9LGk9MDtpPHQubGVuZ3RoOysraSluW1wiXCIraV09dFtpXTt0PW4sUShcIlBhc3NpbmcgYW4gQXJyYXkgdG8gRmlyZWJhc2UudXBkYXRlKCkgaXMgZGVwcmVjYXRlZC4gVXNlIHNldCgpIGlmIHlvdSB3YW50IHRvIG92ZXJ3cml0ZSB0aGUgZXhpc3RpbmcgZGF0YSwgb3IgYW4gT2JqZWN0IHdpdGggaW50ZWdlciBrZXlzIGlmIHlvdSByZWFsbHkgZG8gd2FudCB0byBvbmx5IHVwZGF0ZSBzb21lIG9mIHRoZSBjaGlsZHJlbi5cIil9VGYoXCJGaXJlYmFzZS51cGRhdGVcIix0LHRoaXMucGF0aCksQShcIkZpcmViYXNlLnVwZGF0ZVwiLDIsZSwhMCksdGhpcy5rLnVwZGF0ZSh0aGlzLnBhdGgsdCxlfHxudWxsKX0sVS5wcm90b3R5cGUudXBkYXRlPVUucHJvdG90eXBlLnVwZGF0ZSxVLnByb3RvdHlwZS5LYj1mdW5jdGlvbih0LGUsbil7aWYoeChcIkZpcmViYXNlLnNldFdpdGhQcmlvcml0eVwiLDIsMyxhcmd1bWVudHMubGVuZ3RoKSxZZihcIkZpcmViYXNlLnNldFdpdGhQcmlvcml0eVwiLHRoaXMucGF0aCksUmYoXCJGaXJlYmFzZS5zZXRXaXRoUHJpb3JpdHlcIix0LHRoaXMucGF0aCwhMSksVWYoXCJGaXJlYmFzZS5zZXRXaXRoUHJpb3JpdHlcIiwyLGUpLEEoXCJGaXJlYmFzZS5zZXRXaXRoUHJpb3JpdHlcIiwzLG4sITApLFwiLmxlbmd0aFwiPT09dGhpcy5rZXkoKXx8XCIua2V5c1wiPT09dGhpcy5rZXkoKSl0aHJvd1wiRmlyZWJhc2Uuc2V0V2l0aFByaW9yaXR5IGZhaWxlZDogXCIrdGhpcy5rZXkoKStcIiBpcyBhIHJlYWQtb25seSBvYmplY3QuXCI7dGhpcy5rLktiKHRoaXMucGF0aCx0LGUsbnx8bnVsbCl9LFUucHJvdG90eXBlLnNldFdpdGhQcmlvcml0eT1VLnByb3RvdHlwZS5LYixVLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24odCl7eChcIkZpcmViYXNlLnJlbW92ZVwiLDAsMSxhcmd1bWVudHMubGVuZ3RoKSxZZihcIkZpcmViYXNlLnJlbW92ZVwiLHRoaXMucGF0aCksQShcIkZpcmViYXNlLnJlbW92ZVwiLDEsdCwhMCksdGhpcy5zZXQobnVsbCx0KX0sVS5wcm90b3R5cGUucmVtb3ZlPVUucHJvdG90eXBlLnJlbW92ZSxVLnByb3RvdHlwZS50cmFuc2FjdGlvbj1mdW5jdGlvbih0LGUsaSl7aWYoeChcIkZpcmViYXNlLnRyYW5zYWN0aW9uXCIsMSwzLGFyZ3VtZW50cy5sZW5ndGgpLFlmKFwiRmlyZWJhc2UudHJhbnNhY3Rpb25cIix0aGlzLnBhdGgpLEEoXCJGaXJlYmFzZS50cmFuc2FjdGlvblwiLDEsdCwhMSksQShcIkZpcmViYXNlLnRyYW5zYWN0aW9uXCIsMixlLCEwKSxuKGkpJiZcImJvb2xlYW5cIiE9dHlwZW9mIGkpdGhyb3cgRXJyb3IoeihcIkZpcmViYXNlLnRyYW5zYWN0aW9uXCIsMywhMCkrXCJtdXN0IGJlIGEgYm9vbGVhbi5cIik7aWYoXCIubGVuZ3RoXCI9PT10aGlzLmtleSgpfHxcIi5rZXlzXCI9PT10aGlzLmtleSgpKXRocm93XCJGaXJlYmFzZS50cmFuc2FjdGlvbiBmYWlsZWQ6IFwiK3RoaXMua2V5KCkrXCIgaXMgYSByZWFkLW9ubHkgb2JqZWN0LlwiO1widW5kZWZpbmVkXCI9PXR5cGVvZiBpJiYoaT0hMCksV2godGhpcy5rLHRoaXMucGF0aCx0LGV8fG51bGwsaSl9LFUucHJvdG90eXBlLnRyYW5zYWN0aW9uPVUucHJvdG90eXBlLnRyYW5zYWN0aW9uLFUucHJvdG90eXBlLkxnPWZ1bmN0aW9uKHQsZSl7eChcIkZpcmViYXNlLnNldFByaW9yaXR5XCIsMSwyLGFyZ3VtZW50cy5sZW5ndGgpLFlmKFwiRmlyZWJhc2Uuc2V0UHJpb3JpdHlcIix0aGlzLnBhdGgpLFVmKFwiRmlyZWJhc2Uuc2V0UHJpb3JpdHlcIiwxLHQpLEEoXCJGaXJlYmFzZS5zZXRQcmlvcml0eVwiLDIsZSwhMCksdGhpcy5rLktiKHRoaXMucGF0aC53KFwiLnByaW9yaXR5XCIpLHQsbnVsbCxlKX0sVS5wcm90b3R5cGUuc2V0UHJpb3JpdHk9VS5wcm90b3R5cGUuTGcsVS5wcm90b3R5cGUucHVzaD1mdW5jdGlvbih0LGUpe3goXCJGaXJlYmFzZS5wdXNoXCIsMCwyLGFyZ3VtZW50cy5sZW5ndGgpLFlmKFwiRmlyZWJhc2UucHVzaFwiLHRoaXMucGF0aCksUmYoXCJGaXJlYmFzZS5wdXNoXCIsdCx0aGlzLnBhdGgsITApLEEoXCJGaXJlYmFzZS5wdXNoXCIsMixlLCEwKTt2YXIgbj1NaCh0aGlzLmspLG49S2Yobiksbj10aGlzLncobik7cmV0dXJuXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHQmJm51bGwhPT10JiZuLnNldCh0LGUpLG59LFUucHJvdG90eXBlLnB1c2g9VS5wcm90b3R5cGUucHVzaCxVLnByb3RvdHlwZS5qYj1mdW5jdGlvbigpe3JldHVybiBZZihcIkZpcmViYXNlLm9uRGlzY29ubmVjdFwiLHRoaXMucGF0aCksbmV3IFgodGhpcy5rLHRoaXMucGF0aCl9LFUucHJvdG90eXBlLm9uRGlzY29ubmVjdD1VLnByb3RvdHlwZS5qYixVLnByb3RvdHlwZS5QPWZ1bmN0aW9uKHQsZSxuKXtRKFwiRmlyZWJhc2VSZWYuYXV0aCgpIGJlaW5nIGRlcHJlY2F0ZWQuIFBsZWFzZSB1c2UgRmlyZWJhc2VSZWYuYXV0aFdpdGhDdXN0b21Ub2tlbigpIGluc3RlYWQuXCIpLHgoXCJGaXJlYmFzZS5hdXRoXCIsMSwzLGFyZ3VtZW50cy5sZW5ndGgpLFpmKFwiRmlyZWJhc2UuYXV0aFwiLHQpLEEoXCJGaXJlYmFzZS5hdXRoXCIsMixlLCEwKSxBKFwiRmlyZWJhc2UuYXV0aFwiLDMsZSwhMCksS2codGhpcy5rLlAsdCx7fSx7cmVtZW1iZXI6XCJub25lXCJ9LGUsbil9LFUucHJvdG90eXBlLmF1dGg9VS5wcm90b3R5cGUuUCxVLnByb3RvdHlwZS5lZT1mdW5jdGlvbih0KXt4KFwiRmlyZWJhc2UudW5hdXRoXCIsMCwxLGFyZ3VtZW50cy5sZW5ndGgpLEEoXCJGaXJlYmFzZS51bmF1dGhcIiwxLHQsITApLExnKHRoaXMuay5QLHQpfSxVLnByb3RvdHlwZS51bmF1dGg9VS5wcm90b3R5cGUuZWUsVS5wcm90b3R5cGUud2U9ZnVuY3Rpb24oKXtyZXR1cm4geChcIkZpcmViYXNlLmdldEF1dGhcIiwwLDAsYXJndW1lbnRzLmxlbmd0aCksdGhpcy5rLlAud2UoKX0sVS5wcm90b3R5cGUuZ2V0QXV0aD1VLnByb3RvdHlwZS53ZSxVLnByb3RvdHlwZS51Zz1mdW5jdGlvbih0LGUpe3goXCJGaXJlYmFzZS5vbkF1dGhcIiwxLDIsYXJndW1lbnRzLmxlbmd0aCksXG5BKFwiRmlyZWJhc2Uub25BdXRoXCIsMSx0LCExKSxsYihcIkZpcmViYXNlLm9uQXV0aFwiLDIsZSksdGhpcy5rLlAuRWIoXCJhdXRoX3N0YXR1c1wiLHQsZSl9LFUucHJvdG90eXBlLm9uQXV0aD1VLnByb3RvdHlwZS51ZyxVLnByb3RvdHlwZS50Zz1mdW5jdGlvbih0LGUpe3goXCJGaXJlYmFzZS5vZmZBdXRoXCIsMSwyLGFyZ3VtZW50cy5sZW5ndGgpLEEoXCJGaXJlYmFzZS5vZmZBdXRoXCIsMSx0LCExKSxsYihcIkZpcmViYXNlLm9mZkF1dGhcIiwyLGUpLHRoaXMuay5QLmdjKFwiYXV0aF9zdGF0dXNcIix0LGUpfSxVLnByb3RvdHlwZS5vZmZBdXRoPVUucHJvdG90eXBlLnRnLFUucHJvdG90eXBlLldmPWZ1bmN0aW9uKHQsZSxuKXt4KFwiRmlyZWJhc2UuYXV0aFdpdGhDdXN0b21Ub2tlblwiLDIsMyxhcmd1bWVudHMubGVuZ3RoKSxaZihcIkZpcmViYXNlLmF1dGhXaXRoQ3VzdG9tVG9rZW5cIix0KSxBKFwiRmlyZWJhc2UuYXV0aFdpdGhDdXN0b21Ub2tlblwiLDIsZSwhMSksYWcoXCJGaXJlYmFzZS5hdXRoV2l0aEN1c3RvbVRva2VuXCIsMyxuLCEwKSxLZyh0aGlzLmsuUCx0LHt9LG58fHt9LGUpfSxVLnByb3RvdHlwZS5hdXRoV2l0aEN1c3RvbVRva2VuPVUucHJvdG90eXBlLldmLFUucHJvdG90eXBlLlhmPWZ1bmN0aW9uKHQsZSxuKXt4KFwiRmlyZWJhc2UuYXV0aFdpdGhPQXV0aFBvcHVwXCIsMiwzLGFyZ3VtZW50cy5sZW5ndGgpLCRmKFwiRmlyZWJhc2UuYXV0aFdpdGhPQXV0aFBvcHVwXCIsMSx0KSxBKFwiRmlyZWJhc2UuYXV0aFdpdGhPQXV0aFBvcHVwXCIsMixlLCExKSxhZyhcIkZpcmViYXNlLmF1dGhXaXRoT0F1dGhQb3B1cFwiLDMsbiwhMCksUGcodGhpcy5rLlAsdCxuLGUpfSxVLnByb3RvdHlwZS5hdXRoV2l0aE9BdXRoUG9wdXA9VS5wcm90b3R5cGUuWGYsVS5wcm90b3R5cGUuWWY9ZnVuY3Rpb24odCxlLG4pe3goXCJGaXJlYmFzZS5hdXRoV2l0aE9BdXRoUmVkaXJlY3RcIiwyLDMsYXJndW1lbnRzLmxlbmd0aCksJGYoXCJGaXJlYmFzZS5hdXRoV2l0aE9BdXRoUmVkaXJlY3RcIiwxLHQpLEEoXCJGaXJlYmFzZS5hdXRoV2l0aE9BdXRoUmVkaXJlY3RcIiwyLGUsITEpLGFnKFwiRmlyZWJhc2UuYXV0aFdpdGhPQXV0aFJlZGlyZWN0XCIsMyxuLCEwKTt2YXIgaT10aGlzLmsuUDtOZyhpKTt2YXIgcj1bd2ddLG89aWcobik7XCJhbm9ueW1vdXNcIj09PXR8fFwiZmlyZWJhc2VcIj09PXQ/UihlLHlnKFwiVFJBTlNQT1JUX1VOQVZBSUxBQkxFXCIpKTooUC5zZXQoXCJyZWRpcmVjdF9jbGllbnRfb3B0aW9uc1wiLG8ubGQpLE9nKGkscixcIi9hdXRoL1wiK3QsbyxlKSl9LFUucHJvdG90eXBlLmF1dGhXaXRoT0F1dGhSZWRpcmVjdD1VLnByb3RvdHlwZS5ZZixVLnByb3RvdHlwZS5aZj1mdW5jdGlvbih0LGUsbixpKXt4KFwiRmlyZWJhc2UuYXV0aFdpdGhPQXV0aFRva2VuXCIsMyw0LGFyZ3VtZW50cy5sZW5ndGgpLCRmKFwiRmlyZWJhc2UuYXV0aFdpdGhPQXV0aFRva2VuXCIsMSx0KSxBKFwiRmlyZWJhc2UuYXV0aFdpdGhPQXV0aFRva2VuXCIsMyxuLCExKSxhZyhcIkZpcmViYXNlLmF1dGhXaXRoT0F1dGhUb2tlblwiLDQsaSwhMCkscChlKT8oJGYoXCJGaXJlYmFzZS5hdXRoV2l0aE9BdXRoVG9rZW5cIiwyLGUpLE1nKHRoaXMuay5QLHQrXCIvdG9rZW5cIix7YWNjZXNzX3Rva2VuOmV9LGksbikpOihhZyhcIkZpcmViYXNlLmF1dGhXaXRoT0F1dGhUb2tlblwiLDIsZSwhMSksTWcodGhpcy5rLlAsdCtcIi90b2tlblwiLGUsaSxuKSl9LFUucHJvdG90eXBlLmF1dGhXaXRoT0F1dGhUb2tlbj1VLnByb3RvdHlwZS5aZixVLnByb3RvdHlwZS5WZj1mdW5jdGlvbih0LGUpe3goXCJGaXJlYmFzZS5hdXRoQW5vbnltb3VzbHlcIiwxLDIsYXJndW1lbnRzLmxlbmd0aCksQShcIkZpcmViYXNlLmF1dGhBbm9ueW1vdXNseVwiLDEsdCwhMSksYWcoXCJGaXJlYmFzZS5hdXRoQW5vbnltb3VzbHlcIiwyLGUsITApLE1nKHRoaXMuay5QLFwiYW5vbnltb3VzXCIse30sZSx0KX0sVS5wcm90b3R5cGUuYXV0aEFub255bW91c2x5PVUucHJvdG90eXBlLlZmLFUucHJvdG90eXBlLiRmPWZ1bmN0aW9uKHQsZSxuKXt4KFwiRmlyZWJhc2UuYXV0aFdpdGhQYXNzd29yZFwiLDIsMyxhcmd1bWVudHMubGVuZ3RoKSxhZyhcIkZpcmViYXNlLmF1dGhXaXRoUGFzc3dvcmRcIiwxLHQsITEpLGJnKFwiRmlyZWJhc2UuYXV0aFdpdGhQYXNzd29yZFwiLHQsXCJlbWFpbFwiKSxiZyhcIkZpcmViYXNlLmF1dGhXaXRoUGFzc3dvcmRcIix0LFwicGFzc3dvcmRcIiksQShcIkZpcmViYXNlLmF1dGhBbm9ueW1vdXNseVwiLDIsZSwhMSksYWcoXCJGaXJlYmFzZS5hdXRoQW5vbnltb3VzbHlcIiwzLG4sITApLE1nKHRoaXMuay5QLFwicGFzc3dvcmRcIix0LG4sZSl9LFUucHJvdG90eXBlLmF1dGhXaXRoUGFzc3dvcmQ9VS5wcm90b3R5cGUuJGYsVS5wcm90b3R5cGUucmU9ZnVuY3Rpb24odCxlKXt4KFwiRmlyZWJhc2UuY3JlYXRlVXNlclwiLDIsMixhcmd1bWVudHMubGVuZ3RoKSxhZyhcIkZpcmViYXNlLmNyZWF0ZVVzZXJcIiwxLHQsITEpLGJnKFwiRmlyZWJhc2UuY3JlYXRlVXNlclwiLHQsXCJlbWFpbFwiKSxiZyhcIkZpcmViYXNlLmNyZWF0ZVVzZXJcIix0LFwicGFzc3dvcmRcIiksQShcIkZpcmViYXNlLmNyZWF0ZVVzZXJcIiwyLGUsITEpLHRoaXMuay5QLnJlKHQsZSl9LFUucHJvdG90eXBlLmNyZWF0ZVVzZXI9VS5wcm90b3R5cGUucmUsVS5wcm90b3R5cGUuU2U9ZnVuY3Rpb24odCxlKXt4KFwiRmlyZWJhc2UucmVtb3ZlVXNlclwiLDIsMixhcmd1bWVudHMubGVuZ3RoKSxhZyhcIkZpcmViYXNlLnJlbW92ZVVzZXJcIiwxLHQsITEpLGJnKFwiRmlyZWJhc2UucmVtb3ZlVXNlclwiLHQsXCJlbWFpbFwiKSxiZyhcIkZpcmViYXNlLnJlbW92ZVVzZXJcIix0LFwicGFzc3dvcmRcIiksQShcIkZpcmViYXNlLnJlbW92ZVVzZXJcIiwyLGUsITEpLHRoaXMuay5QLlNlKHQsZSl9LFUucHJvdG90eXBlLnJlbW92ZVVzZXI9VS5wcm90b3R5cGUuU2UsVS5wcm90b3R5cGUub2U9ZnVuY3Rpb24odCxlKXt4KFwiRmlyZWJhc2UuY2hhbmdlUGFzc3dvcmRcIiwyLDIsYXJndW1lbnRzLmxlbmd0aCksYWcoXCJGaXJlYmFzZS5jaGFuZ2VQYXNzd29yZFwiLDEsdCwhMSksYmcoXCJGaXJlYmFzZS5jaGFuZ2VQYXNzd29yZFwiLHQsXCJlbWFpbFwiKSxiZyhcIkZpcmViYXNlLmNoYW5nZVBhc3N3b3JkXCIsdCxcIm9sZFBhc3N3b3JkXCIpLGJnKFwiRmlyZWJhc2UuY2hhbmdlUGFzc3dvcmRcIix0LFwibmV3UGFzc3dvcmRcIiksQShcIkZpcmViYXNlLmNoYW5nZVBhc3N3b3JkXCIsMixlLCExKSx0aGlzLmsuUC5vZSh0LGUpfSxVLnByb3RvdHlwZS5jaGFuZ2VQYXNzd29yZD1VLnByb3RvdHlwZS5vZSxVLnByb3RvdHlwZS5uZT1mdW5jdGlvbih0LGUpe3goXCJGaXJlYmFzZS5jaGFuZ2VFbWFpbFwiLDIsMixhcmd1bWVudHMubGVuZ3RoKSxhZyhcIkZpcmViYXNlLmNoYW5nZUVtYWlsXCIsMSx0LCExKSxiZyhcIkZpcmViYXNlLmNoYW5nZUVtYWlsXCIsdCxcIm9sZEVtYWlsXCIpLGJnKFwiRmlyZWJhc2UuY2hhbmdlRW1haWxcIix0LFwibmV3RW1haWxcIiksYmcoXCJGaXJlYmFzZS5jaGFuZ2VFbWFpbFwiLHQsXCJwYXNzd29yZFwiKSxBKFwiRmlyZWJhc2UuY2hhbmdlRW1haWxcIiwyLGUsITEpLHRoaXMuay5QLm5lKHQsZSl9LFUucHJvdG90eXBlLmNoYW5nZUVtYWlsPVUucHJvdG90eXBlLm5lLFUucHJvdG90eXBlLlVlPWZ1bmN0aW9uKHQsZSl7eChcIkZpcmViYXNlLnJlc2V0UGFzc3dvcmRcIiwyLDIsYXJndW1lbnRzLmxlbmd0aCksYWcoXCJGaXJlYmFzZS5yZXNldFBhc3N3b3JkXCIsMSx0LCExKSxiZyhcIkZpcmViYXNlLnJlc2V0UGFzc3dvcmRcIix0LFwiZW1haWxcIiksQShcIkZpcmViYXNlLnJlc2V0UGFzc3dvcmRcIiwyLGUsITEpLHRoaXMuay5QLlVlKHQsZSl9LFUucHJvdG90eXBlLnJlc2V0UGFzc3dvcmQ9VS5wcm90b3R5cGUuVWUsVS5nb09mZmxpbmU9ZnVuY3Rpb24oKXt4KFwiRmlyZWJhc2UuZ29PZmZsaW5lXCIsMCwwLGFyZ3VtZW50cy5sZW5ndGgpLFcudWIoKS55YigpfSxVLmdvT25saW5lPWZ1bmN0aW9uKCl7eChcIkZpcmViYXNlLmdvT25saW5lXCIsMCwwLGFyZ3VtZW50cy5sZW5ndGgpLFcudWIoKS5xYygpfSxVLmVuYWJsZUxvZ2dpbmc9TmMsVS5TZXJ2ZXJWYWx1ZT17VElNRVNUQU1QOntcIi5zdlwiOlwidGltZXN0YW1wXCJ9fSxVLlNES19WRVJTSU9OPVwiMi4yLjRcIixVLklOVEVSTkFMPVYsVS5Db250ZXh0PVcsVS5URVNUX0FDQ0VTUz1afSgpLG1vZHVsZS5leHBvcnRzPUZpcmViYXNlOyIsIlwidXNlIHN0cmljdFwiO21vZHVsZS5leHBvcnRzPXJlcXVpcmUoXCIuL2xpYi9jb3JlLmpzXCIpLHJlcXVpcmUoXCIuL2xpYi9kb25lLmpzXCIpLHJlcXVpcmUoXCIuL2xpYi9lczYtZXh0ZW5zaW9ucy5qc1wiKSxyZXF1aXJlKFwiLi9saWIvbm9kZS1leHRlbnNpb25zLmpzXCIpOyIsIlwidXNlIHN0cmljdFwiO2Z1bmN0aW9uIFByb21pc2UoZSl7ZnVuY3Rpb24gbihlKXtyZXR1cm4gbnVsbD09PWk/dm9pZCBjLnB1c2goZSk6dm9pZCBhc2FwKGZ1bmN0aW9uKCl7dmFyIG49aT9lLm9uRnVsZmlsbGVkOmUub25SZWplY3RlZDtpZihudWxsPT09bilyZXR1cm4gdm9pZChpP2UucmVzb2x2ZTplLnJlamVjdCkodSk7dmFyIHQ7dHJ5e3Q9bih1KX1jYXRjaChvKXtyZXR1cm4gdm9pZCBlLnJlamVjdChvKX1lLnJlc29sdmUodCl9KX1mdW5jdGlvbiB0KGUpe3RyeXtpZihlPT09Zil0aHJvdyBuZXcgVHlwZUVycm9yKFwiQSBwcm9taXNlIGNhbm5vdCBiZSByZXNvbHZlZCB3aXRoIGl0c2VsZi5cIik7aWYoZSYmKFwib2JqZWN0XCI9PXR5cGVvZiBlfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlKSl7dmFyIG49ZS50aGVuO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIG4pcmV0dXJuIHZvaWQgZG9SZXNvbHZlKG4uYmluZChlKSx0LG8pfWk9ITAsdT1lLHIoKX1jYXRjaChjKXtvKGMpfX1mdW5jdGlvbiBvKGUpe2k9ITEsdT1lLHIoKX1mdW5jdGlvbiByKCl7Zm9yKHZhciBlPTAsdD1jLmxlbmd0aDt0PmU7ZSsrKW4oY1tlXSk7Yz1udWxsfWlmKFwib2JqZWN0XCIhPXR5cGVvZiB0aGlzKXRocm93IG5ldyBUeXBlRXJyb3IoXCJQcm9taXNlcyBtdXN0IGJlIGNvbnN0cnVjdGVkIHZpYSBuZXdcIik7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwibm90IGEgZnVuY3Rpb25cIik7dmFyIGk9bnVsbCx1PW51bGwsYz1bXSxmPXRoaXM7dGhpcy50aGVuPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG5ldyBmLmNvbnN0cnVjdG9yKGZ1bmN0aW9uKG8scil7bihuZXcgSGFuZGxlcihlLHQsbyxyKSl9KX0sZG9SZXNvbHZlKGUsdCxvKX1mdW5jdGlvbiBIYW5kbGVyKGUsbix0LG8pe3RoaXMub25GdWxmaWxsZWQ9XCJmdW5jdGlvblwiPT10eXBlb2YgZT9lOm51bGwsdGhpcy5vblJlamVjdGVkPVwiZnVuY3Rpb25cIj09dHlwZW9mIG4/bjpudWxsLHRoaXMucmVzb2x2ZT10LHRoaXMucmVqZWN0PW99ZnVuY3Rpb24gZG9SZXNvbHZlKGUsbix0KXt2YXIgbz0hMTt0cnl7ZShmdW5jdGlvbihlKXtvfHwobz0hMCxuKGUpKX0sZnVuY3Rpb24oZSl7b3x8KG89ITAsdChlKSl9KX1jYXRjaChyKXtpZihvKXJldHVybjtvPSEwLHQocil9fXZhciBhc2FwPXJlcXVpcmUoXCJhc2FwXCIpO21vZHVsZS5leHBvcnRzPVByb21pc2U7IiwiXCJ1c2Ugc3RyaWN0XCI7dmFyIFByb21pc2U9cmVxdWlyZShcIi4vY29yZS5qc1wiKSxhc2FwPXJlcXVpcmUoXCJhc2FwXCIpO21vZHVsZS5leHBvcnRzPVByb21pc2UsUHJvbWlzZS5wcm90b3R5cGUuZG9uZT1mdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg/dGhpcy50aGVuLmFwcGx5KHRoaXMsYXJndW1lbnRzKTp0aGlzO2UudGhlbihudWxsLGZ1bmN0aW9uKGUpe2FzYXAoZnVuY3Rpb24oKXt0aHJvdyBlfSl9KX07IiwiXCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gVmFsdWVQcm9taXNlKGUpe3RoaXMudGhlbj1mdW5jdGlvbihyKXtyZXR1cm5cImZ1bmN0aW9uXCIhPXR5cGVvZiByP3RoaXM6bmV3IFByb21pc2UoZnVuY3Rpb24obix0KXthc2FwKGZ1bmN0aW9uKCl7dHJ5e24ocihlKSl9Y2F0Y2gobyl7dChvKX19KX0pfX12YXIgUHJvbWlzZT1yZXF1aXJlKFwiLi9jb3JlLmpzXCIpLGFzYXA9cmVxdWlyZShcImFzYXBcIik7bW9kdWxlLmV4cG9ydHM9UHJvbWlzZSxWYWx1ZVByb21pc2UucHJvdG90eXBlPVByb21pc2UucHJvdG90eXBlO3ZhciBUUlVFPW5ldyBWYWx1ZVByb21pc2UoITApLEZBTFNFPW5ldyBWYWx1ZVByb21pc2UoITEpLE5VTEw9bmV3IFZhbHVlUHJvbWlzZShudWxsKSxVTkRFRklORUQ9bmV3IFZhbHVlUHJvbWlzZSh2b2lkIDApLFpFUk89bmV3IFZhbHVlUHJvbWlzZSgwKSxFTVBUWVNUUklORz1uZXcgVmFsdWVQcm9taXNlKFwiXCIpO1Byb21pc2UucmVzb2x2ZT1mdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgUHJvbWlzZSlyZXR1cm4gZTtpZihudWxsPT09ZSlyZXR1cm4gTlVMTDtpZih2b2lkIDA9PT1lKXJldHVybiBVTkRFRklORUQ7aWYoZT09PSEwKXJldHVybiBUUlVFO2lmKGU9PT0hMSlyZXR1cm4gRkFMU0U7aWYoMD09PWUpcmV0dXJuIFpFUk87aWYoXCJcIj09PWUpcmV0dXJuIEVNUFRZU1RSSU5HO2lmKFwib2JqZWN0XCI9PXR5cGVvZiBlfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlKXRyeXt2YXIgcj1lLnRoZW47aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgcilyZXR1cm4gbmV3IFByb21pc2Uoci5iaW5kKGUpKX1jYXRjaChuKXtyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24oZSxyKXtyKG4pfSl9cmV0dXJuIG5ldyBWYWx1ZVByb21pc2UoZSl9LFByb21pc2UuYWxsPWZ1bmN0aW9uKGUpe3ZhciByPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGUpO3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihlLG4pe2Z1bmN0aW9uIHQoaSx1KXt0cnl7aWYodSYmKFwib2JqZWN0XCI9PXR5cGVvZiB1fHxcImZ1bmN0aW9uXCI9PXR5cGVvZiB1KSl7dmFyIGY9dS50aGVuO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGYpcmV0dXJuIHZvaWQgZi5jYWxsKHUsZnVuY3Rpb24oZSl7dChpLGUpfSxuKX1yW2ldPXUsMD09PS0tbyYmZShyKX1jYXRjaChjKXtuKGMpfX1pZigwPT09ci5sZW5ndGgpcmV0dXJuIGUoW10pO2Zvcih2YXIgbz1yLmxlbmd0aCxpPTA7aTxyLmxlbmd0aDtpKyspdChpLHJbaV0pfSl9LFByb21pc2UucmVqZWN0PWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyLG4pe24oZSl9KX0sUHJvbWlzZS5yYWNlPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyLG4pe2UuZm9yRWFjaChmdW5jdGlvbihlKXtQcm9taXNlLnJlc29sdmUoZSkudGhlbihyLG4pfSl9KX0sUHJvbWlzZS5wcm90b3R5cGVbXCJjYXRjaFwiXT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy50aGVuKG51bGwsZSl9OyIsIlwidXNlIHN0cmljdFwiO3ZhciBQcm9taXNlPXJlcXVpcmUoXCIuL2NvcmUuanNcIiksYXNhcD1yZXF1aXJlKFwiYXNhcFwiKTttb2R1bGUuZXhwb3J0cz1Qcm9taXNlLFByb21pc2UuZGVub2RlaWZ5PWZ1bmN0aW9uKG4sdCl7cmV0dXJuIHQ9dHx8MS8wLGZ1bmN0aW9uKCl7dmFyIGU9dGhpcyxvPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHIsaSl7Zm9yKDtvLmxlbmd0aCYmby5sZW5ndGg+dDspby5wb3AoKTtvLnB1c2goZnVuY3Rpb24obix0KXtuP2kobik6cih0KX0pO3ZhciB1PW4uYXBwbHkoZSxvKTshdXx8XCJvYmplY3RcIiE9dHlwZW9mIHUmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIHV8fFwiZnVuY3Rpb25cIiE9dHlwZW9mIHUudGhlbnx8cih1KX0pfX0sUHJvbWlzZS5ub2RlaWZ5PWZ1bmN0aW9uKG4pe3JldHVybiBmdW5jdGlvbigpe3ZhciB0PUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyksZT1cImZ1bmN0aW9uXCI9PXR5cGVvZiB0W3QubGVuZ3RoLTFdP3QucG9wKCk6bnVsbCxvPXRoaXM7dHJ5e3JldHVybiBuLmFwcGx5KHRoaXMsYXJndW1lbnRzKS5ub2RlaWZ5KGUsbyl9Y2F0Y2gocil7aWYobnVsbD09PWV8fFwidW5kZWZpbmVkXCI9PXR5cGVvZiBlKXJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihuLHQpe3Qocil9KTthc2FwKGZ1bmN0aW9uKCl7ZS5jYWxsKG8scil9KX19fSxQcm9taXNlLnByb3RvdHlwZS5ub2RlaWZ5PWZ1bmN0aW9uKG4sdCl7cmV0dXJuXCJmdW5jdGlvblwiIT10eXBlb2Ygbj90aGlzOnZvaWQgdGhpcy50aGVuKGZ1bmN0aW9uKGUpe2FzYXAoZnVuY3Rpb24oKXtuLmNhbGwodCxudWxsLGUpfSl9LGZ1bmN0aW9uKGUpe2FzYXAoZnVuY3Rpb24oKXtuLmNhbGwodCxlKX0pfSl9OyIsImZ1bmN0aW9uIGZsdXNoKCl7Zm9yKDtoZWFkLm5leHQ7KXtoZWFkPWhlYWQubmV4dDt2YXIgZT1oZWFkLnRhc2s7aGVhZC50YXNrPXZvaWQgMDt2YXIgcz1oZWFkLmRvbWFpbjtzJiYoaGVhZC5kb21haW49dm9pZCAwLHMuZW50ZXIoKSk7dHJ5e2UoKX1jYXRjaChuKXtpZihpc05vZGVKUyl0aHJvdyBzJiZzLmV4aXQoKSxzZXRUaW1lb3V0KGZsdXNoLDApLHMmJnMuZW50ZXIoKSxuO3NldFRpbWVvdXQoZnVuY3Rpb24oKXt0aHJvdyBufSwwKX1zJiZzLmV4aXQoKX1mbHVzaGluZz0hMX1mdW5jdGlvbiBhc2FwKGUpe3RhaWw9dGFpbC5uZXh0PXt0YXNrOmUsZG9tYWluOmlzTm9kZUpTJiZwcm9jZXNzLmRvbWFpbixuZXh0Om51bGx9LGZsdXNoaW5nfHwoZmx1c2hpbmc9ITAscmVxdWVzdEZsdXNoKCkpfXZhciBoZWFkPXt0YXNrOnZvaWQgMCxuZXh0Om51bGx9LHRhaWw9aGVhZCxmbHVzaGluZz0hMSxyZXF1ZXN0Rmx1c2g9dm9pZCAwLGlzTm9kZUpTPSExO2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBwcm9jZXNzJiZwcm9jZXNzLm5leHRUaWNrKWlzTm9kZUpTPSEwLHJlcXVlc3RGbHVzaD1mdW5jdGlvbigpe3Byb2Nlc3MubmV4dFRpY2soZmx1c2gpfTtlbHNlIGlmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHNldEltbWVkaWF0ZSlyZXF1ZXN0Rmx1c2g9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz9zZXRJbW1lZGlhdGUuYmluZCh3aW5kb3csZmx1c2gpOmZ1bmN0aW9uKCl7c2V0SW1tZWRpYXRlKGZsdXNoKX07ZWxzZSBpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgTWVzc2FnZUNoYW5uZWwpe3ZhciBjaGFubmVsPW5ldyBNZXNzYWdlQ2hhbm5lbDtjaGFubmVsLnBvcnQxLm9ubWVzc2FnZT1mbHVzaCxyZXF1ZXN0Rmx1c2g9ZnVuY3Rpb24oKXtjaGFubmVsLnBvcnQyLnBvc3RNZXNzYWdlKDApfX1lbHNlIHJlcXVlc3RGbHVzaD1mdW5jdGlvbigpe3NldFRpbWVvdXQoZmx1c2gsMCl9O21vZHVsZS5leHBvcnRzPWFzYXA7IiwiIWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUodCl7dmFyIGU9e3ZhbDp0fSxuPXQuc3BsaXQoL1xccytpblxccysvKTtyZXR1cm4gblsxXSYmKGUudmFsPU0oMCkrblsxXSxuPW5bMF0uc2xpY2UoTSgwKS5sZW5ndGgpLnRyaW0oKS5zcGxpdCgvLFxccyovKSxlLmtleT1uWzBdLGUucG9zPW5bMV0pLGV9ZnVuY3Rpb24gbih0LGUsbil7dmFyIGk9e307cmV0dXJuIGlbdC5rZXldPWUsdC5wb3MmJihpW3QucG9zXT1uKSxpfWZ1bmN0aW9uIGkodCxpLHIpe2Z1bmN0aW9uIG8odCxlLG4pe2Quc3BsaWNlKHQsMCxlKSxnLnNwbGljZSh0LDAsbil9bCh0LFwiZWFjaFwiKTt2YXIgYSxmPXQub3V0ZXJIVE1MLGM9dC5wcmV2aW91c1NpYmxpbmcscD10LnBhcmVudE5vZGUsZD1bXSxnPVtdO3I9ZShyKSxpLm9uZShcInVwZGF0ZVwiLGZ1bmN0aW9uKCl7cC5yZW1vdmVDaGlsZCh0KX0pLm9uZShcInByZW1vdW50XCIsZnVuY3Rpb24oKXtwLnN0dWImJihwPWkucm9vdCl9KS5vbihcInVwZGF0ZVwiLGZ1bmN0aW9uKCl7dmFyIHQ9XyhyLnZhbCxpKTtpZih0KXtpZighQXJyYXkuaXNBcnJheSh0KSl7dmFyIGU9SlNPTi5zdHJpbmdpZnkodCk7aWYoZT09YSlyZXR1cm47YT1lLHMoZyxmdW5jdGlvbih0KXt0LnVubW91bnQoKX0pLGQ9W10sZz1bXSx0PU9iamVjdC5rZXlzKHQpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gbihyLGUsdFtlXSl9KX1zKGQsZnVuY3Rpb24oZSl7aWYoZSBpbnN0YW5jZW9mIE9iamVjdCl7aWYodC5pbmRleE9mKGUpPi0xKXJldHVybn1lbHNle3ZhciBuPXcodCxlKSxpPXcoZCxlKTtpZihuLmxlbmd0aD49aS5sZW5ndGgpcmV0dXJufXZhciByPWQuaW5kZXhPZihlKSxvPWdbcl07cmV0dXJuIG8/KG8udW5tb3VudCgpLGQuc3BsaWNlKHIsMSksZy5zcGxpY2UociwxKSwhMSk6dm9pZCAwfSk7dmFyIGw9W10uaW5kZXhPZi5jYWxsKHAuY2hpbGROb2RlcyxjKSsxO3ModCxmdW5jdGlvbihlLGMpe3ZhciBzPXQuaW5kZXhPZihlLGMpLHY9ZC5pbmRleE9mKGUsYyk7aWYoMD5zJiYocz10Lmxhc3RJbmRleE9mKGUsYykpLDA+diYmKHY9ZC5sYXN0SW5kZXhPZihlLGMpKSwhKGUgaW5zdGFuY2VvZiBPYmplY3QpKXt2YXIgbT13KHQsZSksaD13KGQsZSk7bS5sZW5ndGg+aC5sZW5ndGgmJih2PS0xKX12YXIgYj1wLmNoaWxkTm9kZXM7aWYoMD52KXtpZighYSYmci5rZXkpdmFyIHk9bihyLGUscyk7dmFyIEM9bmV3IHUoe3RtcGw6Zn0se2JlZm9yZTpiW2wrc10scGFyZW50Omkscm9vdDpwLGl0ZW06eXx8ZX0pO3JldHVybiBDLm1vdW50KCksbyhzLGUsQyksITB9cmV0dXJuIHIucG9zJiZnW3ZdW3IucG9zXSE9cyYmKGdbdl0ub25lKFwidXBkYXRlXCIsZnVuY3Rpb24odCl7dFtyLnBvc109c30pLGdbdl0udXBkYXRlKCkpLHMhPXY/KHAuaW5zZXJ0QmVmb3JlKGJbbCt2XSxiW2wrKHM+dj9zKzE6cyldKSxvKHMsZC5zcGxpY2UodiwxKVswXSxnLnNwbGljZSh2LDEpWzBdKSk6dm9pZCAwfSksZD10LnNsaWNlKCl9fSkub25lKFwidXBkYXRlZFwiLGZ1bmN0aW9uKCl7YihwLGZ1bmN0aW9uKHQpe3ModC5hdHRyaWJ1dGVzLGZ1bmN0aW9uKGUpey9eKG5hbWV8aWQpJC8udGVzdChlLm5hbWUpJiYoaVtlLnZhbHVlXT10KX0pfSl9KX1mdW5jdGlvbiByKHQsZSxuKXtiKHQsZnVuY3Rpb24odCl7aWYoMT09dC5ub2RlVHlwZSl7dC5pc0xvb3A9MCx0LnBhcmVudE5vZGUmJnQucGFyZW50Tm9kZS5pc0xvb3AmJih0LmlzTG9vcD0xKSx0LmdldEF0dHJpYnV0ZShcImVhY2hcIikmJih0LmlzTG9vcD0xKTt2YXIgaT1BKHQpO2lmKGkmJiF0LmlzTG9vcCl7Zm9yKHZhciByLG89bmV3IHUoaSx7cm9vdDp0LHBhcmVudDplfSx0LmlubmVySFRNTCksYT10LmdldEF0dHJpYnV0ZShcIm5hbWVcIiksZj1hJiZhLmluZGV4T2YoTSgwKSk8MD9hOmkubmFtZSxjPWU7IUEoYy5yb290KSYmYy5wYXJlbnQ7KWM9Yy5wYXJlbnQ7by5wYXJlbnQ9YyxyPWMudGFnc1tmXSxyPyhBcnJheS5pc0FycmF5KHIpfHwoYy50YWdzW2ZdPVtyXSksYy50YWdzW2ZdLnB1c2gobykpOmMudGFnc1tmXT1vLHQuaW5uZXJIVE1MPVwiXCIsbi5wdXNoKG8pfXQuaXNMb29wfHxzKHQuYXR0cmlidXRlcyxmdW5jdGlvbihuKXsvXihuYW1lfGlkKSQvLnRlc3Qobi5uYW1lKSYmKGVbbi52YWx1ZV09dCl9KX19KX1mdW5jdGlvbiBvKHQsZSxuKXtmdW5jdGlvbiByKHQsZSxpKXtpZihlLmluZGV4T2YoTSgwKSk+PTApe3ZhciByPXtkb206dCxleHByOmV9O24ucHVzaChkKHIsaSkpfX1iKHQsZnVuY3Rpb24odCl7dmFyIG49dC5ub2RlVHlwZTtpZigzPT1uJiZcIlNUWUxFXCIhPXQucGFyZW50Tm9kZS50YWdOYW1lJiZyKHQsdC5ub2RlVmFsdWUpLDE9PW4pe3ZhciBvPXQuZ2V0QXR0cmlidXRlKFwiZWFjaFwiKTtyZXR1cm4gbz8oaSh0LGUsbyksITEpOihzKHQuYXR0cmlidXRlcyxmdW5jdGlvbihlKXt2YXIgbj1lLm5hbWUsaT1uLnNwbGl0KFwiX19cIilbMV07cmV0dXJuIHIodCxlLnZhbHVlLHthdHRyOml8fG4sYm9vbDppfSksaT8obCh0LG4pLCExKTp2b2lkIDB9KSxBKHQpPyExOnZvaWQgMCl9fSl9ZnVuY3Rpb24gdSh0LGUsbil7ZnVuY3Rpb24gaSgpe3MoT2JqZWN0LmtleXMoVCksZnVuY3Rpb24odCl7bFt0XT1fKFRbdF0sdnx8Zil9KX1mdW5jdGlvbiB1KHQpe2lmKHMoYixmdW5jdGlvbihlKXtlW3Q/XCJtb3VudFwiOlwidW5tb3VudFwiXSgpfSksdil7dmFyIGU9dD9cIm9uXCI6XCJvZmZcIjt2W2VdKFwidXBkYXRlXCIsZi51cGRhdGUpW2VdKFwidW5tb3VudFwiLGYudW5tb3VudCl9fXZhciBhLGY9Ti5vYnNlcnZhYmxlKHRoaXMpLGw9TChlLm9wdHMpfHx7fSxnPWgodC50bXBsKSx2PWUucGFyZW50LG09W10sYj1bXSx5PWUucm9vdCx4PWUuaXRlbSx3PXQuZm4sQT15LnRhZ05hbWUudG9Mb3dlckNhc2UoKSxUPXt9LE89LyhbXFx3XFwtXSspXFxzPz1cXHM/WydcIl0oW14nXCJdKylbXCInXS9naW07aWYodyYmeS5fdGFnJiZ5Ll90YWcudW5tb3VudCghMCksdC5hdHRycyl7dmFyIEU9dC5hdHRycy5tYXRjaChPKTtzKEUsZnVuY3Rpb24odCl7dmFyIGU9dC5zcGxpdCgvXFxzPz1cXHM/Lyk7eS5zZXRBdHRyaWJ1dGUoZVswXSxlWzFdLnJlcGxhY2UoL1snXCJdL2csXCJcIikpfSl9eS5fdGFnPXRoaXMsdGhpcy5faWQ9cCh+figobmV3IERhdGUpLmdldFRpbWUoKSpNYXRoLnJhbmRvbSgpKSksZCh0aGlzLHtwYXJlbnQ6dixyb290Onksb3B0czpsLHRhZ3M6e319LHgpLHMoeS5hdHRyaWJ1dGVzLGZ1bmN0aW9uKHQpe1RbdC5uYW1lXT10LnZhbHVlfSksIWcuaW5uZXJIVE1MfHwvc2VsZWN0Ly50ZXN0KEEpfHwvdGJvZHkvLnRlc3QoQSl8fC90ci8udGVzdChBKXx8KGcuaW5uZXJIVE1MPUMoZy5pbm5lckhUTUwsbikpLHRoaXMudXBkYXRlPWZ1bmN0aW9uKHQpe2QoZix0LHgpLGkoKSxmLnRyaWdnZXIoXCJ1cGRhdGVcIix4KSxjKG0sZix4KSxmLnRyaWdnZXIoXCJ1cGRhdGVkXCIpfSx0aGlzLm1peGluPWZ1bmN0aW9uKCl7cyhhcmd1bWVudHMsZnVuY3Rpb24odCl7dD1cInN0cmluZ1wiPT10eXBlb2YgdD9OLm1peGluKHQpOnQscyhPYmplY3Qua2V5cyh0KSxmdW5jdGlvbihlKXtcImluaXRcIiE9ZSYmKGZbZV09XCJmdW5jdGlvblwiPT10eXBlb2YgdFtlXT90W2VdLmJpbmQoZik6dFtlXSl9KSx0LmluaXQmJnQuaW5pdC5iaW5kKGYpKCl9KX0sdGhpcy5tb3VudD1mdW5jdGlvbigpe2lmKGkoKSx3JiZ3LmNhbGwoZixsKSx1KCEwKSxvKGcsZixtKSxmLnBhcmVudHx8Zi51cGRhdGUoKSxmLnRyaWdnZXIoXCJwcmVtb3VudFwiKSx3KWZvcig7Zy5maXJzdENoaWxkOyl5LmFwcGVuZENoaWxkKGcuZmlyc3RDaGlsZCk7ZWxzZSBhPWcuZmlyc3RDaGlsZCx5Lmluc2VydEJlZm9yZShhLGUuYmVmb3JlfHxudWxsKTt5LnN0dWImJihmLnJvb3Q9eT12LnJvb3QpLGYucGFyZW50P2YucGFyZW50Lm9uZShcIm1vdW50XCIsZnVuY3Rpb24oKXtmLnRyaWdnZXIoXCJtb3VudFwiKX0pOmYudHJpZ2dlcihcIm1vdW50XCIpfSx0aGlzLnVubW91bnQ9ZnVuY3Rpb24odCl7dmFyIGU9dz95OmEsbj1lLnBhcmVudE5vZGU7aWYobil7aWYodilBcnJheS5pc0FycmF5KHYudGFnc1tBXSk/cyh2LnRhZ3NbQV0sZnVuY3Rpb24odCxlKXt0Ll9pZD09Zi5faWQmJnYudGFnc1tBXS5zcGxpY2UoZSwxKX0pOnYudGFnc1tBXT12b2lkIDA7ZWxzZSBmb3IoO2UuZmlyc3RDaGlsZDspZS5yZW1vdmVDaGlsZChlLmZpcnN0Q2hpbGQpO3R8fG4ucmVtb3ZlQ2hpbGQoZSl9Zi50cmlnZ2VyKFwidW5tb3VudFwiKSx1KCksZi5vZmYoXCIqXCIpLHkuX3RhZz1udWxsfSxyKGcsdGhpcyxiKX1mdW5jdGlvbiBhKGUsbixpLHIsbyl7aVtlXT1mdW5jdGlvbihlKXtpZihlPWV8fHQuZXZlbnQsZS53aGljaD1lLndoaWNofHxlLmNoYXJDb2RlfHxlLmtleUNvZGUsZS50YXJnZXQ9ZS50YXJnZXR8fGUuc3JjRWxlbWVudCxlLmN1cnJlbnRUYXJnZXQ9aSxlLml0ZW09byxuLmNhbGwocixlKT09PSEwfHwvcmFkaW98Y2hlY2svLnRlc3QoaS50eXBlKXx8KGUucHJldmVudERlZmF1bHQmJmUucHJldmVudERlZmF1bHQoKSxlLnJldHVyblZhbHVlPSExKSwhZS5wcmV2ZW50VXBkYXRlKXt2YXIgdT1vP3IucGFyZW50OnI7dS51cGRhdGUoKX19fWZ1bmN0aW9uIGYodCxlLG4pe3QmJih0Lmluc2VydEJlZm9yZShuLGUpLHQucmVtb3ZlQ2hpbGQoZSkpfWZ1bmN0aW9uIGModCxlLG4pe3ModCxmdW5jdGlvbih0KXt2YXIgaT10LmRvbSxyPXQuYXR0cixvPV8odC5leHByLGUpLHU9dC5kb20ucGFyZW50Tm9kZTtpZihudWxsPT1vJiYobz1cIlwiKSx1JiZcIlRFWFRBUkVBXCI9PXUudGFnTmFtZSYmKG89by5yZXBsYWNlKC9yaW90LS9nLFwiXCIpKSx0LnZhbHVlIT09byl7aWYodC52YWx1ZT1vLCFyKXJldHVybiBpLm5vZGVWYWx1ZT1vLnRvU3RyaW5nKCk7aWYobChpLHIpLFwiZnVuY3Rpb25cIj09dHlwZW9mIG8pYShyLG8saSxlLG4pO2Vsc2UgaWYoXCJpZlwiPT1yKXt2YXIgYz10LnN0dWI7bz9jJiZmKGMucGFyZW50Tm9kZSxjLGkpOihjPXQuc3R1Yj1jfHxkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcIlwiKSxmKGkucGFyZW50Tm9kZSxpLGMpKX1lbHNlIGlmKC9eKHNob3d8aGlkZSkkLy50ZXN0KHIpKVwiaGlkZVwiPT1yJiYobz0hbyksaS5zdHlsZS5kaXNwbGF5PW8/XCJcIjpcIm5vbmVcIjtlbHNlIGlmKFwidmFsdWVcIj09cilpLnZhbHVlPW87ZWxzZSBpZihcInJpb3QtXCI9PXIuc2xpY2UoMCw1KSlyPXIuc2xpY2UoNSksbz9pLnNldEF0dHJpYnV0ZShyLG8pOmwoaSxyKTtlbHNle2lmKHQuYm9vbCl7aWYoaVtyXT1vLCFvKXJldHVybjtvPXJ9XCJvYmplY3RcIiE9dHlwZW9mIG8mJmkuc2V0QXR0cmlidXRlKHIsbyl9fX0pfWZ1bmN0aW9uIHModCxlKXtmb3IodmFyIG4saT0wLHI9KHR8fFtdKS5sZW5ndGg7cj5pO2krKyluPXRbaV0sbnVsbCE9biYmZShuLGkpPT09ITEmJmktLTtyZXR1cm4gdH1mdW5jdGlvbiBsKHQsZSl7dC5yZW1vdmVBdHRyaWJ1dGUoZSl9ZnVuY3Rpb24gcCh0KXtyZXR1cm4odF50Pj4zMSktKHQ+PjMxKX1mdW5jdGlvbiBkKHQsZSxuKXtyZXR1cm4gZSYmcyhPYmplY3Qua2V5cyhlKSxmdW5jdGlvbihuKXt0W25dPWVbbl19KSxuP2QodCxuKTp0fWZ1bmN0aW9uIGcoKXtpZih0KXt2YXIgZT1uYXZpZ2F0b3IudXNlckFnZW50LG49ZS5pbmRleE9mKFwiTVNJRSBcIik7cmV0dXJuIG4+MD9wYXJzZUludChlLnN1YnN0cmluZyhuKzUsZS5pbmRleE9mKFwiLlwiLG4pKSwxMCk6MH19ZnVuY3Rpb24gdih0LGUpe3ZhciBuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIiksaT0vdmFsdWU9W1xcXCInXSguKz8pW1xcXCInXS8scj0vc2VsZWN0ZWQ9W1xcXCInXSguKz8pW1xcXCInXS8sbz1lLm1hdGNoKGkpLHU9ZS5tYXRjaChyKTtuLmlubmVySFRNTD1lLG8mJihuLnZhbHVlPW9bMV0pLHUmJm4uc2V0QXR0cmlidXRlKFwicmlvdC1zZWxlY3RlZFwiLHVbMV0pLHQuYXBwZW5kQ2hpbGQobil9ZnVuY3Rpb24gbSh0LGUsbil7dmFyIGk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtpLmlubmVySFRNTD1cIjx0YWJsZT5cIitlK1wiPC90YWJsZT5cIix0LmFwcGVuZENoaWxkKC90ZHx0aC8udGVzdChuKT9pLmZpcnN0Q2hpbGQuZmlyc3RDaGlsZC5maXJzdENoaWxkLmZpcnN0Q2hpbGQ6aS5maXJzdENoaWxkLmZpcnN0Q2hpbGQuZmlyc3RDaGlsZCl9ZnVuY3Rpb24gaCh0KXt2YXIgZT10LnRyaW0oKS5zbGljZSgxLDMpLnRvTG93ZXJDYXNlKCksbj0vdGR8dGgvLnRlc3QoZSk/XCJ0clwiOlwidHJcIj09ZT9cInRib2R5XCI6XCJkaXZcIixpPXkobik7cmV0dXJuIGkuc3R1Yj0hMCxcIm9wXCI9PT1lJiZIJiYxMD5IP3YoaSx0KTooXCJ0Ym9keVwiPT09bnx8XCJ0clwiPT09bikmJkgmJjEwPkg/bShpLHQsZSk6aS5pbm5lckhUTUw9dCxpfWZ1bmN0aW9uIGIodCxlKXtpZih0KWlmKGUodCk9PT0hMSliKHQubmV4dFNpYmxpbmcsZSk7ZWxzZSBmb3IodD10LmZpcnN0Q2hpbGQ7dDspYih0LGUpLHQ9dC5uZXh0U2libGluZ31mdW5jdGlvbiB5KHQpe3JldHVybiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHQpfWZ1bmN0aW9uIEModCxlKXtyZXR1cm4gdC5yZXBsYWNlKC88KHlpZWxkKVxcLz8+KDxcXC9cXDE+KT8vZ2ltLGV8fFwiXCIpfWZ1bmN0aW9uIHgodCxlKXtyZXR1cm4gZT1lfHxkb2N1bWVudCxlLnF1ZXJ5U2VsZWN0b3JBbGwodCl9ZnVuY3Rpb24gdyh0LGUpe3JldHVybiB0LmZpbHRlcihmdW5jdGlvbih0KXtyZXR1cm4gdD09PWV9KX1mdW5jdGlvbiBMKHQpe2Z1bmN0aW9uIGUoKXt9cmV0dXJuIGUucHJvdG90eXBlPXQsbmV3IGV9ZnVuY3Rpb24gZygpe2lmKHQpe3ZhciBlPW5hdmlnYXRvci51c2VyQWdlbnQsbj1lLmluZGV4T2YoXCJNU0lFIFwiKTtyZXR1cm4gbj4wP3BhcnNlSW50KGUuc3Vic3RyaW5nKG4rNSxlLmluZGV4T2YoXCIuXCIsbikpLDEwKTowfX1mdW5jdGlvbiBtKHQsZSxuKXt2YXIgaSxyPXkoXCJkaXZcIiksbz0vdGR8dGgvLnRlc3Qobik/MzoyO2ZvcihyLmlubmVySFRNTD1cIjx0YWJsZT5cIitlK1wiPC90YWJsZT5cIixpPXIuZmlyc3RDaGlsZDtvLS07KWk9aS5maXJzdENoaWxkO3QuYXBwZW5kQ2hpbGQoaSl9ZnVuY3Rpb24gdih0LGUpe3ZhciBuPXkoXCJvcHRpb25cIiksaT0vdmFsdWU9W1xcXCInXSguKz8pW1xcXCInXS8scj0vc2VsZWN0ZWQ9W1xcXCInXSguKz8pW1xcXCInXS8sbz1lLm1hdGNoKGkpLHU9ZS5tYXRjaChyKTtuLmlubmVySFRNTD1lLG8mJihuLnZhbHVlPW9bMV0pLHUmJm4uc2V0QXR0cmlidXRlKFwicmlvdC1zZWxlY3RlZFwiLHVbMV0pLHQuYXBwZW5kQ2hpbGQobil9ZnVuY3Rpb24gQSh0KXtyZXR1cm4gU1t0LmdldEF0dHJpYnV0ZShcInJpb3QtdGFnXCIpfHx0LnRhZ05hbWUudG9Mb3dlckNhc2UoKV19ZnVuY3Rpb24gVCh0KXtFPUV8fHkoXCJzdHlsZVwiKSxkb2N1bWVudC5oZWFkJiYoRS5zdHlsZVNoZWV0P0Uuc3R5bGVTaGVldC5jc3NUZXh0Kz10OkUuaW5uZXJIVE1MKz10LEUuX3JlbmRlcmVkfHwoRS5zdHlsZVNoZWV0P2RvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoRSk6ZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChFKSksRS5fcmVuZGVyZWQ9ITApfWZ1bmN0aW9uIE8odCxlLG4pe3ZhciBpPVNbZV0scj10LmlubmVySFRNTDtyZXR1cm4gdC5pbm5lckhUTUw9XCJcIixpJiZ0JiYoaT1uZXcgdShpLHtyb290OnQsb3B0czpufSxyKSksaSYmaS5tb3VudD8oaS5tb3VudCgpLGoucHVzaChpKSxpLm9uKFwidW5tb3VudFwiLGZ1bmN0aW9uKCl7ai5zcGxpY2Uoai5pbmRleE9mKGkpLDEpfSkpOnZvaWQgMH12YXIgTj17dmVyc2lvbjpcInYyLjEuMFwiLHNldHRpbmdzOnt9fTtOLm9ic2VydmFibGU9ZnVuY3Rpb24odCl7dD10fHx7fTt2YXIgZT17fSxuPTA7cmV0dXJuIHQub249ZnVuY3Rpb24oaSxyKXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiByJiYoci5faWQ9XCJ1bmRlZmluZWRcIj09dHlwZW9mIHIuX2lkP24rKzpyLl9pZCxpLnJlcGxhY2UoL1xcUysvZyxmdW5jdGlvbih0LG4peyhlW3RdPWVbdF18fFtdKS5wdXNoKHIpLHIudHlwZWQ9bj4wfSkpLHR9LHQub2ZmPWZ1bmN0aW9uKG4saSl7cmV0dXJuXCIqXCI9PW4/ZT17fTpuLnJlcGxhY2UoL1xcUysvZyxmdW5jdGlvbih0KXtpZihpKWZvcih2YXIgbixyPWVbdF0sbz0wO249ciYmcltvXTsrK28pbi5faWQ9PWkuX2lkJiYoci5zcGxpY2UobywxKSxvLS0pO2Vsc2UgZVt0XT1bXX0pLHR9LHQub25lPWZ1bmN0aW9uKGUsbil7ZnVuY3Rpb24gaSgpe3Qub2ZmKGUsaSksbi5hcHBseSh0LGFyZ3VtZW50cyl9cmV0dXJuIHQub24oZSxpKX0sdC50cmlnZ2VyPWZ1bmN0aW9uKG4pe2Zvcih2YXIgaSxyPVtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpLG89ZVtuXXx8W10sdT0wO2k9b1t1XTsrK3UpaS5idXN5fHwoaS5idXN5PTEsaS5hcHBseSh0LGkudHlwZWQ/W25dLmNvbmNhdChyKTpyKSxvW3VdIT09aSYmdS0tLGkuYnVzeT0wKTtyZXR1cm4gZS5hbGwmJlwiYWxsXCIhPW4mJnQudHJpZ2dlci5hcHBseSh0LFtcImFsbFwiLG5dLmNvbmNhdChyKSksdH0sdH0sTi5taXhpbj1mdW5jdGlvbigpe3ZhciB0PXt9O3JldHVybiBmdW5jdGlvbihlLG4pe3JldHVybiBuP3ZvaWQodFtlXT1uKTp0W2VdfX0oKSxmdW5jdGlvbih0LGUsbil7ZnVuY3Rpb24gaSgpe3JldHVybiBhLmhyZWYuc3BsaXQoXCIjXCIpWzFdfHxcIlwifWZ1bmN0aW9uIHIodCl7cmV0dXJuIHQuc3BsaXQoXCIvXCIpfWZ1bmN0aW9uIG8odCl7dC50eXBlJiYodD1pKCkpLHQhPXUmJihmLnRyaWdnZXIuYXBwbHkobnVsbCxbXCJIXCJdLmNvbmNhdChyKHQpKSksdT10KX1pZihuKXt2YXIgdSxhPW4ubG9jYXRpb24sZj10Lm9ic2VydmFibGUoKSxjPW4scz0hMSxsPXQucm91dGU9ZnVuY3Rpb24odCl7dFswXT8oYS5oYXNoPXQsbyh0KSk6Zi5vbihcIkhcIix0KX07bC5leGVjPWZ1bmN0aW9uKHQpe3QuYXBwbHkobnVsbCxyKGkoKSkpfSxsLnBhcnNlcj1mdW5jdGlvbih0KXtyPXR9LGwuc3RvcD1mdW5jdGlvbigpe3MmJihjLnJlbW92ZUV2ZW50TGlzdGVuZXI/Yy5yZW1vdmVFdmVudExpc3RlbmVyKGUsbywhMSk6Yy5kZXRhY2hFdmVudChcIm9uXCIrZSxvKSxmLm9mZihcIipcIikscz0hMSl9LGwuc3RhcnQ9ZnVuY3Rpb24oKXtzfHwoYy5hZGRFdmVudExpc3RlbmVyP2MuYWRkRXZlbnRMaXN0ZW5lcihlLG8sITEpOmMuYXR0YWNoRXZlbnQoXCJvblwiK2Usbykscz0hMCl9LGwuc3RhcnQoKX19KE4sXCJoYXNoY2hhbmdlXCIsdCk7dmFyIEUsTT1mdW5jdGlvbih0LGUsbil7cmV0dXJuIGZ1bmN0aW9uKGkpe3JldHVybiBlPU4uc2V0dGluZ3MuYnJhY2tldHN8fHQsbiE9ZSYmKG49ZS5zcGxpdChcIiBcIikpLGkmJmkudGVzdD9lPT10P2k6UmVnRXhwKGkuc291cmNlLnJlcGxhY2UoL1xcey9nLG5bMF0ucmVwbGFjZSgvKD89LikvZyxcIlxcXFxcIikpLnJlcGxhY2UoL1xcfS9nLG5bMV0ucmVwbGFjZSgvKD89LikvZyxcIlxcXFxcIikpLGkuZ2xvYmFsP1wiZ1wiOlwiXCIpOm5baV19fShcInsgfVwiKSxfPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0LGUpe3JldHVybiB0PSh0fHxNKDApK00oMSkpLnJlcGxhY2UoTSgvXFxcXHsvZyksXCLvv7BcIikucmVwbGFjZShNKC9cXFxcfS9nKSxcIu+/sVwiKSxlPXIodCxvKHQsTSgvey8pLE0oL30vKSkpLG5ldyBGdW5jdGlvbihcImRcIixcInJldHVybiBcIisoZVswXXx8ZVsyXXx8ZVszXT9cIltcIitlLm1hcChmdW5jdGlvbih0LGUpe3JldHVybiBlJTI/bih0LCEwKTonXCInK3QucmVwbGFjZSgvXFxuL2csXCJcXFxcblwiKS5yZXBsYWNlKC9cIi9nLCdcXFxcXCInKSsnXCInfSkuam9pbihcIixcIikrJ10uam9pbihcIlwiKSc6bihlWzFdKSkucmVwbGFjZSgvXFx1RkZGMC9nLE0oMCkpLnJlcGxhY2UoL1xcdUZGRjEvZyxNKDEpKStcIjtcIil9ZnVuY3Rpb24gbih0LGUpe3JldHVybiB0PXQucmVwbGFjZSgvXFxuL2csXCIgXCIpLnJlcGxhY2UoTSgvXlt7IF0rfFsgfV0rJHxcXC9cXCouKz9cXCpcXC8vZyksXCJcIiksL15cXHMqW1xcdy0gXCInXSsgKjovLnRlc3QodCk/XCJbXCIrbyh0LC9bXCInIF0qW1xcdy0gXStbXCInIF0qOi8sLywoPz1bXCInIF0qW1xcdy0gXStbXCInIF0qOil8fXwkLykubWFwKGZ1bmN0aW9uKHQpe3JldHVybiB0LnJlcGxhY2UoL15bIFwiJ10qKC4rPylbIFwiJ10qOiAqKC4rPyksPyAqJC8sZnVuY3Rpb24odCxlLG4pe3JldHVybiBuLnJlcGxhY2UoL1teJnw9IT48XSsvZyxpKSsnP1wiJytlKydcIjpcIlwiLCd9KX0pLmpvaW4oXCJcIikrJ10uam9pbihcIiBcIikudHJpbSgpJzppKHQsZSl9ZnVuY3Rpb24gaShlLG4pe3JldHVybiBlPWUudHJpbSgpLGU/XCIoZnVuY3Rpb24odil7dHJ5e3Y9XCIrKGUucmVwbGFjZShhLGZ1bmN0aW9uKGUsbixpKXtyZXR1cm4gaT9cIihkLlwiK2krXCI9PT11bmRlZmluZWQ/XCIrKFwidW5kZWZpbmVkXCI9PXR5cGVvZiB0P1wiZ2xvYmFsLlwiOlwid2luZG93LlwiKStpK1wiOmQuXCIraStcIilcIjplfSl8fFwieFwiKStcIn1jYXRjaChlKXt9ZmluYWxseXtyZXR1cm4gXCIrKG49PT0hMD8nIXYmJnYhPT0wP1wiXCI6dic6XCJ2XCIpK1wifX0pLmNhbGwoZClcIjpcIlwifWZ1bmN0aW9uIHIodCxlKXt2YXIgbj1bXTtyZXR1cm4gZS5tYXAoZnVuY3Rpb24oZSxpKXtpPXQuaW5kZXhPZihlKSxuLnB1c2godC5zbGljZSgwLGkpLGUpLHQ9dC5zbGljZShpK2UubGVuZ3RoKX0pLG4uY29uY2F0KHQpfWZ1bmN0aW9uIG8odCxlLG4pe3ZhciBpLHI9MCxvPVtdLHU9bmV3IFJlZ0V4cChcIihcIitlLnNvdXJjZStcIil8KFwiK24uc291cmNlK1wiKVwiLFwiZ1wiKTtyZXR1cm4gdC5yZXBsYWNlKHUsZnVuY3Rpb24oZSxuLHUsYSl7IXImJm4mJihpPWEpLHIrPW4/MTotMSxyfHxudWxsPT11fHxvLnB1c2godC5zbGljZShpLGErdS5sZW5ndGgpKX0pLG99dmFyIHU9e30sYT0vKFsnXCJcXC9dKS4qP1teXFxcXF1cXDF8XFwuXFx3KnxcXHcqOnxcXGIoPzooPzpuZXd8dHlwZW9mfGlufGluc3RhbmNlb2YpIHwoPzp0aGlzfHRydWV8ZmFsc2V8bnVsbHx1bmRlZmluZWQpXFxifGZ1bmN0aW9uICpcXCgpfChbYS16XyRdXFx3KikvZ2k7cmV0dXJuIGZ1bmN0aW9uKHQsbil7cmV0dXJuIHQmJih1W3RdPXVbdF18fGUodCkpKG4pfX0oKSxIPWcoKSxqPVtdLFM9e307Ti50YWc9ZnVuY3Rpb24odCxlLG4saSxyKXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBpJiYocj1pLC9eW1xcd1xcLV0rXFxzPz0vLnRlc3Qobik/KGk9bixuPVwiXCIpOmk9XCJcIiksXCJmdW5jdGlvblwiPT10eXBlb2Ygbj9yPW46biYmVChuKSxTW3RdPXtuYW1lOnQsdG1wbDplLGF0dHJzOmksZm46cn0sdH0sTi5tb3VudD1mdW5jdGlvbih0LGUsbil7ZnVuY3Rpb24gaSh0KXtlJiYhdC5nZXRBdHRyaWJ1dGUoXCJyaW90LXRhZ1wiKSYmdC5zZXRBdHRyaWJ1dGUoXCJyaW90LXRhZ1wiLGUpO3ZhciBpPWV8fHQuZ2V0QXR0cmlidXRlKFwicmlvdC10YWdcIil8fHQudGFnTmFtZS50b0xvd2VyQ2FzZSgpLHI9Tyh0LGksbik7ciYmYS5wdXNoKHIpfXZhciByLG8sdT1mdW5jdGlvbigpe3ZhciB0PU9iamVjdC5rZXlzKFMpLGU9dC5qb2luKFwiLCBcIik7cmV0dXJuIHModCxmdW5jdGlvbih0KXtlKz0nLCAqW3Jpb3QtdGFnPVwiJyt0LnRyaW0oKSsnXCJdJ30pLGV9LGE9W107aWYoXCJvYmplY3RcIj09dHlwZW9mIGUmJihuPWUsZT0wKSxcInN0cmluZ1wiPT10eXBlb2YgdD8oXCIqXCI9PXQ/dD1vPXUoKTp0LnNwbGl0KFwiLFwiKS5tYXAoZnVuY3Rpb24oZSl7dCs9JywgKltyaW90LXRhZz1cIicrZS50cmltKCkrJ1wiXSd9KSxyPXgodCkpOnI9dCxcIipcIj09ZSl7aWYoZT1vfHx1KCksci50YWdOYW1lKXI9eChlLHIpO2Vsc2V7dmFyIGY9W107cyhyLGZ1bmN0aW9uKHQpe2Y9eChlLHQpfSkscj1mfWU9MH1yZXR1cm4gci50YWdOYW1lP2kodCk6cyhyLGkpLGF9LE4udXBkYXRlPWZ1bmN0aW9uKCl7cmV0dXJuIHMoaixmdW5jdGlvbih0KXt0LnVwZGF0ZSgpfSl9LE4ubW91bnRUbz1OLm1vdW50LE4udXRpbD17YnJhY2tldHM6TSx0bXBsOl99LFwib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzP21vZHVsZS5leHBvcnRzPU46XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShmdW5jdGlvbigpe3JldHVybiBOfSk6dC5yaW90PU59KFwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93OnZvaWQgMCk7IiwidmFyIFJpb3RDb250cm9sPXtfc3RvcmVzOltdLGFkZFN0b3JlOmZ1bmN0aW9uKG8pe3RoaXMuX3N0b3Jlcy5wdXNoKG8pfX07W1wib25cIixcIm9uZVwiLFwib2ZmXCIsXCJ0cmlnZ2VyXCJdLmZvckVhY2goZnVuY3Rpb24obyl7UmlvdENvbnRyb2xbb109ZnVuY3Rpb24oKXt2YXIgdD1bXS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7dGhpcy5fc3RvcmVzLmZvckVhY2goZnVuY3Rpb24obil7bltvXS5hcHBseShudWxsLHQpfSl9fSksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIG1vZHVsZSYmKG1vZHVsZS5leHBvcnRzPVJpb3RDb250cm9sKTsiLCJmdW5jdGlvbiBkcmFpblF1ZXVlKCl7aWYoIWRyYWluaW5nKXtkcmFpbmluZz0hMDtmb3IodmFyIGUsbz1xdWV1ZS5sZW5ndGg7bzspe2U9cXVldWUscXVldWU9W107Zm9yKHZhciByPS0xOysrcjxvOyllW3JdKCk7bz1xdWV1ZS5sZW5ndGh9ZHJhaW5pbmc9ITF9fWZ1bmN0aW9uIG5vb3AoKXt9dmFyIHByb2Nlc3M9bW9kdWxlLmV4cG9ydHM9e30scXVldWU9W10sZHJhaW5pbmc9ITE7cHJvY2Vzcy5uZXh0VGljaz1mdW5jdGlvbihlKXtxdWV1ZS5wdXNoKGUpLGRyYWluaW5nfHxzZXRUaW1lb3V0KGRyYWluUXVldWUsMCl9LHByb2Nlc3MudGl0bGU9XCJicm93c2VyXCIscHJvY2Vzcy5icm93c2VyPSEwLHByb2Nlc3MuZW52PXt9LHByb2Nlc3MuYXJndj1bXSxwcm9jZXNzLnZlcnNpb249XCJcIixwcm9jZXNzLnZlcnNpb25zPXt9LHByb2Nlc3Mub249bm9vcCxwcm9jZXNzLmFkZExpc3RlbmVyPW5vb3AscHJvY2Vzcy5vbmNlPW5vb3AscHJvY2Vzcy5vZmY9bm9vcCxwcm9jZXNzLnJlbW92ZUxpc3RlbmVyPW5vb3AscHJvY2Vzcy5yZW1vdmVBbGxMaXN0ZW5lcnM9bm9vcCxwcm9jZXNzLmVtaXQ9bm9vcCxwcm9jZXNzLmJpbmRpbmc9ZnVuY3Rpb24oKXt0aHJvdyBuZXcgRXJyb3IoXCJwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZFwiKX0scHJvY2Vzcy5jd2Q9ZnVuY3Rpb24oKXtyZXR1cm5cIi9cIn0scHJvY2Vzcy5jaGRpcj1mdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcihcInByb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZFwiKX0scHJvY2Vzcy51bWFzaz1mdW5jdGlvbigpe3JldHVybiAwfTsiXX0=
