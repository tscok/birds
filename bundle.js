(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
var riot=require("riot"),fbRef=require("./firebase"),riotcontrol=require("riotcontrol");module.exports=function(){function r(r){var o=fbRef.getAuth()?fbRef.getAuth().uid:null;return t[r].uidReq?!!o:!0}function o(o,e,i){return"logout"==o?void riotcontrol.trigger("logout"):void(o&&t[o]?r(o)?(riotcontrol.trigger("route",o,e,i),riotcontrol.trigger("alert_clear")):riotcontrol.trigger("alert",'404 - Unauthorized for route "'+o+'".',"warning"):o&&!t[o]?riotcontrol.trigger("alert",'404 - Route "'+o+'" not found.',"warning"):riot.route("login"))}var t={login:{uidReq:!1},profile:{uidReq:!0},search:{uidReq:!0},create:{uidReq:!0},project:{uidReq:!0}};riot.route(o),riot.route.exec(o)};
},{"./firebase":5,"riot":46,"riotcontrol":47}],2:[function(require,module,exports){
var riotcontrol=require("riotcontrol");module.exports=function(){var r=require("./stores/login"),e=require("./stores/main"),o=require("./stores/nav"),t=require("./stores/profile/user"),i=require("./stores/profile/projectlist"),n=require("./stores/profile/pendingcount"),s=require("./stores/create/_create"),c=require("./stores/create/map"),d=require("./stores/search/_search"),a=require("./stores/search/join"),l=require("./stores/project/_project"),u=require("./stores/project/member/memberlist"),q=require("./stores/project/member/membership"),m=require("./stores/project/member/memberrole"),w=require("./stores/project/ring/ringsize");riotcontrol.addStore(new r),riotcontrol.addStore(new e),riotcontrol.addStore(new o),riotcontrol.addStore(new t),riotcontrol.addStore(new i),riotcontrol.addStore(new n),riotcontrol.addStore(new s),riotcontrol.addStore(new c),riotcontrol.addStore(new d),riotcontrol.addStore(new a),riotcontrol.addStore(new l),riotcontrol.addStore(new u),riotcontrol.addStore(new q),riotcontrol.addStore(new m),riotcontrol.addStore(new w)};
},{"./stores/create/_create":6,"./stores/create/map":7,"./stores/login":8,"./stores/main":9,"./stores/nav":10,"./stores/profile/pendingcount":11,"./stores/profile/projectlist":12,"./stores/profile/user":13,"./stores/project/_project":14,"./stores/project/member/memberlist":15,"./stores/project/member/memberrole":16,"./stores/project/member/membership":17,"./stores/project/ring/ringsize":18,"./stores/search/_search":19,"./stores/search/join":20,"riotcontrol":47}],3:[function(require,module,exports){
var riot=require("riot");module.exports=function(){require("./tags/main.tag"),require("./tags/nav.tag"),require("./tags/list.tag"),require("./tags/alert.tag"),require("./tags/login.tag"),require("./tags/profile/_profile.tag"),require("./tags/create/_create.tag"),require("./tags/search/_search.tag"),require("./tags/project/_project.tag"),riot.mount("*")};
},{"./tags/alert.tag":21,"./tags/create/_create.tag":22,"./tags/list.tag":23,"./tags/login.tag":24,"./tags/main.tag":25,"./tags/nav.tag":26,"./tags/profile/_profile.tag":27,"./tags/project/_project.tag":31,"./tags/search/_search.tag":36,"riot":46}],4:[function(require,module,exports){
var appRouter=require("./app-router"),appStores=require("./app-stores"),appTags=require("./app-tags");!function(){appStores(),appTags(),appRouter()}();
},{"./app-router":1,"./app-stores":2,"./app-tags":3}],5:[function(require,module,exports){
var firebase=require("firebase");module.exports=new firebase("https://bluebird.firebaseio.com/");
},{"firebase":39}],6:[function(require,module,exports){
var riot=require("riot"),utils=require("../../utils"),fbRef=require("../../firebase");module.exports=function(){riot.observable(this);var e=this,t=function(e){var t=fbRef.getAuth().uid,r=fbRef.child("project"),i=fbRef.child("country/"+e.countryIso),o=fbRef.child("user_project/"+t+"/own/"),u=r.push({"public":"public"===e.status,ownerId:t,ownerName:utils.getLocalUser("name"),title:e.title,site:e.site,latlng:e.latlng,country:e.countryIso,dateStart:e.dateStart,dateEnd:e.dateEnd}),l=u.key();o.child(l).set(!0),i.once("value",function(t){t.exists()||i.set({full:e.countryName}),i.child("project/"+l).set(!0)});var c="profile";riot.route(c)};e.on("project_create",t)};
},{"../../firebase":5,"../../utils":38,"riot":46}],7:[function(require,module,exports){
var riot=require("riot");module.exports=function(){function o(){a=new google.maps.Map(document.getElementById("mapCanvas"),m),google.maps.event.addListener(a,"click",function(o){e(o.latLng),t(o.latLng)})}function e(o){r&&n(),r=new google.maps.Marker({position:o,map:a})}function n(){r.setMap(null)}function t(o){var e,n={};l.geocode({latLng:o},function(t,a){a==google.maps.GeocoderStatus.OK&&t[0]&&(e=t[t.length-1].address_components[0],n.latLng=o.lat()+", "+o.lng(),n.countryIso=e.short_name,n.countryName=e.long_name,g.trigger("map_data",n))})}riot.observable(this);var a,r,g=this,l=new google.maps.Geocoder,s=new google.maps.LatLng(63.27114510000001,12.449269500000014),m={zoom:8,center:s,mapTypeId:google.maps.MapTypeId.TERRAIN,streetViewControl:!1,zoomControl:!1,scaleControl:!1};g.on("map_init",o),g.on("map_reset",n)};
},{"riot":46}],8:[function(require,module,exports){
var riot=require("riot"),utils=require("../utils"),fbRef=require("../firebase"),promise=require("promise");module.exports=function(){function i(i){return new promise(function(n,o){fbRef.authWithOAuthPopup(i,function(i,t){i&&o(i),t&&n(t)})})}function n(i){return new promise(function(n,o){fbRef.authWithPassword(i,function(i,t){i&&o(i),t&&n(t)})})}function o(i,n){i.then(function(){f.trigger("login_success"),riot.route(n)},function(i){f.trigger("login_fail"),f.trigger("alert",i.message,"warning")})}function t(n){var t=i(n);o(t,"profile")}function e(i){var t=n(i);o(t,"profile")}function r(){fbRef.unauth(),riot.route("login")}function u(i){"login"==i&&fbRef.getAuth()&&fbRef.unauth()}riot.observable(this);var f=this;f.on("login",e),f.on("social_login",t),f.on("logout",r),f.on("route",u)};
},{"../firebase":5,"../utils":38,"promise":40,"riot":46}],9:[function(require,module,exports){
var riot=require("riot");module.exports=function(){riot.observable(this);var r=this;r.on("route",function(e,i,t){r.trigger("main",e,i,t),r.trigger("main_"+e,i,t),"project"==e&&r.trigger("membership_check",i)})};
},{"riot":46}],10:[function(require,module,exports){
var riot=require("riot"),fbRef=require("../firebase");module.exports=function(){function e(){var e,r,i,o=fbRef.getAuth();return o&&(e=o.uid,r=o[o.provider].displayName,i=o[o.provider].profileImageURL),{uid:e,name:r,image:i}}riot.observable(this);var r=this;r.on("route",function(i,o){r.trigger("nav",o,e())})};
},{"../firebase":5,"riot":46}],11:[function(require,module,exports){
var riot=require("riot"),fbRef=require("../../firebase");module.exports=function(){function e(e){fbRef.child("member_status/"+e+"/pending").on("value",function(n){n.exists()&&i.trigger("pendingcount_"+e,n.numChildren())})}riot.observable(this);var i=this;i.on("pendingcount_init",e)};
},{"../../firebase":5,"riot":46}],12:[function(require,module,exports){
var riot=require("riot"),promise=require("promise"),fbRef=require("../../firebase"),utils=require("../../utils");module.exports=function(){function e(e){var o=e.key(),u=e.numChildren();n[o]=[],e.exists()||t.trigger("projectlist_data",o,n[o]),e.forEach(function(e){var t=r(e);i(t,o,u)})}function r(e){return new promise(function(r){fbRef.child("project/"+e.key()).on("value",function(e){e.exists()&&r(e)})})}function i(e,r,i){e.then(function(e){n[r].push(utils.extend(e.val(),{pid:e.key()})),i==n[r].length&&t.trigger("projectlist_data",r,n[r])})}riot.observable(this);var t=this,n={},o=["own","member","pending"];fbRef.onAuth(function(r){if(r)for(var i=0;i<o.length;i++)t.trigger("projectlist_clear",o[i]),fbRef.child("user_project/"+r.uid+"/"+o[i]).on("value",e)})};
},{"../../firebase":5,"../../utils":38,"promise":40,"riot":46}],13:[function(require,module,exports){
var riot=require("riot");module.exports=function(){riot.observable(this)};
},{"riot":46}],14:[function(require,module,exports){
var riot=require("riot"),fbRef=require("../../firebase"),utils=require("../../utils");module.exports=function(){function e(e,i,t){if("project"==e&&!t){var o=fbRef.getAuth();fbRef.child("project/"+i).on("value",function(e){var t={pid:i,isOwner:o.uid==e.val().ownerId},u=utils.extend(e.val(),t);r.trigger("project_data",u)})}}riot.observable(this);var r=this;r.on("route",e)};
},{"../../firebase":5,"../../utils":38,"riot":46}],15:[function(require,module,exports){
var riot=require("riot"),promise=require("promise"),fbRef=require("../../../firebase"),utils=require("../../../utils");module.exports=function(){function e(e,i,t){if("project"==e&&!t&&s!=i){for(var u=0;u<o.length;u++)n.trigger("memberlist_clear",o[u]),fbRef.child("member_status/"+i+"/"+o[u]).on("value",r);s=i}}function r(e){var r=e.key(),o=e.numChildren();u[r]=[],e.exists()||n.trigger("memberlist_data",r,u[r]),e.forEach(function(e){var n=utils.extend(e.val(),{uid:e.key()}),u=i(e);t(u,n,r,o)})}function i(e){return new promise(function(r){fbRef.child("user/"+e.key()+"/name").on("value",function(e){e.exists()&&r(e)})})}function t(e,r,i,t){e.then(function(e){r.name=e.val(),u[i].push(r),t==u[i].length&&n.trigger("memberlist_data",i,u[i])})}riot.observable(this);var n=this,u={},o=["member","pending"],s="";n.on("route",e)};
},{"../../../firebase":5,"../../../utils":38,"promise":40,"riot":46}],16:[function(require,module,exports){
var riot=require("riot"),promise=require("promise"),fbRef=require("../../../firebase");module.exports=function(){function e(e){console.log("edit member",e)}riot.observable(this);var r=this;r.on("memberrole_edit",e)};
},{"../../../firebase":5,"promise":40,"riot":46}],17:[function(require,module,exports){
var riot=require("riot"),fbRef=require("../../../firebase");module.exports=function(){function e(e){var o=e.uid||fbRef.getAuth().uid;console.log("request membership",e.pid,o)}function o(e){console.log("allow membership",e)}function i(e){var o=e.uid||fbRef.getAuth().uid;console.log("deny membership",e.pid,o)}function r(e){console.log("revoke membership",e)}riot.observable(this);var n=this;n.on("membership_request",e),n.on("membership_allow",o),n.on("membership_deny",i),n.on("membership_revoke",r)};
},{"../../../firebase":5,"riot":46}],18:[function(require,module,exports){
var riot=require("riot"),fbRef=require("../../../firebase"),riotcontrol=require("riotcontrol");module.exports=function(){riot.observable(this)};
},{"../../../firebase":5,"riot":46,"riotcontrol":47}],19:[function(require,module,exports){
var riot=require("riot"),utils=require("../../utils"),fbRef=require("../../firebase");module.exports=function(){function e(e){o=fbRef.getAuth().uid,a=new RegExp(e.needle,"i"),u=e.category,c=[],l.once("value",function(e){e.forEach(function(e){"all"==u?r(e):t(e)}),s.trigger("search_data",c.reverse())})}function r(e){for(var r,t=e.val(),n=0;n<f.length;n++)if(r=t[f[n]],r&&a.test(r)){i(t,e.key());break}}function t(e){var r=e.val(),t=r[u];t&&a.test(t)&&i(r,e.key())}function i(e,r){var t={pid:r,isOwner:o===e.ownerId,ownerName:o===e.ownerId?"You":e.ownerName,isActive:new Date(e.dateEnd).getTime()>(new Date).getTime()};c.push(utils.extend(e,t))}function n(e){"search"==e&&s.trigger("search_clear")}riot.observable(this);var o,a,u,c,s=this,f=["title","site","ownerName"],l=fbRef.child("project").orderByChild("public").equalTo(!0);s.on("search",e),s.on("route",n)};
},{"../../firebase":5,"../../utils":38,"riot":46}],20:[function(require,module,exports){
var riot=require("riot"),fbRef=require("../../firebase");module.exports=function(){function e(e){for(var t=fbRef.getAuth().uid,o=function(r,t){i.trigger("join_"+e,r,t.exists())},n=0;n<r.length;n++)fbRef.child("user_project/"+t+"/"+r[n]+"/"+e).on("value",function(e){o(r[n],e)})}riot.observable(this);var i=this,r=["pending","member"];i.on("join_get_status",e)};
},{"../../firebase":5,"riot":46}],21:[function(require,module,exports){
var riot=require("riot");riot.tag("alert",'<div class="alert alert--{ alert.type }" if="{ alert.text }"> <p class="alert__text">{ alert.text } <button class="alert__close" onclick="{ close }">X</button></p> </div>',function(){var t=require("riotcontrol"),e=this;e.alert={},this.close=function(){e.alert={}}.bind(this),t.on("alert",function(t,r){e.update({alert:{text:t,type:r}})}),t.on("alert_clear",function(){e.update({alert:{}})})});
},{"riot":46,"riotcontrol":47}],22:[function(require,module,exports){
var riot=require("riot"),riotcontrol=require("riotcontrol"),utils=require("../../utils");riot.tag("create",'<form name="frmCreate" onsubmit="{ create }"> <h2>Create Project</h2> <label>Project title</label><br> <input type="text" name="title" placeholder="Project name" required><br> <label>Site name</label><br> <input type="text" name="site" placeholder="Site name"><br> <label>Site location</label><br> <div id="mapCanvas"></div> <button type="button" onclick="{ resetMap }">Reset map</button><br> <label>Latitude / Longitude</label><br> <input type="text" name="latlng" placeholder="Click map to set…" disabled><br> <label>Country</label><br> <input type="hidden" name="countryIso"> <input type="hidden" name="countryName"> <input type="text" name="country" placeholder="Click map to set…" disabled><br> <label>Start date</label><br> <input type="date" name="dateStart" required><br> <label>End date</label><br> <input type="date" name="dateEnd" required><br> <label>Privacy</label><br> <input type="radio" name="status" value="public" checked> Public <input type="radio" name="status" value="private"> Private<br> <button type="submit">Create project</button> <button type="reset">Reset</button> </form>',function(){var t=this;this.okDates=function(){return t.dateStart.valueAsNumber<t.dateEnd.valueAsNumber}.bind(this),this.create=function(){if(!t.okDates())return void riotcontrol.trigger("alert","Oops… Looks like a date error.","danger");var e={title:t.title.value,site:t.site.value,countryIso:t.countryIso.value,countryName:t.countryName.value,latlng:t.latlng.value,dateStart:t.dateStart.value,dateEnd:t.dateEnd.value,status:utils.radioBtnVal("status")};riotcontrol.trigger("alert_clear"),riotcontrol.trigger("project_create",e),t.frmCreate.reset()}.bind(this),this.resetMap=function(){riotcontrol.trigger("map_reset"),t.setMapData({})}.bind(this),this.setMapData=function(e){var a=e.countryIso||"",r=e.countryName||"",n=e.latLng||"",i=r&&a?r+","+a:"";t.countryIso.value=a,t.countryName.value=r,t.country.value=i,t.latlng.value=n,t.update()}.bind(this),riotcontrol.on("map_data",t.setMapData),t.on("mount",function(){riotcontrol.trigger("map_init")})});
},{"../../utils":38,"riot":46,"riotcontrol":47}],23:[function(require,module,exports){
var riot=require("riot");riot.tag("list",'<h3 if="{ opts.heading && opts.items.length }">{ opts.heading }</h3> <ul if="{ opts.items.length }"> <li each="{ item, i in opts.items }"> <yield></yield> </li> </ul> <p if="{ opts.status && !opts.items.length }">{ opts.status }</p>',function(t){this.removeItem=function(i){var e=i.item.item,s=t.items,o=s.indexOf(e);s.splice(o,1)}.bind(this)});
},{"riot":46}],24:[function(require,module,exports){
var riot=require("riot");riot.tag("login",'<h2>Log in</h2> <form name="frmLogin" onsubmit="{ login }"> <label>Email</label><br> <input type="email" name="email"><br> <label>Password</label><br> <input type="password" name="password"><br> <button type="submit" __disabled="{ isLoading }">Log in</button> <span if="{ isLoading }">…</span> </form> <h3>Log in with</h3> <button type="button" onclick="{ socialLogin }" data-provider="facebook">Facebook</button>',function(){var i=require("riotcontrol"),o=this;this.login=function(){var n={email:o.email.value,password:o.password.value};i.trigger("login",n),o.isLoading=!0}.bind(this),this.socialLogin=function(o){var n=o.target.getAttribute("data-provider");i.trigger("social_login",n)}.bind(this),i.on("main_login login_fail",function(){o.update({isLoading:!1})}),i.on("login_success",function(){o.update({isLoading:!0})})});
},{"riot":46,"riotcontrol":47}],25:[function(require,module,exports){
var riot=require("riot");riot.tag("app-main","<alert></alert> <login if=\"{ route == 'login' }\"></login> <search if=\"{ route == 'search' }\"></search> <create if=\"{ route == 'create' }\"></create> <profile if=\"{ route == 'profile' }\"></profile> <project if=\"{ route == 'project' && id && !action }\"></project> <newring if=\"{ route == 'project' && id && action == 'new' }\"></newring> <control if=\"{ route == 'project' && id && action == 'old'}\"></control>",function(){var r=require("riotcontrol"),o=this;r.on("main",function(r,e,i){o.update({route:r,id:e,action:i})})});
},{"riot":46,"riotcontrol":47}],26:[function(require,module,exports){
var riot=require("riot");riot.tag("app-nav",'<nav if="{ !uid }" class="left"> <a href="#login">Log in</a> </nav> <nav if="{ uid && !pid }" class="left"> <a href="#create">Create Project</a> <a href="#search">Find Project</a> </nav> <nav if="{ uid && pid }" class="left"> <a href="#project/{ pid }">Overview</a> <a href="#project/{ pid }/new">New Ring</a> <a href="#project/{ pid }/old">Old Ring</a> </nav> <nav if="{ uid }" class="right"> <a href="#profile">{ name }</a> <a href class="button" onclick="{ logout }">Log out</a> </nav>',function(){var a=require("riotcontrol"),i=this;this.logout=function(){a.trigger("logout")}.bind(this),a.on("nav",function(a,e){i.update({pid:a,uid:e.uid,name:e.name||"Profile"})})});
},{"riot":46,"riotcontrol":47}],27:[function(require,module,exports){
var riot=require("riot");require("./user.tag"),require("./projectlist.tag"),riot.tag("profile","<user></user> <projectlist></projectlist>",function(){});
},{"./projectlist.tag":29,"./user.tag":30,"riot":46}],28:[function(require,module,exports){
var riot=require("riot"),riotcontrol=require("riotcontrol");riot.tag("pendingcount",'<span if="{ count }">({ count })</span>',function(n){var o=this;riotcontrol.on("pendingcount_"+n.pid,function(n){o.update({count:n})}),o.on("mount",function(){riotcontrol.trigger("pendingcount_init",n.pid)})});
},{"riot":46,"riotcontrol":47}],29:[function(require,module,exports){
var riot=require("riot"),riotcontrol=require("riotcontrol");require("./projectlist.tag"),require("./pendingcount.tag"),riot.tag("projectlist",'<h2>Projects</h2> <p if="{ loading }">Loading…</p> <list heading="Own" items="{ own }"> <a href="#project/{ item.pid }">{ item.title }<span if="{ item.site }">, { item.site }</span></a> <pendingcount pid="{ item.pid }"></pendingcount> </list> <list heading="Member" items="{ member }"> <a href="#project/{ item.pid }">{ item.title }<span if="{ item.site }">, { item.site }</span></a> <button type="button" onclick="{ parent.parent.leaveProject }">X</button> </list> <list heading="Pending" items="{ pending }"> <span>{ item.title }<span if="{ item.site }">, { item.site }</span></span> <button type="button" onclick="{ parent.parent.undoPending }">X</button> </list>',function(){var t=this;t.loading=!0,this.leaveProject=function(t){var i=t.item.item;riotcontrol.trigger("membership_revoke",i)}.bind(this),this.undoPending=function(t){var i=t.item.item;riotcontrol.trigger("membership_deny",i)}.bind(this),riotcontrol.on("projectlist_data",function(i,e){t[i]=e,t.update({loading:!1})}),riotcontrol.on("projectlist_clear",function(i){t[i]=[],t.update()})});
},{"./pendingcount.tag":28,"./projectlist.tag":29,"riot":46,"riotcontrol":47}],30:[function(require,module,exports){
var riot=require("riot"),riotcontrol=require("riotcontrol");riot.tag("user",'<h2>Profile</h2> <img src="" class="selfie selfie--large"> <p>Firstname Lastname</p> <p>Subscriber / Contributor</p> <input type="text" placeholder="Nationality">',function(){});
},{"riot":46,"riotcontrol":47}],31:[function(require,module,exports){
var riot=require("riot"),riotcontrol=require("riotcontrol");require("./member/memberlist.tag"),require("./ring/ringsize.tag"),riot.tag("project",'<h2>Project</h2> <p if="{ loading }">Loading…</p> <div if="{ !loading }"> <h3>{ data.title }<span if="{ data.site }">, { data.site }</span></h3> <p>{ data.dateStart } &ndash; { data.dateEnd }</p> <memberlist if="{ data.isOwner }"></memberlist> <ringsize pid="{ data.pid }"></ringsize> </div>',function(){var i=this;i.loading=!0,riotcontrol.on("project_data",function(t){i.update({data:t,loading:!1})})});
},{"./member/memberlist.tag":32,"./ring/ringsize.tag":35,"riot":46,"riotcontrol":47}],32:[function(require,module,exports){
var riot=require("riot"),riotcontrol=require("riotcontrol");require("./membership.tag"),require("./memberrole.tag"),riot.tag("memberlist",'<h3>Members</h3> <p if="{ loading }">Loading…</p> <list heading="Pending" items="{ pending }"> <span>{ item.name }</span> <membership uid="{ item.uid }"></membership> </list> <list heading="Member" items="{ member }"> <span>{ item.name }</span> <span>({ item.role }<span if="{ item.sign }">, { item.sign }</span>)</span> <memberrole data="{ item }"></memberrole> </list>',function(){var e=this;e.loading=!0,riotcontrol.on("memberlist_data",function(i,r){e[i]=r,e.update({loading:!1})}),riotcontrol.on("memberlist_clear",function(i){e[i]=[],e.update()})});
},{"./memberrole.tag":33,"./membership.tag":34,"riot":46,"riotcontrol":47}],33:[function(require,module,exports){
var riot=require("riot"),riotcontrol=require("riotcontrol"),utils=require("../../../utils");riot.tag("memberrole",'<button onclick="{ toggleForm }">…</button> <form name="frmRoles" onsubmit="{ edit }" if="{ showForm }"> <label><input type="checkbox" name="ringer" onclick="{ toggleTextfield }" __checked="{ isChecked }"> Ringer</label><br> <input type="text" name="sign" placeholder="Signature" value="{ signValue }" __disabled="{ isDisabled }"><br><br> <button type="submit">Update</button> <button type="button" onclick="{ revoke }">Revoke</button> </form>',function(e){var i=this;i.isChecked="ringer"==e.data.role,i.signValue=e.data.sign,i.isDisabled=!i.isChecked,this.toggleForm=function(){i.showForm=!i.showForm}.bind(this),this.toggleTextfield=function(e){i.isDisabled=!e.target.checked,i.isDisabled||setTimeout(function(){i.sign.focus()},1)}.bind(this),this.edit=function(){var t={newRole:i.ringer.checked?"ringer":"assistant",newSign:i.ringer.checked?i.sign.value:"",pid:i.parent.id};return"ringer"!=t.newRole||t.newSign?(riotcontrol.trigger("memberrole_edit",utils.extend(e.data,t)),void riotcontrol.trigger("alert_clear")):void riotcontrol.trigger("alert","Please enter a Ringer signature unique to this project.","error")}.bind(this),this.revoke=function(){var t={pid:i.parent.id,uid:e.data.uid};riotcontrol.trigger("membership_revoke",t)}.bind(this)});
},{"../../../utils":38,"riot":46,"riotcontrol":47}],34:[function(require,module,exports){
var riot=require("riot"),riotcontrol=require("riotcontrol");riot.tag("membership",'<button onclick="{ allow }">Allow</button> <button onclick="{ deny }">Deny</button>',function(t){var i={pid:this.parent.id,uid:t.uid};this.allow=function(){riotcontrol.trigger("membership_allow",i)}.bind(this),this.deny=function(){riotcontrol.trigger("membership_deny",i)}.bind(this)});
},{"riot":46,"riotcontrol":47}],35:[function(require,module,exports){
var riot=require("riot"),riotcontrol=require("riotcontrol");riot.tag("ringsize",'<a href onclick="{ toggleForm }">Toggle Ring Sizes</a> <form if="{ showForm }" name="frmRingsizes" onsubmit="{ add }"> <list items="{ ringsizes }"> <span>{ item.ringSize }</span><span>{ item.serialNumber }</span> <button type="button" onclick="{ parent.parent.remove }">X</button> </list> <input riot-type={"number"} step="0.5" name="ringSize" placeholder="Ring Size" required> <input type="text" name="serialNumber" placeholder="Serial Number" required> <button type="submit">Add</button> </form>',function(){var e=this;this.toggleForm=function(){e.showForm=!e.showForm}.bind(this)});
},{"riot":46,"riotcontrol":47}],36:[function(require,module,exports){
var riot=require("riot"),riotcontrol=require("riotcontrol"),utils=require("../../utils");require("./join.tag"),riot.tag("search",'<form name="frmSearch" onsubmit="{ find }"> <h2>Find project</h2> <input type="text" name="needle" placeholder="Search" autocomplete="off"> <button type="button" onclick="{ find }">OK</button> <fieldset> <legend>Filter by</legend> <label><input type="radio" name="category" onclick="{ find }" value="all" checked> All</label> <label><input type="radio" name="category" onclick="{ find }" value="title"> Project title</label> <label><input type="radio" name="category" onclick="{ find }" value="site"> Site name</label> <label><input type="radio" name="category" onclick="{ find }" value="ownerName"> Owner name</label> </fieldset> </form> <list heading="Search Results" items="{ result }" if="{ result.length }"> <span>{ item.title }</span><span>, { item.site }</span><br> <span>Owned by: { item.ownerName }</span><br> <datetime if="{ item.dateStart || item.dateEnd }">{ item.dateStart } &ndash; { item.dateEnd } </datetime> <join if="{ !item.isOwner && item.isActive }" data="{ item }"></join> </list>',function(){var e=this;e.show=!1,this.find=function(){if(e.needle.value.length>1){var t={category:utils.radioBtnVal("category"),needle:e.needle.value};riotcontrol.trigger("search",t)}}.bind(this),riotcontrol.on("search_data",function(t){e.update({result:t})}),riotcontrol.on("search_clear",function(){e.frmSearch.reset(),e.update({result:[]})})});
},{"../../utils":38,"./join.tag":37,"riot":46,"riotcontrol":47}],37:[function(require,module,exports){
var riot=require("riot"),riotcontrol=require("riotcontrol");riot.tag("join",'<span if="{ loading }">…</span> <span if="{ !loading }"> <span if="{ pending }">[Pending]</span> <span if="{ member }">[Member]</span> <button type="button" onclick="{ join }" if="{ !pending && !member }">Join</button> <button type="button" onclick="{ undo }" if="{ pending }">Undo</button> </span>',function(n){var i=this;i.loading=!0,this.join=function(){riotcontrol.trigger("membership_request",{pid:n.data.pid}),i.pending=!0}.bind(this),this.undo=function(){riotcontrol.trigger("membership_deny",{pid:n.data.pid}),i.pending=!1}.bind(this),riotcontrol.on("join_"+n.data.pid,function(n,t){i[n]=t,i.update({loading:!1})}),riotcontrol.trigger("join_get_status",n.data.pid)});
},{"riot":46,"riotcontrol":47}],38:[function(require,module,exports){
var utils={};utils.extend=function(e,t){if(null==e||null==t)return e;for(key in t)t.hasOwnProperty(key)&&(e[key]=t[key]);return e},utils.radioBtnVal=function(e){return document.querySelector("[name="+e+"]:checked").value},utils.setLocalUser=function(e){"undefined"!=typeof Storage&&localStorage.setItem("user",JSON.stringify(e))},utils.getLocalUser=function(e){var t=JSON.parse(localStorage.getItem("user"));return e?t[e]:t},utils.updateLocalUser=function(e,t){var r=utils.getLocalUser();r[e]=t,utils.setLocalUser(r)},module.exports=utils;
},{}],39:[function(require,module,exports){
!function(){function n(t){return void 0!==t}function ba(){}function ca(t){t.ub=function(){return t.tf?t.tf:t.tf=new t}}function da(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&"undefined"!=typeof t.splice&&"undefined"!=typeof t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||"undefined"!=typeof t.call&&"undefined"!=typeof t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&"undefined"==typeof t.call)return"object";return e}function ea(t){return"array"==da(t)}function fa(t){var e=da(t);return"array"==e||"object"==e&&"number"==typeof t.length}function p(t){return"string"==typeof t}function ga(t){return"number"==typeof t}function ha(t){return"function"==da(t)}function ia(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function ja(t){return t.call.apply(t.bind,arguments)}function ka(t,e){if(!t)throw Error();if(2<arguments.length){var n=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,n),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function q(){return q=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ja:ka,q.apply(null,arguments)}function ma(t,e){function n(){}n.prototype=e.prototype,t.Zg=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vg=function(t,n){for(var i=Array(arguments.length-2),r=2;r<arguments.length;r++)i[r-2]=arguments[r];return e.prototype[n].apply(t,i)}}function r(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function na(t,e){var n,i={};for(n in t)i[n]=e.call(void 0,t[n],n,t);return i}function oa(t,e){for(var n in t)if(!e.call(void 0,t[n],n,t))return!1;return!0}function pa(t){var e,n=0;for(e in t)n++;return n}function qa(t){for(var e in t)return e}function ra(t){var e,n=[],i=0;for(e in t)n[i++]=t[e];return n}function sa(t){var e,n=[],i=0;for(e in t)n[i++]=e;return n}function ta(t,e){for(var n in t)if(t[n]==e)return!0;return!1}function ua(t,e,n){for(var i in t)if(e.call(n,t[i],i,t))return i}function va(t,e){var n=ua(t,e,void 0);return n&&t[n]}function wa(t){for(var e in t)return!1;return!0}function xa(t){var e,n={};for(e in t)n[e]=t[e];return n}function za(t){for(var e,n,i=1;i<arguments.length;i++){n=arguments[i];for(e in n)t[e]=n[e];for(var r=0;r<ya.length;r++)e=ya[r],Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])}}function Aa(a){if(a=String(a),/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(b){}throw Error("Invalid JSON string: "+a)}function Ba(){this.Pd=void 0}function Ca(t,e,n){switch(typeof e){case"string":Da(e,n);break;case"number":n.push(isFinite(e)&&!isNaN(e)?e:"null");break;case"boolean":n.push(e);break;case"undefined":n.push("null");break;case"object":if(null==e){n.push("null");break}if(ea(e)){var i=e.length;n.push("[");for(var r="",o=0;i>o;o++)n.push(r),r=e[o],Ca(t,t.Pd?t.Pd.call(e,String(o),r):r,n),r=",";n.push("]");break}n.push("{"),i="";for(o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r=e[o],"function"!=typeof r&&(n.push(i),Da(o,n),n.push(":"),Ca(t,t.Pd?t.Pd.call(e,o,r):r,n),i=","));n.push("}");break;case"function":break;default:throw Error("Unknown type: "+typeof e)}}function Da(t,e){e.push('"',t.replace(Fa,function(t){if(t in Ea)return Ea[t];var e=t.charCodeAt(0),n="\\u";return 16>e?n+="000":256>e?n+="00":4096>e&&(n+="0"),Ea[t]=n+e.toString(16)}),'"')}function Ga(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^la()).toString(36)}function Ka(){this.Wa=-1}function La(){this.Wa=-1,this.Wa=64,this.R=[],this.le=[],this.Tf=[],this.Id=[],this.Id[0]=128;for(var t=1;t<this.Wa;++t)this.Id[t]=0;this.be=this.$b=0,this.reset()}function Ma(t,e,n){n||(n=0);var i=t.Tf;if(p(e))for(var r=0;16>r;r++)i[r]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(r=0;16>r;r++)i[r]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(r=16;80>r;r++){var o=i[r-3]^i[r-8]^i[r-14]^i[r-16];i[r]=4294967295&(o<<1|o>>>31)}e=t.R[0],n=t.R[1];for(var a,s=t.R[2],u=t.R[3],h=t.R[4],r=0;80>r;r++)40>r?20>r?(o=u^n&(s^u),a=1518500249):(o=n^s^u,a=1859775393):60>r?(o=n&s|u&(n|s),a=2400959708):(o=n^s^u,a=3395469782),o=(e<<5|e>>>27)+o+h+a+i[r]&4294967295,h=u,u=s,s=4294967295&(n<<30|n>>>2),n=e,e=o;t.R[0]=t.R[0]+e&4294967295,t.R[1]=t.R[1]+n&4294967295,t.R[2]=t.R[2]+s&4294967295,t.R[3]=t.R[3]+u&4294967295,t.R[4]=t.R[4]+h&4294967295}function Ta(t,e){var n=Ua(t,e,void 0);return 0>n?null:p(t)?t.charAt(n):t[n]}function Ua(t,e,n){for(var i=t.length,r=p(t)?t.split(""):t,o=0;i>o;o++)if(o in r&&e.call(n,r[o],o,t))return o;return-1}function Va(e,n){var i=Na(e,n);i>=0&&t.splice.call(e,i,1)}function Wa(e,n,i){return 2>=arguments.length?t.slice.call(e,n):t.slice.call(e,n,i)}function Xa(t,e){t.sort(e||Ya)}function Ya(t,e){return t>e?1:e>t?-1:0}function fb(t,e){if(!fa(t))throw Error("encodeByteArray takes an array as a parameter");gb();for(var n=e?db:cb,i=[],r=0;r<t.length;r+=3){var o=t[r],a=r+1<t.length,s=a?t[r+1]:0,u=r+2<t.length,h=u?t[r+2]:0,c=o>>2,o=(3&o)<<4|s>>4,s=(15&s)<<2|h>>6,h=63&h;u||(h=64,a||(s=64)),i.push(n[c],n[o],n[s],n[h])}return i.join("")}function gb(){if(!cb){cb={},db={},eb={};for(var t=0;65>t;t++)cb[t]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(t),db[t]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(t),eb[db[t]]=t,t>=62&&(eb["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(t)]=t)}}function u(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function w(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0}function hb(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ib(t){var e={};return hb(t,function(t,n){e[t]=n}),e}function jb(t){var e=[];return hb(t,function(t,n){ea(n)?Oa(n,function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}),e.length?"&"+e.join("&"):""}function kb(t){var e={};return t=t.replace(/^\?/,"").split("&"),Oa(t,function(t){t&&(t=t.split("="),e[t[0]]=t[1])}),e}function x(t,e,n,i){var r;if(e>i?r="at least "+e:i>n&&(r=0===n?"none":"no more than "+n),r)throw Error(t+" failed: Was called with "+i+(1===i?" argument.":" arguments.")+" Expects "+r+".")}function z(t,e,n){var i="";switch(e){case 1:i=n?"first":"First";break;case 2:i=n?"second":"Second";break;case 3:i=n?"third":"Third";break;case 4:i=n?"fourth":"Fourth";break;default:throw Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return t=t+" failed: "+(i+" argument ")}function A(t,e,i,r){if((!r||n(i))&&!ha(i))throw Error(z(t,e,r)+"must be a valid function.")}function lb(t,e,i){if(n(i)&&(!ia(i)||null===i))throw Error(z(t,e,!0)+"must be a valid context object.")}function mb(t){return"undefined"!=typeof JSON&&n(JSON.parse)?JSON.parse(t):Aa(t)}function B(t){if("undefined"!=typeof JSON&&n(JSON.stringify))t=JSON.stringify(t);else{var e=[];Ca(new Ba,t,e),t=e.join("")}return t}function nb(){this.Sd=C}function ob(){}function qb(t,e,n){this.Qf=t,this.Ka=e,this.Hd=n}function ub(){this.tb=[]}function vb(t,e){for(var n=null,i=0;i<e.length;i++){var r=e[i],o=r.Yb();null===n||o.Z(n.Yb())||(t.tb.push(n),n=null),null===n&&(n=new wb(o)),n.add(r)}n&&t.tb.push(n)}function xb(t,e,n){vb(t,n),yb(t,function(t){return t.Z(e)})}function zb(t,e,n){vb(t,n),yb(t,function(t){return t.contains(e)||e.contains(t)})}function yb(t,e){for(var n=!0,i=0;i<t.tb.length;i++){var r=t.tb[i];if(r)if(r=r.Yb(),e(r)){for(var r=t.tb[i],o=0;o<r.sd.length;o++){var a=r.sd[o];if(null!==a){r.sd[o]=null;var s=a.Ub();Ab&&Bb("event: "+a.toString()),Cb(s)}}t.tb[i]=null}else n=!1}n&&(t.tb=[])}function wb(t){this.qa=t,this.sd=[]}function D(t,e,n,i){this.type=t,this.Ja=e,this.Ya=n,this.Je=i,this.Nd=void 0}function Db(t){return new D(Eb,t)}function Fb(t,e,n,i){this.te=e,this.Wd=n,this.Nd=i,this.rd=t}function Gb(t,e,n){this.te=t,this.error=e,this.path=n}function sb(t,e,n){this.B=t,this.$=e,this.Tb=n}function Hb(t){return t.$}function rb(t,e){return t.$&&!t.Tb||t.B.Ha(e)}function Ib(t){this.dg=t,this.Ad=null}function Jb(t,e){this.Mf={},this.Yd=new Ib(t),this.ca=e;var n=1e4+2e4*Math.random();setTimeout(q(this.Hf,this),Math.floor(n))}function Kb(){this.Dc={}}function Lb(t,e,i){n(i)||(i=1),u(t.Dc,e)||(t.Dc[e]=0),t.Dc[e]+=i}function Ob(t){return t=t.toString(),Mb[t]||(Mb[t]=new Kb),Mb[t]}function Pb(t,e){var n=t.toString();return Nb[n]||(Nb[n]=e()),Nb[n]}function E(t,e){this.name=t,this.S=e}function Qb(t,e){return new E(t,e)}function Rb(t,e){return Sb(t.name,e.name)}function Tb(t,e){return Sb(t,e)}function Ub(t,e,n){this.type=Vb,this.source=t,this.path=e,this.Ia=n}function Wb(t,e){this.type=Xb,this.source=Yb,this.path=t,this.Ve=e}function Zb(t,e){this.type=$b,this.source=t,this.path=e}function ac(t,e){this.La=t,this.xa=e?e:bc}function cc(t,e){for(var n,i=t.xa,r=null;!i.e();){if(n=t.La(e,i.key),0===n){if(i.left.e())return r?r.key:null;for(i=i.left;!i.right.e();)i=i.right;return i.key}0>n?i=i.left:n>0&&(r=i,i=i.right)}throw Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}function dc(t,e,n,i,r){for(this.Rd=r||null,this.Ee=i,this.Pa=[],r=1;!t.e();)if(r=e?n(t.key,e):1,i&&(r*=-1),0>r)t=this.Ee?t.left:t.right;else{if(0===r){this.Pa.push(t);break}this.Pa.push(t),t=this.Ee?t.right:t.left}}function H(t){if(0===t.Pa.length)return null;var e,n=t.Pa.pop();if(e=t.Rd?t.Rd(n.key,n.value):{key:n.key,value:n.value},t.Ee)for(n=n.left;!n.e();)t.Pa.push(n),n=n.right;else for(n=n.right;!n.e();)t.Pa.push(n),n=n.left;return e}function ec(t){if(0===t.Pa.length)return null;var e;return e=t.Pa,e=e[e.length-1],t.Rd?t.Rd(e.key,e.value):{key:e.key,value:e.value}}function fc(t,e,n,i,r){this.key=t,this.value=e,this.color=null!=n?n:!0,this.left=null!=i?i:bc,this.right=null!=r?r:bc}function gc(t){return t.left.e()?t:gc(t.left)}function ic(t){return t.left.e()?bc:(t.left.fa()||t.left.left.fa()||(t=jc(t)),t=t.X(null,null,null,ic(t.left),null),hc(t))}function hc(t){return t.right.fa()&&!t.left.fa()&&(t=mc(t)),t.left.fa()&&t.left.left.fa()&&(t=kc(t)),t.left.fa()&&t.right.fa()&&(t=lc(t)),t}function jc(t){return t=lc(t),t.right.left.fa()&&(t=t.X(null,null,null,null,kc(t.right)),t=mc(t),t=lc(t)),t}function mc(t){return t.right.X(null,null,t.color,t.X(null,null,!0,null,t.right.left),null)}function kc(t){return t.left.X(null,null,t.color,null,t.X(null,null,!0,t.left.right,null))}function lc(t){return t.X(null,null,!t.color,t.left.X(null,null,!t.left.color,null,null),t.right.X(null,null,!t.right.color,null,null))}function nc(){}function oc(t,e){return t&&"object"==typeof t?(J(".sv"in t,"Unexpected leaf node or priority contents"),e[t[".sv"]]):t}function pc(t,e){var n=new qc;return rc(t,new K(""),function(t,i){n.mc(t,sc(i,e))}),n}function sc(t,e){var n,i=t.A().K(),i=oc(i,e);if(t.N()){var r=oc(t.Ba(),e);return r!==t.Ba()||i!==t.A().K()?new tc(r,L(i)):t}return n=t,i!==t.A().K()&&(n=n.da(new tc(i))),t.U(M,function(t,i){var r=sc(i,e);r!==i&&(n=n.Q(t,r))}),n}function K(t,e){if(1==arguments.length){this.o=t.split("/");for(var n=0,i=0;i<this.o.length;i++)0<this.o[i].length&&(this.o[n]=this.o[i],n++);this.o.length=n,this.Y=0}else this.o=t,this.Y=e}function N(t,e){var n=O(t);if(null===n)return e;if(n===O(e))return N(G(t),G(e));throw Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function O(t){return t.Y>=t.o.length?null:t.o[t.Y]}function uc(t){return t.o.length-t.Y}function G(t){var e=t.Y;return e<t.o.length&&e++,new K(t.o,e)}function vc(t){return t.Y<t.o.length?t.o[t.o.length-1]:null}function wc(t,e){this.Qa=t.slice(),this.Ea=Math.max(1,this.Qa.length),this.kf=e;for(var n=0;n<this.Qa.length;n++)this.Ea+=xc(this.Qa[n]);yc(this)}function yc(t){if(768<t.Ea)throw Error(t.kf+"has a key path longer than 768 bytes ("+t.Ea+").");if(32<t.Qa.length)throw Error(t.kf+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+zc(t))}function zc(t){return 0==t.Qa.length?"":"in property '"+t.Qa.join(".")+"'"}function Ac(){this.wc={}}function Bc(t){this.Ec=t,this.Md="firebase:"}function Cc(t){try{if("undefined"!=typeof window&&"undefined"!=typeof window[t]){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Bc(e)}}catch(n){}return new Ac}function Ec(t,e,n,i,r){this.host=t.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.lb=e,this.Cb=n,this.Tg=i,this.Ld=r||"",this.Oa=Dc.get("host:"+t)||this.host}function Fc(t,e){e!==t.Oa&&(t.Oa=e,"s-"===t.Oa.substr(0,2)&&Dc.set("host:"+t.host,t.Oa))}function J(t,e){if(!t)throw Hc(e)}function Hc(t){return Error("Firebase (2.2.4) INTERNAL ASSERT FAILED: "+t)}function Ic(t){try{var e;if("undefined"!=typeof atob)e=atob(t);else{gb();for(var n=eb,i=[],r=0;r<t.length;){var o=n[t.charAt(r++)],a=r<t.length?n[t.charAt(r)]:0;++r;var s=r<t.length?n[t.charAt(r)]:64;++r;var u=r<t.length?n[t.charAt(r)]:64;if(++r,null==o||null==a||null==s||null==u)throw Error();i.push(o<<2|a>>4),64!=s&&(i.push(a<<4&240|s>>2),64!=u&&i.push(s<<6&192|u))}if(8192>i.length)e=String.fromCharCode.apply(null,i);else{for(t="",n=0;n<i.length;n+=8192)t+=String.fromCharCode.apply(null,Wa(i,n,n+8192));e=t}}return e}catch(h){Bb("base64Decode failed: ",h)}return null}function Jc(t){var e=Kc(t);t=new La,t.update(e);var e=[],n=8*t.be;56>t.$b?t.update(t.Id,56-t.$b):t.update(t.Id,t.Wa-(t.$b-56));for(var i=t.Wa-1;i>=56;i--)t.le[i]=255&n,n/=256;for(Ma(t,t.le),i=n=0;5>i;i++)for(var r=24;r>=0;r-=8)e[n]=t.R[i]>>r&255,++n;return fb(e)}function Lc(){for(var t="",e=0;e<arguments.length;e++)t=fa(arguments[e])?t+Lc.apply(null,arguments[e]):"object"==typeof arguments[e]?t+B(arguments[e]):t+arguments[e],t+=" ";return t}function Bb(){if(!0===Mc&&(Mc=!1,null===Ab&&!0===P.get("logging_enabled")&&Nc(!0)),Ab){var t=Lc.apply(null,arguments);Ab(t)}}function Oc(t){return function(){Bb(t,arguments)}}function Pc(){if("undefined"!=typeof console){var t="FIREBASE INTERNAL ERROR: "+Lc.apply(null,arguments);"undefined"!=typeof console.error?console.error(t):console.log(t)}}function Qc(){var t=Lc.apply(null,arguments);throw Error("FIREBASE FATAL ERROR: "+t)}function Q(){if("undefined"!=typeof console){var t="FIREBASE WARNING: "+Lc.apply(null,arguments);"undefined"!=typeof console.warn?console.warn(t):console.log(t)}}function Rc(t){var e="",n="",i="",r="",o=!0,a="https",s=443;if(p(t)){var u=t.indexOf("//");for(u>=0&&(a=t.substring(0,u-1),t=t.substring(u+2)),u=t.indexOf("/"),-1===u&&(u=t.length),e=t.substring(0,u),r="",t=t.substring(u).split("/"),u=0;u<t.length;u++)if(0<t[u].length){var h=t[u];try{h=decodeURIComponent(h.replace(/\+/g," "))}catch(c){}r+="/"+h}t=e.split("."),3===t.length?(n=t[1],i=t[0].toLowerCase()):2===t.length&&(n=t[0]),u=e.indexOf(":"),u>=0&&(o="https"===a||"wss"===a,s=e.substring(u+1),isFinite(s)&&(s=String(s)),s=p(s)?/^\s*-?0x/i.test(s)?parseInt(s,16):parseInt(s,10):0/0)}return{host:e,port:s,domain:n,Qg:i,lb:o,scheme:a,Zc:r}}function Sc(t){return ga(t)&&(t!=t||t==Number.POSITIVE_INFINITY||t==Number.NEGATIVE_INFINITY)}function Tc(t){if("complete"===document.readyState)t();else{var e=!1,n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}function Sb(t,e){if(t===e)return 0;if("[MIN_NAME]"===t||"[MAX_NAME]"===e)return-1;if("[MIN_NAME]"===e||"[MAX_NAME]"===t)return 1;var n=Uc(t),i=Uc(e);return null!==n?null!==i?0==n-i?t.length-e.length:n-i:-1:null!==i?1:e>t?-1:1}function Vc(t,e){if(e&&t in e)return e[t];throw Error("Missing required key ("+t+") in object: "+B(e))}function Wc(t){if("object"!=typeof t||null===t)return B(t);var e,n=[];for(e in t)n.push(e);n.sort(),e="{";for(var i=0;i<n.length;i++)0!==i&&(e+=","),e+=B(n[i]),e+=":",e+=Wc(t[n[i]]);return e+"}"}function Xc(t,e){if(t.length<=e)return[t];for(var n=[],i=0;i<t.length;i+=e)n.push(i+e>t?t.substring(i,t.length):t.substring(i,i+e));return n}function Yc(t,e){if(ea(t))for(var n=0;n<t.length;++n)e(n,t[n]);else r(t,e)}function Zc(t){J(!Sc(t),"Invalid JSON number");var e,n,i,r;for(0===t?(i=n=0,e=-(1/0)===1/t?1:0):(e=0>t,t=Math.abs(t),t>=Math.pow(2,-1022)?(i=Math.min(Math.floor(Math.log(t)/Math.LN2),1023),n=i+1023,i=Math.round(t*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,i=Math.round(t/Math.pow(2,-1074)))),r=[],t=52;t;--t)r.push(i%2?1:0),i=Math.floor(i/2);for(t=11;t;--t)r.push(n%2?1:0),n=Math.floor(n/2);for(r.push(e?1:0),r.reverse(),e=r.join(""),n="",t=0;64>t;t+=8)i=parseInt(e.substr(t,8),2).toString(16),1===i.length&&(i="0"+i),n+=i;return n.toLowerCase()}function Uc(t){return $c.test(t)&&(t=Number(t),t>=-2147483648&&2147483647>=t)?t:null}function Cb(t){try{t()}catch(e){setTimeout(function(){throw Q("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}}function R(t){if(ha(t)){var e=Array.prototype.slice.call(arguments,1).slice();Cb(function(){t.apply(null,e)})}}function Kc(t){for(var e=[],n=0,i=0;i<t.length;i++){var r=t.charCodeAt(i);r>=55296&&56319>=r&&(r-=55296,i++,J(i<t.length,"Surrogate pair missing trail surrogate."),r=65536+(r<<10)+(t.charCodeAt(i)-56320)),128>r?e[n++]=r:(2048>r?e[n++]=r>>6|192:(65536>r?e[n++]=r>>12|224:(e[n++]=r>>18|240,e[n++]=r>>12&63|128),e[n++]=r>>6&63|128),e[n++]=63&r|128)}return e}function xc(t){for(var e=0,n=0;n<t.length;n++){var i=t.charCodeAt(n);128>i?e++:2048>i?e+=2:i>=55296&&56319>=i?(e+=4,n++):e+=3}return e}function ad(t){var e={},n={},i={},r="";try{var o=t.split("."),e=mb(Ic(o[0])||""),n=mb(Ic(o[1])||""),r=o[2],i=n.d||{};delete n.d}catch(a){}return{Wg:e,Ac:n,data:i,Ng:r}}function bd(t){return t=ad(t).Ac,"object"==typeof t&&t.hasOwnProperty("iat")?w(t,"iat"):null}function cd(t){t=ad(t);var e=t.Ac;return!!t.Ng&&!!e&&"object"==typeof e&&e.hasOwnProperty("iat")}function dd(t){this.V=t,this.g=t.n.g}function ed(t,e,n,i){var r=[],o=[];return Oa(e,function(e){"child_changed"===e.type&&t.g.xd(e.Je,e.Ja)&&o.push(new D("child_moved",e.Ja,e.Ya))}),fd(t,r,"child_removed",e,i,n),fd(t,r,"child_added",e,i,n),fd(t,r,"child_moved",o,i,n),fd(t,r,"child_changed",e,i,n),fd(t,r,Eb,e,i,n),r}function fd(t,e,n,i,r,o){i=Pa(i,function(t){return t.type===n}),Xa(i,q(t.eg,t)),Oa(i,function(n){var i=gd(t,n,o);Oa(r,function(r){r.Jf(n.type)&&e.push(r.createEvent(i,t.V))})})}function gd(t,e,n){return"value"!==e.type&&"child_removed"!==e.type&&(e.Nd=n.qf(e.Ya,e.Ja,t.g)),e}function hd(){this.eb={}}function id(t,e){var n=e.type,i=e.Ya;J("child_added"==n||"child_changed"==n||"child_removed"==n,"Only child changes supported for tracking"),J(".priority"!==i,"Only non-priority child changes can be tracked.");var r=w(t.eb,i);if(r){var o=r.type;if("child_added"==n&&"child_removed"==o)t.eb[i]=new D("child_changed",e.Ja,i,r.Ja);else if("child_removed"==n&&"child_added"==o)delete t.eb[i];else if("child_removed"==n&&"child_changed"==o)t.eb[i]=new D("child_removed",r.Je,i);else if("child_changed"==n&&"child_added"==o)t.eb[i]=new D("child_added",e.Ja,i);else{if("child_changed"!=n||"child_changed"!=o)throw Hc("Illegal combination of changes: "+e+" occurred after "+r);t.eb[i]=new D("child_changed",e.Ja,i,r.Je)}}else t.eb[i]=e}function jd(t,e,n){this.Pb=t,this.qb=e,this.sb=n||null}function kd(t,e,n){this.ga=t,this.qb=e,this.sb=n}function ld(t){this.g=t}function md(t){this.Ae=new ld(t.g),this.g=t.g;var e;t.la?(e=nd(t),e=t.g.Oc(od(t),e)):e=t.g.Sc(),this.dd=e,t.na?(e=pd(t),t=t.g.Oc(qd(t),e)):t=t.g.Pc(),this.Fc=t}function rd(t){this.ra=new md(t),this.g=t.g,J(t.ia,"Only valid if limit has been set"),this.ja=t.ja,this.Jb=!sd(t)}function td(t,e,n,i,r,o){var a;if(t.Jb){var s=ud(t.g);a=function(t,e){return s(e,t)}}else a=ud(t.g);J(e.Db()==t.ja,"");var u=new E(n,i),h=t.Jb?wd(e,t.g):xd(e,t.g),c=t.ra.matches(u);if(e.Ha(n)){var f=e.M(n),h=r.xe(t.g,h,t.Jb);return null!=h&&h.name==n&&(h=r.xe(t.g,h,t.Jb)),r=null==h?1:a(h,u),c&&!i.e()&&r>=0?(null!=o&&id(o,new D("child_changed",i,n,f)),e.Q(n,i)):(null!=o&&id(o,new D("child_removed",f,n)),e=e.Q(n,C),null!=h&&t.ra.matches(h)?(null!=o&&id(o,new D("child_added",h.S,h.name)),e.Q(h.name,h.S)):e)}return i.e()?e:c&&0<=a(h,u)?(null!=o&&(id(o,new D("child_removed",h.S,h.name)),id(o,new D("child_added",i,n))),e.Q(n,i).Q(h.name,C)):e}function yd(t,e){this.he=t,this.cg=e}function zd(t){this.I=t}function Hd(t,e,n,i,r,o){var a=e.D;if(null!=i.sc(n))return e;var s;if(n.e())J(Hb(e.u()),"If change path is empty, we must have complete server data"),e.u().Tb?(r=tb(e),i=i.xc(r instanceof T?r:C)):i=i.ua(tb(e)),o=t.I.ta(e.D.j(),i,o);else{var u=O(n);if(".priority"==u)J(1==uc(n),"Can't have a priority with additional path components"),o=a.j(),s=e.u().j(),i=i.hd(n,o,s),o=null!=i?t.I.da(o,i):a.j();else{var h=G(n);rb(a,u)?(s=e.u().j(),i=i.hd(n,a.j(),s),i=null!=i?a.j().M(u).G(h,i):a.j().M(u)):i=i.Xa(u,e.u()),o=null!=i?t.I.G(a.j(),u,i,r,o):a.j()}}return Fd(e,o,a.$||n.e(),t.I.Ga())}function Bd(t,e,n,i,r,o,a,s){var u=e.u();if(a=a?t.I:t.I.Vb(),n.e())i=a.ta(u.j(),i,null);else if(a.Ga()&&!u.Tb)i=u.j().G(n,i),i=a.ta(u.j(),i,null);else{var h=O(n);if((n.e()?!u.$||u.Tb:!rb(u,O(n)))&&1<uc(n))return e;i=u.j().M(h).G(G(n),i),i=".priority"==h?a.da(u.j(),i):a.G(u.j(),h,i,pb,null)}return u=u.$||n.e(),e=new Id(e.D,new sb(i,u,a.Ga())),Hd(t,e,n,r,new qb(r,e,o),s)}function Ad(t,e,n,i,r,o,a){var s=e.D;if(r=new qb(r,e,o),n.e())a=t.I.ta(e.D.j(),i,a),t=Fd(e,a,!0,t.I.Ga());else if(o=O(n),".priority"===o)a=t.I.da(e.D.j(),i),t=Fd(e,a,s.$,s.Tb);else{var u=G(n);if(n=s.j().M(o),!u.e()){var h=r.pf(o);i=null!=h?".priority"===vc(u)&&h.oa(u.parent()).e()?h:h.G(u,i):C}n.Z(i)?t=e:(a=t.I.G(s.j(),o,i,r,a),t=Fd(e,a,s.$,t.I.Ga()))}return t}function Dd(t,e,n,i,r,o,a){var s=e;return Kd(i,function(i,u){var h=n.w(i);rb(e.D,O(h))&&(s=Ad(t,s,h,u,r,o,a))}),Kd(i,function(i,u){var h=n.w(i);rb(e.D,O(h))||(s=Ad(t,s,h,u,r,o,a))}),s}function Ld(t,e){return Kd(e,function(e,n){t=t.G(e,n)}),t}function Ed(t,e,n,i,r,o,a,s){if(e.u().j().e()&&!Hb(e.u()))return e;var u=e;n=n.e()?i:Md(Nd,n,i);var h=e.u().j();return n.children.ha(function(n,i){if(h.Ha(n)){var c=e.u().j().M(n),c=Ld(c,i);u=Bd(t,u,new K(n),c,r,o,a,s)}}),n.children.ha(function(n,i){var c=!Hb(e.u())&&null==i.value;h.Ha(n)||c||(c=e.u().j().M(n),c=Ld(c,i),u=Bd(t,u,new K(n),c,r,o,a,s))}),u}function Gd(t,e,n,i,r,o){if(null!=i.sc(n))return e;var a=new qb(i,e,r),s=r=e.D.j();if(Hb(e.u())){if(n.e())r=i.ua(tb(e)),s=t.I.ta(e.D.j(),r,o);else if(".priority"===O(n)){var u=i.Xa(O(n),e.u());null==u||r.e()||r.A().Z(u)||(s=t.I.da(r,u))}else u=O(n),r=i.Xa(u,e.u()),null!=r&&(s=t.I.G(e.D.j(),u,r,a,o));r=!0}else e.D.$||n.e()?(s=r,r=e.D.j(),r.N()||r.U(M,function(n){var r=i.Xa(n,e.u());null!=r&&(s=t.I.G(s,n,r,a,o))}),r=e.D.$):(u=O(n),(1==uc(n)||rb(e.D,u))&&(n=i.Xa(u,e.u()),null!=n&&(s=t.I.G(r,u,n,a,o))),r=!1);return Fd(e,s,r,t.I.Ga())}function Od(){}function ud(t){return q(t.compare,t)}function Rd(t){this.bc=t}function Td(){}function Ud(){}function Wd(){}function Zd(){this.Rb=this.na=this.Lb=this.la=this.ia=!1,this.ja=0,this.Nb="",this.dc=null,this.xb="",this.ac=null,this.vb="",this.g=M}function sd(t){return""===t.Nb?t.la:"l"===t.Nb}function od(t){return J(t.la,"Only valid if start has been set"),t.dc}function nd(t){return J(t.la,"Only valid if start has been set"),t.Lb?t.xb:"[MIN_NAME]"}function qd(t){return J(t.na,"Only valid if end has been set"),t.ac}function pd(t){return J(t.na,"Only valid if end has been set"),t.Rb?t.vb:"[MAX_NAME]"}function ae(t){var e=new Zd;return e.ia=t.ia,e.ja=t.ja,e.la=t.la,e.dc=t.dc,e.Lb=t.Lb,e.xb=t.xb,e.na=t.na,e.ac=t.ac,e.Rb=t.Rb,e.vb=t.vb,e.g=t.g,e}function be(t,e){var n=ae(t);return n.g=e,n}function ce(t){var e={};if(t.la&&(e.sp=t.dc,t.Lb&&(e.sn=t.xb)),t.na&&(e.ep=t.ac,t.Rb&&(e.en=t.vb)),t.ia){e.l=t.ja;var n=t.Nb;""===n&&(n=sd(t)?"l":"r"),e.vf=n}return t.g!==M&&(e.i=t.g.toString()),e}function de(t){return!(t.la||t.na||t.ia)}function ee(t){var e={};if(de(t)&&t.g==M)return e;var n;return t.g===M?n="$priority":t.g===Yd?n="$value":(J(t.g instanceof Rd,"Unrecognized index type!"),n=t.g.toString()),e.orderBy=B(n),t.la&&(e.startAt=B(t.dc),t.Lb&&(e.startAt+=","+B(t.xb))),t.na&&(e.endAt=B(t.ac),t.Rb&&(e.endAt+=","+B(t.vb))),t.ia&&(sd(t)?e.limitToFirst=t.ja:e.limitToLast=t.ja),e}function fe(t,e){this.yd=t,this.cc=e}function ge(t,e,n){var i=na(t.yd,function(i,r){var o=w(t.cc,r);if(J(o,"Missing index implementation for "+r),i===Pd){if(o.Hc(e.S)){for(var a=[],s=n.Wb(Qb),u=H(s);u;)u.name!=e.name&&a.push(u),u=H(s);return a.push(e),he(a,ud(o))}return Pd}return o=n.get(e.name),a=i,o&&(a=a.remove(new E(e.name,o))),a.Na(e,e.S)});return new fe(i,t.cc)}function ie(t,e,n){var i=na(t.yd,function(t){if(t===Pd)return t;var i=n.get(e.name);return i?t.remove(new E(e.name,i)):t});return new fe(i,t.cc)}function tc(t,e){this.C=t,J(n(this.C)&&null!==this.C,"LeafNode shouldn't be created with null/undefined value."),this.ba=e||C,ke(this.ba),this.Bb=null}function T(t,e,n){this.m=t,(this.ba=e)&&ke(this.ba),t.e()&&J(!this.ba||this.ba.e(),"An empty node cannot have a priority"),this.wb=n,this.Bb=null}function wd(t,e){var n;return n=(n=oe(t,e))?(n=n.Rc())&&n.name:t.m.Rc(),n?new E(n,t.m.get(n)):null}function xd(t,e){var n;return n=(n=oe(t,e))?(n=n.ec())&&n.name:t.m.ec(),n?new E(n,t.m.get(n)):null}function oe(t,e){return e===Vd?null:t.wb.get(e.toString())}function L(t,e){if(null===t)return C;var n=null;if("object"==typeof t&&".priority"in t?n=t[".priority"]:"undefined"!=typeof e&&(n=e),J(null===n||"string"==typeof n||"number"==typeof n||"object"==typeof n&&".sv"in n,"Invalid priority type found: "+typeof n),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new tc(t,L(n));if(t instanceof Array){var i=C,o=t;return r(o,function(t,e){if(u(o,e)&&"."!==e.substring(0,1)){var n=L(t);(n.N()||!n.e())&&(i=i.Q(e,n))}}),i.da(L(n))}var a=[],s=!1,h=t;if(hb(h,function(t){if("string"!=typeof t||"."!==t.substring(0,1)){var e=L(h[t]);e.e()||(s=s||!e.A().e(),a.push(new E(t,e)))}}),0==a.length)return C;var c=he(a,Rb,function(t){return t.name},Tb);if(s){var f=he(a,ud(M));return new T(c,L(n),new fe({".priority":f},{".priority":M}))}return new T(c,L(n),je)}function qe(t){this.count=parseInt(Math.log(t+1)/pe,10),this.hf=this.count-1,this.bg=t+1&parseInt(Array(this.count+1).join("1"),2)}function re(t){var e=!(t.bg&1<<t.hf);return t.hf--,e}function he(t,e,n,i){function r(e,i){var o=i-e;if(0==o)return null;if(1==o){var a=t[e],s=n?n(a):a;return new fc(s,a.S,!1,null,null)}var a=parseInt(o/2,10)+e,o=r(e,a),u=r(a+1,i),a=t[a],s=n?n(a):a;return new fc(s,a.S,!1,o,u)}t.sort(e);var o=function(e){function i(e,i){var u=s-e,h=s;s-=e;var h=r(u+1,h),u=t[u],c=n?n(u):u,h=new fc(c,u.S,i,null,h);o?o.left=h:a=h,o=h}for(var o=null,a=null,s=t.length,u=0;u<e.count;++u){var h=re(e),c=Math.pow(2,e.count-(u+1));h?i(c,!1):(i(c,!1),i(c,!0))}return a}(new qe(t.length));return null!==o?new ac(i||e,o):new ac(i||e)}function le(t){return"number"==typeof t?"number:"+Zc(t):"string:"+t}function ke(t){if(t.N()){var e=t.K();J("string"==typeof e||"number"==typeof e||"object"==typeof e&&u(e,".sv"),"Priority must be a string or number.")}else J(t===Sd||t.e(),"priority of unexpected type.");J(t===Sd||t.A().e(),"Priority nodes can't have a priority of their own.")}function se(){T.call(this,new ac(Tb),C,je)}function Id(t,e){this.D=t,this.Ud=e}function Fd(t,e,n,i){return new Id(new sb(e,n,i),t.Ud)}function Jd(t){return t.D.$?t.D.j():null}function tb(t){return t.Ud.$?t.Ud.j():null}function te(t,e){this.V=t;var n=t.n,i=new ld(n.g),n=de(n)?new ld(n.g):n.ia?new rd(n):new md(n);this.Gf=new zd(n);var r=e.u(),o=e.D,a=i.ta(C,r.j(),null),s=n.ta(C,o.j(),null);this.Ka=new Id(new sb(s,o.$,n.Ga()),new sb(a,r.$,i.Ga())),this.Za=[],this.ig=new dd(t)}function ue(t){return t.V}function we(t,e){var n=t.Ka.D,i=[];return n.j().N()||n.j().U(M,function(t,e){i.push(new D("child_added",e,t))}),n.$&&i.push(Db(n.j())),ve(t,i,n.j(),e)}function ve(t,e,n,i){return ed(t.ig,e,n,i?[i]:t.Za)}function xe(t,e,n){this.type=Cd,this.source=t,this.path=e,this.children=n}function ye(t,e,n,i){this.ve=t,this.of=e,this.Ib=n,this.af=i,J(!i||e,"Tagged queries must be from server.")}function Ae(t,e){this.f=Oc("p:rest:"),this.H=t,this.Gb=e,this.Fa=null,this.aa={}}function Be(t,e){if(n(e))return"tag$"+e;var i=t.n;return J(de(i)&&i.g==M,"should have a tag if it's not a default query."),t.path.toString()}function Ce(t,e,n,i){n=n||{},n.format="export",t.Fa&&(n.auth=t.Fa);var r=(t.H.lb?"https://":"http://")+t.H.host+e+"?"+jb(n);t.f("Sending REST request for "+r);var o=new XMLHttpRequest;o.onreadystatechange=function(){if(i&&4===o.readyState){t.f("REST Response for "+r+" received. status:",o.status,"response:",o.responseText);var e=null;if(200<=o.status&&300>o.status){try{e=mb(o.responseText)}catch(n){Q("Failed to parse JSON response for "+r+": "+o.responseText)}i(null,e)}else 401!==o.status&&404!==o.status&&Q("Got unsuccessful REST response for "+r+" Status: "+o.status),i(o.status);i=null}},o.open("GET",r,!0),o.send()}function De(t,e){this.value=t,this.children=e||Ee}function Fe(t){var e=Nd;return r(t,function(t,n){e=e.set(new K(n),t)}),e}function Ge(t,e,n){if(null!=t.value&&n(t.value))return{path:F,value:t.value};if(e.e())return null;var i=O(e);return t=t.children.get(i),null!==t?(e=Ge(t,G(e),n),null!=e?{path:new K(i).w(e.path),value:e.value}:null):null}function He(t,e){return Ge(t,e,function(){return!0})}function Md(t,e,n){if(e.e())return n;var i=O(e);return e=Md(t.children.get(i)||Nd,G(e),n),i=e.e()?t.children.remove(i):t.children.Na(i,e),new De(t.value,i)}function Ie(t,e){return Je(t,F,e)}function Je(t,e,n){var i={};return t.children.ha(function(t,r){i[t]=Je(r,e.w(t),n)}),n(e,t.value,i)}function Ke(t,e,n){return Le(t,e,F,n)}function Le(t,e,n,i){var r=t.value?i(n,t.value):!1;return r?r:e.e()?null:(r=O(e),(t=t.children.get(r))?Le(t,G(e),n.w(r),i):null)}function Me(t,e,n){var i=F;if(!e.e()){var r=!0;t.value&&(r=n(i,t.value)),!0===r&&(r=O(e),(t=t.children.get(r))&&Ne(t,G(e),i.w(r),n))}}function Ne(t,e,n,i){if(e.e())return t;t.value&&i(n,t.value);var r=O(e);return(t=t.children.get(r))?Ne(t,G(e),n.w(r),i):Nd}function Kd(t,e){Oe(t,F,e)}function Oe(t,e,n){t.children.ha(function(t,i){Oe(i,e.w(t),n)}),t.value&&n(e,t.value)}function Pe(t,e){t.children.ha(function(t,n){n.value&&e(t,n.value)})}function Qe(t){this.W=t}function Se(t,e,n){if(e.e())return new Qe(new De(n));var i=He(t.W,e);if(null!=i){var r=i.path,i=i.value;return e=N(r,e),i=i.G(e,n),new Qe(t.W.set(r,i))}return t=Md(t.W,e,new De(n)),new Qe(t)}function Te(t,e,n){var i=t;return hb(n,function(t,n){i=Se(i,e.w(t),n)}),i}function Ue(t,e){var n=He(t.W,e);return null!=n?t.W.get(n.path).oa(N(n.path,e)):null}function Ve(t){var e=[],n=t.W.value;return null!=n?n.N()||n.U(M,function(t,n){e.push(new E(t,n))}):t.W.children.ha(function(t,n){null!=n.value&&e.push(new E(t,n.value))}),e}function We(t,e){if(e.e())return t;var n=Ue(t,e);return new Qe(null!=n?new De(n):t.W.subtree(e))}function Xe(t,e,n){if(null!=e.value)return n.G(t,e.value);var i=null;return e.children.ha(function(e,r){".priority"===e?(J(null!==r.value,"Priority writes must always be leaf nodes"),i=r.value):n=Xe(t.w(e),r,n)}),n.oa(t).e()||null===i||(n=n.G(t.w(".priority"),i)),n}function Ye(){this.T=Re,this.za=[],this.Lc=-1}function Ze(t,e){return t.Ia?t.path.contains(e):!!ua(t.children,function(n,i){return t.path.w(i).contains(e)})}function af(t){return t.visible}function $e(t,e,n){for(var i=Re,r=0;r<t.length;++r){var o=t[r];if(e(o)){var a=o.path;if(o.Ia)n.contains(a)?(a=N(n,a),i=Se(i,a,o.Ia)):a.contains(n)&&(a=N(a,n),i=Se(i,F,o.Ia.oa(a)));else{if(!o.children)throw Hc("WriteRecord should have .snap or .children");

n.contains(a)?(a=N(n,a),i=Te(i,a,o.children)):a.contains(n)&&(a=N(a,n),a.e()?i=Te(i,F,o.children):(o=w(o.children,O(a)))&&(o=o.oa(G(a)),i=Se(i,F,o)))}}}return i}function bf(t,e){this.Mb=t,this.W=e}function cf(){this.ya={}}function ef(t){return Pa(ra(t.ya),function(t){return!de(t.V.n)})}function ff(t,e){if(de(e.n))return df(t);var n=e.wa();return w(t.ya,n)}function df(t){return va(t.ya,function(t){return de(t.V.n)})||null}function gf(t){this.sa=Nd,this.Hb=new Ye,this.$e={},this.kc={},this.Mc=t}function hf(t,e,i,r,o){var a=t.Hb,s=o;return J(r>a.Lc,"Stacking an older write on top of newer ones"),n(s)||(s=!0),a.za.push({path:e,Ia:i,ie:r,visible:s}),s&&(a.T=Se(a.T,e,i)),a.Lc=r,o?jf(t,new Ub(Yb,e,i)):[]}function kf(t,e,n,i){var r=t.Hb;return J(i>r.Lc,"Stacking an older merge on top of newer ones"),r.za.push({path:e,children:n,ie:i,visible:!0}),r.T=Te(r.T,e,n),r.Lc=i,n=Fe(n),jf(t,new xe(Yb,e,n))}function lf(t,e,n){return n=n||!1,e=t.Hb.Od(e),null==e?[]:jf(t,new Wb(e,n))}function mf(t,e,n){return n=Fe(n),jf(t,new xe(ze,e,n))}function nf(t,e,n,i){if(i=of(t,i),null!=i){var r=pf(i);return i=r.path,r=r.Ib,e=N(i,e),n=new Ub(new ye(!1,!0,r,!0),e,n),qf(t,i,n)}return[]}function rf(t,e,n,i){if(i=of(t,i)){var r=pf(i);return i=r.path,r=r.Ib,e=N(i,e),n=Fe(n),n=new xe(new ye(!1,!0,r,!0),e,n),qf(t,i,n)}return[]}function vf(t){return Ie(t,function(t,e,n){if(e&&null!=df(e))return[df(e)];var i=[];return e&&(i=ef(e)),r(n,function(t){i=i.concat(t)}),i})}function yf(t,e){for(var n=0;n<e.length;++n){var i=e[n];if(!de(i.n)){var i=sf(i),r=t.kc[i];delete t.kc[i],delete t.$e["_"+r]}}}function uf(t,e,n){var i=e.path,o=xf(t,e);if(n=wf(t,n),e=t.Mc.Xe(e,o,n.ud,n.J),i=t.sa.subtree(i),o)J(null==df(i.value),"If we're adding a query, it shouldn't be shadowed");else for(o=Ie(i,function(t,e,n){if(!t.e()&&e&&null!=df(e))return[ue(df(e))];var i=[];return e&&(i=i.concat(Qa(ef(e),function(t){return t.V}))),r(n,function(t){i=i.concat(t)}),i}),i=0;i<o.length;++i)n=o[i],t.Mc.Zd(n,xf(t,n));return e}function wf(t,e){var n=e.V,i=xf(t,n);return{ud:function(){return(e.u()||C).hash()},J:function(e){if("ok"===e){if(i){var r=n.path;if(e=of(t,i)){var o=pf(e);e=o.path,o=o.Ib,r=N(e,r),r=new Zb(new ye(!1,!0,o,!0),r),e=qf(t,e,r)}else e=[]}else e=jf(t,new Zb(ze,n.path));return e}return r="Unknown Error","too_big"===e?r="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"==e?r="Client doesn't have permission to access the desired data.":"unavailable"==e&&(r="The service is unavailable"),r=Error(e+": "+r),r.code=e.toUpperCase(),t.kb(n,null,r)}}}function sf(t){return t.path.toString()+"$"+t.wa()}function pf(t){var e=t.indexOf("$");return J(-1!==e&&e<t.length-1,"Bad queryKey."),{Ib:t.substr(e+1),path:new K(t.substr(0,e))}}function of(t,e){var n=t.$e,i="_"+e;return i in n?n[i]:void 0}function xf(t,e){var n=sf(e);return w(t.kc,n)}function qf(t,e,n){var i=t.sa.get(e);return J(i,"Missing sync point for query tag that we're tracking"),i.bb(n,new bf(e,t.Hb),null)}function jf(t,e){return zf(t,e,t.sa,null,new bf(F,t.Hb))}function zf(t,e,n,i,r){if(e.path.e())return Af(t,e,n,i,r);var o=n.get(F);null==i&&null!=o&&(i=o.hb(F));var a=[],s=O(e.path),u=e.Wc(s);if((n=n.children.get(s))&&u)var h=i?i.M(s):null,s=r.w(s),a=a.concat(zf(t,u,n,h,s));return o&&(a=a.concat(o.bb(e,r,i))),a}function Af(t,e,n,i,r){var o=n.get(F);null==i&&null!=o&&(i=o.hb(F));var a=[];return n.children.ha(function(n,o){var s=i?i.M(n):null,u=r.w(n),h=e.Wc(n);h&&(a=a.concat(Af(t,h,o,s,u)))}),o&&(a=a.concat(o.bb(e,r,i))),a}function Bf(){this.children={},this.kd=0,this.value=null}function Cf(t,e,n){this.Dd=t?t:"",this.Yc=e?e:null,this.B=n?n:new Bf}function Df(t,e){for(var n,i=e instanceof K?e:new K(e),r=t;null!==(n=O(i));)r=new Cf(n,r,w(r.B.children,n)||new Bf),i=G(i);return r}function Ef(t,e){J("undefined"!=typeof e,"Cannot set value to undefined"),t.B.value=e,Ff(t)}function Gf(t,e,n,i){n&&!i&&e(t),t.U(function(t){Gf(t,e,!0,i)}),n&&i&&e(t)}function Hf(t,e){for(var n=t.parent();null!==n&&!e(n);)n=n.parent()}function Ff(t){if(null!==t.Yc){var e=t.Yc,n=t.Dd,i=t.e(),r=u(e.B.children,n);i&&r?(delete e.B.children[n],e.B.kd--,Ff(e)):i||r||(e.B.children[n]=t.B,e.B.kd++,Ff(e))}}function If(t){J(ea(t)&&0<t.length,"Requires a non-empty array"),this.Uf=t,this.Nc={}}function Jf(t,e){J(Ta(t.Uf,function(t){return t===e}),"Unknown event: "+e)}function Lf(){if(If.call(this,["online"]),this.ic=!0,"undefined"!=typeof window&&"undefined"!=typeof window.addEventListener){var t=this;window.addEventListener("online",function(){t.ic||(t.ic=!0,t.de("online",!0))},!1),window.addEventListener("offline",function(){t.ic&&(t.ic=!1,t.de("online",!1))},!1)}}function Mf(){If.call(this,["visible"]);var t,e;if("undefined"!=typeof document&&"undefined"!=typeof document.addEventListener&&("undefined"!=typeof document.hidden?(e="visibilitychange",t="hidden"):"undefined"!=typeof document.mozHidden?(e="mozvisibilitychange",t="mozHidden"):"undefined"!=typeof document.msHidden?(e="msvisibilitychange",t="msHidden"):"undefined"!=typeof document.webkitHidden&&(e="webkitvisibilitychange",t="webkitHidden")),this.uc=!0,e){var n=this;document.addEventListener(e,function(){var e=!document[t];e!==n.uc&&(n.uc=e,n.de("visible",e))},!1)}}function Pf(t){return p(t)&&0!==t.length&&!Nf.test(t)}function Qf(t){return null===t||p(t)||ga(t)&&!Sc(t)||ia(t)&&u(t,".sv")}function Rf(t,e,i,r){r&&!n(e)||Sf(z(t,1,r),e,i)}function Sf(t,e,i){if(i instanceof K&&(i=new wc(i,t)),!n(e))throw Error(t+"contains undefined "+zc(i));if(ha(e))throw Error(t+"contains a function "+zc(i)+" with contents: "+e.toString());if(Sc(e))throw Error(t+"contains "+e.toString()+" "+zc(i));if(p(e)&&e.length>10485760/3&&10485760<xc(e))throw Error(t+"contains a string greater than 10485760 utf8 bytes "+zc(i)+" ('"+e.substring(0,50)+"...')");if(ia(e)){var r=!1,o=!1;if(hb(e,function(e,n){if(".value"===e)r=!0;else if(".priority"!==e&&".sv"!==e&&(o=!0,!Pf(e)))throw Error(t+" contains an invalid key ("+e+") "+zc(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');i.push(e),Sf(t,n,i),i.pop()}),r&&o)throw Error(t+' contains ".value" child '+zc(i)+" in addition to actual children.")}}function Tf(t,e,n){if(!ia(e)||ea(e))throw Error(z(t,1,!1)+" must be an Object containing the children to replace.");if(u(e,".value"))throw Error(z(t,1,!1)+' must not contain ".value".  To overwrite with a leaf value, just use .set() instead.');Rf(t,e,n,!1)}function Uf(t,e,n){if(Sc(n))throw Error(z(t,e,!1)+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Qf(n))throw Error(z(t,e,!1)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}function Vf(t,e,i){if(!i||n(e))switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw Error(z(t,1,i)+'must be a valid event type: "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}function Wf(t,e,i,r){if((!r||n(i))&&!Pf(i))throw Error(z(t,e,r)+'was an invalid key: "'+i+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')}function Xf(t,e){if(!p(e)||0===e.length||Of.test(e))throw Error(z(t,1,!1)+'was an invalid path: "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')}function Yf(t,e){if(".info"===O(e))throw Error(t+" failed: Can't modify data under /.info/")}function Zf(t,e){if(!p(e))throw Error(z(t,1,!1)+"must be a valid credential (a string).")}function $f(t,e,n){if(!p(n))throw Error(z(t,e,!1)+"must be a valid string.")}function ag(t,e,i,r){if(!(r&&!n(i)||ia(i)&&null!==i))throw Error(z(t,e,r)+"must be a valid object.")}function bg(t,e,n){if(!ia(e)||null===e||!u(e,n))throw Error(z(t,1,!1)+'must contain the key "'+n+'"');if(!p(w(e,n)))throw Error(z(t,1,!1)+'must contain the key "'+n+'" with type "string"')}function cg(){this.set={}}function dg(t,e){r(t.set,function(t,n){e(n,t)})}function qc(){this.m=this.C=null}function eg(t,e){if(e.e())return t.C=null,t.m=null,!0;if(null!==t.C){if(t.C.N())return!1;var n=t.C;return t.C=null,n.U(M,function(e,n){t.mc(new K(e),n)}),eg(t,e)}return null!==t.m?(n=O(e),e=G(e),t.m.contains(n)&&eg(t.m.get(n),e)&&t.m.remove(n),t.m.e()?(t.m=null,!0):!1):!0}function rc(t,e,n){null!==t.C?n(e,t.C):t.U(function(t,i){var r=new K(e.toString()+"/"+t);rc(i,r,n)})}function gg(t,e,n){this.ld=t||{},this.ce=e||{},this.ab=n||{},this.ld.remember||(this.ld.remember="default")}function ig(t){var e={},n={};return hb(t||{},function(t,i){0<=Na(hg,t)?e[t]=i:n[t]=i}),new gg(e,{},n)}function jg(t,e){this.Pe=["session",t.Ld,t.Cb].join(":"),this.$d=e}function kg(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(navigator.userAgent)}function lg(){return"undefined"!=typeof location&&/^file:\//.test(location.href)}function mg(){if("undefined"==typeof navigator)return!1;var t=navigator.userAgent;if("Microsoft Internet Explorer"===navigator.appName){if((t=t.match(/MSIE ([0-9]{1,}[\.0-9]{0,})/))&&1<t.length)return 8<=parseFloat(t[1])}else if(-1<t.indexOf("Trident")&&(t=t.match(/rv:([0-9]{2,2}[\.0-9]{0,})/))&&1<t.length)return 8<=parseFloat(t[1]);return!1}function ng(){var t,e=window.opener.frames;for(t=e.length-1;t>=0;t--)try{if(e[t].location.protocol===window.location.protocol&&e[t].location.host===window.location.host&&"__winchan_relay_frame"===e[t].name)return e[t]}catch(n){}return null}function og(t,e,n){t.attachEvent?t.attachEvent("on"+e,n):t.addEventListener&&t.addEventListener(e,n,!1)}function pg(t,e,n){t.detachEvent?t.detachEvent("on"+e,n):t.removeEventListener&&t.removeEventListener(e,n,!1)}function qg(t){/^https?:\/\//.test(t)||(t=window.location.href);var e=/^(https?:\/\/[\-_a-zA-Z\.0-9:]+)/.exec(t);return e?e[1]:t}function rg(t){var e="";try{t=t.replace("#","");var n=kb(t);n&&u(n,"__firebase_request_key")&&(e=w(n,"__firebase_request_key"))}catch(i){}return e}function sg(){var t=Rc(fg);return t.scheme+"://"+t.host+"/v2"}function tg(t){return sg()+"/"+t+"/auth/channel"}function ug(t){var e=this;if(this.zc=t,this.ae="*",mg()?this.Qc=this.wd=ng():(this.Qc=window.opener,this.wd=window),!e.Qc)throw"Unable to find relay frame";og(this.wd,"message",q(this.hc,this)),og(this.wd,"message",q(this.Af,this));try{vg(this,{a:"ready"})}catch(n){og(this.Qc,"load",function(){vg(e,{a:"ready"})})}og(window,"unload",q(this.yg,this))}function vg(t,e){e=B(e),mg()?t.Qc.doPost(e,t.ae):t.Qc.postMessage(e,t.ae)}function wg(t){this.oc=Ga()+Ga()+Ga(),this.Df=t}function yg(t){var e=Error(w(xg,t),t);return e.code=t,e}function zg(t){(!t.window_features||"undefined"!=typeof navigator&&(-1!==navigator.userAgent.indexOf("Fennec/")||-1!==navigator.userAgent.indexOf("Firefox/")&&-1!==navigator.userAgent.indexOf("Android")))&&(t.window_features=void 0),t.window_name||(t.window_name="_blank"),this.options=t}function Ag(t){t.method||(t.method="GET"),t.headers||(t.headers={}),t.headers.content_type||(t.headers.content_type="application/json"),t.headers.content_type=t.headers.content_type.toLowerCase(),this.options=t}function Bg(t){this.oc=Ga()+Ga()+Ga(),this.Df=t}function Cg(t){t.callback_parameter||(t.callback_parameter="callback"),this.options=t,window.__firebase_auth_jsonp=window.__firebase_auth_jsonp||{}}function Dg(t,e,n){setTimeout(function(){try{var i=document.createElement("script");i.type="text/javascript",i.id=t,i.async=!0,i.src=e,i.onerror=function(){var e=document.getElementById(t);null!==e&&e.parentNode.removeChild(e),n&&n(yg("NETWORK_ERROR"))};var r=document.getElementsByTagName("head");(r&&0!=r.length?r[0]:document.documentElement).appendChild(i)}catch(o){n&&n(yg("NETWORK_ERROR"))}},0)}function Eg(t,e,n,i){If.call(this,["auth_status"]),this.H=t,this.df=e,this.Sg=n,this.Ke=i,this.rc=new jg(t,[Dc,P]),this.nb=null,this.Re=!1,Fg(this)}function Fg(t){P.get("redirect_request_id")&&Gg(t);var e=t.rc.get();e&&e.token?(Hg(t,e),t.df(e.token,function(n,i){Ig(t,n,i,!1,e.token,e)},function(e,n){Jg(t,"resumeSession()",e,n)})):Hg(t,null)}function Kg(t,e,n,i,r,o){"firebaseio-demo.com"===t.H.domain&&Q("Firebase authentication is not supported on demo Firebases (*.firebaseio-demo.com). To secure your Firebase, create a production Firebase at https://www.firebase.com."),t.df(e,function(o,a){Ig(t,o,a,!0,e,n,i||{},r)},function(e,n){Jg(t,"auth()",e,n,o)})}function Lg(t,e){t.rc.clear(),Hg(t,null),t.Sg(function(t,n){if("ok"===t)R(e,null);else{var i=(t||"error").toUpperCase(),r=i;n&&(r+=": "+n),r=Error(r),r.code=i,R(e,r)}})}function Ig(t,e,n,i,r,o,a,s){"ok"===e?(i&&(e=n.auth,o.auth=e,o.expires=n.expires,o.token=cd(r)?r:"",n=null,e&&u(e,"uid")?n=w(e,"uid"):u(o,"uid")&&(n=w(o,"uid")),o.uid=n,n="custom",e&&u(e,"provider")?n=w(e,"provider"):u(o,"provider")&&(n=w(o,"provider")),o.provider=n,t.rc.clear(),cd(r)&&(a=a||{},n=Dc,"sessionOnly"===a.remember&&(n=P),"none"!==a.remember&&t.rc.set(o,n)),Hg(t,o)),R(s,null,o)):(t.rc.clear(),Hg(t,null),o=t=(e||"error").toUpperCase(),n&&(o+=": "+n),o=Error(o),o.code=t,R(s,o))}function Jg(t,e,n,i,r){Q(e+" was canceled: "+i),t.rc.clear(),Hg(t,null),t=Error(i),t.code=n.toUpperCase(),R(r,t)}function Mg(t,e,n,i,r){Ng(t),n=new gg(i||{},{},n||{}),Og(t,[Ag,Cg],"/auth/"+e,n,r)}function Pg(t,e,n,i){Ng(t);var r=[zg,Bg];n=ig(n),"anonymous"===e||"password"===e?setTimeout(function(){R(i,yg("TRANSPORT_UNAVAILABLE"))},0):(n.ce.window_features="menubar=yes,modal=yes,alwaysRaised=yeslocation=yes,resizable=yes,scrollbars=yes,status=yes,height=625,width=625,top="+("object"==typeof screen?.5*(screen.height-625):0)+",left="+("object"==typeof screen?.5*(screen.width-625):0),n.ce.relay_url=tg(t.H.Cb),n.ce.requestWithCredential=q(t.pc,t),Og(t,r,"/auth/"+e,n,i))}function Gg(t){var e=P.get("redirect_request_id");if(e){var n=P.get("redirect_client_options");P.remove("redirect_request_id"),P.remove("redirect_client_options");var i=[Ag,Cg],e={requestId:e,requestKey:rg(document.location.hash)},n=new gg(n,{},e);t.Re=!0;try{document.location.hash=document.location.hash.replace(/&__firebase_request_key=([a-zA-z0-9]*)/,"")}catch(r){}Og(t,i,"/auth/session",n,function(){this.Re=!1}.bind(t))}}function Og(t,e,n,i,r){Qg(t,e,n,i,function(e,n){!e&&n&&n.token&&n.uid?Kg(t,n.token,n,i.ld,function(t,e){t?R(r,t):R(r,null,e)}):R(r,e||yg("UNKNOWN_ERROR"))})}function Qg(t,e,n,i,r){e=Pa(e,function(t){return"function"==typeof t.isAvailable&&t.isAvailable()}),0===e.length?setTimeout(function(){R(r,yg("TRANSPORT_UNAVAILABLE"))},0):(e=new(e.shift())(i.ce),i=ib(i.ab),i.v="js-2.2.4",i.transport=e.Bc(),i.suppress_status_codes=!0,t=sg()+"/"+t.H.Cb+n,e.open(t,i,function(t,e){if(t)R(r,t);else if(e&&e.error){var n=Error(e.error.message);n.code=e.error.code,n.details=e.error.details,R(r,n)}else R(r,null,e)}))}function Hg(t,e){var n=null!==t.nb||null!==e;t.nb=e,n&&t.de("auth_status",e),t.Ke(null!==e)}function Ng(t){var e=t.H;if("firebaseio.com"!==e.domain&&"firebaseio-demo.com"!==e.domain&&"auth.firebase.com"===fg)throw Error("This custom Firebase server ('"+t.H.domain+"') does not support delegated login.")}function Rg(t){this.hc=t,this.Kd=[],this.Qb=0,this.pe=-1,this.Fb=null}function Sg(t,e,n){t.pe=e,t.Fb=n,t.pe<t.Qb&&(t.Fb(),t.Fb=null)}function Tg(t,e,n){for(t.Kd[e]=n;t.Kd[t.Qb];){var i=t.Kd[t.Qb];delete t.Kd[t.Qb];for(var r=0;r<i.length;++r)if(i[r]){var o=t;Cb(function(){o.hc(i[r])})}if(t.Qb===t.pe){t.Fb&&(clearTimeout(t.Fb),t.Fb(),t.Fb=null);break}t.Qb++}}function Ug(t,e,n){this.qe=t,this.f=Oc(t),this.ob=this.pb=0,this.Va=Ob(e),this.Vd=n,this.Gc=!1,this.gd=function(t){e.host!==e.Oa&&(t.ns=e.Cb);var n,i=[];for(n in t)t.hasOwnProperty(n)&&i.push(n+"="+t[n]);return(e.lb?"https://":"http://")+e.Oa+"/.lp?"+i.join("&")}}function Yg(t,e){var n=B(e).length;t.ob+=n,Lb(t.Va,"bytes_received",n)}function Xg(t,e,n,i){if(this.gd=i,this.jb=n,this.Oe=new cg,this.$c=[],this.se=Math.floor(1e8*Math.random()),this.Td=!0,this.fe=Gc(),window["pLPCommand"+this.fe]=t,window["pRTLPCB"+this.fe]=e,t=document.createElement("iframe"),t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||Bb("No IE domain setting required")}catch(r){t.src="javascript:void((function(){document.open();document.domain='"+document.domain+"';document.close();})())"}t.contentDocument?t.gb=t.contentDocument:t.contentWindow?t.gb=t.contentWindow.document:t.document&&(t.gb=t.document),this.Ca=t,t="",this.Ca.src&&"javascript:"===this.Ca.src.substr(0,11)&&(t='<script>document.domain="'+document.domain+'";</script>'),t="<html><body>"+t+"</body></html>";try{this.Ca.gb.open(),this.Ca.gb.write(t),this.Ca.gb.close()}catch(o){Bb("frame writing exception"),o.stack&&Bb(o.stack),Bb(o)}}function $g(t){if(t.ke&&t.Td&&t.Oe.count()<(0<t.$c.length?2:1)){t.se++;var e={};e.id=t.rg,e.pw=t.sg,e.ser=t.se;for(var e=t.gd(e),n="",i=0;0<t.$c.length&&1870>=t.$c[0].jf.length+30+n.length;){var r=t.$c.shift(),n=n+"&seg"+i+"="+r.Jg+"&ts"+i+"="+r.Rg+"&d"+i+"="+r.jf;i++}return ah(t,e+n,t.se),!0}return!1}function ah(t,e,n){function i(){t.Oe.remove(n),$g(t)}t.Oe.add(n,1);var r=setTimeout(i,Math.floor(25e3));Zg(t,e,function(){clearTimeout(r),i()})}function Zg(t,e,n){setTimeout(function(){try{if(t.Td){var i=t.Ca.gb.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){var t=i.readyState;t&&"loaded"!==t&&"complete"!==t||(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=function(){Bb("Long-poll script failed to load: "+e),t.Td=!1,t.close()},t.Ca.gb.body.appendChild(i)}}catch(r){}},Math.floor(1))}function ch(t,e,n){this.qe=t,this.f=Oc(this.qe),this.frames=this.Jc=null,this.ob=this.pb=this.bf=0,this.Va=Ob(e),this.fb=(e.lb?"wss://":"ws://")+e.Oa+"/.ws?v=5","undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(this.fb+="&r=f"),e.host!==e.Oa&&(this.fb=this.fb+"&ns="+e.Cb),n&&(this.fb=this.fb+"&s="+n)}function fh(t,e){if(t.frames.push(e),t.frames.length==t.bf){var n=t.frames.join("");t.frames=null,n=mb(n),t.wg(n)}}function eh(t){clearInterval(t.Jc),t.Jc=setInterval(function(){t.va&&t.va.send("0"),eh(t)},Math.floor(45e3))}function gh(t){hh(this,t)}function hh(t,e){var n=ch&&ch.isAvailable(),i=n&&!(Dc.uf||!0===Dc.get("previous_websocket_failure"));if(e.Tg&&(n||Q("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)t.ed=[ch];else{var r=t.ed=[];Yc(ih,function(t,e){e&&e.isAvailable()&&r.push(e)})}}function jh(t){if(0<t.ed.length)return t.ed[0];throw Error("No transports available")}function kh(t,e,n,i,r,o){this.id=t,this.f=Oc("c:"+this.id+":"),this.hc=n,this.Vc=i,this.ka=r,this.Me=o,this.H=e,this.Jd=[],this.ef=0,this.Nf=new gh(e),this.Ua=0,this.f("Connection created"),lh(this)}function lh(t){var e=jh(t.Nf);t.L=new e("c:"+t.id+":"+t.ef++,t.H),t.Qe=e.responsesRequiredToBeHealthy||0;var n=mh(t,t.L),i=nh(t,t.L);t.fd=t.L,t.bd=t.L,t.F=null,t.Ab=!1,setTimeout(function(){t.L&&t.L.open(n,i)},Math.floor(0)),e=e.healthyTimeout||0,e>0&&(t.vd=setTimeout(function(){t.vd=null,t.Ab||(t.L&&102400<t.L.ob?(t.f("Connection exceeded healthy timeout but has received "+t.L.ob+" bytes.  Marking connection healthy."),t.Ab=!0,t.L.Bd()):t.L&&10240<t.L.pb?t.f("Connection exceeded healthy timeout but has sent "+t.L.pb+" bytes.  Leaving connection alive."):(t.f("Closing unhealthy connection after timeout."),t.close()))},Math.floor(e)))}function nh(t,e){return function(n){e===t.L?(t.L=null,n||0!==t.Ua?1===t.Ua&&t.f("Realtime connection lost."):(t.f("Realtime connection failed."),"s-"===t.H.Oa.substr(0,2)&&(Dc.remove("host:"+t.H.host),t.H.Oa=t.H.host)),t.close()):e===t.F?(t.f("Secondary connection lost."),n=t.F,t.F=null,t.fd!==n&&t.bd!==n||t.close()):t.f("closing an old connection")}}function mh(t,e){return function(n){if(2!=t.Ua)if(e===t.bd){var i=Vc("t",n);if(n=Vc("d",n),"c"==i){if(i=Vc("t",n),"d"in n)if(n=n.d,"h"===i){var i=n.ts,r=n.v,o=n.h;t.Vd=n.s,Fc(t.H,o),0==t.Ua&&(t.L.start(),oh(t,t.L,i),"5"!==r&&Q("Protocol version mismatch detected"),n=t.Nf,(n=1<n.ed.length?n.ed[1]:null)&&ph(t,n))}else if("n"===i){for(t.f("recvd end transmission on primary"),t.bd=t.F,n=0;n<t.Jd.length;++n)t.Fd(t.Jd[n]);t.Jd=[],qh(t)}else"s"===i?(t.f("Connection shutdown command received. Shutting down..."),t.Me&&(t.Me(n),t.Me=null),t.ka=null,t.close()):"r"===i?(t.f("Reset packet received.  New host: "+n),Fc(t.H,n),1===t.Ua?t.close():(rh(t),lh(t))):"e"===i?Pc("Server Error: "+n):"o"===i?(t.f("got pong on primary."),sh(t),th(t)):Pc("Unknown control packet command: "+i)}else"d"==i&&t.Fd(n)}else if(e===t.F)if(i=Vc("t",n),n=Vc("d",n),"c"==i)"t"in n&&(n=n.t,"a"===n?uh(t):"r"===n?(t.f("Got a reset on secondary, closing it"),t.F.close(),t.fd!==t.F&&t.bd!==t.F||t.close()):"o"===n&&(t.f("got pong on secondary."),t.Lf--,uh(t)));else{if("d"!=i)throw Error("Unknown protocol layer: "+i);t.Jd.push(n)}else t.f("message on old connection")}}function qh(t){t.fd===t.F&&t.bd===t.F&&(t.f("cleaning up and promoting a connection: "+t.F.qe),t.L=t.F,t.F=null)}function uh(t){0>=t.Lf?(t.f("Secondary connection is healthy."),t.Ab=!0,t.F.Bd(),t.F.start(),t.f("sending client ack on secondary"),t.F.send({t:"c",d:{t:"a",d:{}}}),t.f("Ending transmission on primary"),t.L.send({t:"c",d:{t:"n",d:{}}}),t.fd=t.F,qh(t)):(t.f("sending ping on secondary."),t.F.send({t:"c",d:{t:"p",d:{}}}))}function sh(t){t.Ab||(t.Qe--,0>=t.Qe&&(t.f("Primary connection is healthy."),t.Ab=!0,t.L.Bd()))}function ph(t,e){t.F=new e("c:"+t.id+":"+t.ef++,t.H,t.Vd),t.Lf=e.responsesRequiredToBeHealthy||0,t.F.open(mh(t,t.F),nh(t,t.F)),setTimeout(function(){t.F&&(t.f("Timed out trying to upgrade."),t.F.close())},Math.floor(6e4))}function oh(t,e,n){t.f("Realtime connection established."),t.L=e,t.Ua=1,t.Vc&&(t.Vc(n),t.Vc=null),0===t.Qe?(t.f("Primary connection is healthy."),t.Ab=!0):setTimeout(function(){th(t)},Math.floor(5e3))}function th(t){t.Ab||1!==t.Ua||(t.f("sending ping on primary."),vh(t,{t:"c",d:{t:"p",d:{}}}))}function vh(t,e){if(1!==t.Ua)throw"Connection is not connected";t.fd.send(e)}function rh(t){t.f("Shutting down all connections"),t.L&&(t.L.close(),t.L=null),t.F&&(t.F.close(),t.F=null),t.vd&&(clearTimeout(t.vd),t.vd=null)}function wh(t,e,n,i){this.id=xh++,this.f=Oc("p:"+this.id+":"),this.wf=this.De=!1,this.aa={},this.pa=[],this.Xc=0,this.Uc=[],this.ma=!1,this.$a=1e3,this.Cd=3e5,this.Gb=e,this.Tc=n,this.Ne=i,this.H=t,this.We=null,this.Qd={},this.Ig=0,this.mf=!0,this.Kc=this.Fe=null,yh(this,0),Mf.ub().Eb("visible",this.zg,this),-1===t.host.indexOf("fblocal")&&Lf.ub().Eb("online",this.xg,this)}function Ah(t,e){var n=e.Fg,i=n.path.toString(),r=n.wa();t.f("Listen on "+i+" for "+r);var o={p:i};e.tag&&(o.q=ce(n.n),o.t=e.tag),o.h=e.ud(),t.Da("q",o,function(o){var a=o.d,s=o.s;if(a&&"object"==typeof a&&u(a,"w")){var h=w(a,"w");ea(h)&&0<=Na(h,"no_index")&&Q("Using an unspecified index. Consider adding "+('".indexOn": "'+n.n.g.toString()+'"')+" at "+n.path.toString()+" to your security rules for better performance")}(t.aa[i]&&t.aa[i][r])===e&&(t.f("listen response",o),"ok"!==s&&Bh(t,i,r),e.J&&e.J(s,a))})}function Ch(t){var e=t.Fa;t.ma&&e&&t.Da("auth",{cred:e.fg},function(n){var i=n.s;n=n.d||"error","ok"!==i&&t.Fa===e&&delete t.Fa,e.nf?"ok"!==i&&e.jd&&e.jd(i,n):(e.nf=!0,e.yc&&e.yc(i,n))})}function Dh(t,e,n,i,r){n={p:n,d:i},t.f("onDisconnect "+e,n),t.Da(e,n,function(t){r&&setTimeout(function(){r(t.s,t.d)},Math.floor(0))})}function Eh(t,e,i,r,o,a){r={p:i,d:r},n(a)&&(r.h=a),t.pa.push({action:e,If:r,J:o}),t.Xc++,e=t.pa.length-1,t.ma?Fh(t,e):t.f("Buffering put: "+i)}function Fh(t,e){var n=t.pa[e].action,i=t.pa[e].If,r=t.pa[e].J;t.pa[e].Gg=t.ma,t.Da(n,i,function(i){t.f(n+" response",i),delete t.pa[e],t.Xc--,0===t.Xc&&(t.pa=[]),r&&r(i.s,i.d)})}function yh(t,e){J(!t.Sa,"Scheduling a connect when we're already connected/ing?"),t.Sb&&clearTimeout(t.Sb),t.Sb=setTimeout(function(){t.Sb=null,Ih(t)},Math.floor(e))}function Ih(t){if(Jh(t)){t.f("Making a connection attempt"),t.Fe=(new Date).getTime(),t.Kc=null;var e=q(t.Fd,t),n=q(t.Vc,t),i=q(t.Cf,t),r=t.id+":"+zh++;t.Sa=new kh(r,t.H,e,n,i,function(e){Q(e+" ("+t.H.toString()+")"),t.wf=!0})}}function Gh(t,e,n){n=n?Qa(n,function(t){return Wc(t)}).join("$"):"default",(t=Bh(t,e,n))&&t.J&&t.J("permission_denied")}function Bh(t,e,i){e=new K(e).toString();var r;return n(t.aa[e])?(r=t.aa[e][i],delete t.aa[e][i],0===pa(t.aa[e])&&delete t.aa[e]):r=void 0,r}function Hh(t){Ch(t),r(t.aa,function(e){r(e,function(e){Ah(t,e)})});for(var e=0;e<t.pa.length;e++)t.pa[e]&&Fh(t,e);for(;t.Uc.length;)e=t.Uc.shift(),Dh(t,e.action,e.Zc,e.data,e.J)}function Jh(t){var e;return e=Lf.ub().ic,!t.wf&&!t.De&&e}function S(t,e,n){this.B=t,this.V=e,this.g=n}function Kh(t,e){this.H=t,this.Va=Ob(t),this.ea=new ub,this.Ed=1,this.Ra=null,e||0<=("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)?(this.ca=new Ae(this.H,q(this.Gb,this)),setTimeout(q(this.Tc,this,!0),0)):this.ca=this.Ra=new wh(this.H,q(this.Gb,this),q(this.Tc,this),q(this.Ne,this)),this.Pg=Pb(t,q(function(){return new Jb(this.Va,this.ca)},this)),this.tc=new Cf,this.Be=new nb;var n=this;this.zd=new gf({Xe:function(t,e,i,r){return e=[],i=n.Be.j(t.path),i.e()||(e=jf(n.zd,new Ub(ze,t.path,i)),setTimeout(function(){r("ok")},0)),e},Zd:ba}),Lh(this,"connected",!1),this.ka=new qc,this.P=new Eg(t,q(this.ca.P,this.ca),q(this.ca.ee,this.ca),q(this.Ke,this)),this.pd=0,this.Ce=null,this.O=new gf({Xe:function(t,e,i,r){return n.ca.xf(t,i,e,function(e,i){var o=r(e,i);zb(n.ea,t.path,o)}),[]},Zd:function(t,e){n.ca.Of(t,e)}})}function Mh(t){return t=t.Be.j(new K(".info/serverTimeOffset")).K()||0,(new Date).getTime()+t}function Nh(t){return t=t={timestamp:Mh(t)},t.timestamp=t.timestamp||(new Date).getTime(),t}function Lh(t,e,n){e=new K("/.info/"+e),n=L(n);var i=t.Be;i.Sd=i.Sd.G(e,n),n=jf(t.zd,new Ub(ze,e,n)),zb(t.ea,e,n)}function Ph(t){t.f("onDisconnectEvents");var e=Nh(t),n=[];rc(pc(t.ka,e),F,function(e,i){n=n.concat(jf(t.O,new Ub(ze,e,i)));var r=Rh(t,e);Oh(t,r)}),t.ka=new qc,zb(t.ea,F,n)}function Sh(t,e,n,i){var r=L(n);t.ca.Le(e.toString(),r.K(!0),function(n,o){"ok"===n&&t.ka.mc(e,r),Qh(i,n,o)})}function Th(t,e,n,i,r){var o=L(n,i);t.ca.Le(e.toString(),o.K(!0),function(n,i){"ok"===n&&t.ka.mc(e,o),Qh(r,n,i)})}function Uh(t,e,n,i){var r,o=!0;for(r in n)o=!1;o?(Bb("onDisconnect().update() called with empty data.  Don't do anything."),Qh(i,"ok")):t.ca.Bf(e.toString(),n,function(r,o){if("ok"===r)for(var a in n){var s=L(n[a]);t.ka.mc(e.w(a),s)}Qh(i,r,o)})}function Vh(t,e,n){n=".info"===O(e.path)?t.zd.Ob(e,n):t.O.Ob(e,n),xb(t.ea,e.path,n)}function Qh(t,e,n){t&&Cb(function(){if("ok"==e)t(null);else{var i=(e||"error").toUpperCase(),r=i;n&&(r+=": "+n),r=Error(r),r.code=i,t(r)}})}function Wh(t,e,i,r,o){function a(){}t.f("transaction on "+e);var s=new U(t,e);if(s.Eb("value",a),i={path:e,update:i,J:r,status:null,Ef:Gc(),cf:o,Kf:0,ge:function(){s.gc("value",a)},je:null,Aa:null,md:null,nd:null,od:null},r=t.O.ua(e,void 0)||C,i.md=r,r=i.update(r.K()),n(r)){Sf("transaction failed: Data returned ",r,i.path),i.status=1,o=Df(t.tc,e);var h=o.Ba()||[];h.push(i),Ef(o,h),"object"==typeof r&&null!==r&&u(r,".priority")?(h=w(r,".priority"),J(Qf(h),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):h=(t.O.ua(e)||C).A().K(),o=Nh(t),r=L(r,h),o=sc(r,o),i.nd=r,i.od=o,i.Aa=t.Ed++,i=hf(t.O,e,o,i.Aa,i.cf),zb(t.ea,e,i),Xh(t)}else i.ge(),i.nd=null,i.od=null,i.J&&(t=new S(i.md,new U(t,i.path),M),i.J(null,!1,t))}function Xh(t,e){var n=e||t.tc;if(e||Yh(t,n),null!==n.Ba()){var i=Zh(t,n);J(0<i.length,"Sending zero length transaction queue"),Sa(i,function(t){return 1===t.status})&&$h(t,n.path(),i)}else n.td()&&n.U(function(e){Xh(t,e)})}function $h(t,e,n){for(var i=Qa(n,function(t){return t.Aa}),r=t.O.ua(e,i)||C,i=r,r=r.hash(),o=0;o<n.length;o++){var a=n[o];J(1===a.status,"tryToSendTransactionQueue_: items in queue should all be run."),a.status=2,a.Kf++;var s=N(e,a.path),i=i.G(s,a.nd)}i=i.K(!0),t.ca.put(e.toString(),i,function(i){t.f("transaction put response",{path:e.toString(),status:i});var r=[];if("ok"===i){for(i=[],o=0;o<n.length;o++){if(n[o].status=3,r=r.concat(lf(t.O,n[o].Aa)),n[o].J){var a=n[o].od,s=new U(t,n[o].path);i.push(q(n[o].J,null,null,!0,new S(a,s,M)))}n[o].ge()}for(Yh(t,Df(t.tc,e)),Xh(t),zb(t.ea,e,r),o=0;o<i.length;o++)Cb(i[o])}else{if("datastale"===i)for(o=0;o<n.length;o++)n[o].status=4===n[o].status?5:1;else for(Q("transaction at "+e.toString()+" failed: "+i),o=0;o<n.length;o++)n[o].status=5,n[o].je=i;Oh(t,e)}},r)}function Oh(t,e){var n=ai(t,e),i=n.path(),n=Zh(t,n);return bi(t,n,i),i}function bi(t,e,i){if(0!==e.length){for(var r=[],o=[],a=Qa(e,function(t){return t.Aa}),s=0;s<e.length;s++){var h,c=e[s],f=N(i,c.path),l=!1;if(J(null!==f,"rerunTransactionsUnderNode_: relativePath should not be null."),5===c.status)l=!0,h=c.je,o=o.concat(lf(t.O,c.Aa,!0));else if(1===c.status)if(25<=c.Kf)l=!0,h="maxretry",o=o.concat(lf(t.O,c.Aa,!0));else{var d=t.O.ua(c.path,a)||C;c.md=d;var p=e[s].update(d.K());n(p)?(Sf("transaction failed: Data returned ",p,c.path),f=L(p),"object"==typeof p&&null!=p&&u(p,".priority")||(f=f.da(d.A())),d=c.Aa,p=Nh(t),p=sc(f,p),c.nd=f,c.od=p,c.Aa=t.Ed++,Va(a,d),o=o.concat(hf(t.O,c.path,p,c.Aa,c.cf)),o=o.concat(lf(t.O,d,!0))):(l=!0,h="nodata",o=o.concat(lf(t.O,c.Aa,!0)))}zb(t.ea,i,o),o=[],l&&(e[s].status=3,setTimeout(e[s].ge,Math.floor(0)),e[s].J&&("nodata"===h?(c=new U(t,e[s].path),r.push(q(e[s].J,null,null,!1,new S(e[s].md,c,M)))):r.push(q(e[s].J,null,Error(h),!1,null))))}for(Yh(t,t.tc),s=0;s<r.length;s++)Cb(r[s]);Xh(t)}}function ai(t,e){for(var n,i=t.tc;null!==(n=O(e))&&null===i.Ba();)i=Df(i,n),e=G(e);return i}function Zh(t,e){var n=[];return ci(t,e,n),n.sort(function(t,e){return t.Ef-e.Ef}),n}function ci(t,e,n){var i=e.Ba();if(null!==i)for(var r=0;r<i.length;r++)n.push(i[r]);e.U(function(e){ci(t,e,n)})}function Yh(t,e){var n=e.Ba();if(n){for(var i=0,r=0;r<n.length;r++)3!==n[r].status&&(n[i]=n[r],i++);n.length=i,Ef(e,0<n.length?n:null)}e.U(function(e){Yh(t,e)})}function Rh(t,e){var n=ai(t,e).path(),i=Df(t.tc,e);return Hf(i,function(e){di(t,e)}),di(t,i),Gf(i,function(e){di(t,e)}),n}function di(t,e){var n=e.Ba();if(null!==n){for(var i=[],r=[],o=-1,a=0;a<n.length;a++)4!==n[a].status&&(2===n[a].status?(J(o===a-1,"All SENT items should be at beginning of queue."),o=a,n[a].status=4,n[a].je="set"):(J(1===n[a].status,"Unexpected transaction status in abort"),n[a].ge(),r=r.concat(lf(t.O,n[a].Aa,!0)),n[a].J&&i.push(q(n[a].J,null,Error("set"),!1,null))));for(-1===o?Ef(e,null):n.length=o+1,zb(t.ea,e.path(),r),a=0;a<i.length;a++)Cb(i[a])}}function W(){this.nc={},this.Pf=!1}function X(t,e){this.ad=t,this.qa=e}function Y(t,e,n,i){this.k=t,this.path=e,this.n=n,this.jc=i}function ei(t){var e=null,n=null;if(t.la&&(e=od(t)),t.na&&(n=qd(t)),t.g===Vd){if(t.la){if("[MIN_NAME]"!=nd(t))throw Error("Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().");if("string"!=typeof e)throw Error("Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.")}if(t.na){if("[MAX_NAME]"!=pd(t))throw Error("Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().");if("string"!=typeof n)throw Error("Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.")}}else if(t.g===M){if(null!=e&&!Qf(e)||null!=n&&!Qf(n))throw Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(J(t.g instanceof Rd||t.g===Yd,"unknown index type."),null!=e&&"object"==typeof e||null!=n&&"object"==typeof n)throw Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")}function fi(t){if(t.la&&t.na&&t.ia&&(!t.ia||""===t.Nb))throw Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.");

}function gi(t,e){if(!0===t.jc)throw Error(e+": You can't combine multiple orderBy calls.")}function hi(t,e,n){var i={cancel:null,Ma:null};if(e&&n)i.cancel=e,A(t,3,i.cancel,!0),i.Ma=n,lb(t,4,i.Ma);else if(e)if("object"==typeof e&&null!==e)i.Ma=e;else{if("function"!=typeof e)throw Error(z(t,3,!0)+" must either be a cancel callback or a context object.");i.cancel=e}return i}function U(t,e){var n,i,r;if(t instanceof Kh)n=t,i=e;else{x("new Firebase",1,2,arguments.length),i=Rc(arguments[0]),n=i.Qg,"firebase"===i.domain&&Qc(i.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),n||Qc("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),i.lb||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Q("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),n=new Ec(i.host,i.lb,n,"ws"===i.scheme||"wss"===i.scheme),i=new K(i.Zc),r=i.toString();var o;if(!(o=!p(n.host)||0===n.host.length||!Pf(n.Cb))&&(o=0!==r.length)&&(r&&(r=r.replace(/^\/*\.info(\/|$)/,"/")),o=!(p(r)&&0!==r.length&&!Of.test(r))),o)throw Error(z("new Firebase",1,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".');if(e)if(e instanceof W)r=e;else{if(!p(e))throw Error("Expected a valid Firebase.Context for second argument to new Firebase()");r=W.ub(),n.Ld=e}else r=W.ub();o=n.toString();var a=w(r.nc,o);a||(a=new Kh(n,r.Pf),r.nc[o]=a),n=a}Y.call(this,n,i,$d,!1)}function Nc(t,e){J(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?("undefined"!=typeof console&&("function"==typeof console.log?Ab=q(console.log,console):"object"==typeof console.log&&(Ab=function(t){console.log(t)})),e&&P.set("logging_enabled",!0)):t?Ab=t:(Ab=null,P.remove("logging_enabled"))}var h,aa=this,la=Date.now||function(){return+new Date},ya="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),Ea={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","":"\\u000b"},Fa=/\uffff/.test("￿")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g,Ha;t:{var Ia=aa.navigator;if(Ia){var Ja=Ia.userAgent;if(Ja){Ha=Ja;break t}}Ha=""}ma(La,Ka),La.prototype.reset=function(){this.R[0]=1732584193,this.R[1]=4023233417,this.R[2]=2562383102,this.R[3]=271733878,this.R[4]=3285377520,this.be=this.$b=0},La.prototype.update=function(t,e){if(null!=t){n(e)||(e=t.length);for(var i=e-this.Wa,r=0,o=this.le,a=this.$b;e>r;){if(0==a)for(;i>=r;)Ma(this,t,r),r+=this.Wa;if(p(t)){for(;e>r;)if(o[a]=t.charCodeAt(r),++a,++r,a==this.Wa){Ma(this,o),a=0;break}}else for(;e>r;)if(o[a]=t[r],++a,++r,a==this.Wa){Ma(this,o),a=0;break}}this.$b=a,this.be+=e}};var t=Array.prototype,Na=t.indexOf?function(e,n,i){return t.indexOf.call(e,n,i)}:function(t,e,n){if(n=null==n?0:0>n?Math.max(0,t.length+n):n,p(t))return p(e)&&1==e.length?t.indexOf(e,n):-1;for(;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Oa=t.forEach?function(e,n,i){t.forEach.call(e,n,i)}:function(t,e,n){for(var i=t.length,r=p(t)?t.split(""):t,o=0;i>o;o++)o in r&&e.call(n,r[o],o,t)},Pa=t.filter?function(e,n,i){return t.filter.call(e,n,i)}:function(t,e,n){for(var i=t.length,r=[],o=0,a=p(t)?t.split(""):t,s=0;i>s;s++)if(s in a){var u=a[s];e.call(n,u,s,t)&&(r[o++]=u)}return r},Qa=t.map?function(e,n,i){return t.map.call(e,n,i)}:function(t,e,n){for(var i=t.length,r=Array(i),o=p(t)?t.split(""):t,a=0;i>a;a++)a in o&&(r[a]=e.call(n,o[a],a,t));return r},Ra=t.reduce?function(e,n,i,r){for(var o=[],a=1,s=arguments.length;s>a;a++)o.push(arguments[a]);return r&&(o[0]=q(n,r)),t.reduce.apply(e,o)}:function(t,e,n,i){var r=n;return Oa(t,function(n,o){r=e.call(i,r,n,o,t)}),r},Sa=t.every?function(e,n,i){return t.every.call(e,n,i)}:function(t,e,n){for(var i=t.length,r=p(t)?t.split(""):t,o=0;i>o;o++)if(o in r&&!e.call(n,r[o],o,t))return!1;return!0},Za=-1!=Ha.indexOf("Opera")||-1!=Ha.indexOf("OPR"),$a=-1!=Ha.indexOf("Trident")||-1!=Ha.indexOf("MSIE"),ab=-1!=Ha.indexOf("Gecko")&&-1==Ha.toLowerCase().indexOf("webkit")&&!(-1!=Ha.indexOf("Trident")||-1!=Ha.indexOf("MSIE")),bb=-1!=Ha.toLowerCase().indexOf("webkit");!function(){var t,e="";return Za&&aa.opera?(e=aa.opera.version,ha(e)?e():e):(ab?t=/rv\:([^\);]+)(\)|;)/:$a?t=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/:bb&&(t=/WebKit\/(\S+)/),t&&(e=(e=t.exec(Ha))?e[1]:""),$a&&(t=(t=aa.document)?t.documentMode:void 0,t>parseFloat(e))?String(t):e)}();var cb=null,db=null,eb=null;nb.prototype.j=function(t){return this.Sd.oa(t)},nb.prototype.toString=function(){return this.Sd.toString()},ob.prototype.pf=function(){return null},ob.prototype.xe=function(){return null};var pb=new ob;qb.prototype.pf=function(t){var e=this.Ka.D;return rb(e,t)?e.j().M(t):(e=null!=this.Hd?new sb(this.Hd,!0,!1):this.Ka.u(),this.Qf.Xa(t,e))},qb.prototype.xe=function(t,e,n){var i=null!=this.Hd?this.Hd:tb(this.Ka);return t=this.Qf.me(i,e,1,n,t),0===t.length?null:t[0]},wb.prototype.add=function(t){this.sd.push(t)},wb.prototype.Yb=function(){return this.qa};var Eb="value";Fb.prototype.Yb=function(){var t=this.Wd.lc();return"value"===this.rd?t.path:t.parent().path},Fb.prototype.ye=function(){return this.rd},Fb.prototype.Ub=function(){return this.te.Ub(this)},Fb.prototype.toString=function(){return this.Yb().toString()+":"+this.rd+":"+B(this.Wd.lf())},Gb.prototype.Yb=function(){return this.path},Gb.prototype.ye=function(){return"cancel"},Gb.prototype.Ub=function(){return this.te.Ub(this)},Gb.prototype.toString=function(){return this.path.toString()+":cancel"},sb.prototype.j=function(){return this.B},Ib.prototype.get=function(){var t=this.dg.get(),e=xa(t);if(this.Ad)for(var n in this.Ad)e[n]-=this.Ad[n];return this.Ad=t,e},Jb.prototype.Hf=function(){var t,e=this.Yd.get(),n={},i=!1;for(t in e)0<e[t]&&u(this.Mf,t)&&(n[t]=e[t],i=!0);i&&this.ca.Te(n),setTimeout(q(this.Hf,this),Math.floor(6e5*Math.random()))},Kb.prototype.get=function(){return xa(this.Dc)};var Mb={},Nb={};Ub.prototype.Wc=function(t){return this.path.e()?new Ub(this.source,F,this.Ia.M(t)):new Ub(this.source,G(this.path),this.Ia)},Ub.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" overwrite: "+this.Ia.toString()+")"},Wb.prototype.Wc=function(){return this.path.e()?this:new Wb(G(this.path),this.Ve)},Wb.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" ack write revert="+this.Ve+")"},Zb.prototype.Wc=function(){return this.path.e()?new Zb(this.source,F):new Zb(this.source,G(this.path))},Zb.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" listen_complete)"},h=ac.prototype,h.Na=function(t,e){return new ac(this.La,this.xa.Na(t,e,this.La).X(null,null,!1,null,null))},h.remove=function(t){return new ac(this.La,this.xa.remove(t,this.La).X(null,null,!1,null,null))},h.get=function(t){for(var e,n=this.xa;!n.e();){if(e=this.La(t,n.key),0===e)return n.value;0>e?n=n.left:e>0&&(n=n.right)}return null},h.e=function(){return this.xa.e()},h.count=function(){return this.xa.count()},h.Rc=function(){return this.xa.Rc()},h.ec=function(){return this.xa.ec()},h.ha=function(t){return this.xa.ha(t)},h.Wb=function(t){return new dc(this.xa,null,this.La,!1,t)},h.Xb=function(t,e){return new dc(this.xa,t,this.La,!1,e)},h.Zb=function(t,e){return new dc(this.xa,t,this.La,!0,e)},h.rf=function(t){return new dc(this.xa,null,this.La,!0,t)},h=fc.prototype,h.X=function(t,e,n,i,r){return new fc(null!=t?t:this.key,null!=e?e:this.value,null!=n?n:this.color,null!=i?i:this.left,null!=r?r:this.right)},h.count=function(){return this.left.count()+1+this.right.count()},h.e=function(){return!1},h.ha=function(t){return this.left.ha(t)||t(this.key,this.value)||this.right.ha(t)},h.Rc=function(){return gc(this).key},h.ec=function(){return this.right.e()?this.key:this.right.ec()},h.Na=function(t,e,n){var i,r;return r=this,i=n(t,r.key),r=0>i?r.X(null,null,null,r.left.Na(t,e,n),null):0===i?r.X(null,e,null,null,null):r.X(null,null,null,null,r.right.Na(t,e,n)),hc(r)},h.remove=function(t,e){var n,i;if(n=this,0>e(t,n.key))n.left.e()||n.left.fa()||n.left.left.fa()||(n=jc(n)),n=n.X(null,null,null,n.left.remove(t,e),null);else{if(n.left.fa()&&(n=kc(n)),n.right.e()||n.right.fa()||n.right.left.fa()||(n=lc(n),n.left.left.fa()&&(n=kc(n),n=lc(n))),0===e(t,n.key)){if(n.right.e())return bc;i=gc(n.right),n=n.X(i.key,i.value,null,null,ic(n.right))}n=n.X(null,null,null,null,n.right.remove(t,e))}return hc(n)},h.fa=function(){return this.color},h=nc.prototype,h.X=function(){return this},h.Na=function(t,e){return new fc(t,e,null)},h.remove=function(){return this},h.count=function(){return 0},h.e=function(){return!0},h.ha=function(){return!1},h.Rc=function(){return null},h.ec=function(){return null},h.fa=function(){return!1};var bc=new nc;h=K.prototype,h.toString=function(){for(var t="",e=this.Y;e<this.o.length;e++)""!==this.o[e]&&(t+="/"+this.o[e]);return t||"/"},h.slice=function(t){return this.o.slice(this.Y+(t||0))},h.parent=function(){if(this.Y>=this.o.length)return null;for(var t=[],e=this.Y;e<this.o.length-1;e++)t.push(this.o[e]);return new K(t,0)},h.w=function(t){for(var e=[],n=this.Y;n<this.o.length;n++)e.push(this.o[n]);if(t instanceof K)for(n=t.Y;n<t.o.length;n++)e.push(t.o[n]);else for(t=t.split("/"),n=0;n<t.length;n++)0<t[n].length&&e.push(t[n]);return new K(e,0)},h.e=function(){return this.Y>=this.o.length},h.Z=function(t){if(uc(this)!==uc(t))return!1;for(var e=this.Y,n=t.Y;e<=this.o.length;e++,n++)if(this.o[e]!==t.o[n])return!1;return!0},h.contains=function(t){var e=this.Y,n=t.Y;if(uc(this)>uc(t))return!1;for(;e<this.o.length;){if(this.o[e]!==t.o[n])return!1;++e,++n}return!0};var F=new K("");wc.prototype.push=function(t){0<this.Qa.length&&(this.Ea+=1),this.Qa.push(t),this.Ea+=xc(t),yc(this)},wc.prototype.pop=function(){var t=this.Qa.pop();this.Ea-=xc(t),0<this.Qa.length&&--this.Ea},Ac.prototype.set=function(t,e){null==e?delete this.wc[t]:this.wc[t]=e},Ac.prototype.get=function(t){return u(this.wc,t)?this.wc[t]:null},Ac.prototype.remove=function(t){delete this.wc[t]},Ac.prototype.uf=!0,h=Bc.prototype,h.set=function(t,e){null==e?this.Ec.removeItem(this.Md+t):this.Ec.setItem(this.Md+t,B(e))},h.get=function(t){return t=this.Ec.getItem(this.Md+t),null==t?null:mb(t)},h.remove=function(t){this.Ec.removeItem(this.Md+t)},h.uf=!1,h.toString=function(){return this.Ec.toString()};var Dc=Cc("localStorage"),P=Cc("sessionStorage");Ec.prototype.toString=function(){var t=(this.lb?"https://":"http://")+this.host;return this.Ld&&(t+="<"+this.Ld+">"),t};var Gc=function(){var t=1;return function(){return t++}}(),Ab=null,Mc=!0,$c=/^-?\d{1,10}$/;dd.prototype.eg=function(t,e){if(null==t.Ya||null==e.Ya)throw Hc("Should only compare child_ events.");return this.g.compare(new E(t.Ya,t.Ja),new E(e.Ya,e.Ja))},h=jd.prototype,h.Jf=function(t){return"value"===t},h.createEvent=function(t,e){var n=e.n.g;return new Fb("value",this,new S(t.Ja,e.lc(),n))},h.Ub=function(t){var e=this.sb;if("cancel"===t.ye()){J(this.qb,"Raising a cancel event on a listener with no cancel callback");var n=this.qb;return function(){n.call(e,t.error)}}var i=this.Pb;return function(){i.call(e,t.Wd)}},h.ff=function(t,e){return this.qb?new Gb(this,t,e):null},h.matches=function(t){return t instanceof jd?t.Pb&&this.Pb?t.Pb===this.Pb&&t.sb===this.sb:!0:!1},h.sf=function(){return null!==this.Pb},h=kd.prototype,h.Jf=function(t){return t="children_added"===t?"child_added":t,("children_removed"===t?"child_removed":t)in this.ga},h.ff=function(t,e){return this.qb?new Gb(this,t,e):null},h.createEvent=function(t,e){J(null!=t.Ya,"Child events should have a childName.");var n=e.lc().w(t.Ya);return new Fb(t.type,this,new S(t.Ja,n,e.n.g),t.Nd)},h.Ub=function(t){var e=this.sb;if("cancel"===t.ye()){J(this.qb,"Raising a cancel event on a listener with no cancel callback");var n=this.qb;return function(){n.call(e,t.error)}}var i=this.ga[t.rd];return function(){i.call(e,t.Wd,t.Nd)}},h.matches=function(t){if(t instanceof kd){if(!this.ga||!t.ga)return!0;if(this.sb===t.sb){var e=pa(t.ga);if(e===pa(this.ga)){if(1===e){var e=qa(t.ga),n=qa(this.ga);return!(n!==e||t.ga[e]&&this.ga[n]&&t.ga[e]!==this.ga[n])}return oa(this.ga,function(e,n){return t.ga[n]===e})}}}return!1},h.sf=function(){return null!==this.ga},h=ld.prototype,h.G=function(t,e,n,i,r){return J(t.Ic(this.g),"A node must be indexed if only a child is updated"),i=t.M(e),i.Z(n)?t:(null!=r&&(n.e()?t.Ha(e)?id(r,new D("child_removed",i,e)):J(t.N(),"A child remove without an old child only makes sense on a leaf node"):i.e()?id(r,new D("child_added",n,e)):id(r,new D("child_changed",n,e,i))),t.N()&&n.e()?t:t.Q(e,n).mb(this.g))},h.ta=function(t,e,n){return null!=n&&(t.N()||t.U(M,function(t,i){e.Ha(t)||id(n,new D("child_removed",i,t))}),e.N()||e.U(M,function(e,i){if(t.Ha(e)){var r=t.M(e);r.Z(i)||id(n,new D("child_changed",i,e,r))}else id(n,new D("child_added",i,e))})),e.mb(this.g)},h.da=function(t,e){return t.e()?C:t.da(e)},h.Ga=function(){return!1},h.Vb=function(){return this},h=md.prototype,h.matches=function(t){return 0>=this.g.compare(this.dd,t)&&0>=this.g.compare(t,this.Fc)},h.G=function(t,e,n,i,r){return this.matches(new E(e,n))||(n=C),this.Ae.G(t,e,n,i,r)},h.ta=function(t,e,n){e.N()&&(e=C);var i=e.mb(this.g),i=i.da(C),r=this;return e.U(M,function(t,e){r.matches(new E(t,e))||(i=i.Q(t,C))}),this.Ae.ta(t,i,n)},h.da=function(t){return t},h.Ga=function(){return!0},h.Vb=function(){return this.Ae},h=rd.prototype,h.G=function(t,e,n,i,r){return this.ra.matches(new E(e,n))||(n=C),t.M(e).Z(n)?t:t.Db()<this.ja?this.ra.Vb().G(t,e,n,i,r):td(this,t,e,n,i,r)},h.ta=function(t,e,n){var i;if(e.N()||e.e())i=C.mb(this.g);else if(2*this.ja<e.Db()&&e.Ic(this.g)){i=C.mb(this.g),e=this.Jb?e.Zb(this.ra.Fc,this.g):e.Xb(this.ra.dd,this.g);for(var r=0;0<e.Pa.length&&r<this.ja;){var o,a=H(e);if(!(o=this.Jb?0>=this.g.compare(this.ra.dd,a):0>=this.g.compare(a,this.ra.Fc)))break;i=i.Q(a.name,a.S),r++}}else{i=e.mb(this.g),i=i.da(C);var s,u,h;if(this.Jb){e=i.rf(this.g),s=this.ra.Fc,u=this.ra.dd;var c=ud(this.g);h=function(t,e){return c(e,t)}}else e=i.Wb(this.g),s=this.ra.dd,u=this.ra.Fc,h=ud(this.g);for(var r=0,f=!1;0<e.Pa.length;)a=H(e),!f&&0>=h(s,a)&&(f=!0),(o=f&&r<this.ja&&0>=h(a,u))?r++:i=i.Q(a.name,C)}return this.ra.Vb().ta(t,i,n)},h.da=function(t){return t},h.Ga=function(){return!0},h.Vb=function(){return this.ra.Vb()},zd.prototype.bb=function(t,e,n,i){var r,o=new hd;if(e.type===Vb)e.source.ve?n=Ad(this,t,e.path,e.Ia,n,i,o):(J(e.source.of,"Unknown source."),r=e.source.af,n=Bd(this,t,e.path,e.Ia,n,i,r,o));else if(e.type===Cd)e.source.ve?n=Dd(this,t,e.path,e.children,n,i,o):(J(e.source.of,"Unknown source."),r=e.source.af,n=Ed(this,t,e.path,e.children,n,i,r,o));else if(e.type===Xb)if(e.Ve)if(r=e.path,null!=n.sc(r))n=t;else{if(e=new qb(n,t,i),i=t.D.j(),r.e()||".priority"===O(r))Hb(t.u())?e=n.ua(tb(t)):(e=t.u().j(),J(e instanceof T,"serverChildren would be complete if leaf node"),e=n.xc(e)),e=this.I.ta(i,e,o);else{r=O(r);var a=n.Xa(r,t.u());null==a&&rb(t.u(),r)&&(a=i.M(r)),e=null!=a?this.I.G(i,r,a,e,o):t.D.j().Ha(r)?this.I.G(i,r,C,e,o):i,e.e()&&Hb(t.u())&&(i=n.ua(tb(t)),i.N()&&(e=this.I.ta(e,i,o)))}i=Hb(t.u())||null!=n.sc(F),n=Fd(t,e,i,this.I.Ga())}else n=Gd(this,t,e.path,n,i,o);else{if(e.type!==$b)throw Hc("Unknown operation type: "+e.type);i=e.path,e=t.u(),r=e.j(),a=e.$||i.e(),n=Hd(this,new Id(t.D,new sb(r,a,e.Tb)),i,n,pb,o)}return o=ra(o.eb),i=n,e=i.D,e.$&&(r=e.j().N()||e.j().e(),a=Jd(t),(0<o.length||!t.D.$||r&&!e.j().Z(a)||!e.j().A().Z(a.A()))&&o.push(Db(Jd(i)))),new yd(n,o)};var Pd={};Od.prototype.xd=function(t,e){return 0!==this.compare(new E("[MIN_NAME]",t),new E("[MIN_NAME]",e))},Od.prototype.Sc=function(){return Qd},ma(Rd,Od),h=Rd.prototype,h.Hc=function(t){return!t.M(this.bc).e()},h.compare=function(t,e){var n=t.S.M(this.bc),i=e.S.M(this.bc),n=n.Cc(i);return 0===n?Sb(t.name,e.name):n},h.Oc=function(t,e){var n=L(t),n=C.Q(this.bc,n);return new E(e,n)},h.Pc=function(){var t=C.Q(this.bc,Sd);return new E("[MAX_NAME]",t)},h.toString=function(){return this.bc},ma(Td,Od),h=Td.prototype,h.compare=function(t,e){var n=t.S.A(),i=e.S.A(),n=n.Cc(i);return 0===n?Sb(t.name,e.name):n},h.Hc=function(t){return!t.A().e()},h.xd=function(t,e){return!t.A().Z(e.A())},h.Sc=function(){return Qd},h.Pc=function(){return new E("[MAX_NAME]",new tc("[PRIORITY-POST]",Sd))},h.Oc=function(t,e){var n=L(t);return new E(e,new tc("[PRIORITY-POST]",n))},h.toString=function(){return".priority"};var M=new Td;ma(Ud,Od),h=Ud.prototype,h.compare=function(t,e){return Sb(t.name,e.name)},h.Hc=function(){throw Hc("KeyIndex.isDefinedOn not expected to be called.")},h.xd=function(){return!1},h.Sc=function(){return Qd},h.Pc=function(){return new E("[MAX_NAME]",C)},h.Oc=function(t){return J(p(t),"KeyIndex indexValue must always be a string."),new E(t,C)},h.toString=function(){return".key"};var Vd=new Ud;ma(Wd,Od),h=Wd.prototype,h.compare=function(t,e){var n=t.S.Cc(e.S);return 0===n?Sb(t.name,e.name):n},h.Hc=function(){return!0},h.xd=function(t,e){return!t.Z(e)},h.Sc=function(){return Qd},h.Pc=function(){return Xd},h.Oc=function(t,e){var n=L(t);return new E(e,n)},h.toString=function(){return".value"};var Yd=new Wd,$d=new Zd;h=Zd.prototype,h.Ge=function(t){var e=ae(this);return e.ia=!0,e.ja=t,e.Nb="",e},h.He=function(t){var e=ae(this);return e.ia=!0,e.ja=t,e.Nb="l",e},h.Ie=function(t){var e=ae(this);return e.ia=!0,e.ja=t,e.Nb="r",e},h.Xd=function(t,e){var i=ae(this);return i.la=!0,n(t)||(t=null),i.dc=t,null!=e?(i.Lb=!0,i.xb=e):(i.Lb=!1,i.xb=""),i},h.qd=function(t,e){var i=ae(this);return i.na=!0,n(t)||(t=null),i.ac=t,n(e)?(i.Rb=!0,i.vb=e):(i.Yg=!1,i.vb=""),i},h.toString=function(){return B(ce(this))},fe.prototype.get=function(t){var e=w(this.yd,t);if(!e)throw Error("No index defined for "+t);return e===Pd?null:e};var je=new fe({".priority":Pd},{".priority":M});h=tc.prototype,h.N=function(){return!0},h.A=function(){return this.ba},h.da=function(t){return new tc(this.C,t)},h.M=function(t){return".priority"===t?this.ba:C},h.oa=function(t){return t.e()?this:".priority"===O(t)?this.ba:C},h.Ha=function(){return!1},h.qf=function(){return null},h.Q=function(t,e){return".priority"===t?this.da(e):e.e()&&".priority"!==t?this:C.Q(t,e).da(this.ba)},h.G=function(t,e){var n=O(t);return null===n?e:e.e()&&".priority"!==n?this:(J(".priority"!==n||1===uc(t),".priority must be the last token in a path"),this.Q(n,C.G(G(t),e)))},h.e=function(){return!1},h.Db=function(){return 0},h.K=function(t){return t&&!this.A().e()?{".value":this.Ba(),".priority":this.A().K()}:this.Ba()},h.hash=function(){if(null===this.Bb){var t="";this.ba.e()||(t+="priority:"+le(this.ba.K())+":");var e=typeof this.C,t=t+(e+":"),t="number"===e?t+Zc(this.C):t+this.C;this.Bb=Jc(t)}return this.Bb},h.Ba=function(){return this.C},h.Cc=function(t){if(t===C)return 1;if(t instanceof T)return-1;J(t.N(),"Unknown node type");var e=typeof t.C,n=typeof this.C,i=Na(me,e),r=Na(me,n);return J(i>=0,"Unknown leaf type: "+e),J(r>=0,"Unknown leaf type: "+n),i===r?"object"===n?0:this.C<t.C?-1:this.C===t.C?0:1:r-i};var me=["object","boolean","number","string"];tc.prototype.mb=function(){return this},tc.prototype.Ic=function(){return!0},tc.prototype.Z=function(t){return t===this?!0:t.N()?this.C===t.C&&this.ba.Z(t.ba):!1},tc.prototype.toString=function(){return B(this.K(!0))},h=T.prototype,h.N=function(){return!1},h.A=function(){return this.ba||C},h.da=function(t){return this.m.e()?this:new T(this.m,t,this.wb)},h.M=function(t){return".priority"===t?this.A():(t=this.m.get(t),null===t?C:t)},h.oa=function(t){var e=O(t);return null===e?this:this.M(e).oa(G(t))},h.Ha=function(t){return null!==this.m.get(t)},h.Q=function(t,e){if(J(e,"We should always be passing snapshot nodes"),".priority"===t)return this.da(e);var n,i,r=new E(t,e);return e.e()?(n=this.m.remove(t),r=ie(this.wb,r,this.m)):(n=this.m.Na(t,e),r=ge(this.wb,r,this.m)),i=n.e()?C:this.ba,new T(n,i,r)},h.G=function(t,e){var n=O(t);if(null===n)return e;J(".priority"!==O(t)||1===uc(t),".priority must be the last token in a path");var i=this.M(n).G(G(t),e);return this.Q(n,i)},h.e=function(){return this.m.e()},h.Db=function(){return this.m.count()};var ne=/^(0|[1-9]\d*)$/;h=T.prototype,h.K=function(t){if(this.e())return null;var e={},n=0,i=0,r=!0;if(this.U(M,function(o,a){e[o]=a.K(t),n++,r&&ne.test(o)?i=Math.max(i,Number(o)):r=!1}),!t&&r&&2*n>i){var o,a=[];for(o in e)a[o]=e[o];return a}return t&&!this.A().e()&&(e[".priority"]=this.A().K()),e},h.hash=function(){if(null===this.Bb){var t="";this.A().e()||(t+="priority:"+le(this.A().K())+":"),this.U(M,function(e,n){var i=n.hash();""!==i&&(t+=":"+e+":"+i)}),this.Bb=""===t?"":Jc(t)}return this.Bb},h.qf=function(t,e,n){return(n=oe(this,n))?(t=cc(n,new E(t,e)))?t.name:null:cc(this.m,t)},h.U=function(t,e){var n=oe(this,t);return n?n.ha(function(t){return e(t.name,t.S)}):this.m.ha(e)},h.Wb=function(t){return this.Xb(t.Sc(),t)},h.Xb=function(t,e){var n=oe(this,e);if(n)return n.Xb(t,function(t){return t});for(var n=this.m.Xb(t.name,Qb),i=ec(n);null!=i&&0>e.compare(i,t);)H(n),i=ec(n);return n},h.rf=function(t){return this.Zb(t.Pc(),t)},h.Zb=function(t,e){var n=oe(this,e);if(n)return n.Zb(t,function(t){return t});for(var n=this.m.Zb(t.name,Qb),i=ec(n);null!=i&&0<e.compare(i,t);)H(n),i=ec(n);return n},h.Cc=function(t){return this.e()?t.e()?0:-1:t.N()||t.e()?1:t===Sd?-1:0},h.mb=function(t){if(t===Vd||ta(this.wb.cc,t.toString()))return this;var e=this.wb,n=this.m;J(t!==Vd,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var i=[],r=!1,n=n.Wb(Qb),o=H(n);o;)r=r||t.Hc(o.S),i.push(o),o=H(n);return i=r?he(i,ud(t)):Pd,r=t.toString(),n=xa(e.cc),n[r]=t,t=xa(e.yd),t[r]=i,new T(this.m,this.ba,new fe(t,n))},h.Ic=function(t){return t===Vd||ta(this.wb.cc,t.toString())},h.Z=function(t){if(t===this)return!0;if(t.N())return!1;if(this.A().Z(t.A())&&this.m.count()===t.m.count()){var e=this.Wb(M);t=t.Wb(M);for(var n=H(e),i=H(t);n&&i;){if(n.name!==i.name||!n.S.Z(i.S))return!1;n=H(e),i=H(t)}return null===n&&null===i}return!1},h.toString=function(){return B(this.K(!0))};var pe=Math.log(2),C=new T(new ac(Tb),null,je);ma(se,T),h=se.prototype,h.Cc=function(t){return t===this?0:1},h.Z=function(t){return t===this},h.A=function(){return this},h.M=function(){return C},h.e=function(){return!1};var Sd=new se,Qd=new E("[MIN_NAME]",C),Xd=new E("[MAX_NAME]",Sd);Id.prototype.u=function(){return this.Ud},h=te.prototype,h.u=function(){return this.Ka.u().j()},h.hb=function(t){var e=tb(this.Ka);return e&&(de(this.V.n)||!t.e()&&!e.M(O(t)).e())?e.oa(t):null},h.e=function(){return 0===this.Za.length},h.Ob=function(t){this.Za.push(t)},h.kb=function(t,e){var n=[];if(e){J(null==t,"A cancel should cancel all event registrations.");var i=this.V.path;Oa(this.Za,function(t){(t=t.ff(e,i))&&n.push(t)})}if(t){for(var r=[],o=0;o<this.Za.length;++o){var a=this.Za[o];if(a.matches(t)){if(t.sf()){r=r.concat(this.Za.slice(o+1));break}}else r.push(a)}this.Za=r}else this.Za=[];return n},h.bb=function(t,e,n){t.type===Cd&&null!==t.source.Ib&&(J(tb(this.Ka),"We should always have a full cache before handling merges"),J(Jd(this.Ka),"Missing event cache, even though we have a server cache"));var i=this.Ka;return t=this.Gf.bb(i,t,e,n),e=this.Gf,n=t.he,J(n.D.j().Ic(e.I.g),"Event snap not indexed"),J(n.u().j().Ic(e.I.g),"Server snap not indexed"),J(Hb(t.he.u())||!Hb(i.u()),"Once a server snap is complete, it should never go back"),this.Ka=t.he,ve(this,t.cg,t.he.D.j(),null)},xe.prototype.Wc=function(t){return this.path.e()?(t=this.children.subtree(new K(t)),t.e()?null:t.value?new Ub(this.source,F,t.value):new xe(this.source,F,t)):(J(O(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new xe(this.source,G(this.path),this.children))},xe.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"};var Vb=0,Cd=1,Xb=2,$b=3,Yb=new ye(!0,!1,null,!1),ze=new ye(!1,!0,null,!1);ye.prototype.toString=function(){return this.ve?"user":this.af?"server(queryID="+this.Ib+")":"server"},h=Ae.prototype,h.xf=function(t,e,n,i){var r=t.path.toString();this.f("Listen called for "+r+" "+t.wa());var o=Be(t,n),a={};this.aa[o]=a,t=ee(t.n);var s=this;Ce(this,r+".json",t,function(t,e){var u=e;404===t&&(t=u=null),null===t&&s.Gb(r,u,!1,n),w(s.aa,o)===a&&i(t?401==t?"permission_denied":"rest_error:"+t:"ok",null)})},h.Of=function(t,e){var n=Be(t,e);delete this.aa[n]},h.P=function(t,e){this.Fa=t;var n=ad(t),i=n.data,n=n.Ac&&n.Ac.exp;e&&e("ok",{auth:i,expires:n})},h.ee=function(t){this.Fa=null,t("ok",null)},h.Le=function(){},h.Bf=function(){},h.Gd=function(){},h.put=function(){},h.yf=function(){},h.Te=function(){};var Ee=new ac(function(t,e){return t===e?0:e>t?-1:1});h=De.prototype,h.e=function(){return null===this.value&&this.children.e()},h.subtree=function(t){if(t.e())return this;var e=this.children.get(O(t));return null!==e?e.subtree(G(t)):Nd},h.set=function(t,e){if(t.e())return new De(e,this.children);var n=O(t),i=(this.children.get(n)||Nd).set(G(t),e),n=this.children.Na(n,i);return new De(this.value,n)},h.remove=function(t){if(t.e())return this.children.e()?Nd:new De(null,this.children);var e=O(t),n=this.children.get(e);return n?(t=n.remove(G(t)),e=t.e()?this.children.remove(e):this.children.Na(e,t),null===this.value&&e.e()?Nd:new De(this.value,e)):this},h.get=function(t){if(t.e())return this.value;var e=this.children.get(O(t));return e?e.get(G(t)):null};var Nd=new De(null);De.prototype.toString=function(){var t={};return Kd(this,function(e,n){t[e.toString()]=n.toString()}),B(t)};var Re=new Qe(new De(null));Qe.prototype.Od=function(t){return t.e()?Re:(t=Md(this.W,t,Nd),new Qe(t))},Qe.prototype.e=function(){return this.W.e()},Qe.prototype.apply=function(t){return Xe(F,this.W,t)},h=Ye.prototype,h.Od=function(t){var e=Ua(this.za,function(e){return e.ie===t});J(e>=0,"removeWrite called with nonexistent writeId.");var n=this.za[e];this.za.splice(e,1);for(var i=n.visible,o=!1,a=this.za.length-1;i&&a>=0;){var s=this.za[a];s.visible&&(a>=e&&Ze(s,n.path)?i=!1:n.path.contains(s.path)&&(o=!0)),a--}if(i){if(o)this.T=$e(this.za,af,F),this.Lc=0<this.za.length?this.za[this.za.length-1].ie:-1;else if(n.Ia)this.T=this.T.Od(n.path);else{var u=this;r(n.children,function(t,e){u.T=u.T.Od(n.path.w(e))})}return n.path}return null},h.ua=function(t,e,n,i){if(n||i){var r=We(this.T,t);return!i&&r.e()?e:i||null!=e||null!=Ue(r,F)?(r=$e(this.za,function(e){return!(!e.visible&&!i||n&&0<=Na(n,e.ie)||!e.path.contains(t)&&!t.contains(e.path))},t),e=e||C,r.apply(e)):null}return r=Ue(this.T,t),null!=r?r:(r=We(this.T,t),r.e()?e:null!=e||null!=Ue(r,F)?(e=e||C,r.apply(e)):null)},h.xc=function(t,e){var n=C,i=Ue(this.T,t);if(i)i.N()||i.U(M,function(t,e){n=n.Q(t,e)});else if(e){var r=We(this.T,t);e.U(M,function(t,e){var i=We(r,new K(t)).apply(e);n=n.Q(t,i)}),Oa(Ve(r),function(t){n=n.Q(t.name,t.S)})}else r=We(this.T,t),Oa(Ve(r),function(t){n=n.Q(t.name,t.S)});return n},h.hd=function(t,e,n,i){return J(n||i,"Either existingEventSnap or existingServerSnap must exist"),t=t.w(e),null!=Ue(this.T,t)?null:(t=We(this.T,t),t.e()?i.oa(e):t.apply(i.oa(e)))},h.Xa=function(t,e,n){t=t.w(e);var i=Ue(this.T,t);return null!=i?i:rb(n,e)?We(this.T,t).apply(n.j().M(e)):null},h.sc=function(t){return Ue(this.T,t)},h.me=function(t,e,n,i,r,o){var a;if(t=We(this.T,t),a=Ue(t,F),null==a){if(null==e)return[];a=t.apply(e)}if(a=a.mb(o),a.e()||a.N())return[];for(e=[],t=ud(o),r=r?a.Zb(n,o):a.Xb(n,o),o=H(r);o&&e.length<i;)0!==t(o,n)&&e.push(o),o=H(r);return e},h=bf.prototype,h.ua=function(t,e,n){return this.W.ua(this.Mb,t,e,n)},h.xc=function(t){return this.W.xc(this.Mb,t)},h.hd=function(t,e,n){return this.W.hd(this.Mb,t,e,n)},h.sc=function(t){return this.W.sc(this.Mb.w(t))},h.me=function(t,e,n,i,r){return this.W.me(this.Mb,t,e,n,i,r)},h.Xa=function(t,e){return this.W.Xa(this.Mb,t,e)},h.w=function(t){return new bf(this.Mb.w(t),this.W)},h=cf.prototype,h.e=function(){return wa(this.ya)},h.bb=function(t,e,n){var i=t.source.Ib;if(null!==i)return i=w(this.ya,i),J(null!=i,"SyncTree gave us an op for an invalid query."),i.bb(t,e,n);var o=[];return r(this.ya,function(i){o=o.concat(i.bb(t,e,n))}),o},h.Ob=function(t,e,n,i,r){var o=t.wa(),a=w(this.ya,o);if(!a){var a=n.ua(r?i:null),s=!1;a?s=!0:(a=i instanceof T?n.xc(i):C,s=!1),a=new te(t,new Id(new sb(a,s,!1),new sb(i,r,!1))),this.ya[o]=a}return a.Ob(e),we(a,e)},h.kb=function(t,e,n){var i=t.wa(),o=[],a=[],s=null!=df(this);if("default"===i){var u=this;r(this.ya,function(t,i){a=a.concat(t.kb(e,n)),t.e()&&(delete u.ya[i],de(t.V.n)||o.push(t.V))})}else{var h=w(this.ya,i);h&&(a=a.concat(h.kb(e,n)),h.e()&&(delete this.ya[i],de(h.V.n)||o.push(h.V)))}return s&&null==df(this)&&o.push(new U(t.k,t.path)),{Hg:o,jg:a}},h.hb=function(t){var e=null;return r(this.ya,function(n){e=e||n.hb(t)}),e},gf.prototype.Ob=function(t,e){var n=t.path,i=null,r=!1;Me(this.sa,n,function(t,e){var o=N(t,n);return i=e.hb(o),r=r||null!=df(e),!i});var o=this.sa.get(n);o?(r=r||null!=df(o),i=i||o.hb(F)):(o=new cf,this.sa=this.sa.set(n,o));var a;null!=i?a=!0:(a=!1,i=C,Pe(this.sa.subtree(n),function(t,e){var n=e.hb(F);n&&(i=i.Q(t,n))}));var s=null!=ff(o,t);if(!s&&!de(t.n)){var u=sf(t);J(!(u in this.kc),"View does not exist, but we have a tag");var h=tf++;this.kc[u]=h,this.$e["_"+h]=u}return a=o.Ob(t,e,new bf(n,this.Hb),i,a),s||r||(o=ff(o,t),a=a.concat(uf(this,t,o))),a},gf.prototype.kb=function(t,e,n){var i=t.path,r=this.sa.get(i),o=[];if(r&&("default"===t.wa()||null!=ff(r,t))){o=r.kb(t,e,n),r.e()&&(this.sa=this.sa.remove(i)),r=o.Hg,o=o.jg,e=-1!==Ua(r,function(t){return de(t.n)});var a=Ke(this.sa,i,function(t,e){return null!=df(e)});if(e&&!a&&(i=this.sa.subtree(i),!i.e()))for(var i=vf(i),s=0;s<i.length;++s){var u=i[s],h=u.V,u=wf(this,u);this.Mc.Xe(h,xf(this,h),u.ud,u.J)}if(!a&&0<r.length&&!n)if(e)this.Mc.Zd(t,null);else{var c=this;Oa(r,function(t){t.wa();var e=c.kc[sf(t)];c.Mc.Zd(t,e)})}yf(this,r)}return o},gf.prototype.ua=function(t,e){var n=this.Hb,i=Ke(this.sa,t,function(e,n){var i=N(e,t);return(i=n.hb(i))?i:void 0});return n.ua(t,i,e,!0)};var tf=1;h=Cf.prototype,h.Ba=function(){return this.B.value},h.clear=function(){this.B.value=null,this.B.children={},this.B.kd=0,Ff(this)},h.td=function(){return 0<this.B.kd},h.e=function(){return null===this.Ba()&&!this.td()},h.U=function(t){var e=this;r(this.B.children,function(n,i){t(new Cf(i,e,n))})},h.path=function(){return new K(null===this.Yc?this.Dd:this.Yc.path()+"/"+this.Dd)},h.name=function(){return this.Dd},h.parent=function(){return this.Yc},If.prototype.de=function(t){for(var e=this.Nc[t]||[],n=0;n<e.length;n++)e[n].yc.apply(e[n].Ma,Array.prototype.slice.call(arguments,1))},If.prototype.Eb=function(t,e,n){Jf(this,t),this.Nc[t]=this.Nc[t]||[],this.Nc[t].push({yc:e,Ma:n}),(t=this.ze(t))&&e.apply(n,t)},If.prototype.gc=function(t,e,n){Jf(this,t),t=this.Nc[t]||[];for(var i=0;i<t.length;i++)if(t[i].yc===e&&(!n||n===t[i].Ma)){t.splice(i,1);break}};var Kf=function(){var t=0,e=[];return function(n){var i=n===t;t=n;for(var r=Array(8),o=7;o>=0;o--)r[o]="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz".charAt(n%64),n=Math.floor(n/64);if(J(0===n,"Cannot push at time == 0"),n=r.join(""),i){for(o=11;o>=0&&63===e[o];o--)e[o]=0;e[o]++}else for(o=0;12>o;o++)e[o]=Math.floor(64*Math.random());for(o=0;12>o;o++)n+="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz".charAt(e[o]);return J(20===n.length,"nextPushId: Length should be 20."),n}}();ma(Lf,If),Lf.prototype.ze=function(t){return J("online"===t,"Unknown event type: "+t),[this.ic]},ca(Lf),ma(Mf,If),Mf.prototype.ze=function(t){return J("visible"===t,"Unknown event type: "+t),[this.uc]},ca(Mf);var Nf=/[\[\].#$\/\u0000-\u001F\u007F]/,Of=/[\[\].#$\u0000-\u001F\u007F]/;h=cg.prototype,h.add=function(t,e){this.set[t]=null!==e?e:!0},h.contains=function(t){return u(this.set,t)},h.get=function(t){return this.contains(t)?this.set[t]:void 0},h.remove=function(t){delete this.set[t]},h.clear=function(){this.set={}},h.e=function(){return wa(this.set)},h.count=function(){return pa(this.set)},h.keys=function(){var t=[];

return r(this.set,function(e,n){t.push(n)}),t},qc.prototype.find=function(t){if(null!=this.C)return this.C.oa(t);if(t.e()||null==this.m)return null;var e=O(t);return t=G(t),this.m.contains(e)?this.m.get(e).find(t):null},qc.prototype.mc=function(t,e){if(t.e())this.C=e,this.m=null;else if(null!==this.C)this.C=this.C.G(t,e);else{null==this.m&&(this.m=new cg);var n=O(t);this.m.contains(n)||this.m.add(n,new qc),n=this.m.get(n),t=G(t),n.mc(t,e)}},qc.prototype.U=function(t){null!==this.m&&dg(this.m,function(e,n){t(e,n)})};var fg="auth.firebase.com",hg=["remember","redirectTo"];jg.prototype.set=function(t,e){if(!e){if(!this.$d.length)throw Error("fb.login.SessionManager : No storage options available!");e=this.$d[0]}e.set(this.Pe,t)},jg.prototype.get=function(){var t=Qa(this.$d,q(this.ng,this)),t=Pa(t,function(t){return null!==t});return Xa(t,function(t,e){return bd(e.token)-bd(t.token)}),0<t.length?t.shift():null},jg.prototype.ng=function(t){try{var e=t.get(this.Pe);if(e&&e.token)return e}catch(n){}return null},jg.prototype.clear=function(){var t=this;Oa(this.$d,function(e){e.remove(t.Pe)})},ug.prototype.hc=function(t){var e,n=this;try{e=mb(t.data)}catch(i){}e&&"request"===e.a&&(pg(window,"message",this.hc),this.ae=t.origin,this.zc&&setTimeout(function(){n.zc(n.ae,e.d,function(t,e){n.ag=!e,n.zc=void 0,vg(n,{a:"response",d:t,forceKeepWindowOpen:e})})},0))},ug.prototype.yg=function(){try{pg(this.wd,"message",this.Af)}catch(t){}this.zc&&(vg(this,{a:"error",d:"unknown closed window"}),this.zc=void 0);try{window.close()}catch(e){}},ug.prototype.Af=function(t){if(this.ag&&"die"===t.data)try{window.close()}catch(e){}},wg.prototype.open=function(t,e){P.set("redirect_request_id",this.oc),P.set("redirect_request_id",this.oc),e.requestId=this.oc,e.redirectTo=e.redirectTo||window.location.href,t+=(/\?/.test(t)?"":"?")+jb(e),window.location=t},wg.isAvailable=function(){return!lg()&&!kg()},wg.prototype.Bc=function(){return"redirect"};var xg={NETWORK_ERROR:"Unable to contact the Firebase server.",SERVER_ERROR:"An unknown server error occurred.",TRANSPORT_UNAVAILABLE:"There are no login transports available for the requested method.",REQUEST_INTERRUPTED:"The browser redirected the page before the login request could complete.",USER_CANCELLED:"The user cancelled authentication."};zg.prototype.open=function(t,e,n){function i(t){if(o&&(document.body.removeChild(o),o=void 0),c&&(c=clearInterval(c)),pg(window,"message",r),pg(window,"unload",i),h&&!t)try{h.close()}catch(e){a.postMessage("die",u)}h=a=void 0}function r(t){if(t.origin===u)try{var e=mb(t.data);"ready"===e.a?a.postMessage(f,u):"error"===e.a?(i(!1),n&&(n(e.d),n=null)):"response"===e.a&&(i(e.forceKeepWindowOpen),n&&(n(null,e.d),n=null))}catch(r){}}var o,a,s=mg();if(!this.options.relay_url)return n(Error("invalid arguments: origin of url and relay_url must match"));var u=qg(t);if(u!==qg(this.options.relay_url))n&&setTimeout(function(){n(Error("invalid arguments: origin of url and relay_url must match"))},0);else{s&&(o=document.createElement("iframe"),o.setAttribute("src",this.options.relay_url),o.style.display="none",o.setAttribute("name","__winchan_relay_frame"),document.body.appendChild(o),a=o.contentWindow),t+=(/\?/.test(t)?"":"?")+jb(e);var h=window.open(t,this.options.window_name,this.options.window_features);a||(a=h);var c=setInterval(function(){h&&h.closed&&(i(!1),n&&(n(yg("USER_CANCELLED")),n=null))},500),f=B({a:"request",d:e});og(window,"unload",i),og(window,"message",r)}},zg.isAvailable=function(){return"postMessage"in window&&!lg()&&!(kg()||"undefined"!=typeof navigator&&(navigator.userAgent.match(/Windows Phone/)||window.Windows&&/^ms-appx:/.test(location.href))||"undefined"!=typeof navigator&&"undefined"!=typeof window&&(navigator.userAgent.match(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i)||navigator.userAgent.match(/CriOS/)||navigator.userAgent.match(/Twitter for iPhone/)||navigator.userAgent.match(/FBAN\/FBIOS/)||window.navigator.standalone))&&!("undefined"!=typeof navigator&&navigator.userAgent.match(/PhantomJS/))},zg.prototype.Bc=function(){return"popup"},Ag.prototype.open=function(t,e,n){function i(){n&&(n(yg("REQUEST_INTERRUPTED")),n=null)}var r,o=new XMLHttpRequest,a=this.options.method.toUpperCase();if(og(window,"beforeunload",i),o.onreadystatechange=function(){if(n&&4===o.readyState){var t;if(200<=o.status&&300>o.status){try{t=mb(o.responseText)}catch(e){}n(null,t)}else n(500<=o.status&&600>o.status?yg("SERVER_ERROR"):yg("NETWORK_ERROR"));n=null,pg(window,"beforeunload",i)}},"GET"===a)t+=(/\?/.test(t)?"":"?")+jb(e),r=null;else{var s=this.options.headers.content_type;"application/json"===s&&(r=B(e)),"application/x-www-form-urlencoded"===s&&(r=jb(e))}o.open(a,t,!0),t={"X-Requested-With":"XMLHttpRequest",Accept:"application/json;text/plain"},za(t,this.options.headers);for(var u in t)o.setRequestHeader(u,t[u]);o.send(r)},Ag.isAvailable=function(){return!(!window.XMLHttpRequest||"string"!=typeof(new XMLHttpRequest).responseType||"undefined"!=typeof navigator&&(navigator.userAgent.match(/MSIE/)||navigator.userAgent.match(/Trident/))&&!mg())},Ag.prototype.Bc=function(){return"json"},Bg.prototype.open=function(t,e,n){function i(){n&&(n(yg("USER_CANCELLED")),n=null)}var r,o=this,a=Rc(fg);e.requestId=this.oc,e.redirectTo=a.scheme+"://"+a.host+"/blank/page.html",t+=/\?/.test(t)?"":"?",t+=jb(e),(r=window.open(t,"_blank","location=no"))&&ha(r.addEventListener)?(r.addEventListener("loadstart",function(t){var e;if(e=t&&t.url)t:{try{var s=document.createElement("a");s.href=t.url,e=s.host===a.host&&"/blank/page.html"===s.pathname;break t}catch(u){}e=!1}e&&(t=rg(t.url),r.removeEventListener("exit",i),r.close(),t=new gg(null,null,{requestId:o.oc,requestKey:t}),o.Df.requestWithCredential("/auth/session",t,n),n=null)}),r.addEventListener("exit",i)):n(yg("TRANSPORT_UNAVAILABLE"))},Bg.isAvailable=function(){return kg()},Bg.prototype.Bc=function(){return"redirect"},Cg.prototype.open=function(t,e,n){function i(){n&&(n(yg("REQUEST_INTERRUPTED")),n=null)}function r(){setTimeout(function(){window.__firebase_auth_jsonp[o]=void 0,wa(window.__firebase_auth_jsonp)&&(window.__firebase_auth_jsonp=void 0);try{var t=document.getElementById(o);t&&t.parentNode.removeChild(t)}catch(e){}},1),pg(window,"beforeunload",i)}var o="fn"+(new Date).getTime()+Math.floor(99999*Math.random());e[this.options.callback_parameter]="__firebase_auth_jsonp."+o,t+=(/\?/.test(t)?"":"?")+jb(e),og(window,"beforeunload",i),window.__firebase_auth_jsonp[o]=function(t){n&&(n(null,t),n=null),r()},Dg(o,t,n)},Cg.isAvailable=function(){return!0},Cg.prototype.Bc=function(){return"json"},ma(Eg,If),h=Eg.prototype,h.we=function(){return this.nb||null},h.re=function(t,e){Ng(this);var n=ig(t);n.ab._method="POST",this.pc("/users",n,function(t,n){t?R(e,t):R(e,t,n)})},h.Se=function(t,e){var n=this;Ng(this);var i="/users/"+encodeURIComponent(t.email),r=ig(t);r.ab._method="DELETE",this.pc(i,r,function(t,i){!t&&i&&i.uid&&n.nb&&n.nb.uid&&n.nb.uid===i.uid&&Lg(n),R(e,t)})},h.oe=function(t,e){Ng(this);var n="/users/"+encodeURIComponent(t.email)+"/password",i=ig(t);i.ab._method="PUT",i.ab.password=t.newPassword,this.pc(n,i,function(t){R(e,t)})},h.ne=function(t,e){Ng(this);var n="/users/"+encodeURIComponent(t.oldEmail)+"/email",i=ig(t);i.ab._method="PUT",i.ab.email=t.newEmail,i.ab.password=t.password,this.pc(n,i,function(t){R(e,t)})},h.Ue=function(t,e){Ng(this);var n="/users/"+encodeURIComponent(t.email)+"/password",i=ig(t);i.ab._method="POST",this.pc(n,i,function(t){R(e,t)})},h.pc=function(t,e,n){Qg(this,[Ag,Cg],t,e,n)},h.ze=function(t){return J("auth_status"===t,'initial event must be of type "auth_status"'),this.Re?null:[this.nb]};var Vg,Wg;Ug.prototype.open=function(t,e){this.gf=0,this.ka=e,this.zf=new Rg(t),this.zb=!1;var n=this;this.rb=setTimeout(function(){n.f("Timed out trying to connect."),n.ib(),n.rb=null},Math.floor(3e4)),Tc(function(){if(!n.zb){n.Ta=new Xg(function(t,e,i){if(Yg(n,arguments),n.Ta)if(n.rb&&(clearTimeout(n.rb),n.rb=null),n.Gc=!0,"start"==t)n.id=e,n.Ff=i;else{if("close"!==t)throw Error("Unrecognized command received: "+t);e?(n.Ta.Td=!1,Sg(n.zf,e,function(){n.ib()})):n.ib()}},function(t,e){Yg(n,arguments),Tg(n.zf,t,e)},function(){n.ib()},n.gd);var t={start:"t"};t.ser=Math.floor(1e8*Math.random()),n.Ta.fe&&(t.cb=n.Ta.fe),t.v="5",n.Vd&&(t.s=n.Vd),"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(t.r="f"),t=n.gd(t),n.f("Connecting via long-poll to "+t),Zg(n.Ta,t,function(){})}})},Ug.prototype.start=function(){var t=this.Ta,e=this.Ff;for(t.rg=this.id,t.sg=e,t.ke=!0;$g(t););t=this.id,e=this.Ff,this.fc=document.createElement("iframe");var n={dframe:"t"};n.id=t,n.pw=e,this.fc.src=this.gd(n),this.fc.style.display="none",document.body.appendChild(this.fc)},Ug.isAvailable=function(){return!(Wg||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.Ug)},h=Ug.prototype,h.Bd=function(){},h.cd=function(){this.zb=!0,this.Ta&&(this.Ta.close(),this.Ta=null),this.fc&&(document.body.removeChild(this.fc),this.fc=null),this.rb&&(clearTimeout(this.rb),this.rb=null)},h.ib=function(){this.zb||(this.f("Longpoll is closing itself"),this.cd(),this.ka&&(this.ka(this.Gc),this.ka=null))},h.close=function(){this.zb||(this.f("Longpoll is being closed."),this.cd())},h.send=function(t){t=B(t),this.pb+=t.length,Lb(this.Va,"bytes_sent",t.length),t=Kc(t),t=fb(t,!0),t=Xc(t,1840);for(var e=0;e<t.length;e++){var n=this.Ta;n.$c.push({Jg:this.gf,Rg:t.length,jf:t[e]}),n.ke&&$g(n),this.gf++}},Xg.prototype.close=function(){if(this.ke=!1,this.Ca){this.Ca.gb.body.innerHTML="";var t=this;setTimeout(function(){null!==t.Ca&&(document.body.removeChild(t.Ca),t.Ca=null)},Math.floor(0))}var e=this.jb;e&&(this.jb=null,e())};var bh=null;"undefined"!=typeof MozWebSocket?bh=MozWebSocket:"undefined"!=typeof WebSocket&&(bh=WebSocket);var dh;ch.prototype.open=function(t,e){this.jb=e,this.wg=t,this.f("Websocket connecting to "+this.fb),this.Gc=!1,Dc.set("previous_websocket_failure",!0);try{this.va=new bh(this.fb)}catch(n){this.f("Error instantiating WebSocket.");var i=n.message||n.data;return i&&this.f(i),void this.ib()}var r=this;this.va.onopen=function(){r.f("Websocket connected."),r.Gc=!0},this.va.onclose=function(){r.f("Websocket connection was disconnected."),r.va=null,r.ib()},this.va.onmessage=function(t){if(null!==r.va)if(t=t.data,r.ob+=t.length,Lb(r.Va,"bytes_received",t.length),eh(r),null!==r.frames)fh(r,t);else{t:{if(J(null===r.frames,"We already have a frame buffer"),6>=t.length){var e=Number(t);if(!isNaN(e)){r.bf=e,r.frames=[],t=null;break t}}r.bf=1,r.frames=[]}null!==t&&fh(r,t)}},this.va.onerror=function(t){r.f("WebSocket error.  Closing connection."),(t=t.message||t.data)&&r.f(t),r.ib()}},ch.prototype.start=function(){},ch.isAvailable=function(){var t=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var e=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);e&&1<e.length&&4.4>parseFloat(e[1])&&(t=!0)}return!t&&null!==bh&&!dh},ch.responsesRequiredToBeHealthy=2,ch.healthyTimeout=3e4,h=ch.prototype,h.Bd=function(){Dc.remove("previous_websocket_failure")},h.send=function(t){eh(this),t=B(t),this.pb+=t.length,Lb(this.Va,"bytes_sent",t.length),t=Xc(t,16384),1<t.length&&this.va.send(String(t.length));for(var e=0;e<t.length;e++)this.va.send(t[e])},h.cd=function(){this.zb=!0,this.Jc&&(clearInterval(this.Jc),this.Jc=null),this.va&&(this.va.close(),this.va=null)},h.ib=function(){this.zb||(this.f("WebSocket is closing itself"),this.cd(),this.jb&&(this.jb(this.Gc),this.jb=null))},h.close=function(){this.zb||(this.f("WebSocket is being closed"),this.cd())};var ih=[Ug,ch];kh.prototype.Da=function(t){vh(this,{t:"d",d:t})},kh.prototype.Fd=function(t){sh(this),this.hc(t)},kh.prototype.close=function(){2!==this.Ua&&(this.f("Closing realtime connection."),this.Ua=2,rh(this),this.ka&&(this.ka(),this.ka=null))};var xh=0,zh=0;h=wh.prototype,h.Da=function(t,e,n){var i=++this.Ig;t={r:i,a:t,b:e},this.f(B(t)),J(this.ma,"sendRequest call when we're not connected not allowed."),this.Sa.Da(t),n&&(this.Qd[i]=n)},h.xf=function(t,e,n,i){var r=t.wa(),o=t.path.toString();this.f("Listen called for "+o+" "+r),this.aa[o]=this.aa[o]||{},J(!this.aa[o][r],"listen() called twice for same path/queryId."),t={J:i,ud:e,Fg:t,tag:n},this.aa[o][r]=t,this.ma&&Ah(this,t)},h.P=function(t,e,n){this.Fa={fg:t,nf:!1,yc:e,jd:n},this.f("Authenticating using credential: "+t),Ch(this),(e=40==t.length)||(t=ad(t).Ac,e="object"==typeof t&&!0===w(t,"admin")),e&&(this.f("Admin auth credential detected.  Reducing max reconnect time."),this.Cd=3e4)},h.ee=function(t){delete this.Fa,this.ma&&this.Da("unauth",{},function(e){t(e.s,e.d)})},h.Of=function(t,e){var n=t.path.toString(),i=t.wa();if(this.f("Unlisten called for "+n+" "+i),Bh(this,n,i)&&this.ma){var r=ce(t.n);this.f("Unlisten on "+n+" for "+i),n={p:n},e&&(n.q=r,n.t=e),this.Da("n",n)}},h.Le=function(t,e,n){this.ma?Dh(this,"o",t,e,n):this.Uc.push({Zc:t,action:"o",data:e,J:n})},h.Bf=function(t,e,n){this.ma?Dh(this,"om",t,e,n):this.Uc.push({Zc:t,action:"om",data:e,J:n})},h.Gd=function(t,e){this.ma?Dh(this,"oc",t,null,e):this.Uc.push({Zc:t,action:"oc",data:null,J:e})},h.put=function(t,e,n,i){Eh(this,"p",t,e,n,i)},h.yf=function(t,e,n,i){Eh(this,"m",t,e,n,i)},h.Te=function(t){this.ma&&(t={c:t},this.f("reportStats",t),this.Da("s",t,function(t){"ok"!==t.s&&this.f("reportStats","Error sending stats: "+t.d)}))},h.Fd=function(t){if("r"in t){this.f("from server: "+B(t));var e=t.r,n=this.Qd[e];n&&(delete this.Qd[e],n(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&(e=t.a,n=t.b,this.f("handleServerMessage",e,n),"d"===e?this.Gb(n.p,n.d,!1,n.t):"m"===e?this.Gb(n.p,n.d,!0,n.t):"c"===e?Gh(this,n.p,n.q):"ac"===e?(t=n.s,e=n.d,n=this.Fa,delete this.Fa,n&&n.jd&&n.jd(t,e)):"sd"===e?this.We?this.We(n):"msg"in n&&"undefined"!=typeof console&&console.log("FIREBASE: "+n.msg.replace("\n","\nFIREBASE: ")):Pc("Unrecognized action received from server: "+B(e)+"\nAre you using the latest client?"))}},h.Vc=function(t){this.f("connection ready"),this.ma=!0,this.Kc=(new Date).getTime(),this.Ne({serverTimeOffset:t-(new Date).getTime()}),this.mf&&(t={},t["sdk.js."+"2.2.4".replace(/\./g,"-")]=1,kg()&&(t["framework.cordova"]=1),this.Te(t)),Hh(this),this.mf=!1,this.Tc(!0)},h.zg=function(t){t&&!this.uc&&this.$a===this.Cd&&(this.f("Window became visible.  Reducing delay."),this.$a=1e3,this.Sa||yh(this,0)),this.uc=t},h.xg=function(t){t?(this.f("Browser went online."),this.$a=1e3,this.Sa||yh(this,0)):(this.f("Browser went offline.  Killing connection."),this.Sa&&this.Sa.close())},h.Cf=function(){this.f("data client disconnected"),this.ma=!1,this.Sa=null;for(var t=0;t<this.pa.length;t++){var e=this.pa[t];e&&"h"in e.If&&e.Gg&&(e.J&&e.J("disconnect"),delete this.pa[t],this.Xc--)}0===this.Xc&&(this.pa=[]),this.Qd={},Jh(this)&&(this.uc?this.Kc&&(3e4<(new Date).getTime()-this.Kc&&(this.$a=1e3),this.Kc=null):(this.f("Window isn't visible.  Delaying reconnect."),this.$a=this.Cd,this.Fe=(new Date).getTime()),t=Math.max(0,this.$a-((new Date).getTime()-this.Fe)),t*=Math.random(),this.f("Trying to reconnect in "+t+"ms"),yh(this,t),this.$a=Math.min(this.Cd,1.3*this.$a)),this.Tc(!1)},h.yb=function(){this.De=!0,this.Sa?this.Sa.close():(this.Sb&&(clearTimeout(this.Sb),this.Sb=null),this.ma&&this.Cf())},h.qc=function(){this.De=!1,this.$a=1e3,this.Sa||yh(this,0)};var V={lg:function(){Vg=dh=!0}};V.forceLongPolling=V.lg,V.mg=function(){Wg=!0},V.forceWebSockets=V.mg,V.Mg=function(t,e){t.k.Ra.We=e},V.setSecurityDebugCallback=V.Mg,V.Ye=function(t,e){t.k.Ye(e)},V.stats=V.Ye,V.Ze=function(t,e){t.k.Ze(e)},V.statsIncrementCounter=V.Ze,V.pd=function(t){return t.k.pd},V.dataUpdateCount=V.pd,V.pg=function(t,e){t.k.Ce=e},V.interceptServerData=V.pg,V.vg=function(t){new ug(t)},V.onPopupOpen=V.vg,V.Kg=function(t){fg=t},V.setAuthenticationServer=V.Kg,S.prototype.K=function(){return x("Firebase.DataSnapshot.val",0,0,arguments.length),this.B.K()},S.prototype.val=S.prototype.K,S.prototype.lf=function(){return x("Firebase.DataSnapshot.exportVal",0,0,arguments.length),this.B.K(!0)},S.prototype.exportVal=S.prototype.lf,S.prototype.kg=function(){return x("Firebase.DataSnapshot.exists",0,0,arguments.length),!this.B.e()},S.prototype.exists=S.prototype.kg,S.prototype.w=function(t){x("Firebase.DataSnapshot.child",0,1,arguments.length),ga(t)&&(t=String(t)),Xf("Firebase.DataSnapshot.child",t);var e=new K(t),n=this.V.w(e);return new S(this.B.oa(e),n,M)},S.prototype.child=S.prototype.w,S.prototype.Ha=function(t){x("Firebase.DataSnapshot.hasChild",1,1,arguments.length),Xf("Firebase.DataSnapshot.hasChild",t);var e=new K(t);return!this.B.oa(e).e()},S.prototype.hasChild=S.prototype.Ha,S.prototype.A=function(){return x("Firebase.DataSnapshot.getPriority",0,0,arguments.length),this.B.A().K()},S.prototype.getPriority=S.prototype.A,S.prototype.forEach=function(t){if(x("Firebase.DataSnapshot.forEach",1,1,arguments.length),A("Firebase.DataSnapshot.forEach",1,t,!1),this.B.N())return!1;var e=this;return!!this.B.U(this.g,function(n,i){return t(new S(i,e.V.w(n),M))})},S.prototype.forEach=S.prototype.forEach,S.prototype.td=function(){return x("Firebase.DataSnapshot.hasChildren",0,0,arguments.length),this.B.N()?!1:!this.B.e()},S.prototype.hasChildren=S.prototype.td,S.prototype.name=function(){return Q("Firebase.DataSnapshot.name() being deprecated. Please use Firebase.DataSnapshot.key() instead."),x("Firebase.DataSnapshot.name",0,0,arguments.length),this.key()},S.prototype.name=S.prototype.name,S.prototype.key=function(){return x("Firebase.DataSnapshot.key",0,0,arguments.length),this.V.key()},S.prototype.key=S.prototype.key,S.prototype.Db=function(){return x("Firebase.DataSnapshot.numChildren",0,0,arguments.length),this.B.Db()},S.prototype.numChildren=S.prototype.Db,S.prototype.lc=function(){return x("Firebase.DataSnapshot.ref",0,0,arguments.length),this.V},S.prototype.ref=S.prototype.lc,h=Kh.prototype,h.toString=function(){return(this.H.lb?"https://":"http://")+this.H.host},h.name=function(){return this.H.Cb},h.Gb=function(t,e,n,i){this.pd++;var r=new K(t);e=this.Ce?this.Ce(t,e):e,t=[],i?n?(e=na(e,function(t){return L(t)}),t=rf(this.O,r,e,i)):(e=L(e),t=nf(this.O,r,e,i)):n?(i=na(e,function(t){return L(t)}),t=mf(this.O,r,i)):(i=L(e),t=jf(this.O,new Ub(ze,r,i))),i=r,0<t.length&&(i=Oh(this,r)),zb(this.ea,i,t)},h.Tc=function(t){Lh(this,"connected",t),!1===t&&Ph(this)},h.Ne=function(t){var e=this;Yc(t,function(t,n){Lh(e,n,t)})},h.Ke=function(t){Lh(this,"authenticated",t)},h.Kb=function(t,e,n,i){this.f("set",{path:t.toString(),value:e,Xg:n});var r=Nh(this);e=L(e,n);var r=sc(e,r),o=this.Ed++,r=hf(this.O,t,r,o,!0);vb(this.ea,r);var a=this;this.ca.put(t.toString(),e.K(!0),function(e,n){var r="ok"===e;r||Q("set at "+t+" failed: "+e),r=lf(a.O,o,!r),zb(a.ea,t,r),Qh(i,e,n)}),r=Rh(this,t),Oh(this,r),zb(this.ea,r,[])},h.update=function(t,e,n){this.f("update",{path:t.toString(),value:e});var i=!0,o=Nh(this),a={};if(r(e,function(t,e){i=!1;var n=L(t);a[e]=sc(n,o)}),i)Bb("update() called with empty data.  Don't do anything."),Qh(n,"ok");else{var s=this.Ed++,u=kf(this.O,t,a,s);vb(this.ea,u);var h=this;this.ca.yf(t.toString(),e,function(e,i){var r="ok"===e;r||Q("update at "+t+" failed: "+e);var r=lf(h.O,s,!r),o=t;0<r.length&&(o=Oh(h,t)),zb(h.ea,o,r),Qh(n,e,i)}),e=Rh(this,t),Oh(this,e),zb(this.ea,t,[])}},h.Gd=function(t,e){var n=this;this.ca.Gd(t.toString(),function(i,r){"ok"===i&&eg(n.ka,t),Qh(e,i,r)})},h.yb=function(){this.Ra&&this.Ra.yb()},h.qc=function(){this.Ra&&this.Ra.qc()},h.Ye=function(t){if("undefined"!=typeof console){t?(this.Yd||(this.Yd=new Ib(this.Va)),t=this.Yd.get()):t=this.Va.get();var e,n=Ra(sa(t),function(t,e){return Math.max(e.length,t)},0);for(e in t){for(var i=t[e],r=e.length;n+2>r;r++)e+=" ";console.log(e+i)}}},h.Ze=function(t){Lb(this.Va,t),this.Pg.Mf[t]=!0},h.f=function(){var t="";this.Ra&&(t=this.Ra.id+":"),Bb(t,arguments)},ca(W),W.prototype.yb=function(){for(var t in this.nc)this.nc[t].yb()},W.prototype.interrupt=W.prototype.yb,W.prototype.qc=function(){for(var t in this.nc)this.nc[t].qc()},W.prototype.resume=W.prototype.qc,W.prototype.ue=function(){this.Pf=!0},X.prototype.cancel=function(t){x("Firebase.onDisconnect().cancel",0,1,arguments.length),A("Firebase.onDisconnect().cancel",1,t,!0),this.ad.Gd(this.qa,t||null)},X.prototype.cancel=X.prototype.cancel,X.prototype.remove=function(t){x("Firebase.onDisconnect().remove",0,1,arguments.length),Yf("Firebase.onDisconnect().remove",this.qa),A("Firebase.onDisconnect().remove",1,t,!0),Sh(this.ad,this.qa,null,t)},X.prototype.remove=X.prototype.remove,X.prototype.set=function(t,e){x("Firebase.onDisconnect().set",1,2,arguments.length),Yf("Firebase.onDisconnect().set",this.qa),Rf("Firebase.onDisconnect().set",t,this.qa,!1),A("Firebase.onDisconnect().set",2,e,!0),Sh(this.ad,this.qa,t,e)},X.prototype.set=X.prototype.set,X.prototype.Kb=function(t,e,n){x("Firebase.onDisconnect().setWithPriority",2,3,arguments.length),Yf("Firebase.onDisconnect().setWithPriority",this.qa),Rf("Firebase.onDisconnect().setWithPriority",t,this.qa,!1),Uf("Firebase.onDisconnect().setWithPriority",2,e),A("Firebase.onDisconnect().setWithPriority",3,n,!0),Th(this.ad,this.qa,t,e,n)},X.prototype.setWithPriority=X.prototype.Kb,X.prototype.update=function(t,e){if(x("Firebase.onDisconnect().update",1,2,arguments.length),Yf("Firebase.onDisconnect().update",this.qa),ea(t)){for(var n={},i=0;i<t.length;++i)n[""+i]=t[i];t=n,Q("Passing an Array to Firebase.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Tf("Firebase.onDisconnect().update",t,this.qa),A("Firebase.onDisconnect().update",2,e,!0),Uh(this.ad,this.qa,t,e)},X.prototype.update=X.prototype.update,Y.prototype.lc=function(){return x("Query.ref",0,0,arguments.length),new U(this.k,this.path)},Y.prototype.ref=Y.prototype.lc,Y.prototype.Eb=function(t,e,n,i){x("Query.on",2,4,arguments.length),Vf("Query.on",t,!1),A("Query.on",2,e,!1);var r=hi("Query.on",n,i);if("value"===t)Vh(this.k,this,new jd(e,r.cancel||null,r.Ma||null));else{var o={};o[t]=e,Vh(this.k,this,new kd(o,r.cancel,r.Ma))}return e},Y.prototype.on=Y.prototype.Eb,Y.prototype.gc=function(t,e,n){x("Query.off",0,3,arguments.length),Vf("Query.off",t,!0),A("Query.off",2,e,!0),lb("Query.off",3,n);var i=null,r=null;"value"===t?i=new jd(e||null,null,n||null):t&&(e&&(r={},r[t]=e),i=new kd(r,null,n||null)),r=this.k,i=".info"===O(this.path)?r.zd.kb(this,i):r.O.kb(this,i),xb(r.ea,this.path,i)},Y.prototype.off=Y.prototype.gc,Y.prototype.Ag=function(t,e){function n(a){o&&(o=!1,r.gc(t,n),e.call(i.Ma,a))}x("Query.once",2,4,arguments.length),Vf("Query.once",t,!1),A("Query.once",2,e,!1);var i=hi("Query.once",arguments[2],arguments[3]),r=this,o=!0;this.Eb(t,n,function(e){r.gc(t,n),i.cancel&&i.cancel.call(i.Ma,e)})},Y.prototype.once=Y.prototype.Ag,Y.prototype.Ge=function(t){if(Q("Query.limit() being deprecated. Please use Query.limitToFirst() or Query.limitToLast() instead."),x("Query.limit",1,1,arguments.length),!ga(t)||Math.floor(t)!==t||0>=t)throw Error("Query.limit: First argument must be a positive integer.");if(this.n.ia)throw Error("Query.limit: Limit was already set (by another call to limit, limitToFirst, orlimitToLast.");var e=this.n.Ge(t);return fi(e),new Y(this.k,this.path,e,this.jc)},Y.prototype.limit=Y.prototype.Ge,Y.prototype.He=function(t){if(x("Query.limitToFirst",1,1,arguments.length),!ga(t)||Math.floor(t)!==t||0>=t)throw Error("Query.limitToFirst: First argument must be a positive integer.");if(this.n.ia)throw Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new Y(this.k,this.path,this.n.He(t),this.jc)},Y.prototype.limitToFirst=Y.prototype.He,Y.prototype.Ie=function(t){if(x("Query.limitToLast",1,1,arguments.length),!ga(t)||Math.floor(t)!==t||0>=t)throw Error("Query.limitToLast: First argument must be a positive integer.");if(this.n.ia)throw Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new Y(this.k,this.path,this.n.Ie(t),this.jc)},Y.prototype.limitToLast=Y.prototype.Ie,Y.prototype.Bg=function(t){if(x("Query.orderByChild",1,1,arguments.length),"$key"===t)throw Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===t)throw Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===t)throw Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');Wf("Query.orderByChild",1,t,!1),gi(this,"Query.orderByChild");var e=be(this.n,new Rd(t));return ei(e),new Y(this.k,this.path,e,!0)},Y.prototype.orderByChild=Y.prototype.Bg,Y.prototype.Cg=function(){x("Query.orderByKey",0,0,arguments.length),gi(this,"Query.orderByKey");var t=be(this.n,Vd);return ei(t),new Y(this.k,this.path,t,!0)},Y.prototype.orderByKey=Y.prototype.Cg,Y.prototype.Dg=function(){x("Query.orderByPriority",0,0,arguments.length),gi(this,"Query.orderByPriority");var t=be(this.n,M);return ei(t),new Y(this.k,this.path,t,!0)},Y.prototype.orderByPriority=Y.prototype.Dg,Y.prototype.Eg=function(){x("Query.orderByValue",0,0,arguments.length),gi(this,"Query.orderByValue");var t=be(this.n,Yd);return ei(t),new Y(this.k,this.path,t,!0)},Y.prototype.orderByValue=Y.prototype.Eg,Y.prototype.Xd=function(t,e){x("Query.startAt",0,2,arguments.length),Rf("Query.startAt",t,this.path,!0),Wf("Query.startAt",2,e,!0);var i=this.n.Xd(t,e);if(fi(i),ei(i),this.n.la)throw Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return n(t)||(e=t=null),new Y(this.k,this.path,i,this.jc)},Y.prototype.startAt=Y.prototype.Xd,Y.prototype.qd=function(t,e){x("Query.endAt",0,2,arguments.length),Rf("Query.endAt",t,this.path,!0),Wf("Query.endAt",2,e,!0);var n=this.n.qd(t,e);if(fi(n),ei(n),this.n.na)throw Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new Y(this.k,this.path,n,this.jc)},Y.prototype.endAt=Y.prototype.qd,Y.prototype.hg=function(t,e){if(x("Query.equalTo",1,2,arguments.length),Rf("Query.equalTo",t,this.path,!1),Wf("Query.equalTo",2,e,!0),this.n.la)throw Error("Query.equalTo: Starting point was already set (by another call to endAt or equalTo).");if(this.n.na)throw Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.Xd(t,e).qd(t,e)},Y.prototype.equalTo=Y.prototype.hg,Y.prototype.toString=function(){x("Query.toString",0,0,arguments.length);for(var t=this.path,e="",n=t.Y;n<t.o.length;n++)""!==t.o[n]&&(e+="/"+encodeURIComponent(String(t.o[n])));return t=this.k.toString()+(e||"/"),e=jb(ee(this.n)),t+=e.replace(/^&/,"")},Y.prototype.toString=Y.prototype.toString,Y.prototype.wa=function(){var t=Wc(ce(this.n));return"{}"===t?"default":t};var Z={};Z.vc=wh,Z.DataConnection=Z.vc,wh.prototype.Og=function(t,e){this.Da("q",{p:t},e)},Z.vc.prototype.simpleListen=Z.vc.prototype.Og,wh.prototype.gg=function(t,e){this.Da("echo",{d:t},e)},Z.vc.prototype.echo=Z.vc.prototype.gg,wh.prototype.interrupt=wh.prototype.yb,Z.Sf=kh,Z.RealTimeConnection=Z.Sf,kh.prototype.sendRequest=kh.prototype.Da,kh.prototype.close=kh.prototype.close,Z.og=function(t){var e=wh.prototype.put;return wh.prototype.put=function(i,r,o,a){n(a)&&(a=t()),e.call(this,i,r,o,a)},function(){wh.prototype.put=e}},Z.hijackHash=Z.og,Z.Rf=Ec,Z.ConnectionTarget=Z.Rf,Z.wa=function(t){return t.wa()},Z.queryIdentifier=Z.wa,Z.qg=function(t){return t.k.Ra.aa},Z.listens=Z.qg,Z.ue=function(t){t.ue()},Z.forceRestClient=Z.ue,ma(U,Y);var ii=U,ji=["Firebase"],ki=aa;ji[0]in ki||!ki.execScript||ki.execScript("var "+ji[0]);for(var li;ji.length&&(li=ji.shift());)!ji.length&&n(ii)?ki[li]=ii:ki=ki[li]?ki[li]:ki[li]={};U.prototype.name=function(){return Q("Firebase.name() being deprecated. Please use Firebase.key() instead."),x("Firebase.name",0,0,arguments.length),this.key()},U.prototype.name=U.prototype.name,U.prototype.key=function(){return x("Firebase.key",0,0,arguments.length),this.path.e()?null:vc(this.path)},U.prototype.key=U.prototype.key,U.prototype.w=function(t){if(x("Firebase.child",1,1,arguments.length),ga(t))t=String(t);else if(!(t instanceof K))if(null===O(this.path)){var e=t;e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Xf("Firebase.child",e)}else Xf("Firebase.child",t);return new U(this.k,this.path.w(t))},U.prototype.child=U.prototype.w,U.prototype.parent=function(){x("Firebase.parent",0,0,arguments.length);var t=this.path.parent();return null===t?null:new U(this.k,t)},U.prototype.parent=U.prototype.parent,U.prototype.root=function(){x("Firebase.ref",0,0,arguments.length);for(var t=this;null!==t.parent();)t=t.parent();return t},U.prototype.root=U.prototype.root,U.prototype.set=function(t,e){x("Firebase.set",1,2,arguments.length),Yf("Firebase.set",this.path),Rf("Firebase.set",t,this.path,!1),A("Firebase.set",2,e,!0),this.k.Kb(this.path,t,null,e||null)},U.prototype.set=U.prototype.set,U.prototype.update=function(t,e){if(x("Firebase.update",1,2,arguments.length),Yf("Firebase.update",this.path),ea(t)){for(var n={},i=0;i<t.length;++i)n[""+i]=t[i];t=n,Q("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Tf("Firebase.update",t,this.path),A("Firebase.update",2,e,!0),this.k.update(this.path,t,e||null)},U.prototype.update=U.prototype.update,U.prototype.Kb=function(t,e,n){if(x("Firebase.setWithPriority",2,3,arguments.length),Yf("Firebase.setWithPriority",this.path),Rf("Firebase.setWithPriority",t,this.path,!1),Uf("Firebase.setWithPriority",2,e),A("Firebase.setWithPriority",3,n,!0),".length"===this.key()||".keys"===this.key())throw"Firebase.setWithPriority failed: "+this.key()+" is a read-only object.";this.k.Kb(this.path,t,e,n||null)},U.prototype.setWithPriority=U.prototype.Kb,U.prototype.remove=function(t){x("Firebase.remove",0,1,arguments.length),Yf("Firebase.remove",this.path),A("Firebase.remove",1,t,!0),this.set(null,t)},U.prototype.remove=U.prototype.remove,U.prototype.transaction=function(t,e,i){if(x("Firebase.transaction",1,3,arguments.length),Yf("Firebase.transaction",this.path),A("Firebase.transaction",1,t,!1),A("Firebase.transaction",2,e,!0),n(i)&&"boolean"!=typeof i)throw Error(z("Firebase.transaction",3,!0)+"must be a boolean.");if(".length"===this.key()||".keys"===this.key())throw"Firebase.transaction failed: "+this.key()+" is a read-only object.";"undefined"==typeof i&&(i=!0),Wh(this.k,this.path,t,e||null,i)},U.prototype.transaction=U.prototype.transaction,U.prototype.Lg=function(t,e){x("Firebase.setPriority",1,2,arguments.length),Yf("Firebase.setPriority",this.path),Uf("Firebase.setPriority",1,t),A("Firebase.setPriority",2,e,!0),this.k.Kb(this.path.w(".priority"),t,null,e)},U.prototype.setPriority=U.prototype.Lg,U.prototype.push=function(t,e){x("Firebase.push",0,2,arguments.length),Yf("Firebase.push",this.path),Rf("Firebase.push",t,this.path,!0),A("Firebase.push",2,e,!0);var n=Mh(this.k),n=Kf(n),n=this.w(n);return"undefined"!=typeof t&&null!==t&&n.set(t,e),n},U.prototype.push=U.prototype.push,U.prototype.jb=function(){return Yf("Firebase.onDisconnect",this.path),new X(this.k,this.path)},U.prototype.onDisconnect=U.prototype.jb,U.prototype.P=function(t,e,n){Q("FirebaseRef.auth() being deprecated. Please use FirebaseRef.authWithCustomToken() instead."),x("Firebase.auth",1,3,arguments.length),Zf("Firebase.auth",t),A("Firebase.auth",2,e,!0),A("Firebase.auth",3,e,!0),Kg(this.k.P,t,{},{remember:"none"},e,n)},U.prototype.auth=U.prototype.P,U.prototype.ee=function(t){x("Firebase.unauth",0,1,arguments.length),A("Firebase.unauth",1,t,!0),Lg(this.k.P,t)},U.prototype.unauth=U.prototype.ee,U.prototype.we=function(){return x("Firebase.getAuth",0,0,arguments.length),this.k.P.we()},U.prototype.getAuth=U.prototype.we,U.prototype.ug=function(t,e){x("Firebase.onAuth",1,2,arguments.length),
A("Firebase.onAuth",1,t,!1),lb("Firebase.onAuth",2,e),this.k.P.Eb("auth_status",t,e)},U.prototype.onAuth=U.prototype.ug,U.prototype.tg=function(t,e){x("Firebase.offAuth",1,2,arguments.length),A("Firebase.offAuth",1,t,!1),lb("Firebase.offAuth",2,e),this.k.P.gc("auth_status",t,e)},U.prototype.offAuth=U.prototype.tg,U.prototype.Wf=function(t,e,n){x("Firebase.authWithCustomToken",2,3,arguments.length),Zf("Firebase.authWithCustomToken",t),A("Firebase.authWithCustomToken",2,e,!1),ag("Firebase.authWithCustomToken",3,n,!0),Kg(this.k.P,t,{},n||{},e)},U.prototype.authWithCustomToken=U.prototype.Wf,U.prototype.Xf=function(t,e,n){x("Firebase.authWithOAuthPopup",2,3,arguments.length),$f("Firebase.authWithOAuthPopup",1,t),A("Firebase.authWithOAuthPopup",2,e,!1),ag("Firebase.authWithOAuthPopup",3,n,!0),Pg(this.k.P,t,n,e)},U.prototype.authWithOAuthPopup=U.prototype.Xf,U.prototype.Yf=function(t,e,n){x("Firebase.authWithOAuthRedirect",2,3,arguments.length),$f("Firebase.authWithOAuthRedirect",1,t),A("Firebase.authWithOAuthRedirect",2,e,!1),ag("Firebase.authWithOAuthRedirect",3,n,!0);var i=this.k.P;Ng(i);var r=[wg],o=ig(n);"anonymous"===t||"firebase"===t?R(e,yg("TRANSPORT_UNAVAILABLE")):(P.set("redirect_client_options",o.ld),Og(i,r,"/auth/"+t,o,e))},U.prototype.authWithOAuthRedirect=U.prototype.Yf,U.prototype.Zf=function(t,e,n,i){x("Firebase.authWithOAuthToken",3,4,arguments.length),$f("Firebase.authWithOAuthToken",1,t),A("Firebase.authWithOAuthToken",3,n,!1),ag("Firebase.authWithOAuthToken",4,i,!0),p(e)?($f("Firebase.authWithOAuthToken",2,e),Mg(this.k.P,t+"/token",{access_token:e},i,n)):(ag("Firebase.authWithOAuthToken",2,e,!1),Mg(this.k.P,t+"/token",e,i,n))},U.prototype.authWithOAuthToken=U.prototype.Zf,U.prototype.Vf=function(t,e){x("Firebase.authAnonymously",1,2,arguments.length),A("Firebase.authAnonymously",1,t,!1),ag("Firebase.authAnonymously",2,e,!0),Mg(this.k.P,"anonymous",{},e,t)},U.prototype.authAnonymously=U.prototype.Vf,U.prototype.$f=function(t,e,n){x("Firebase.authWithPassword",2,3,arguments.length),ag("Firebase.authWithPassword",1,t,!1),bg("Firebase.authWithPassword",t,"email"),bg("Firebase.authWithPassword",t,"password"),A("Firebase.authAnonymously",2,e,!1),ag("Firebase.authAnonymously",3,n,!0),Mg(this.k.P,"password",t,n,e)},U.prototype.authWithPassword=U.prototype.$f,U.prototype.re=function(t,e){x("Firebase.createUser",2,2,arguments.length),ag("Firebase.createUser",1,t,!1),bg("Firebase.createUser",t,"email"),bg("Firebase.createUser",t,"password"),A("Firebase.createUser",2,e,!1),this.k.P.re(t,e)},U.prototype.createUser=U.prototype.re,U.prototype.Se=function(t,e){x("Firebase.removeUser",2,2,arguments.length),ag("Firebase.removeUser",1,t,!1),bg("Firebase.removeUser",t,"email"),bg("Firebase.removeUser",t,"password"),A("Firebase.removeUser",2,e,!1),this.k.P.Se(t,e)},U.prototype.removeUser=U.prototype.Se,U.prototype.oe=function(t,e){x("Firebase.changePassword",2,2,arguments.length),ag("Firebase.changePassword",1,t,!1),bg("Firebase.changePassword",t,"email"),bg("Firebase.changePassword",t,"oldPassword"),bg("Firebase.changePassword",t,"newPassword"),A("Firebase.changePassword",2,e,!1),this.k.P.oe(t,e)},U.prototype.changePassword=U.prototype.oe,U.prototype.ne=function(t,e){x("Firebase.changeEmail",2,2,arguments.length),ag("Firebase.changeEmail",1,t,!1),bg("Firebase.changeEmail",t,"oldEmail"),bg("Firebase.changeEmail",t,"newEmail"),bg("Firebase.changeEmail",t,"password"),A("Firebase.changeEmail",2,e,!1),this.k.P.ne(t,e)},U.prototype.changeEmail=U.prototype.ne,U.prototype.Ue=function(t,e){x("Firebase.resetPassword",2,2,arguments.length),ag("Firebase.resetPassword",1,t,!1),bg("Firebase.resetPassword",t,"email"),A("Firebase.resetPassword",2,e,!1),this.k.P.Ue(t,e)},U.prototype.resetPassword=U.prototype.Ue,U.goOffline=function(){x("Firebase.goOffline",0,0,arguments.length),W.ub().yb()},U.goOnline=function(){x("Firebase.goOnline",0,0,arguments.length),W.ub().qc()},U.enableLogging=Nc,U.ServerValue={TIMESTAMP:{".sv":"timestamp"}},U.SDK_VERSION="2.2.4",U.INTERNAL=V,U.Context=W,U.TEST_ACCESS=Z}(),module.exports=Firebase;
},{}],40:[function(require,module,exports){
"use strict";module.exports=require("./lib/core.js"),require("./lib/done.js"),require("./lib/es6-extensions.js"),require("./lib/node-extensions.js");
},{"./lib/core.js":41,"./lib/done.js":42,"./lib/es6-extensions.js":43,"./lib/node-extensions.js":44}],41:[function(require,module,exports){
"use strict";function Promise(e){function n(e){return null===i?void c.push(e):void asap(function(){var n=i?e.onFulfilled:e.onRejected;if(null===n)return void(i?e.resolve:e.reject)(u);var t;try{t=n(u)}catch(o){return void e.reject(o)}e.resolve(t)})}function t(e){try{if(e===f)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if("function"==typeof n)return void doResolve(n.bind(e),t,o)}i=!0,u=e,r()}catch(c){o(c)}}function o(e){i=!1,u=e,r()}function r(){for(var e=0,t=c.length;t>e;e++)n(c[e]);c=null}if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");var i=null,u=null,c=[],f=this;this.then=function(e,t){return new f.constructor(function(o,r){n(new Handler(e,t,o,r))})},doResolve(e,t,o)}function Handler(e,n,t,o){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof n?n:null,this.resolve=t,this.reject=o}function doResolve(e,n,t){var o=!1;try{e(function(e){o||(o=!0,n(e))},function(e){o||(o=!0,t(e))})}catch(r){if(o)return;o=!0,t(r)}}var asap=require("asap");module.exports=Promise;
},{"asap":45}],42:[function(require,module,exports){
"use strict";var Promise=require("./core.js"),asap=require("asap");module.exports=Promise,Promise.prototype.done=function(){var e=arguments.length?this.then.apply(this,arguments):this;e.then(null,function(e){asap(function(){throw e})})};
},{"./core.js":41,"asap":45}],43:[function(require,module,exports){
"use strict";function ValuePromise(e){this.then=function(r){return"function"!=typeof r?this:new Promise(function(n,t){asap(function(){try{n(r(e))}catch(o){t(o)}})})}}var Promise=require("./core.js"),asap=require("asap");module.exports=Promise,ValuePromise.prototype=Promise.prototype;var TRUE=new ValuePromise(!0),FALSE=new ValuePromise(!1),NULL=new ValuePromise(null),UNDEFINED=new ValuePromise(void 0),ZERO=new ValuePromise(0),EMPTYSTRING=new ValuePromise("");Promise.resolve=function(e){if(e instanceof Promise)return e;if(null===e)return NULL;if(void 0===e)return UNDEFINED;if(e===!0)return TRUE;if(e===!1)return FALSE;if(0===e)return ZERO;if(""===e)return EMPTYSTRING;if("object"==typeof e||"function"==typeof e)try{var r=e.then;if("function"==typeof r)return new Promise(r.bind(e))}catch(n){return new Promise(function(e,r){r(n)})}return new ValuePromise(e)},Promise.all=function(e){var r=Array.prototype.slice.call(e);return new Promise(function(e,n){function t(i,u){try{if(u&&("object"==typeof u||"function"==typeof u)){var f=u.then;if("function"==typeof f)return void f.call(u,function(e){t(i,e)},n)}r[i]=u,0===--o&&e(r)}catch(c){n(c)}}if(0===r.length)return e([]);for(var o=r.length,i=0;i<r.length;i++)t(i,r[i])})},Promise.reject=function(e){return new Promise(function(r,n){n(e)})},Promise.race=function(e){return new Promise(function(r,n){e.forEach(function(e){Promise.resolve(e).then(r,n)})})},Promise.prototype["catch"]=function(e){return this.then(null,e)};
},{"./core.js":41,"asap":45}],44:[function(require,module,exports){
"use strict";var Promise=require("./core.js"),asap=require("asap");module.exports=Promise,Promise.denodeify=function(n,t){return t=t||1/0,function(){var e=this,o=Array.prototype.slice.call(arguments);return new Promise(function(r,i){for(;o.length&&o.length>t;)o.pop();o.push(function(n,t){n?i(n):r(t)});var u=n.apply(e,o);!u||"object"!=typeof u&&"function"!=typeof u||"function"!=typeof u.then||r(u)})}},Promise.nodeify=function(n){return function(){var t=Array.prototype.slice.call(arguments),e="function"==typeof t[t.length-1]?t.pop():null,o=this;try{return n.apply(this,arguments).nodeify(e,o)}catch(r){if(null===e||"undefined"==typeof e)return new Promise(function(n,t){t(r)});asap(function(){e.call(o,r)})}}},Promise.prototype.nodeify=function(n,t){return"function"!=typeof n?this:void this.then(function(e){asap(function(){n.call(t,null,e)})},function(e){asap(function(){n.call(t,e)})})};
},{"./core.js":41,"asap":45}],45:[function(require,module,exports){
(function (process){
function flush(){for(;head.next;){head=head.next;var e=head.task;head.task=void 0;var s=head.domain;s&&(head.domain=void 0,s.enter());try{e()}catch(n){if(isNodeJS)throw s&&s.exit(),setTimeout(flush,0),s&&s.enter(),n;setTimeout(function(){throw n},0)}s&&s.exit()}flushing=!1}function asap(e){tail=tail.next={task:e,domain:isNodeJS&&process.domain,next:null},flushing||(flushing=!0,requestFlush())}var head={task:void 0,next:null},tail=head,flushing=!1,requestFlush=void 0,isNodeJS=!1;if("undefined"!=typeof process&&process.nextTick)isNodeJS=!0,requestFlush=function(){process.nextTick(flush)};else if("function"==typeof setImmediate)requestFlush="undefined"!=typeof window?setImmediate.bind(window,flush):function(){setImmediate(flush)};else if("undefined"!=typeof MessageChannel){var channel=new MessageChannel;channel.port1.onmessage=flush,requestFlush=function(){channel.port2.postMessage(0)}}else requestFlush=function(){setTimeout(flush,0)};module.exports=asap;
}).call(this,require('_process'))

},{"_process":48}],46:[function(require,module,exports){
!function(t,e){"use strict";function n(t){var e=J(0),n=t.trim().slice(e.length).match(/^\s*(\S+?)\s*(?:,\s*(\S+))?\s+in\s+(.+)$/);return n?{key:n[1],pos:n[2],val:e+n[3]}:{val:t}}function r(t,e,n){var r={};return r[t.key]=e,t.pos&&(r[t.pos]=n),r}function i(t,e,i){d(t,"each");var o,u=v(t),f=t.outerHTML,c=!!Y[u],s=Y[u]||{tmpl:f},p=t.parentNode,l=document.createComment("riot placeholder"),m=[],h=g(t);p.insertBefore(l,t),i=n(i),e.one("premount",function(){p.stub&&(p=e.root),t.parentNode.removeChild(t)}).on("update",function(){var n=U(i.val,e);q(n)||(o=n?JSON.stringify(n):"",n=n?Object.keys(n).map(function(t){return r(i,t,n[t])}):[]);for(var f=document.createDocumentFragment(),d=m.length,g=n.length;d>g;)m[--d].unmount(),m.splice(d,1);for(d=0;g>d;++d){var v=!o&&i.key?r(i,n[d],d):n[d];m[d]?m[d].update(v):((m[d]=new a(s,{parent:e,isLoop:!0,hasImpl:c,root:c?t.cloneNode():p,item:v},t.innerHTML)).mount(),f.appendChild(m[d].root)),m[d]._item=v}p.insertBefore(f,l),h&&(e.tags[u]=m)}).one("updated",function(){var t=Object.keys(e);L(p,function(n){1!=n.nodeType||n.isLoop||n._looped||(n._visited=!1,n._looped=!0,M(n,e,t))})})}function o(t,e,n){L(t,function(t){if(1==t.nodeType){t.isLoop=t.isLoop||t.parentNode&&t.parentNode.isLoop||t.getAttribute("each")?1:0;var r=g(t);if(r&&!t.isLoop){var i,o=new a(r,{root:t,parent:e},t.innerHTML),u=v(t),f=m(e);o.parent=f,i=f.tags[u],i?(q(i)||(f.tags[u]=[i]),f.tags[u].push(o)):f.tags[u]=o,t.innerHTML="",n.push(o)}t.isLoop||M(t,e,[])}})}function u(t,e,n){function r(t,e,r){if(e.indexOf(J(0))>=0){var i={dom:t,expr:e};n.push(h(i,r))}}L(t,function(t){var n=t.nodeType;if(3==n&&"STYLE"!=t.parentNode.tagName&&r(t,t.nodeValue),1==n){var o=t.getAttribute("each");return o?(i(t,e,o),!1):(p(t.attributes,function(e){var n=e.name,i=n.split("__")[1];return r(t,e.value,{attr:i||n,bool:i}),i?(d(t,n),!1):void 0}),g(t)?!1:void 0)}})}function a(t,n,r){function i(){var t=N&&T?g:_||g;p(E.attributes,function(e){v[e.name]=U(e.value,t)}),p(Object.keys(D),function(e){v[e]=b(U(D[e],t))})}function a(t){for(var e in M)typeof g[e]!==R&&(g[e]=t[e])}function f(){g.parent&&T&&p(Object.keys(g.parent),function(t){var e=~V.indexOf(t);(typeof g[t]===R||e)&&(e||V.push(t),g[t]=g.parent[t])})}function c(t){if(p(H,function(e){e[t?"mount":"unmount"]()}),_){var e=t?"on":"off";T?_[e]("unmount",g.unmount):_[e]("update",g.update)[e]("unmount",g.unmount)}}var d,g=k.observable(this),v=A(n.opts)||{},L=y(t.tmpl),_=n.parent,T=n.isLoop,N=n.hasImpl,M=b(n.item),S=[],H=[],E=n.root,O=t.fn,j=E.tagName.toLowerCase(),D={},V=[];O&&E._tag&&E._tag.unmount(!0),this.isMounted=!1,E.isLoop=T,E._tag=this,this._id=F++,h(this,{parent:_,root:E,opts:v,tags:{}},M),p(E.attributes,function(t){var e=t.value;J(/\{.*\}/).test(e)&&(D[t.name]=e)}),L.innerHTML&&!/select|optgroup|tbody|tr/.test(j)&&(L.innerHTML=x(L.innerHTML,r)),this.update=function(t){t=b(t),f(),typeof M===B&&(a(t||{}),M=t),h(g,t),i(),g.trigger("update",t),s(S,g),g.trigger("updated")},this.mixin=function(){p(arguments,function(t){t=typeof t===$?k.mixin(t):t,p(Object.keys(t),function(e){"init"!=e&&(g[e]=l(t[e])?t[e].bind(g):t[e])}),t.init&&t.init.bind(g)()})},this.mount=function(){if(i(),O&&O.call(g,v),u(L,g,S),c(!0),t.attrs&&(w(t.attrs,function(t,e){E.setAttribute(t,e)}),u(g.root,g,S)),(!g.parent||T)&&g.update(M),g.trigger("premount"),T&&!N)g.root=E=d=L.firstChild;else{for(;L.firstChild;)E.appendChild(L.firstChild);E.stub&&(g.root=E=_.root)}!g.parent||g.parent.isMounted?(g.isMounted=!0,g.trigger("mount")):g.parent.one("mount",function(){C(g.root)||(g.parent.isMounted=g.isMounted=!0,g.trigger("mount"))})},this.unmount=function(t){var n,r=d||E,i=r.parentNode;if(i){if(_)n=m(_),q(n.tags[j])?p(n.tags[j],function(t,e){t._id==g._id&&n.tags[j].splice(e,1)}):n.tags[j]=e;else for(;r.firstChild;)r.removeChild(r.firstChild);t||i.removeChild(r)}g.trigger("unmount"),c(),g.off("*"),E._tag=null},o(L,this,H)}function f(e,n,r,i){r[e]=function(e){var o,u=i._item,a=i.parent;if(!u)for(;a;)u=a._item,a=u?!1:a.parent;e=e||t.event;try{e.currentTarget=r,e.target||(e.target=e.srcElement),e.which||(e.which=e.charCode||e.keyCode)}catch(f){}e.item=u,n.call(i,e)===!0||/radio|check/.test(r.type)||(e.preventDefault&&e.preventDefault(),e.returnValue=!1),e.preventUpdate||(o=u?m(a):i,o.update())}}function c(t,e,n){t&&(t.insertBefore(n,e),t.removeChild(e))}function s(t,e){p(t,function(t){var n=t.dom,r=t.attr,i=U(t.expr,e),o=t.dom.parentNode;if(null==i&&(i=""),o&&"TEXTAREA"==o.tagName&&(i=i.replace(/riot-/g,"")),t.value!==i){if(t.value=i,!r)return n.nodeValue=i.toString();if(d(n,r),l(i))f(r,i,n,e);else if("if"==r){var u=t.stub;i?u&&(c(u.parentNode,u,n),n.inStub=!1,C(n)||L(n,function(t){t._tag&&!t._tag.isMounted&&(t._tag.isMounted=!!t._tag.trigger("mount"))})):(u=t.stub=u||document.createTextNode(""),c(n.parentNode,n,u),n.inStub=!0)}else if(/^(show|hide)$/.test(r))"hide"==r&&(i=!i),n.style.display=i?"":"none";else if("value"==r)n.value=i;else if("riot-"==r.slice(0,5)&&"riot-tag"!=r)r=r.slice(5),i?n.setAttribute(r,i):d(n,r);else{if(t.bool){if(n[r]=i,!i)return;i=r}typeof i!==B&&n.setAttribute(r,i)}}})}function p(t,e){for(var n,r=0,i=(t||[]).length;i>r;r++)n=t[r],null!=n&&e(n,r)===!1&&r--;return t}function l(t){return typeof t===D||!1}function d(t,e){t.removeAttribute(e)}function g(t){return Y[t.getAttribute(G)||t.tagName.toLowerCase()]}function m(t){for(var e=t;!g(e.root)&&e.parent;)e=e.parent;return e}function v(t){var e=g(t),n=t.getAttribute("name"),r=n&&n.indexOf(J(0))<0?n:e?e.name:t.tagName.toLowerCase();return r}function h(t){for(var e,n=arguments,r=1;r<n.length;++r)if(e=n[r])for(var i in e)t[i]=e[i];return t}function b(t){if(!(t instanceof a||t&&typeof t.trigger==D))return t;var e={};for(var n in t)~V.indexOf(n)||(e[n]=t[n]);return e}function y(t){var e=I&&10>I,n=/^\s*<([\w-]+)/.exec(t),r=n?n[1].toLowerCase():"",i="th"===r||"td"===r?"tr":"tr"===r?"tbody":"div",o=_(i);return o.stub=!0,e&&("optgroup"===r?E(o,t):"option"===r?H(o,t):"div"!==i?S(o,t,r):e=0),e||(o.innerHTML=t),o}function L(t,e){if(t)if(e(t)===!1)L(t.nextSibling,e);else for(t=t.firstChild;t;)L(t,e),t=t.nextSibling}function w(t,e){for(var n,r=/([-\w]+) ?= ?(?:"([^"]*)|'([^']*)|({[^}]*}))/g;n=r.exec(t);)e(n[1].toLowerCase(),n[2]||n[3]||n[4])}function C(t){for(;t;){if(t.inStub)return!0;t=t.parentNode}return!1}function _(t){return document.createElement(t)}function x(t,e){return t.replace(/<(yield)\/?>(<\/\1>)?/gim,e||"")}function T(t,e){return(e||document).querySelectorAll(t)}function N(t,e){return(e||document).querySelector(t)}function A(t){function e(){}return e.prototype=t,new e}function M(t,e,n){if(!t._visited){var r,i=t.getAttribute("id")||t.getAttribute("name");i&&(n.indexOf(i)<0&&(r=e[i],r?q(r)?r.push(t):e[i]=[r,t]:e[i]=t),t._visited=!0)}}function S(t,e,n){var r,i=_("div"),o=/td|th/.test(n)?3:2;for(i.innerHTML="<table>"+e+"</table>",r=i.firstChild;o--;)r=r.firstChild;t.appendChild(r)}function H(t,e){var n=_("option"),r=/value=[\"'](.+?)[\"']/,i=/selected=[\"'](.+?)[\"']/,o=/each=[\"'](.+?)[\"']/,u=/if=[\"'](.+?)[\"']/,a=/>([^<]*)</,f=e.match(r),c=e.match(i),s=e.match(a),p=e.match(o),l=e.match(u);n.innerHTML=s?s[1]:e,f&&(n.value=f[1]),c&&n.setAttribute("riot-selected",c[1]),p&&n.setAttribute("each",p[1]),l&&n.setAttribute("if",l[1]),t.appendChild(n)}function E(t,e){var n=_("optgroup"),r=/label=[\"'](.+?)[\"']/,i=/^<([^>]*)>/,o=/^<([^ \>]*)/,u=e.match(r),a=e.match(i),f=e.match(o),c=e;if(a){var s=e.slice(a[1].length+2,-f[1].length-3).trim();c=s}if(u&&n.setAttribute("riot-label",u[1]),c){var p=_("div");H(p,c),n.appendChild(p.firstChild)}t.appendChild(n)}function O(t){if(!k.render){z||(z=_("style"),z.setAttribute("type","text/css"));var e=document.head||document.getElementsByTagName("head")[0];if(z.styleSheet?z.styleSheet.cssText+=t:z.innerHTML+=t,!z._rendered)if(z.styleSheet)document.body.appendChild(z);else{var n=N("style[type=riot]");n?(n.parentNode.insertBefore(z,n),n.parentNode.removeChild(n)):e.appendChild(z)}z._rendered=!0}}function j(t,e,n){var r=Y[e],i=t._innerHTML=t._innerHTML||t.innerHTML;return t.innerHTML="",r&&t&&(r=new a(r,{root:t,opts:n},i)),r&&r.mount?(r.mount(),X.push(r),r.on("unmount",function(){X.splice(X.indexOf(r),1)})):void 0}var k={version:"v2.2.3",settings:{}},F=0,$="string",B="object",R="undefined",D="function",V=["update","root","mount","unmount","mixin","isMounted","isLoop","tags","parent","opts","trigger","on","off","one"],q=Array.isArray||function(){var t=Object.prototype.toString;return function(e){return"[object Array]"===t.call(e)}}(),I=function(){return 0|(t&&t.document||{}).documentMode}();k.observable=function(t){t=t||{};var e={},n=0;return t.on=function(r,i){return l(i)&&(typeof i.id===R&&(i._id=n++),r.replace(/\S+/g,function(t,n){(e[t]=e[t]||[]).push(i),i.typed=n>0})),t},t.off=function(n,r){return"*"==n?e={}:n.replace(/\S+/g,function(t){if(r)for(var n,i=e[t],o=0;n=i&&i[o];++o)n._id==r._id&&i.splice(o--,1);else e[t]=[]}),t},t.one=function(e,n){function r(){t.off(e,r),n.apply(t,arguments)}return t.on(e,r)},t.trigger=function(n){for(var r,i=[].slice.call(arguments,1),o=e[n]||[],u=0;r=o[u];++u)r.busy||(r.busy=1,r.apply(t,r.typed?[n].concat(i):i),o[u]!==r&&u--,r.busy=0);return e.all&&"all"!=n&&t.trigger.apply(t,["all",n].concat(i)),t},t},k.mixin=function(){var t={};return function(e,n){return n?void(t[e]=n):t[e]}}(),function(t,e,n){function r(){return a.href.split("#")[1]||""}function i(t){return t.split("/")}function o(t){t.type&&(t=r()),t!=u&&(f.trigger.apply(null,["H"].concat(i(t))),u=t)}if(n){var u,a=n.location,f=t.observable(),c=!1,s=t.route=function(t){t[0]?(a.hash=t,o(t)):f.on("H",t)};s.exec=function(t){t.apply(null,i(r()))},s.parser=function(t){i=t},s.stop=function(){c&&(n.removeEventListener?n.removeEventListener(e,o,!1):n.detachEvent("on"+e,o),f.off("*"),c=!1)},s.start=function(){c||(n.addEventListener?n.addEventListener(e,o,!1):n.attachEvent("on"+e,o),c=!0)},s.start()}}(k,"hashchange",t);var z,J=function(t){var e,n,r,i=/[{}]/g;return function(o){var u=k.settings.brackets||t;return e!==u&&(e=u,r=u.split(" "),n=r.map(function(t){return t.replace(/(?=.)/g,"\\")})),o instanceof RegExp?u===t?o:new RegExp(o.source.replace(i,function(t){return n[~~("}"===t)]}),o.global?"g":""):r[o]}}("{ }"),U=function(){function e(t,e){return t=(t||J(0)+J(1)).replace(J(/\\{/g),"￰").replace(J(/\\}/g),"￱"),e=i(t,o(t,J(/{/),J(/}/))),new Function("d","return "+(e[0]||e[2]||e[3]?"["+e.map(function(t,e){return e%2?n(t,!0):'"'+t.replace(/\n/g,"\\n").replace(/"/g,'\\"')+'"'}).join(",")+'].join("")':n(e[1])).replace(/\uFFF0/g,J(0)).replace(/\uFFF1/g,J(1))+";")}function n(t,e){return t=t.replace(/\n/g," ").replace(J(/^[{ ]+|[ }]+$|\/\*.+?\*\//g),""),/^\s*[\w- "']+ *:/.test(t)?"["+o(t,/["' ]*[\w- ]+["' ]*:/,/,(?=["' ]*[\w- ]+["' ]*:)|}|$/).map(function(t){return t.replace(/^[ "']*(.+?)[ "']*: *(.+?),? *$/,function(t,e,n){return n.replace(/[^&|=!><]+/g,r)+'?"'+e+'":"",'})}).join("")+'].join(" ").trim()':r(t,e)}function r(e,n){return e=e.trim(),e?"(function(v){try{v="+(e.replace(a,function(e,n,r){return r?"(d."+r+"===undefined?"+("undefined"==typeof t?"global.":"window.")+r+":d."+r+")":e})||"x")+"}catch(e){}finally{return "+(n===!0?'!v&&v!==0?"":v':"v")+"}}).call(d)":""}function i(t,e){var n=[];return e.map(function(e,r){r=t.indexOf(e),n.push(t.slice(0,r),e),t=t.slice(r+e.length)}),n.concat(t)}function o(t,e,n){var r,i=0,o=[],u=new RegExp("("+e.source+")|("+n.source+")","g");return t.replace(u,function(e,n,u,a){!i&&n&&(r=a),i+=n?1:-1,i||null==u||o.push(t.slice(r,a+u.length))}),o}var u={},a=/(['"\/]).*?[^\\]\1|\.\w*|\w*:|\b(?:(?:new|typeof|in|instanceof) |(?:this|true|false|null|undefined)\b|function *\()|([a-z_$]\w*)/gi;return function(t,n){return t&&(u[t]=u[t]||e(t))(n)}}(),X=[],Y={},G="riot-tag";k.tag=function(t,e,n,r,i){return l(r)&&(i=r,/^[\w\-]+\s?=/.test(n)?(r=n,n=""):r=""),n&&(l(n)?i=n:O(n)),Y[t]={name:t,tmpl:e,attrs:r,fn:i},t},k.mount=function(t,e,n){function r(t){var e="";return p(t,function(t){e+=', *[riot-tag="'+t.trim()+'"]'}),e}function i(){var t=Object.keys(Y);return t+r(t)}function o(t){var r;if(t.tagName){!e||(r=t.getAttribute(G))&&r==e||t.setAttribute(G,e);var i=j(t,e||t.getAttribute(G)||t.tagName.toLowerCase(),n);i&&f.push(i)}else t.length&&p(t,o)}var u,a,f=[];if(typeof e===B&&(n=e,e=0),typeof t===$?("*"===t?t=a=i():t+=r(t.split(",")),u=T(t)):u=t,"*"===e){if(e=a||i(),u.tagName)u=T(e,u);else{var c=[];p(u,function(t){c.push(T(e,t))}),u=c}e=0}return u.tagName?o(u):p(u,o),f},k.update=function(){return p(X,function(t){t.update()})},k.mountTo=k.mount,k.util={brackets:J,tmpl:U},typeof exports===B?module.exports=k:"function"==typeof define&&define.amd?define(function(){return t.riot=k}):t.riot=k}("undefined"!=typeof window?window:void 0);
},{}],47:[function(require,module,exports){
var RiotControl={_stores:[],addStore:function(o){this._stores.push(o)}};["on","one","off","trigger"].forEach(function(o){RiotControl[o]=function(){var t=[].slice.call(arguments);this._stores.forEach(function(n){n[o].apply(null,t)})}}),"undefined"!=typeof module&&(module.exports=RiotControl);
},{}],48:[function(require,module,exports){
function drainQueue(){if(!draining){draining=!0;for(var e,o=queue.length;o;){e=queue,queue=[];for(var r=-1;++r<o;)e[r]();o=queue.length}draining=!1}}function noop(){}var process=module.exports={},queue=[],draining=!1;process.nextTick=function(e){queue.push(e),draining||setTimeout(drainQueue,0)},process.title="browser",process.browser=!0,process.env={},process.argv=[],process.version="",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.binding=function(){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(){throw new Error("process.chdir is not supported")},process.umask=function(){return 0};
},{}]},{},[4])
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy93YXRjaGlmeS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYnJvd3Nlci1wYWNrL19wcmVsdWRlLmpzIiwianMvYXBwLXJvdXRlci5qcyIsImpzL2FwcC1zdG9yZXMuanMiLCJqcy9hcHAtdGFncy5qcyIsImpzL2FwcC5qcyIsImpzL2ZpcmViYXNlLmpzIiwianMvc3RvcmVzL2NyZWF0ZS9fY3JlYXRlLmpzIiwianMvc3RvcmVzL2NyZWF0ZS9tYXAuanMiLCJqcy9zdG9yZXMvbG9naW4uanMiLCJqcy9zdG9yZXMvbWFpbi5qcyIsImpzL3N0b3Jlcy9uYXYuanMiLCJqcy9zdG9yZXMvcHJvZmlsZS9wZW5kaW5nY291bnQuanMiLCJqcy9zdG9yZXMvcHJvZmlsZS9wcm9qZWN0bGlzdC5qcyIsImpzL3N0b3Jlcy9wcm9maWxlL3VzZXIuanMiLCJqcy9zdG9yZXMvcHJvamVjdC9fcHJvamVjdC5qcyIsImpzL3N0b3Jlcy9wcm9qZWN0L21lbWJlci9tZW1iZXJsaXN0LmpzIiwianMvc3RvcmVzL3Byb2plY3QvbWVtYmVyL21lbWJlcnJvbGUuanMiLCJqcy9zdG9yZXMvcHJvamVjdC9tZW1iZXIvbWVtYmVyc2hpcC5qcyIsImpzL3N0b3Jlcy9wcm9qZWN0L3JpbmcvcmluZ3NpemUuanMiLCJqcy9zdG9yZXMvc2VhcmNoL19zZWFyY2guanMiLCJqcy9zdG9yZXMvc2VhcmNoL2pvaW4uanMiLCJqcy90YWdzL2FsZXJ0LnRhZyIsImpzL3RhZ3MvY3JlYXRlL19jcmVhdGUudGFnIiwianMvdGFncy9saXN0LnRhZyIsImpzL3RhZ3MvbG9naW4udGFnIiwianMvdGFncy9tYWluLnRhZyIsImpzL3RhZ3MvbmF2LnRhZyIsImpzL3RhZ3MvcHJvZmlsZS9fcHJvZmlsZS50YWciLCJqcy90YWdzL3Byb2ZpbGUvcGVuZGluZ2NvdW50LnRhZyIsImpzL3RhZ3MvcHJvZmlsZS9wcm9qZWN0bGlzdC50YWciLCJqcy90YWdzL3Byb2ZpbGUvdXNlci50YWciLCJqcy90YWdzL3Byb2plY3QvX3Byb2plY3QudGFnIiwianMvdGFncy9wcm9qZWN0L21lbWJlci9tZW1iZXJsaXN0LnRhZyIsImpzL3RhZ3MvcHJvamVjdC9tZW1iZXIvbWVtYmVycm9sZS50YWciLCJqcy90YWdzL3Byb2plY3QvbWVtYmVyL21lbWJlcnNoaXAudGFnIiwianMvdGFncy9wcm9qZWN0L3JpbmcvcmluZ3NpemUudGFnIiwianMvdGFncy9zZWFyY2gvX3NlYXJjaC50YWciLCJqcy90YWdzL3NlYXJjaC9qb2luLnRhZyIsImpzL3V0aWxzLmpzIiwibm9kZV9tb2R1bGVzL2ZpcmViYXNlL2xpYi9maXJlYmFzZS13ZWIuanMiLCJub2RlX21vZHVsZXMvcHJvbWlzZS9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9wcm9taXNlL2xpYi9jb3JlLmpzIiwibm9kZV9tb2R1bGVzL3Byb21pc2UvbGliL2RvbmUuanMiLCJub2RlX21vZHVsZXMvcHJvbWlzZS9saWIvZXM2LWV4dGVuc2lvbnMuanMiLCJub2RlX21vZHVsZXMvcHJvbWlzZS9saWIvbm9kZS1leHRlbnNpb25zLmpzIiwibm9kZV9tb2R1bGVzL3Byb21pc2Uvbm9kZV9tb2R1bGVzL2FzYXAvYXNhcC5qcyIsIm5vZGVfbW9kdWxlcy9yaW90L3Jpb3QuanMiLCJub2RlX21vZHVsZXMvcmlvdGNvbnRyb2wvcmlvdGNvbnRyb2wuanMiLCJub2RlX21vZHVsZXMvd2F0Y2hpZnkvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL3Byb2Nlc3MvYnJvd3Nlci5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQ0FBOztBQ0FBOztBQ0FBOztBQ0FBOztBQ0FBOztBQ0FBOztBQ0FBOztBQ0FBOztBQ0FBOztBQ0FBOztBQ0FBOztBQ0FBOztBQ0FBOztBQ0FBOztBQ0FBOztBQ0FBOztBQ0FBOztBQ0FBOztBQ0FBOztBQ0FBOztBQ0FBOztBQ0FBOztBQ0FBOztBQ0FBOztBQ0FBOztBQ0FBOztBQ0FBOztBQ0FBOztBQ0FBOztBQ0FBOztBQ0FBOztBQ0FBOztBQ0FBOztBQ0FBOztBQ0FBOztBQ0FBOztBQ0FBOztBQ0FBOztBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDUEE7O0FDQUE7O0FDQUE7O0FDQUE7O0FDQUE7OztBQ0FBOzs7O0FDQUE7O0FDQUE7O0FDQUEiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwidmFyIHJpb3Q9cmVxdWlyZShcInJpb3RcIiksZmJSZWY9cmVxdWlyZShcIi4vZmlyZWJhc2VcIikscmlvdGNvbnRyb2w9cmVxdWlyZShcInJpb3Rjb250cm9sXCIpO21vZHVsZS5leHBvcnRzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihyKXt2YXIgbz1mYlJlZi5nZXRBdXRoKCk/ZmJSZWYuZ2V0QXV0aCgpLnVpZDpudWxsO3JldHVybiB0W3JdLnVpZFJlcT8hIW86ITB9ZnVuY3Rpb24gbyhvLGUsaSl7cmV0dXJuXCJsb2dvdXRcIj09bz92b2lkIHJpb3Rjb250cm9sLnRyaWdnZXIoXCJsb2dvdXRcIik6dm9pZChvJiZ0W29dP3Iobyk/KHJpb3Rjb250cm9sLnRyaWdnZXIoXCJyb3V0ZVwiLG8sZSxpKSxyaW90Y29udHJvbC50cmlnZ2VyKFwiYWxlcnRfY2xlYXJcIikpOnJpb3Rjb250cm9sLnRyaWdnZXIoXCJhbGVydFwiLCc0MDQgLSBVbmF1dGhvcml6ZWQgZm9yIHJvdXRlIFwiJytvKydcIi4nLFwid2FybmluZ1wiKTpvJiYhdFtvXT9yaW90Y29udHJvbC50cmlnZ2VyKFwiYWxlcnRcIiwnNDA0IC0gUm91dGUgXCInK28rJ1wiIG5vdCBmb3VuZC4nLFwid2FybmluZ1wiKTpyaW90LnJvdXRlKFwibG9naW5cIikpfXZhciB0PXtsb2dpbjp7dWlkUmVxOiExfSxwcm9maWxlOnt1aWRSZXE6ITB9LHNlYXJjaDp7dWlkUmVxOiEwfSxjcmVhdGU6e3VpZFJlcTohMH0scHJvamVjdDp7dWlkUmVxOiEwfX07cmlvdC5yb3V0ZShvKSxyaW90LnJvdXRlLmV4ZWMobyl9OyIsInZhciByaW90Y29udHJvbD1yZXF1aXJlKFwicmlvdGNvbnRyb2xcIik7bW9kdWxlLmV4cG9ydHM9ZnVuY3Rpb24oKXt2YXIgcj1yZXF1aXJlKFwiLi9zdG9yZXMvbG9naW5cIiksZT1yZXF1aXJlKFwiLi9zdG9yZXMvbWFpblwiKSxvPXJlcXVpcmUoXCIuL3N0b3Jlcy9uYXZcIiksdD1yZXF1aXJlKFwiLi9zdG9yZXMvcHJvZmlsZS91c2VyXCIpLGk9cmVxdWlyZShcIi4vc3RvcmVzL3Byb2ZpbGUvcHJvamVjdGxpc3RcIiksbj1yZXF1aXJlKFwiLi9zdG9yZXMvcHJvZmlsZS9wZW5kaW5nY291bnRcIikscz1yZXF1aXJlKFwiLi9zdG9yZXMvY3JlYXRlL19jcmVhdGVcIiksYz1yZXF1aXJlKFwiLi9zdG9yZXMvY3JlYXRlL21hcFwiKSxkPXJlcXVpcmUoXCIuL3N0b3Jlcy9zZWFyY2gvX3NlYXJjaFwiKSxhPXJlcXVpcmUoXCIuL3N0b3Jlcy9zZWFyY2gvam9pblwiKSxsPXJlcXVpcmUoXCIuL3N0b3Jlcy9wcm9qZWN0L19wcm9qZWN0XCIpLHU9cmVxdWlyZShcIi4vc3RvcmVzL3Byb2plY3QvbWVtYmVyL21lbWJlcmxpc3RcIikscT1yZXF1aXJlKFwiLi9zdG9yZXMvcHJvamVjdC9tZW1iZXIvbWVtYmVyc2hpcFwiKSxtPXJlcXVpcmUoXCIuL3N0b3Jlcy9wcm9qZWN0L21lbWJlci9tZW1iZXJyb2xlXCIpLHc9cmVxdWlyZShcIi4vc3RvcmVzL3Byb2plY3QvcmluZy9yaW5nc2l6ZVwiKTtyaW90Y29udHJvbC5hZGRTdG9yZShuZXcgcikscmlvdGNvbnRyb2wuYWRkU3RvcmUobmV3IGUpLHJpb3Rjb250cm9sLmFkZFN0b3JlKG5ldyBvKSxyaW90Y29udHJvbC5hZGRTdG9yZShuZXcgdCkscmlvdGNvbnRyb2wuYWRkU3RvcmUobmV3IGkpLHJpb3Rjb250cm9sLmFkZFN0b3JlKG5ldyBuKSxyaW90Y29udHJvbC5hZGRTdG9yZShuZXcgcykscmlvdGNvbnRyb2wuYWRkU3RvcmUobmV3IGMpLHJpb3Rjb250cm9sLmFkZFN0b3JlKG5ldyBkKSxyaW90Y29udHJvbC5hZGRTdG9yZShuZXcgYSkscmlvdGNvbnRyb2wuYWRkU3RvcmUobmV3IGwpLHJpb3Rjb250cm9sLmFkZFN0b3JlKG5ldyB1KSxyaW90Y29udHJvbC5hZGRTdG9yZShuZXcgcSkscmlvdGNvbnRyb2wuYWRkU3RvcmUobmV3IG0pLHJpb3Rjb250cm9sLmFkZFN0b3JlKG5ldyB3KX07IiwidmFyIHJpb3Q9cmVxdWlyZShcInJpb3RcIik7bW9kdWxlLmV4cG9ydHM9ZnVuY3Rpb24oKXtyZXF1aXJlKFwiLi90YWdzL21haW4udGFnXCIpLHJlcXVpcmUoXCIuL3RhZ3MvbmF2LnRhZ1wiKSxyZXF1aXJlKFwiLi90YWdzL2xpc3QudGFnXCIpLHJlcXVpcmUoXCIuL3RhZ3MvYWxlcnQudGFnXCIpLHJlcXVpcmUoXCIuL3RhZ3MvbG9naW4udGFnXCIpLHJlcXVpcmUoXCIuL3RhZ3MvcHJvZmlsZS9fcHJvZmlsZS50YWdcIikscmVxdWlyZShcIi4vdGFncy9jcmVhdGUvX2NyZWF0ZS50YWdcIikscmVxdWlyZShcIi4vdGFncy9zZWFyY2gvX3NlYXJjaC50YWdcIikscmVxdWlyZShcIi4vdGFncy9wcm9qZWN0L19wcm9qZWN0LnRhZ1wiKSxyaW90Lm1vdW50KFwiKlwiKX07IiwidmFyIGFwcFJvdXRlcj1yZXF1aXJlKFwiLi9hcHAtcm91dGVyXCIpLGFwcFN0b3Jlcz1yZXF1aXJlKFwiLi9hcHAtc3RvcmVzXCIpLGFwcFRhZ3M9cmVxdWlyZShcIi4vYXBwLXRhZ3NcIik7IWZ1bmN0aW9uKCl7YXBwU3RvcmVzKCksYXBwVGFncygpLGFwcFJvdXRlcigpfSgpOyIsInZhciBmaXJlYmFzZT1yZXF1aXJlKFwiZmlyZWJhc2VcIik7bW9kdWxlLmV4cG9ydHM9bmV3IGZpcmViYXNlKFwiaHR0cHM6Ly9ibHVlYmlyZC5maXJlYmFzZWlvLmNvbS9cIik7IiwidmFyIHJpb3Q9cmVxdWlyZShcInJpb3RcIiksdXRpbHM9cmVxdWlyZShcIi4uLy4uL3V0aWxzXCIpLGZiUmVmPXJlcXVpcmUoXCIuLi8uLi9maXJlYmFzZVwiKTttb2R1bGUuZXhwb3J0cz1mdW5jdGlvbigpe3Jpb3Qub2JzZXJ2YWJsZSh0aGlzKTt2YXIgZT10aGlzLHQ9ZnVuY3Rpb24oZSl7dmFyIHQ9ZmJSZWYuZ2V0QXV0aCgpLnVpZCxyPWZiUmVmLmNoaWxkKFwicHJvamVjdFwiKSxpPWZiUmVmLmNoaWxkKFwiY291bnRyeS9cIitlLmNvdW50cnlJc28pLG89ZmJSZWYuY2hpbGQoXCJ1c2VyX3Byb2plY3QvXCIrdCtcIi9vd24vXCIpLHU9ci5wdXNoKHtcInB1YmxpY1wiOlwicHVibGljXCI9PT1lLnN0YXR1cyxvd25lcklkOnQsb3duZXJOYW1lOnV0aWxzLmdldExvY2FsVXNlcihcIm5hbWVcIiksdGl0bGU6ZS50aXRsZSxzaXRlOmUuc2l0ZSxsYXRsbmc6ZS5sYXRsbmcsY291bnRyeTplLmNvdW50cnlJc28sZGF0ZVN0YXJ0OmUuZGF0ZVN0YXJ0LGRhdGVFbmQ6ZS5kYXRlRW5kfSksbD11LmtleSgpO28uY2hpbGQobCkuc2V0KCEwKSxpLm9uY2UoXCJ2YWx1ZVwiLGZ1bmN0aW9uKHQpe3QuZXhpc3RzKCl8fGkuc2V0KHtmdWxsOmUuY291bnRyeU5hbWV9KSxpLmNoaWxkKFwicHJvamVjdC9cIitsKS5zZXQoITApfSk7dmFyIGM9XCJwcm9maWxlXCI7cmlvdC5yb3V0ZShjKX07ZS5vbihcInByb2plY3RfY3JlYXRlXCIsdCl9OyIsInZhciByaW90PXJlcXVpcmUoXCJyaW90XCIpO21vZHVsZS5leHBvcnRzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gbygpe2E9bmV3IGdvb2dsZS5tYXBzLk1hcChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1hcENhbnZhc1wiKSxtKSxnb29nbGUubWFwcy5ldmVudC5hZGRMaXN0ZW5lcihhLFwiY2xpY2tcIixmdW5jdGlvbihvKXtlKG8ubGF0TG5nKSx0KG8ubGF0TG5nKX0pfWZ1bmN0aW9uIGUobyl7ciYmbigpLHI9bmV3IGdvb2dsZS5tYXBzLk1hcmtlcih7cG9zaXRpb246byxtYXA6YX0pfWZ1bmN0aW9uIG4oKXtyLnNldE1hcChudWxsKX1mdW5jdGlvbiB0KG8pe3ZhciBlLG49e307bC5nZW9jb2RlKHtsYXRMbmc6b30sZnVuY3Rpb24odCxhKXthPT1nb29nbGUubWFwcy5HZW9jb2RlclN0YXR1cy5PSyYmdFswXSYmKGU9dFt0Lmxlbmd0aC0xXS5hZGRyZXNzX2NvbXBvbmVudHNbMF0sbi5sYXRMbmc9by5sYXQoKStcIiwgXCIrby5sbmcoKSxuLmNvdW50cnlJc289ZS5zaG9ydF9uYW1lLG4uY291bnRyeU5hbWU9ZS5sb25nX25hbWUsZy50cmlnZ2VyKFwibWFwX2RhdGFcIixuKSl9KX1yaW90Lm9ic2VydmFibGUodGhpcyk7dmFyIGEscixnPXRoaXMsbD1uZXcgZ29vZ2xlLm1hcHMuR2VvY29kZXIscz1uZXcgZ29vZ2xlLm1hcHMuTGF0TG5nKDYzLjI3MTE0NTEwMDAwMDAxLDEyLjQ0OTI2OTUwMDAwMDAxNCksbT17em9vbTo4LGNlbnRlcjpzLG1hcFR5cGVJZDpnb29nbGUubWFwcy5NYXBUeXBlSWQuVEVSUkFJTixzdHJlZXRWaWV3Q29udHJvbDohMSx6b29tQ29udHJvbDohMSxzY2FsZUNvbnRyb2w6ITF9O2cub24oXCJtYXBfaW5pdFwiLG8pLGcub24oXCJtYXBfcmVzZXRcIixuKX07IiwidmFyIHJpb3Q9cmVxdWlyZShcInJpb3RcIiksdXRpbHM9cmVxdWlyZShcIi4uL3V0aWxzXCIpLGZiUmVmPXJlcXVpcmUoXCIuLi9maXJlYmFzZVwiKSxwcm9taXNlPXJlcXVpcmUoXCJwcm9taXNlXCIpO21vZHVsZS5leHBvcnRzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaShpKXtyZXR1cm4gbmV3IHByb21pc2UoZnVuY3Rpb24obixvKXtmYlJlZi5hdXRoV2l0aE9BdXRoUG9wdXAoaSxmdW5jdGlvbihpLHQpe2kmJm8oaSksdCYmbih0KX0pfSl9ZnVuY3Rpb24gbihpKXtyZXR1cm4gbmV3IHByb21pc2UoZnVuY3Rpb24obixvKXtmYlJlZi5hdXRoV2l0aFBhc3N3b3JkKGksZnVuY3Rpb24oaSx0KXtpJiZvKGkpLHQmJm4odCl9KX0pfWZ1bmN0aW9uIG8oaSxuKXtpLnRoZW4oZnVuY3Rpb24oKXtmLnRyaWdnZXIoXCJsb2dpbl9zdWNjZXNzXCIpLHJpb3Qucm91dGUobil9LGZ1bmN0aW9uKGkpe2YudHJpZ2dlcihcImxvZ2luX2ZhaWxcIiksZi50cmlnZ2VyKFwiYWxlcnRcIixpLm1lc3NhZ2UsXCJ3YXJuaW5nXCIpfSl9ZnVuY3Rpb24gdChuKXt2YXIgdD1pKG4pO28odCxcInByb2ZpbGVcIil9ZnVuY3Rpb24gZShpKXt2YXIgdD1uKGkpO28odCxcInByb2ZpbGVcIil9ZnVuY3Rpb24gcigpe2ZiUmVmLnVuYXV0aCgpLHJpb3Qucm91dGUoXCJsb2dpblwiKX1mdW5jdGlvbiB1KGkpe1wibG9naW5cIj09aSYmZmJSZWYuZ2V0QXV0aCgpJiZmYlJlZi51bmF1dGgoKX1yaW90Lm9ic2VydmFibGUodGhpcyk7dmFyIGY9dGhpcztmLm9uKFwibG9naW5cIixlKSxmLm9uKFwic29jaWFsX2xvZ2luXCIsdCksZi5vbihcImxvZ291dFwiLHIpLGYub24oXCJyb3V0ZVwiLHUpfTsiLCJ2YXIgcmlvdD1yZXF1aXJlKFwicmlvdFwiKTttb2R1bGUuZXhwb3J0cz1mdW5jdGlvbigpe3Jpb3Qub2JzZXJ2YWJsZSh0aGlzKTt2YXIgcj10aGlzO3Iub24oXCJyb3V0ZVwiLGZ1bmN0aW9uKGUsaSx0KXtyLnRyaWdnZXIoXCJtYWluXCIsZSxpLHQpLHIudHJpZ2dlcihcIm1haW5fXCIrZSxpLHQpLFwicHJvamVjdFwiPT1lJiZyLnRyaWdnZXIoXCJtZW1iZXJzaGlwX2NoZWNrXCIsaSl9KX07IiwidmFyIHJpb3Q9cmVxdWlyZShcInJpb3RcIiksZmJSZWY9cmVxdWlyZShcIi4uL2ZpcmViYXNlXCIpO21vZHVsZS5leHBvcnRzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3ZhciBlLHIsaSxvPWZiUmVmLmdldEF1dGgoKTtyZXR1cm4gbyYmKGU9by51aWQscj1vW28ucHJvdmlkZXJdLmRpc3BsYXlOYW1lLGk9b1tvLnByb3ZpZGVyXS5wcm9maWxlSW1hZ2VVUkwpLHt1aWQ6ZSxuYW1lOnIsaW1hZ2U6aX19cmlvdC5vYnNlcnZhYmxlKHRoaXMpO3ZhciByPXRoaXM7ci5vbihcInJvdXRlXCIsZnVuY3Rpb24oaSxvKXtyLnRyaWdnZXIoXCJuYXZcIixvLGUoKSl9KX07IiwidmFyIHJpb3Q9cmVxdWlyZShcInJpb3RcIiksZmJSZWY9cmVxdWlyZShcIi4uLy4uL2ZpcmViYXNlXCIpO21vZHVsZS5leHBvcnRzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXtmYlJlZi5jaGlsZChcIm1lbWJlcl9zdGF0dXMvXCIrZStcIi9wZW5kaW5nXCIpLm9uKFwidmFsdWVcIixmdW5jdGlvbihuKXtuLmV4aXN0cygpJiZpLnRyaWdnZXIoXCJwZW5kaW5nY291bnRfXCIrZSxuLm51bUNoaWxkcmVuKCkpfSl9cmlvdC5vYnNlcnZhYmxlKHRoaXMpO3ZhciBpPXRoaXM7aS5vbihcInBlbmRpbmdjb3VudF9pbml0XCIsZSl9OyIsInZhciByaW90PXJlcXVpcmUoXCJyaW90XCIpLHByb21pc2U9cmVxdWlyZShcInByb21pc2VcIiksZmJSZWY9cmVxdWlyZShcIi4uLy4uL2ZpcmViYXNlXCIpLHV0aWxzPXJlcXVpcmUoXCIuLi8uLi91dGlsc1wiKTttb2R1bGUuZXhwb3J0cz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7dmFyIG89ZS5rZXkoKSx1PWUubnVtQ2hpbGRyZW4oKTtuW29dPVtdLGUuZXhpc3RzKCl8fHQudHJpZ2dlcihcInByb2plY3RsaXN0X2RhdGFcIixvLG5bb10pLGUuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgdD1yKGUpO2kodCxvLHUpfSl9ZnVuY3Rpb24gcihlKXtyZXR1cm4gbmV3IHByb21pc2UoZnVuY3Rpb24ocil7ZmJSZWYuY2hpbGQoXCJwcm9qZWN0L1wiK2Uua2V5KCkpLm9uKFwidmFsdWVcIixmdW5jdGlvbihlKXtlLmV4aXN0cygpJiZyKGUpfSl9KX1mdW5jdGlvbiBpKGUscixpKXtlLnRoZW4oZnVuY3Rpb24oZSl7bltyXS5wdXNoKHV0aWxzLmV4dGVuZChlLnZhbCgpLHtwaWQ6ZS5rZXkoKX0pKSxpPT1uW3JdLmxlbmd0aCYmdC50cmlnZ2VyKFwicHJvamVjdGxpc3RfZGF0YVwiLHIsbltyXSl9KX1yaW90Lm9ic2VydmFibGUodGhpcyk7dmFyIHQ9dGhpcyxuPXt9LG89W1wib3duXCIsXCJtZW1iZXJcIixcInBlbmRpbmdcIl07ZmJSZWYub25BdXRoKGZ1bmN0aW9uKHIpe2lmKHIpZm9yKHZhciBpPTA7aTxvLmxlbmd0aDtpKyspdC50cmlnZ2VyKFwicHJvamVjdGxpc3RfY2xlYXJcIixvW2ldKSxmYlJlZi5jaGlsZChcInVzZXJfcHJvamVjdC9cIityLnVpZCtcIi9cIitvW2ldKS5vbihcInZhbHVlXCIsZSl9KX07IiwidmFyIHJpb3Q9cmVxdWlyZShcInJpb3RcIik7bW9kdWxlLmV4cG9ydHM9ZnVuY3Rpb24oKXtyaW90Lm9ic2VydmFibGUodGhpcyl9OyIsInZhciByaW90PXJlcXVpcmUoXCJyaW90XCIpLGZiUmVmPXJlcXVpcmUoXCIuLi8uLi9maXJlYmFzZVwiKSx1dGlscz1yZXF1aXJlKFwiLi4vLi4vdXRpbHNcIik7bW9kdWxlLmV4cG9ydHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsaSx0KXtpZihcInByb2plY3RcIj09ZSYmIXQpe3ZhciBvPWZiUmVmLmdldEF1dGgoKTtmYlJlZi5jaGlsZChcInByb2plY3QvXCIraSkub24oXCJ2YWx1ZVwiLGZ1bmN0aW9uKGUpe3ZhciB0PXtwaWQ6aSxpc093bmVyOm8udWlkPT1lLnZhbCgpLm93bmVySWR9LHU9dXRpbHMuZXh0ZW5kKGUudmFsKCksdCk7ci50cmlnZ2VyKFwicHJvamVjdF9kYXRhXCIsdSl9KX19cmlvdC5vYnNlcnZhYmxlKHRoaXMpO3ZhciByPXRoaXM7ci5vbihcInJvdXRlXCIsZSl9OyIsInZhciByaW90PXJlcXVpcmUoXCJyaW90XCIpLHByb21pc2U9cmVxdWlyZShcInByb21pc2VcIiksZmJSZWY9cmVxdWlyZShcIi4uLy4uLy4uL2ZpcmViYXNlXCIpLHV0aWxzPXJlcXVpcmUoXCIuLi8uLi8uLi91dGlsc1wiKTttb2R1bGUuZXhwb3J0cz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSxpLHQpe2lmKFwicHJvamVjdFwiPT1lJiYhdCYmcyE9aSl7Zm9yKHZhciB1PTA7dTxvLmxlbmd0aDt1Kyspbi50cmlnZ2VyKFwibWVtYmVybGlzdF9jbGVhclwiLG9bdV0pLGZiUmVmLmNoaWxkKFwibWVtYmVyX3N0YXR1cy9cIitpK1wiL1wiK29bdV0pLm9uKFwidmFsdWVcIixyKTtzPWl9fWZ1bmN0aW9uIHIoZSl7dmFyIHI9ZS5rZXkoKSxvPWUubnVtQ2hpbGRyZW4oKTt1W3JdPVtdLGUuZXhpc3RzKCl8fG4udHJpZ2dlcihcIm1lbWJlcmxpc3RfZGF0YVwiLHIsdVtyXSksZS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciBuPXV0aWxzLmV4dGVuZChlLnZhbCgpLHt1aWQ6ZS5rZXkoKX0pLHU9aShlKTt0KHUsbixyLG8pfSl9ZnVuY3Rpb24gaShlKXtyZXR1cm4gbmV3IHByb21pc2UoZnVuY3Rpb24ocil7ZmJSZWYuY2hpbGQoXCJ1c2VyL1wiK2Uua2V5KCkrXCIvbmFtZVwiKS5vbihcInZhbHVlXCIsZnVuY3Rpb24oZSl7ZS5leGlzdHMoKSYmcihlKX0pfSl9ZnVuY3Rpb24gdChlLHIsaSx0KXtlLnRoZW4oZnVuY3Rpb24oZSl7ci5uYW1lPWUudmFsKCksdVtpXS5wdXNoKHIpLHQ9PXVbaV0ubGVuZ3RoJiZuLnRyaWdnZXIoXCJtZW1iZXJsaXN0X2RhdGFcIixpLHVbaV0pfSl9cmlvdC5vYnNlcnZhYmxlKHRoaXMpO3ZhciBuPXRoaXMsdT17fSxvPVtcIm1lbWJlclwiLFwicGVuZGluZ1wiXSxzPVwiXCI7bi5vbihcInJvdXRlXCIsZSl9OyIsInZhciByaW90PXJlcXVpcmUoXCJyaW90XCIpLHByb21pc2U9cmVxdWlyZShcInByb21pc2VcIiksZmJSZWY9cmVxdWlyZShcIi4uLy4uLy4uL2ZpcmViYXNlXCIpO21vZHVsZS5leHBvcnRzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXtjb25zb2xlLmxvZyhcImVkaXQgbWVtYmVyXCIsZSl9cmlvdC5vYnNlcnZhYmxlKHRoaXMpO3ZhciByPXRoaXM7ci5vbihcIm1lbWJlcnJvbGVfZWRpdFwiLGUpfTsiLCJ2YXIgcmlvdD1yZXF1aXJlKFwicmlvdFwiKSxmYlJlZj1yZXF1aXJlKFwiLi4vLi4vLi4vZmlyZWJhc2VcIik7bW9kdWxlLmV4cG9ydHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3ZhciBvPWUudWlkfHxmYlJlZi5nZXRBdXRoKCkudWlkO2NvbnNvbGUubG9nKFwicmVxdWVzdCBtZW1iZXJzaGlwXCIsZS5waWQsbyl9ZnVuY3Rpb24gbyhlKXtjb25zb2xlLmxvZyhcImFsbG93IG1lbWJlcnNoaXBcIixlKX1mdW5jdGlvbiBpKGUpe3ZhciBvPWUudWlkfHxmYlJlZi5nZXRBdXRoKCkudWlkO2NvbnNvbGUubG9nKFwiZGVueSBtZW1iZXJzaGlwXCIsZS5waWQsbyl9ZnVuY3Rpb24gcihlKXtjb25zb2xlLmxvZyhcInJldm9rZSBtZW1iZXJzaGlwXCIsZSl9cmlvdC5vYnNlcnZhYmxlKHRoaXMpO3ZhciBuPXRoaXM7bi5vbihcIm1lbWJlcnNoaXBfcmVxdWVzdFwiLGUpLG4ub24oXCJtZW1iZXJzaGlwX2FsbG93XCIsbyksbi5vbihcIm1lbWJlcnNoaXBfZGVueVwiLGkpLG4ub24oXCJtZW1iZXJzaGlwX3Jldm9rZVwiLHIpfTsiLCJ2YXIgcmlvdD1yZXF1aXJlKFwicmlvdFwiKSxmYlJlZj1yZXF1aXJlKFwiLi4vLi4vLi4vZmlyZWJhc2VcIikscmlvdGNvbnRyb2w9cmVxdWlyZShcInJpb3Rjb250cm9sXCIpO21vZHVsZS5leHBvcnRzPWZ1bmN0aW9uKCl7cmlvdC5vYnNlcnZhYmxlKHRoaXMpfTsiLCJ2YXIgcmlvdD1yZXF1aXJlKFwicmlvdFwiKSx1dGlscz1yZXF1aXJlKFwiLi4vLi4vdXRpbHNcIiksZmJSZWY9cmVxdWlyZShcIi4uLy4uL2ZpcmViYXNlXCIpO21vZHVsZS5leHBvcnRzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXtvPWZiUmVmLmdldEF1dGgoKS51aWQsYT1uZXcgUmVnRXhwKGUubmVlZGxlLFwiaVwiKSx1PWUuY2F0ZWdvcnksYz1bXSxsLm9uY2UoXCJ2YWx1ZVwiLGZ1bmN0aW9uKGUpe2UuZm9yRWFjaChmdW5jdGlvbihlKXtcImFsbFwiPT11P3IoZSk6dChlKX0pLHMudHJpZ2dlcihcInNlYXJjaF9kYXRhXCIsYy5yZXZlcnNlKCkpfSl9ZnVuY3Rpb24gcihlKXtmb3IodmFyIHIsdD1lLnZhbCgpLG49MDtuPGYubGVuZ3RoO24rKylpZihyPXRbZltuXV0sciYmYS50ZXN0KHIpKXtpKHQsZS5rZXkoKSk7YnJlYWt9fWZ1bmN0aW9uIHQoZSl7dmFyIHI9ZS52YWwoKSx0PXJbdV07dCYmYS50ZXN0KHQpJiZpKHIsZS5rZXkoKSl9ZnVuY3Rpb24gaShlLHIpe3ZhciB0PXtwaWQ6cixpc093bmVyOm89PT1lLm93bmVySWQsb3duZXJOYW1lOm89PT1lLm93bmVySWQ/XCJZb3VcIjplLm93bmVyTmFtZSxpc0FjdGl2ZTpuZXcgRGF0ZShlLmRhdGVFbmQpLmdldFRpbWUoKT4obmV3IERhdGUpLmdldFRpbWUoKX07Yy5wdXNoKHV0aWxzLmV4dGVuZChlLHQpKX1mdW5jdGlvbiBuKGUpe1wic2VhcmNoXCI9PWUmJnMudHJpZ2dlcihcInNlYXJjaF9jbGVhclwiKX1yaW90Lm9ic2VydmFibGUodGhpcyk7dmFyIG8sYSx1LGMscz10aGlzLGY9W1widGl0bGVcIixcInNpdGVcIixcIm93bmVyTmFtZVwiXSxsPWZiUmVmLmNoaWxkKFwicHJvamVjdFwiKS5vcmRlckJ5Q2hpbGQoXCJwdWJsaWNcIikuZXF1YWxUbyghMCk7cy5vbihcInNlYXJjaFwiLGUpLHMub24oXCJyb3V0ZVwiLG4pfTsiLCJ2YXIgcmlvdD1yZXF1aXJlKFwicmlvdFwiKSxmYlJlZj1yZXF1aXJlKFwiLi4vLi4vZmlyZWJhc2VcIik7bW9kdWxlLmV4cG9ydHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe2Zvcih2YXIgdD1mYlJlZi5nZXRBdXRoKCkudWlkLG89ZnVuY3Rpb24ocix0KXtpLnRyaWdnZXIoXCJqb2luX1wiK2Uscix0LmV4aXN0cygpKX0sbj0wO248ci5sZW5ndGg7bisrKWZiUmVmLmNoaWxkKFwidXNlcl9wcm9qZWN0L1wiK3QrXCIvXCIrcltuXStcIi9cIitlKS5vbihcInZhbHVlXCIsZnVuY3Rpb24oZSl7byhyW25dLGUpfSl9cmlvdC5vYnNlcnZhYmxlKHRoaXMpO3ZhciBpPXRoaXMscj1bXCJwZW5kaW5nXCIsXCJtZW1iZXJcIl07aS5vbihcImpvaW5fZ2V0X3N0YXR1c1wiLGUpfTsiLCJ2YXIgcmlvdD1yZXF1aXJlKFwicmlvdFwiKTtyaW90LnRhZyhcImFsZXJ0XCIsJzxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC0teyBhbGVydC50eXBlIH1cIiBpZj1cInsgYWxlcnQudGV4dCB9XCI+IDxwIGNsYXNzPVwiYWxlcnRfX3RleHRcIj57IGFsZXJ0LnRleHQgfSA8YnV0dG9uIGNsYXNzPVwiYWxlcnRfX2Nsb3NlXCIgb25jbGljaz1cInsgY2xvc2UgfVwiPlg8L2J1dHRvbj48L3A+IDwvZGl2PicsZnVuY3Rpb24oKXt2YXIgdD1yZXF1aXJlKFwicmlvdGNvbnRyb2xcIiksZT10aGlzO2UuYWxlcnQ9e30sdGhpcy5jbG9zZT1mdW5jdGlvbigpe2UuYWxlcnQ9e319LmJpbmQodGhpcyksdC5vbihcImFsZXJ0XCIsZnVuY3Rpb24odCxyKXtlLnVwZGF0ZSh7YWxlcnQ6e3RleHQ6dCx0eXBlOnJ9fSl9KSx0Lm9uKFwiYWxlcnRfY2xlYXJcIixmdW5jdGlvbigpe2UudXBkYXRlKHthbGVydDp7fX0pfSl9KTsiLCJ2YXIgcmlvdD1yZXF1aXJlKFwicmlvdFwiKSxyaW90Y29udHJvbD1yZXF1aXJlKFwicmlvdGNvbnRyb2xcIiksdXRpbHM9cmVxdWlyZShcIi4uLy4uL3V0aWxzXCIpO3Jpb3QudGFnKFwiY3JlYXRlXCIsJzxmb3JtIG5hbWU9XCJmcm1DcmVhdGVcIiBvbnN1Ym1pdD1cInsgY3JlYXRlIH1cIj4gPGgyPkNyZWF0ZSBQcm9qZWN0PC9oMj4gPGxhYmVsPlByb2plY3QgdGl0bGU8L2xhYmVsPjxicj4gPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmFtZT1cInRpdGxlXCIgcGxhY2Vob2xkZXI9XCJQcm9qZWN0IG5hbWVcIiByZXF1aXJlZD48YnI+IDxsYWJlbD5TaXRlIG5hbWU8L2xhYmVsPjxicj4gPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmFtZT1cInNpdGVcIiBwbGFjZWhvbGRlcj1cIlNpdGUgbmFtZVwiPjxicj4gPGxhYmVsPlNpdGUgbG9jYXRpb248L2xhYmVsPjxicj4gPGRpdiBpZD1cIm1hcENhbnZhc1wiPjwvZGl2PiA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBvbmNsaWNrPVwieyByZXNldE1hcCB9XCI+UmVzZXQgbWFwPC9idXR0b24+PGJyPiA8bGFiZWw+TGF0aXR1ZGUgLyBMb25naXR1ZGU8L2xhYmVsPjxicj4gPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmFtZT1cImxhdGxuZ1wiIHBsYWNlaG9sZGVyPVwiQ2xpY2sgbWFwIHRvIHNldOKAplwiIGRpc2FibGVkPjxicj4gPGxhYmVsPkNvdW50cnk8L2xhYmVsPjxicj4gPGlucHV0IHR5cGU9XCJoaWRkZW5cIiBuYW1lPVwiY291bnRyeUlzb1wiPiA8aW5wdXQgdHlwZT1cImhpZGRlblwiIG5hbWU9XCJjb3VudHJ5TmFtZVwiPiA8aW5wdXQgdHlwZT1cInRleHRcIiBuYW1lPVwiY291bnRyeVwiIHBsYWNlaG9sZGVyPVwiQ2xpY2sgbWFwIHRvIHNldOKAplwiIGRpc2FibGVkPjxicj4gPGxhYmVsPlN0YXJ0IGRhdGU8L2xhYmVsPjxicj4gPGlucHV0IHR5cGU9XCJkYXRlXCIgbmFtZT1cImRhdGVTdGFydFwiIHJlcXVpcmVkPjxicj4gPGxhYmVsPkVuZCBkYXRlPC9sYWJlbD48YnI+IDxpbnB1dCB0eXBlPVwiZGF0ZVwiIG5hbWU9XCJkYXRlRW5kXCIgcmVxdWlyZWQ+PGJyPiA8bGFiZWw+UHJpdmFjeTwvbGFiZWw+PGJyPiA8aW5wdXQgdHlwZT1cInJhZGlvXCIgbmFtZT1cInN0YXR1c1wiIHZhbHVlPVwicHVibGljXCIgY2hlY2tlZD4gUHVibGljIDxpbnB1dCB0eXBlPVwicmFkaW9cIiBuYW1lPVwic3RhdHVzXCIgdmFsdWU9XCJwcml2YXRlXCI+IFByaXZhdGU8YnI+IDxidXR0b24gdHlwZT1cInN1Ym1pdFwiPkNyZWF0ZSBwcm9qZWN0PC9idXR0b24+IDxidXR0b24gdHlwZT1cInJlc2V0XCI+UmVzZXQ8L2J1dHRvbj4gPC9mb3JtPicsZnVuY3Rpb24oKXt2YXIgdD10aGlzO3RoaXMub2tEYXRlcz1mdW5jdGlvbigpe3JldHVybiB0LmRhdGVTdGFydC52YWx1ZUFzTnVtYmVyPHQuZGF0ZUVuZC52YWx1ZUFzTnVtYmVyfS5iaW5kKHRoaXMpLHRoaXMuY3JlYXRlPWZ1bmN0aW9uKCl7aWYoIXQub2tEYXRlcygpKXJldHVybiB2b2lkIHJpb3Rjb250cm9sLnRyaWdnZXIoXCJhbGVydFwiLFwiT29wc+KApiBMb29rcyBsaWtlIGEgZGF0ZSBlcnJvci5cIixcImRhbmdlclwiKTt2YXIgZT17dGl0bGU6dC50aXRsZS52YWx1ZSxzaXRlOnQuc2l0ZS52YWx1ZSxjb3VudHJ5SXNvOnQuY291bnRyeUlzby52YWx1ZSxjb3VudHJ5TmFtZTp0LmNvdW50cnlOYW1lLnZhbHVlLGxhdGxuZzp0LmxhdGxuZy52YWx1ZSxkYXRlU3RhcnQ6dC5kYXRlU3RhcnQudmFsdWUsZGF0ZUVuZDp0LmRhdGVFbmQudmFsdWUsc3RhdHVzOnV0aWxzLnJhZGlvQnRuVmFsKFwic3RhdHVzXCIpfTtyaW90Y29udHJvbC50cmlnZ2VyKFwiYWxlcnRfY2xlYXJcIikscmlvdGNvbnRyb2wudHJpZ2dlcihcInByb2plY3RfY3JlYXRlXCIsZSksdC5mcm1DcmVhdGUucmVzZXQoKX0uYmluZCh0aGlzKSx0aGlzLnJlc2V0TWFwPWZ1bmN0aW9uKCl7cmlvdGNvbnRyb2wudHJpZ2dlcihcIm1hcF9yZXNldFwiKSx0LnNldE1hcERhdGEoe30pfS5iaW5kKHRoaXMpLHRoaXMuc2V0TWFwRGF0YT1mdW5jdGlvbihlKXt2YXIgYT1lLmNvdW50cnlJc298fFwiXCIscj1lLmNvdW50cnlOYW1lfHxcIlwiLG49ZS5sYXRMbmd8fFwiXCIsaT1yJiZhP3IrXCIsXCIrYTpcIlwiO3QuY291bnRyeUlzby52YWx1ZT1hLHQuY291bnRyeU5hbWUudmFsdWU9cix0LmNvdW50cnkudmFsdWU9aSx0LmxhdGxuZy52YWx1ZT1uLHQudXBkYXRlKCl9LmJpbmQodGhpcykscmlvdGNvbnRyb2wub24oXCJtYXBfZGF0YVwiLHQuc2V0TWFwRGF0YSksdC5vbihcIm1vdW50XCIsZnVuY3Rpb24oKXtyaW90Y29udHJvbC50cmlnZ2VyKFwibWFwX2luaXRcIil9KX0pOyIsInZhciByaW90PXJlcXVpcmUoXCJyaW90XCIpO3Jpb3QudGFnKFwibGlzdFwiLCc8aDMgaWY9XCJ7IG9wdHMuaGVhZGluZyAmJiBvcHRzLml0ZW1zLmxlbmd0aCB9XCI+eyBvcHRzLmhlYWRpbmcgfTwvaDM+IDx1bCBpZj1cInsgb3B0cy5pdGVtcy5sZW5ndGggfVwiPiA8bGkgZWFjaD1cInsgaXRlbSwgaSBpbiBvcHRzLml0ZW1zIH1cIj4gPHlpZWxkPjwveWllbGQ+IDwvbGk+IDwvdWw+IDxwIGlmPVwieyBvcHRzLnN0YXR1cyAmJiAhb3B0cy5pdGVtcy5sZW5ndGggfVwiPnsgb3B0cy5zdGF0dXMgfTwvcD4nLGZ1bmN0aW9uKHQpe3RoaXMucmVtb3ZlSXRlbT1mdW5jdGlvbihpKXt2YXIgZT1pLml0ZW0uaXRlbSxzPXQuaXRlbXMsbz1zLmluZGV4T2YoZSk7cy5zcGxpY2UobywxKX0uYmluZCh0aGlzKX0pOyIsInZhciByaW90PXJlcXVpcmUoXCJyaW90XCIpO3Jpb3QudGFnKFwibG9naW5cIiwnPGgyPkxvZyBpbjwvaDI+IDxmb3JtIG5hbWU9XCJmcm1Mb2dpblwiIG9uc3VibWl0PVwieyBsb2dpbiB9XCI+IDxsYWJlbD5FbWFpbDwvbGFiZWw+PGJyPiA8aW5wdXQgdHlwZT1cImVtYWlsXCIgbmFtZT1cImVtYWlsXCI+PGJyPiA8bGFiZWw+UGFzc3dvcmQ8L2xhYmVsPjxicj4gPGlucHV0IHR5cGU9XCJwYXNzd29yZFwiIG5hbWU9XCJwYXNzd29yZFwiPjxicj4gPGJ1dHRvbiB0eXBlPVwic3VibWl0XCIgX19kaXNhYmxlZD1cInsgaXNMb2FkaW5nIH1cIj5Mb2cgaW48L2J1dHRvbj4gPHNwYW4gaWY9XCJ7IGlzTG9hZGluZyB9XCI+4oCmPC9zcGFuPiA8L2Zvcm0+IDxoMz5Mb2cgaW4gd2l0aDwvaDM+IDxidXR0b24gdHlwZT1cImJ1dHRvblwiIG9uY2xpY2s9XCJ7IHNvY2lhbExvZ2luIH1cIiBkYXRhLXByb3ZpZGVyPVwiZmFjZWJvb2tcIj5GYWNlYm9vazwvYnV0dG9uPicsZnVuY3Rpb24oKXt2YXIgaT1yZXF1aXJlKFwicmlvdGNvbnRyb2xcIiksbz10aGlzO3RoaXMubG9naW49ZnVuY3Rpb24oKXt2YXIgbj17ZW1haWw6by5lbWFpbC52YWx1ZSxwYXNzd29yZDpvLnBhc3N3b3JkLnZhbHVlfTtpLnRyaWdnZXIoXCJsb2dpblwiLG4pLG8uaXNMb2FkaW5nPSEwfS5iaW5kKHRoaXMpLHRoaXMuc29jaWFsTG9naW49ZnVuY3Rpb24obyl7dmFyIG49by50YXJnZXQuZ2V0QXR0cmlidXRlKFwiZGF0YS1wcm92aWRlclwiKTtpLnRyaWdnZXIoXCJzb2NpYWxfbG9naW5cIixuKX0uYmluZCh0aGlzKSxpLm9uKFwibWFpbl9sb2dpbiBsb2dpbl9mYWlsXCIsZnVuY3Rpb24oKXtvLnVwZGF0ZSh7aXNMb2FkaW5nOiExfSl9KSxpLm9uKFwibG9naW5fc3VjY2Vzc1wiLGZ1bmN0aW9uKCl7by51cGRhdGUoe2lzTG9hZGluZzohMH0pfSl9KTsiLCJ2YXIgcmlvdD1yZXF1aXJlKFwicmlvdFwiKTtyaW90LnRhZyhcImFwcC1tYWluXCIsXCI8YWxlcnQ+PC9hbGVydD4gPGxvZ2luIGlmPVxcXCJ7IHJvdXRlID09ICdsb2dpbicgfVxcXCI+PC9sb2dpbj4gPHNlYXJjaCBpZj1cXFwieyByb3V0ZSA9PSAnc2VhcmNoJyB9XFxcIj48L3NlYXJjaD4gPGNyZWF0ZSBpZj1cXFwieyByb3V0ZSA9PSAnY3JlYXRlJyB9XFxcIj48L2NyZWF0ZT4gPHByb2ZpbGUgaWY9XFxcInsgcm91dGUgPT0gJ3Byb2ZpbGUnIH1cXFwiPjwvcHJvZmlsZT4gPHByb2plY3QgaWY9XFxcInsgcm91dGUgPT0gJ3Byb2plY3QnICYmIGlkICYmICFhY3Rpb24gfVxcXCI+PC9wcm9qZWN0PiA8bmV3cmluZyBpZj1cXFwieyByb3V0ZSA9PSAncHJvamVjdCcgJiYgaWQgJiYgYWN0aW9uID09ICduZXcnIH1cXFwiPjwvbmV3cmluZz4gPGNvbnRyb2wgaWY9XFxcInsgcm91dGUgPT0gJ3Byb2plY3QnICYmIGlkICYmIGFjdGlvbiA9PSAnb2xkJ31cXFwiPjwvY29udHJvbD5cIixmdW5jdGlvbigpe3ZhciByPXJlcXVpcmUoXCJyaW90Y29udHJvbFwiKSxvPXRoaXM7ci5vbihcIm1haW5cIixmdW5jdGlvbihyLGUsaSl7by51cGRhdGUoe3JvdXRlOnIsaWQ6ZSxhY3Rpb246aX0pfSl9KTsiLCJ2YXIgcmlvdD1yZXF1aXJlKFwicmlvdFwiKTtyaW90LnRhZyhcImFwcC1uYXZcIiwnPG5hdiBpZj1cInsgIXVpZCB9XCIgY2xhc3M9XCJsZWZ0XCI+IDxhIGhyZWY9XCIjbG9naW5cIj5Mb2cgaW48L2E+IDwvbmF2PiA8bmF2IGlmPVwieyB1aWQgJiYgIXBpZCB9XCIgY2xhc3M9XCJsZWZ0XCI+IDxhIGhyZWY9XCIjY3JlYXRlXCI+Q3JlYXRlIFByb2plY3Q8L2E+IDxhIGhyZWY9XCIjc2VhcmNoXCI+RmluZCBQcm9qZWN0PC9hPiA8L25hdj4gPG5hdiBpZj1cInsgdWlkICYmIHBpZCB9XCIgY2xhc3M9XCJsZWZ0XCI+IDxhIGhyZWY9XCIjcHJvamVjdC97IHBpZCB9XCI+T3ZlcnZpZXc8L2E+IDxhIGhyZWY9XCIjcHJvamVjdC97IHBpZCB9L25ld1wiPk5ldyBSaW5nPC9hPiA8YSBocmVmPVwiI3Byb2plY3QveyBwaWQgfS9vbGRcIj5PbGQgUmluZzwvYT4gPC9uYXY+IDxuYXYgaWY9XCJ7IHVpZCB9XCIgY2xhc3M9XCJyaWdodFwiPiA8YSBocmVmPVwiI3Byb2ZpbGVcIj57IG5hbWUgfTwvYT4gPGEgaHJlZiBjbGFzcz1cImJ1dHRvblwiIG9uY2xpY2s9XCJ7IGxvZ291dCB9XCI+TG9nIG91dDwvYT4gPC9uYXY+JyxmdW5jdGlvbigpe3ZhciBhPXJlcXVpcmUoXCJyaW90Y29udHJvbFwiKSxpPXRoaXM7dGhpcy5sb2dvdXQ9ZnVuY3Rpb24oKXthLnRyaWdnZXIoXCJsb2dvdXRcIil9LmJpbmQodGhpcyksYS5vbihcIm5hdlwiLGZ1bmN0aW9uKGEsZSl7aS51cGRhdGUoe3BpZDphLHVpZDplLnVpZCxuYW1lOmUubmFtZXx8XCJQcm9maWxlXCJ9KX0pfSk7IiwidmFyIHJpb3Q9cmVxdWlyZShcInJpb3RcIik7cmVxdWlyZShcIi4vdXNlci50YWdcIikscmVxdWlyZShcIi4vcHJvamVjdGxpc3QudGFnXCIpLHJpb3QudGFnKFwicHJvZmlsZVwiLFwiPHVzZXI+PC91c2VyPiA8cHJvamVjdGxpc3Q+PC9wcm9qZWN0bGlzdD5cIixmdW5jdGlvbigpe30pOyIsInZhciByaW90PXJlcXVpcmUoXCJyaW90XCIpLHJpb3Rjb250cm9sPXJlcXVpcmUoXCJyaW90Y29udHJvbFwiKTtyaW90LnRhZyhcInBlbmRpbmdjb3VudFwiLCc8c3BhbiBpZj1cInsgY291bnQgfVwiPih7IGNvdW50IH0pPC9zcGFuPicsZnVuY3Rpb24obil7dmFyIG89dGhpcztyaW90Y29udHJvbC5vbihcInBlbmRpbmdjb3VudF9cIituLnBpZCxmdW5jdGlvbihuKXtvLnVwZGF0ZSh7Y291bnQ6bn0pfSksby5vbihcIm1vdW50XCIsZnVuY3Rpb24oKXtyaW90Y29udHJvbC50cmlnZ2VyKFwicGVuZGluZ2NvdW50X2luaXRcIixuLnBpZCl9KX0pOyIsInZhciByaW90PXJlcXVpcmUoXCJyaW90XCIpLHJpb3Rjb250cm9sPXJlcXVpcmUoXCJyaW90Y29udHJvbFwiKTtyZXF1aXJlKFwiLi9wcm9qZWN0bGlzdC50YWdcIikscmVxdWlyZShcIi4vcGVuZGluZ2NvdW50LnRhZ1wiKSxyaW90LnRhZyhcInByb2plY3RsaXN0XCIsJzxoMj5Qcm9qZWN0czwvaDI+IDxwIGlmPVwieyBsb2FkaW5nIH1cIj5Mb2FkaW5n4oCmPC9wPiA8bGlzdCBoZWFkaW5nPVwiT3duXCIgaXRlbXM9XCJ7IG93biB9XCI+IDxhIGhyZWY9XCIjcHJvamVjdC97IGl0ZW0ucGlkIH1cIj57IGl0ZW0udGl0bGUgfTxzcGFuIGlmPVwieyBpdGVtLnNpdGUgfVwiPiwgeyBpdGVtLnNpdGUgfTwvc3Bhbj48L2E+IDxwZW5kaW5nY291bnQgcGlkPVwieyBpdGVtLnBpZCB9XCI+PC9wZW5kaW5nY291bnQ+IDwvbGlzdD4gPGxpc3QgaGVhZGluZz1cIk1lbWJlclwiIGl0ZW1zPVwieyBtZW1iZXIgfVwiPiA8YSBocmVmPVwiI3Byb2plY3QveyBpdGVtLnBpZCB9XCI+eyBpdGVtLnRpdGxlIH08c3BhbiBpZj1cInsgaXRlbS5zaXRlIH1cIj4sIHsgaXRlbS5zaXRlIH08L3NwYW4+PC9hPiA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBvbmNsaWNrPVwieyBwYXJlbnQucGFyZW50LmxlYXZlUHJvamVjdCB9XCI+WDwvYnV0dG9uPiA8L2xpc3Q+IDxsaXN0IGhlYWRpbmc9XCJQZW5kaW5nXCIgaXRlbXM9XCJ7IHBlbmRpbmcgfVwiPiA8c3Bhbj57IGl0ZW0udGl0bGUgfTxzcGFuIGlmPVwieyBpdGVtLnNpdGUgfVwiPiwgeyBpdGVtLnNpdGUgfTwvc3Bhbj48L3NwYW4+IDxidXR0b24gdHlwZT1cImJ1dHRvblwiIG9uY2xpY2s9XCJ7IHBhcmVudC5wYXJlbnQudW5kb1BlbmRpbmcgfVwiPlg8L2J1dHRvbj4gPC9saXN0PicsZnVuY3Rpb24oKXt2YXIgdD10aGlzO3QubG9hZGluZz0hMCx0aGlzLmxlYXZlUHJvamVjdD1mdW5jdGlvbih0KXt2YXIgaT10Lml0ZW0uaXRlbTtyaW90Y29udHJvbC50cmlnZ2VyKFwibWVtYmVyc2hpcF9yZXZva2VcIixpKX0uYmluZCh0aGlzKSx0aGlzLnVuZG9QZW5kaW5nPWZ1bmN0aW9uKHQpe3ZhciBpPXQuaXRlbS5pdGVtO3Jpb3Rjb250cm9sLnRyaWdnZXIoXCJtZW1iZXJzaGlwX2RlbnlcIixpKX0uYmluZCh0aGlzKSxyaW90Y29udHJvbC5vbihcInByb2plY3RsaXN0X2RhdGFcIixmdW5jdGlvbihpLGUpe3RbaV09ZSx0LnVwZGF0ZSh7bG9hZGluZzohMX0pfSkscmlvdGNvbnRyb2wub24oXCJwcm9qZWN0bGlzdF9jbGVhclwiLGZ1bmN0aW9uKGkpe3RbaV09W10sdC51cGRhdGUoKX0pfSk7IiwidmFyIHJpb3Q9cmVxdWlyZShcInJpb3RcIikscmlvdGNvbnRyb2w9cmVxdWlyZShcInJpb3Rjb250cm9sXCIpO3Jpb3QudGFnKFwidXNlclwiLCc8aDI+UHJvZmlsZTwvaDI+IDxpbWcgc3JjPVwiXCIgY2xhc3M9XCJzZWxmaWUgc2VsZmllLS1sYXJnZVwiPiA8cD5GaXJzdG5hbWUgTGFzdG5hbWU8L3A+IDxwPlN1YnNjcmliZXIgLyBDb250cmlidXRvcjwvcD4gPGlucHV0IHR5cGU9XCJ0ZXh0XCIgcGxhY2Vob2xkZXI9XCJOYXRpb25hbGl0eVwiPicsZnVuY3Rpb24oKXt9KTsiLCJ2YXIgcmlvdD1yZXF1aXJlKFwicmlvdFwiKSxyaW90Y29udHJvbD1yZXF1aXJlKFwicmlvdGNvbnRyb2xcIik7cmVxdWlyZShcIi4vbWVtYmVyL21lbWJlcmxpc3QudGFnXCIpLHJlcXVpcmUoXCIuL3JpbmcvcmluZ3NpemUudGFnXCIpLHJpb3QudGFnKFwicHJvamVjdFwiLCc8aDI+UHJvamVjdDwvaDI+IDxwIGlmPVwieyBsb2FkaW5nIH1cIj5Mb2FkaW5n4oCmPC9wPiA8ZGl2IGlmPVwieyAhbG9hZGluZyB9XCI+IDxoMz57IGRhdGEudGl0bGUgfTxzcGFuIGlmPVwieyBkYXRhLnNpdGUgfVwiPiwgeyBkYXRhLnNpdGUgfTwvc3Bhbj48L2gzPiA8cD57IGRhdGEuZGF0ZVN0YXJ0IH0gJm5kYXNoOyB7IGRhdGEuZGF0ZUVuZCB9PC9wPiA8bWVtYmVybGlzdCBpZj1cInsgZGF0YS5pc093bmVyIH1cIj48L21lbWJlcmxpc3Q+IDxyaW5nc2l6ZSBwaWQ9XCJ7IGRhdGEucGlkIH1cIj48L3JpbmdzaXplPiA8L2Rpdj4nLGZ1bmN0aW9uKCl7dmFyIGk9dGhpcztpLmxvYWRpbmc9ITAscmlvdGNvbnRyb2wub24oXCJwcm9qZWN0X2RhdGFcIixmdW5jdGlvbih0KXtpLnVwZGF0ZSh7ZGF0YTp0LGxvYWRpbmc6ITF9KX0pfSk7IiwidmFyIHJpb3Q9cmVxdWlyZShcInJpb3RcIikscmlvdGNvbnRyb2w9cmVxdWlyZShcInJpb3Rjb250cm9sXCIpO3JlcXVpcmUoXCIuL21lbWJlcnNoaXAudGFnXCIpLHJlcXVpcmUoXCIuL21lbWJlcnJvbGUudGFnXCIpLHJpb3QudGFnKFwibWVtYmVybGlzdFwiLCc8aDM+TWVtYmVyczwvaDM+IDxwIGlmPVwieyBsb2FkaW5nIH1cIj5Mb2FkaW5n4oCmPC9wPiA8bGlzdCBoZWFkaW5nPVwiUGVuZGluZ1wiIGl0ZW1zPVwieyBwZW5kaW5nIH1cIj4gPHNwYW4+eyBpdGVtLm5hbWUgfTwvc3Bhbj4gPG1lbWJlcnNoaXAgdWlkPVwieyBpdGVtLnVpZCB9XCI+PC9tZW1iZXJzaGlwPiA8L2xpc3Q+IDxsaXN0IGhlYWRpbmc9XCJNZW1iZXJcIiBpdGVtcz1cInsgbWVtYmVyIH1cIj4gPHNwYW4+eyBpdGVtLm5hbWUgfTwvc3Bhbj4gPHNwYW4+KHsgaXRlbS5yb2xlIH08c3BhbiBpZj1cInsgaXRlbS5zaWduIH1cIj4sIHsgaXRlbS5zaWduIH08L3NwYW4+KTwvc3Bhbj4gPG1lbWJlcnJvbGUgZGF0YT1cInsgaXRlbSB9XCI+PC9tZW1iZXJyb2xlPiA8L2xpc3Q+JyxmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5sb2FkaW5nPSEwLHJpb3Rjb250cm9sLm9uKFwibWVtYmVybGlzdF9kYXRhXCIsZnVuY3Rpb24oaSxyKXtlW2ldPXIsZS51cGRhdGUoe2xvYWRpbmc6ITF9KX0pLHJpb3Rjb250cm9sLm9uKFwibWVtYmVybGlzdF9jbGVhclwiLGZ1bmN0aW9uKGkpe2VbaV09W10sZS51cGRhdGUoKX0pfSk7IiwidmFyIHJpb3Q9cmVxdWlyZShcInJpb3RcIikscmlvdGNvbnRyb2w9cmVxdWlyZShcInJpb3Rjb250cm9sXCIpLHV0aWxzPXJlcXVpcmUoXCIuLi8uLi8uLi91dGlsc1wiKTtyaW90LnRhZyhcIm1lbWJlcnJvbGVcIiwnPGJ1dHRvbiBvbmNsaWNrPVwieyB0b2dnbGVGb3JtIH1cIj7igKY8L2J1dHRvbj4gPGZvcm0gbmFtZT1cImZybVJvbGVzXCIgb25zdWJtaXQ9XCJ7IGVkaXQgfVwiIGlmPVwieyBzaG93Rm9ybSB9XCI+IDxsYWJlbD48aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgbmFtZT1cInJpbmdlclwiIG9uY2xpY2s9XCJ7IHRvZ2dsZVRleHRmaWVsZCB9XCIgX19jaGVja2VkPVwieyBpc0NoZWNrZWQgfVwiPiBSaW5nZXI8L2xhYmVsPjxicj4gPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmFtZT1cInNpZ25cIiBwbGFjZWhvbGRlcj1cIlNpZ25hdHVyZVwiIHZhbHVlPVwieyBzaWduVmFsdWUgfVwiIF9fZGlzYWJsZWQ9XCJ7IGlzRGlzYWJsZWQgfVwiPjxicj48YnI+IDxidXR0b24gdHlwZT1cInN1Ym1pdFwiPlVwZGF0ZTwvYnV0dG9uPiA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBvbmNsaWNrPVwieyByZXZva2UgfVwiPlJldm9rZTwvYnV0dG9uPiA8L2Zvcm0+JyxmdW5jdGlvbihlKXt2YXIgaT10aGlzO2kuaXNDaGVja2VkPVwicmluZ2VyXCI9PWUuZGF0YS5yb2xlLGkuc2lnblZhbHVlPWUuZGF0YS5zaWduLGkuaXNEaXNhYmxlZD0haS5pc0NoZWNrZWQsdGhpcy50b2dnbGVGb3JtPWZ1bmN0aW9uKCl7aS5zaG93Rm9ybT0haS5zaG93Rm9ybX0uYmluZCh0aGlzKSx0aGlzLnRvZ2dsZVRleHRmaWVsZD1mdW5jdGlvbihlKXtpLmlzRGlzYWJsZWQ9IWUudGFyZ2V0LmNoZWNrZWQsaS5pc0Rpc2FibGVkfHxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7aS5zaWduLmZvY3VzKCl9LDEpfS5iaW5kKHRoaXMpLHRoaXMuZWRpdD1mdW5jdGlvbigpe3ZhciB0PXtuZXdSb2xlOmkucmluZ2VyLmNoZWNrZWQ/XCJyaW5nZXJcIjpcImFzc2lzdGFudFwiLG5ld1NpZ246aS5yaW5nZXIuY2hlY2tlZD9pLnNpZ24udmFsdWU6XCJcIixwaWQ6aS5wYXJlbnQuaWR9O3JldHVyblwicmluZ2VyXCIhPXQubmV3Um9sZXx8dC5uZXdTaWduPyhyaW90Y29udHJvbC50cmlnZ2VyKFwibWVtYmVycm9sZV9lZGl0XCIsdXRpbHMuZXh0ZW5kKGUuZGF0YSx0KSksdm9pZCByaW90Y29udHJvbC50cmlnZ2VyKFwiYWxlcnRfY2xlYXJcIikpOnZvaWQgcmlvdGNvbnRyb2wudHJpZ2dlcihcImFsZXJ0XCIsXCJQbGVhc2UgZW50ZXIgYSBSaW5nZXIgc2lnbmF0dXJlIHVuaXF1ZSB0byB0aGlzIHByb2plY3QuXCIsXCJlcnJvclwiKX0uYmluZCh0aGlzKSx0aGlzLnJldm9rZT1mdW5jdGlvbigpe3ZhciB0PXtwaWQ6aS5wYXJlbnQuaWQsdWlkOmUuZGF0YS51aWR9O3Jpb3Rjb250cm9sLnRyaWdnZXIoXCJtZW1iZXJzaGlwX3Jldm9rZVwiLHQpfS5iaW5kKHRoaXMpfSk7IiwidmFyIHJpb3Q9cmVxdWlyZShcInJpb3RcIikscmlvdGNvbnRyb2w9cmVxdWlyZShcInJpb3Rjb250cm9sXCIpO3Jpb3QudGFnKFwibWVtYmVyc2hpcFwiLCc8YnV0dG9uIG9uY2xpY2s9XCJ7IGFsbG93IH1cIj5BbGxvdzwvYnV0dG9uPiA8YnV0dG9uIG9uY2xpY2s9XCJ7IGRlbnkgfVwiPkRlbnk8L2J1dHRvbj4nLGZ1bmN0aW9uKHQpe3ZhciBpPXtwaWQ6dGhpcy5wYXJlbnQuaWQsdWlkOnQudWlkfTt0aGlzLmFsbG93PWZ1bmN0aW9uKCl7cmlvdGNvbnRyb2wudHJpZ2dlcihcIm1lbWJlcnNoaXBfYWxsb3dcIixpKX0uYmluZCh0aGlzKSx0aGlzLmRlbnk9ZnVuY3Rpb24oKXtyaW90Y29udHJvbC50cmlnZ2VyKFwibWVtYmVyc2hpcF9kZW55XCIsaSl9LmJpbmQodGhpcyl9KTsiLCJ2YXIgcmlvdD1yZXF1aXJlKFwicmlvdFwiKSxyaW90Y29udHJvbD1yZXF1aXJlKFwicmlvdGNvbnRyb2xcIik7cmlvdC50YWcoXCJyaW5nc2l6ZVwiLCc8YSBocmVmIG9uY2xpY2s9XCJ7IHRvZ2dsZUZvcm0gfVwiPlRvZ2dsZSBSaW5nIFNpemVzPC9hPiA8Zm9ybSBpZj1cInsgc2hvd0Zvcm0gfVwiIG5hbWU9XCJmcm1SaW5nc2l6ZXNcIiBvbnN1Ym1pdD1cInsgYWRkIH1cIj4gPGxpc3QgaXRlbXM9XCJ7IHJpbmdzaXplcyB9XCI+IDxzcGFuPnsgaXRlbS5yaW5nU2l6ZSB9PC9zcGFuPjxzcGFuPnsgaXRlbS5zZXJpYWxOdW1iZXIgfTwvc3Bhbj4gPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgb25jbGljaz1cInsgcGFyZW50LnBhcmVudC5yZW1vdmUgfVwiPlg8L2J1dHRvbj4gPC9saXN0PiA8aW5wdXQgcmlvdC10eXBlPXtcIm51bWJlclwifSBzdGVwPVwiMC41XCIgbmFtZT1cInJpbmdTaXplXCIgcGxhY2Vob2xkZXI9XCJSaW5nIFNpemVcIiByZXF1aXJlZD4gPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmFtZT1cInNlcmlhbE51bWJlclwiIHBsYWNlaG9sZGVyPVwiU2VyaWFsIE51bWJlclwiIHJlcXVpcmVkPiA8YnV0dG9uIHR5cGU9XCJzdWJtaXRcIj5BZGQ8L2J1dHRvbj4gPC9mb3JtPicsZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMudG9nZ2xlRm9ybT1mdW5jdGlvbigpe2Uuc2hvd0Zvcm09IWUuc2hvd0Zvcm19LmJpbmQodGhpcyl9KTsiLCJ2YXIgcmlvdD1yZXF1aXJlKFwicmlvdFwiKSxyaW90Y29udHJvbD1yZXF1aXJlKFwicmlvdGNvbnRyb2xcIiksdXRpbHM9cmVxdWlyZShcIi4uLy4uL3V0aWxzXCIpO3JlcXVpcmUoXCIuL2pvaW4udGFnXCIpLHJpb3QudGFnKFwic2VhcmNoXCIsJzxmb3JtIG5hbWU9XCJmcm1TZWFyY2hcIiBvbnN1Ym1pdD1cInsgZmluZCB9XCI+IDxoMj5GaW5kIHByb2plY3Q8L2gyPiA8aW5wdXQgdHlwZT1cInRleHRcIiBuYW1lPVwibmVlZGxlXCIgcGxhY2Vob2xkZXI9XCJTZWFyY2hcIiBhdXRvY29tcGxldGU9XCJvZmZcIj4gPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgb25jbGljaz1cInsgZmluZCB9XCI+T0s8L2J1dHRvbj4gPGZpZWxkc2V0PiA8bGVnZW5kPkZpbHRlciBieTwvbGVnZW5kPiA8bGFiZWw+PGlucHV0IHR5cGU9XCJyYWRpb1wiIG5hbWU9XCJjYXRlZ29yeVwiIG9uY2xpY2s9XCJ7IGZpbmQgfVwiIHZhbHVlPVwiYWxsXCIgY2hlY2tlZD4gQWxsPC9sYWJlbD4gPGxhYmVsPjxpbnB1dCB0eXBlPVwicmFkaW9cIiBuYW1lPVwiY2F0ZWdvcnlcIiBvbmNsaWNrPVwieyBmaW5kIH1cIiB2YWx1ZT1cInRpdGxlXCI+IFByb2plY3QgdGl0bGU8L2xhYmVsPiA8bGFiZWw+PGlucHV0IHR5cGU9XCJyYWRpb1wiIG5hbWU9XCJjYXRlZ29yeVwiIG9uY2xpY2s9XCJ7IGZpbmQgfVwiIHZhbHVlPVwic2l0ZVwiPiBTaXRlIG5hbWU8L2xhYmVsPiA8bGFiZWw+PGlucHV0IHR5cGU9XCJyYWRpb1wiIG5hbWU9XCJjYXRlZ29yeVwiIG9uY2xpY2s9XCJ7IGZpbmQgfVwiIHZhbHVlPVwib3duZXJOYW1lXCI+IE93bmVyIG5hbWU8L2xhYmVsPiA8L2ZpZWxkc2V0PiA8L2Zvcm0+IDxsaXN0IGhlYWRpbmc9XCJTZWFyY2ggUmVzdWx0c1wiIGl0ZW1zPVwieyByZXN1bHQgfVwiIGlmPVwieyByZXN1bHQubGVuZ3RoIH1cIj4gPHNwYW4+eyBpdGVtLnRpdGxlIH08L3NwYW4+PHNwYW4+LCB7IGl0ZW0uc2l0ZSB9PC9zcGFuPjxicj4gPHNwYW4+T3duZWQgYnk6IHsgaXRlbS5vd25lck5hbWUgfTwvc3Bhbj48YnI+IDxkYXRldGltZSBpZj1cInsgaXRlbS5kYXRlU3RhcnQgfHwgaXRlbS5kYXRlRW5kIH1cIj57IGl0ZW0uZGF0ZVN0YXJ0IH0gJm5kYXNoOyB7IGl0ZW0uZGF0ZUVuZCB9IDwvZGF0ZXRpbWU+IDxqb2luIGlmPVwieyAhaXRlbS5pc093bmVyICYmIGl0ZW0uaXNBY3RpdmUgfVwiIGRhdGE9XCJ7IGl0ZW0gfVwiPjwvam9pbj4gPC9saXN0PicsZnVuY3Rpb24oKXt2YXIgZT10aGlzO2Uuc2hvdz0hMSx0aGlzLmZpbmQ9ZnVuY3Rpb24oKXtpZihlLm5lZWRsZS52YWx1ZS5sZW5ndGg+MSl7dmFyIHQ9e2NhdGVnb3J5OnV0aWxzLnJhZGlvQnRuVmFsKFwiY2F0ZWdvcnlcIiksbmVlZGxlOmUubmVlZGxlLnZhbHVlfTtyaW90Y29udHJvbC50cmlnZ2VyKFwic2VhcmNoXCIsdCl9fS5iaW5kKHRoaXMpLHJpb3Rjb250cm9sLm9uKFwic2VhcmNoX2RhdGFcIixmdW5jdGlvbih0KXtlLnVwZGF0ZSh7cmVzdWx0OnR9KX0pLHJpb3Rjb250cm9sLm9uKFwic2VhcmNoX2NsZWFyXCIsZnVuY3Rpb24oKXtlLmZybVNlYXJjaC5yZXNldCgpLGUudXBkYXRlKHtyZXN1bHQ6W119KX0pfSk7IiwidmFyIHJpb3Q9cmVxdWlyZShcInJpb3RcIikscmlvdGNvbnRyb2w9cmVxdWlyZShcInJpb3Rjb250cm9sXCIpO3Jpb3QudGFnKFwiam9pblwiLCc8c3BhbiBpZj1cInsgbG9hZGluZyB9XCI+4oCmPC9zcGFuPiA8c3BhbiBpZj1cInsgIWxvYWRpbmcgfVwiPiA8c3BhbiBpZj1cInsgcGVuZGluZyB9XCI+W1BlbmRpbmddPC9zcGFuPiA8c3BhbiBpZj1cInsgbWVtYmVyIH1cIj5bTWVtYmVyXTwvc3Bhbj4gPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgb25jbGljaz1cInsgam9pbiB9XCIgaWY9XCJ7ICFwZW5kaW5nICYmICFtZW1iZXIgfVwiPkpvaW48L2J1dHRvbj4gPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgb25jbGljaz1cInsgdW5kbyB9XCIgaWY9XCJ7IHBlbmRpbmcgfVwiPlVuZG88L2J1dHRvbj4gPC9zcGFuPicsZnVuY3Rpb24obil7dmFyIGk9dGhpcztpLmxvYWRpbmc9ITAsdGhpcy5qb2luPWZ1bmN0aW9uKCl7cmlvdGNvbnRyb2wudHJpZ2dlcihcIm1lbWJlcnNoaXBfcmVxdWVzdFwiLHtwaWQ6bi5kYXRhLnBpZH0pLGkucGVuZGluZz0hMH0uYmluZCh0aGlzKSx0aGlzLnVuZG89ZnVuY3Rpb24oKXtyaW90Y29udHJvbC50cmlnZ2VyKFwibWVtYmVyc2hpcF9kZW55XCIse3BpZDpuLmRhdGEucGlkfSksaS5wZW5kaW5nPSExfS5iaW5kKHRoaXMpLHJpb3Rjb250cm9sLm9uKFwiam9pbl9cIituLmRhdGEucGlkLGZ1bmN0aW9uKG4sdCl7aVtuXT10LGkudXBkYXRlKHtsb2FkaW5nOiExfSl9KSxyaW90Y29udHJvbC50cmlnZ2VyKFwiam9pbl9nZXRfc3RhdHVzXCIsbi5kYXRhLnBpZCl9KTsiLCJ2YXIgdXRpbHM9e307dXRpbHMuZXh0ZW5kPWZ1bmN0aW9uKGUsdCl7aWYobnVsbD09ZXx8bnVsbD09dClyZXR1cm4gZTtmb3Ioa2V5IGluIHQpdC5oYXNPd25Qcm9wZXJ0eShrZXkpJiYoZVtrZXldPXRba2V5XSk7cmV0dXJuIGV9LHV0aWxzLnJhZGlvQnRuVmFsPWZ1bmN0aW9uKGUpe3JldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiW25hbWU9XCIrZStcIl06Y2hlY2tlZFwiKS52YWx1ZX0sdXRpbHMuc2V0TG9jYWxVc2VyPWZ1bmN0aW9uKGUpe1widW5kZWZpbmVkXCIhPXR5cGVvZiBTdG9yYWdlJiZsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcInVzZXJcIixKU09OLnN0cmluZ2lmeShlKSl9LHV0aWxzLmdldExvY2FsVXNlcj1mdW5jdGlvbihlKXt2YXIgdD1KU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwidXNlclwiKSk7cmV0dXJuIGU/dFtlXTp0fSx1dGlscy51cGRhdGVMb2NhbFVzZXI9ZnVuY3Rpb24oZSx0KXt2YXIgcj11dGlscy5nZXRMb2NhbFVzZXIoKTtyW2VdPXQsdXRpbHMuc2V0TG9jYWxVc2VyKHIpfSxtb2R1bGUuZXhwb3J0cz11dGlsczsiLCIhZnVuY3Rpb24oKXtmdW5jdGlvbiBuKHQpe3JldHVybiB2b2lkIDAhPT10fWZ1bmN0aW9uIGJhKCl7fWZ1bmN0aW9uIGNhKHQpe3QudWI9ZnVuY3Rpb24oKXtyZXR1cm4gdC50Zj90LnRmOnQudGY9bmV3IHR9fWZ1bmN0aW9uIGRhKHQpe3ZhciBlPXR5cGVvZiB0O2lmKFwib2JqZWN0XCI9PWUpe2lmKCF0KXJldHVyblwibnVsbFwiO2lmKHQgaW5zdGFuY2VvZiBBcnJheSlyZXR1cm5cImFycmF5XCI7aWYodCBpbnN0YW5jZW9mIE9iamVjdClyZXR1cm4gZTt2YXIgbj1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodCk7aWYoXCJbb2JqZWN0IFdpbmRvd11cIj09bilyZXR1cm5cIm9iamVjdFwiO2lmKFwiW29iamVjdCBBcnJheV1cIj09bnx8XCJudW1iZXJcIj09dHlwZW9mIHQubGVuZ3RoJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgdC5zcGxpY2UmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiB0LnByb3BlcnR5SXNFbnVtZXJhYmxlJiYhdC5wcm9wZXJ0eUlzRW51bWVyYWJsZShcInNwbGljZVwiKSlyZXR1cm5cImFycmF5XCI7aWYoXCJbb2JqZWN0IEZ1bmN0aW9uXVwiPT1ufHxcInVuZGVmaW5lZFwiIT10eXBlb2YgdC5jYWxsJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgdC5wcm9wZXJ0eUlzRW51bWVyYWJsZSYmIXQucHJvcGVydHlJc0VudW1lcmFibGUoXCJjYWxsXCIpKXJldHVyblwiZnVuY3Rpb25cIn1lbHNlIGlmKFwiZnVuY3Rpb25cIj09ZSYmXCJ1bmRlZmluZWRcIj09dHlwZW9mIHQuY2FsbClyZXR1cm5cIm9iamVjdFwiO3JldHVybiBlfWZ1bmN0aW9uIGVhKHQpe3JldHVyblwiYXJyYXlcIj09ZGEodCl9ZnVuY3Rpb24gZmEodCl7dmFyIGU9ZGEodCk7cmV0dXJuXCJhcnJheVwiPT1lfHxcIm9iamVjdFwiPT1lJiZcIm51bWJlclwiPT10eXBlb2YgdC5sZW5ndGh9ZnVuY3Rpb24gcCh0KXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgdH1mdW5jdGlvbiBnYSh0KXtyZXR1cm5cIm51bWJlclwiPT10eXBlb2YgdH1mdW5jdGlvbiBoYSh0KXtyZXR1cm5cImZ1bmN0aW9uXCI9PWRhKHQpfWZ1bmN0aW9uIGlhKHQpe3ZhciBlPXR5cGVvZiB0O3JldHVyblwib2JqZWN0XCI9PWUmJm51bGwhPXR8fFwiZnVuY3Rpb25cIj09ZX1mdW5jdGlvbiBqYSh0KXtyZXR1cm4gdC5jYWxsLmFwcGx5KHQuYmluZCxhcmd1bWVudHMpfWZ1bmN0aW9uIGthKHQsZSl7aWYoIXQpdGhyb3cgRXJyb3IoKTtpZigyPGFyZ3VtZW50cy5sZW5ndGgpe3ZhciBuPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywyKTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgaT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO3JldHVybiBBcnJheS5wcm90b3R5cGUudW5zaGlmdC5hcHBseShpLG4pLHQuYXBwbHkoZSxpKX19cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHQuYXBwbHkoZSxhcmd1bWVudHMpfX1mdW5jdGlvbiBxKCl7cmV0dXJuIHE9RnVuY3Rpb24ucHJvdG90eXBlLmJpbmQmJi0xIT1GdW5jdGlvbi5wcm90b3R5cGUuYmluZC50b1N0cmluZygpLmluZGV4T2YoXCJuYXRpdmUgY29kZVwiKT9qYTprYSxxLmFwcGx5KG51bGwsYXJndW1lbnRzKX1mdW5jdGlvbiBtYSh0LGUpe2Z1bmN0aW9uIG4oKXt9bi5wcm90b3R5cGU9ZS5wcm90b3R5cGUsdC5aZz1lLnByb3RvdHlwZSx0LnByb3RvdHlwZT1uZXcgbix0LnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj10LHQuVmc9ZnVuY3Rpb24odCxuKXtmb3IodmFyIGk9QXJyYXkoYXJndW1lbnRzLmxlbmd0aC0yKSxyPTI7cjxhcmd1bWVudHMubGVuZ3RoO3IrKylpW3ItMl09YXJndW1lbnRzW3JdO3JldHVybiBlLnByb3RvdHlwZVtuXS5hcHBseSh0LGkpfX1mdW5jdGlvbiByKHQsZSl7Zm9yKHZhciBuIGluIHQpZS5jYWxsKHZvaWQgMCx0W25dLG4sdCl9ZnVuY3Rpb24gbmEodCxlKXt2YXIgbixpPXt9O2ZvcihuIGluIHQpaVtuXT1lLmNhbGwodm9pZCAwLHRbbl0sbix0KTtyZXR1cm4gaX1mdW5jdGlvbiBvYSh0LGUpe2Zvcih2YXIgbiBpbiB0KWlmKCFlLmNhbGwodm9pZCAwLHRbbl0sbix0KSlyZXR1cm4hMTtyZXR1cm4hMH1mdW5jdGlvbiBwYSh0KXt2YXIgZSxuPTA7Zm9yKGUgaW4gdCluKys7cmV0dXJuIG59ZnVuY3Rpb24gcWEodCl7Zm9yKHZhciBlIGluIHQpcmV0dXJuIGV9ZnVuY3Rpb24gcmEodCl7dmFyIGUsbj1bXSxpPTA7Zm9yKGUgaW4gdCluW2krK109dFtlXTtyZXR1cm4gbn1mdW5jdGlvbiBzYSh0KXt2YXIgZSxuPVtdLGk9MDtmb3IoZSBpbiB0KW5baSsrXT1lO3JldHVybiBufWZ1bmN0aW9uIHRhKHQsZSl7Zm9yKHZhciBuIGluIHQpaWYodFtuXT09ZSlyZXR1cm4hMDtyZXR1cm4hMX1mdW5jdGlvbiB1YSh0LGUsbil7Zm9yKHZhciBpIGluIHQpaWYoZS5jYWxsKG4sdFtpXSxpLHQpKXJldHVybiBpfWZ1bmN0aW9uIHZhKHQsZSl7dmFyIG49dWEodCxlLHZvaWQgMCk7cmV0dXJuIG4mJnRbbl19ZnVuY3Rpb24gd2EodCl7Zm9yKHZhciBlIGluIHQpcmV0dXJuITE7cmV0dXJuITB9ZnVuY3Rpb24geGEodCl7dmFyIGUsbj17fTtmb3IoZSBpbiB0KW5bZV09dFtlXTtyZXR1cm4gbn1mdW5jdGlvbiB6YSh0KXtmb3IodmFyIGUsbixpPTE7aTxhcmd1bWVudHMubGVuZ3RoO2krKyl7bj1hcmd1bWVudHNbaV07Zm9yKGUgaW4gbil0W2VdPW5bZV07Zm9yKHZhciByPTA7cjx5YS5sZW5ndGg7cisrKWU9eWFbcl0sT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4sZSkmJih0W2VdPW5bZV0pfX1mdW5jdGlvbiBBYShhKXtpZihhPVN0cmluZyhhKSwvXlxccyokLy50ZXN0KGEpPzA6L15bXFxdLDp7fVxcc1xcdTIwMjhcXHUyMDI5XSokLy50ZXN0KGEucmVwbGFjZSgvXFxcXFtcIlxcXFxcXC9iZm5ydHVdL2csXCJAXCIpLnJlcGxhY2UoL1wiW15cIlxcXFxcXG5cXHJcXHUyMDI4XFx1MjAyOVxceDAwLVxceDA4XFx4MGEtXFx4MWZdKlwifHRydWV8ZmFsc2V8bnVsbHwtP1xcZCsoPzpcXC5cXGQqKT8oPzpbZUVdWytcXC1dP1xcZCspPy9nLFwiXVwiKS5yZXBsYWNlKC8oPzpefDp8LCkoPzpbXFxzXFx1MjAyOFxcdTIwMjldKlxcWykrL2csXCJcIikpKXRyeXtyZXR1cm4gZXZhbChcIihcIithK1wiKVwiKX1jYXRjaChiKXt9dGhyb3cgRXJyb3IoXCJJbnZhbGlkIEpTT04gc3RyaW5nOiBcIithKX1mdW5jdGlvbiBCYSgpe3RoaXMuUGQ9dm9pZCAwfWZ1bmN0aW9uIENhKHQsZSxuKXtzd2l0Y2godHlwZW9mIGUpe2Nhc2VcInN0cmluZ1wiOkRhKGUsbik7YnJlYWs7Y2FzZVwibnVtYmVyXCI6bi5wdXNoKGlzRmluaXRlKGUpJiYhaXNOYU4oZSk/ZTpcIm51bGxcIik7YnJlYWs7Y2FzZVwiYm9vbGVhblwiOm4ucHVzaChlKTticmVhaztjYXNlXCJ1bmRlZmluZWRcIjpuLnB1c2goXCJudWxsXCIpO2JyZWFrO2Nhc2VcIm9iamVjdFwiOmlmKG51bGw9PWUpe24ucHVzaChcIm51bGxcIik7YnJlYWt9aWYoZWEoZSkpe3ZhciBpPWUubGVuZ3RoO24ucHVzaChcIltcIik7Zm9yKHZhciByPVwiXCIsbz0wO2k+bztvKyspbi5wdXNoKHIpLHI9ZVtvXSxDYSh0LHQuUGQ/dC5QZC5jYWxsKGUsU3RyaW5nKG8pLHIpOnIsbikscj1cIixcIjtuLnB1c2goXCJdXCIpO2JyZWFrfW4ucHVzaChcIntcIiksaT1cIlwiO2ZvcihvIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsbykmJihyPWVbb10sXCJmdW5jdGlvblwiIT10eXBlb2YgciYmKG4ucHVzaChpKSxEYShvLG4pLG4ucHVzaChcIjpcIiksQ2EodCx0LlBkP3QuUGQuY2FsbChlLG8scik6cixuKSxpPVwiLFwiKSk7bi5wdXNoKFwifVwiKTticmVhaztjYXNlXCJmdW5jdGlvblwiOmJyZWFrO2RlZmF1bHQ6dGhyb3cgRXJyb3IoXCJVbmtub3duIHR5cGU6IFwiK3R5cGVvZiBlKX19ZnVuY3Rpb24gRGEodCxlKXtlLnB1c2goJ1wiJyx0LnJlcGxhY2UoRmEsZnVuY3Rpb24odCl7aWYodCBpbiBFYSlyZXR1cm4gRWFbdF07dmFyIGU9dC5jaGFyQ29kZUF0KDApLG49XCJcXFxcdVwiO3JldHVybiAxNj5lP24rPVwiMDAwXCI6MjU2PmU/bis9XCIwMFwiOjQwOTY+ZSYmKG4rPVwiMFwiKSxFYVt0XT1uK2UudG9TdHJpbmcoMTYpfSksJ1wiJyl9ZnVuY3Rpb24gR2EoKXtyZXR1cm4gTWF0aC5mbG9vcigyMTQ3NDgzNjQ4Kk1hdGgucmFuZG9tKCkpLnRvU3RyaW5nKDM2KStNYXRoLmFicyhNYXRoLmZsb29yKDIxNDc0ODM2NDgqTWF0aC5yYW5kb20oKSlebGEoKSkudG9TdHJpbmcoMzYpfWZ1bmN0aW9uIEthKCl7dGhpcy5XYT0tMX1mdW5jdGlvbiBMYSgpe3RoaXMuV2E9LTEsdGhpcy5XYT02NCx0aGlzLlI9W10sdGhpcy5sZT1bXSx0aGlzLlRmPVtdLHRoaXMuSWQ9W10sdGhpcy5JZFswXT0xMjg7Zm9yKHZhciB0PTE7dDx0aGlzLldhOysrdCl0aGlzLklkW3RdPTA7dGhpcy5iZT10aGlzLiRiPTAsdGhpcy5yZXNldCgpfWZ1bmN0aW9uIE1hKHQsZSxuKXtufHwobj0wKTt2YXIgaT10LlRmO2lmKHAoZSkpZm9yKHZhciByPTA7MTY+cjtyKyspaVtyXT1lLmNoYXJDb2RlQXQobik8PDI0fGUuY2hhckNvZGVBdChuKzEpPDwxNnxlLmNoYXJDb2RlQXQobisyKTw8OHxlLmNoYXJDb2RlQXQobiszKSxuKz00O2Vsc2UgZm9yKHI9MDsxNj5yO3IrKylpW3JdPWVbbl08PDI0fGVbbisxXTw8MTZ8ZVtuKzJdPDw4fGVbbiszXSxuKz00O2ZvcihyPTE2OzgwPnI7cisrKXt2YXIgbz1pW3ItM11eaVtyLThdXmlbci0xNF1eaVtyLTE2XTtpW3JdPTQyOTQ5NjcyOTUmKG88PDF8bz4+PjMxKX1lPXQuUlswXSxuPXQuUlsxXTtmb3IodmFyIGEscz10LlJbMl0sdT10LlJbM10saD10LlJbNF0scj0wOzgwPnI7cisrKTQwPnI/MjA+cj8obz11Xm4mKHNedSksYT0xNTE4NTAwMjQ5KToobz1uXnNedSxhPTE4NTk3NzUzOTMpOjYwPnI/KG89biZzfHUmKG58cyksYT0yNDAwOTU5NzA4KToobz1uXnNedSxhPTMzOTU0Njk3ODIpLG89KGU8PDV8ZT4+PjI3KStvK2grYStpW3JdJjQyOTQ5NjcyOTUsaD11LHU9cyxzPTQyOTQ5NjcyOTUmKG48PDMwfG4+Pj4yKSxuPWUsZT1vO3QuUlswXT10LlJbMF0rZSY0Mjk0OTY3Mjk1LHQuUlsxXT10LlJbMV0rbiY0Mjk0OTY3Mjk1LHQuUlsyXT10LlJbMl0rcyY0Mjk0OTY3Mjk1LHQuUlszXT10LlJbM10rdSY0Mjk0OTY3Mjk1LHQuUls0XT10LlJbNF0raCY0Mjk0OTY3Mjk1fWZ1bmN0aW9uIFRhKHQsZSl7dmFyIG49VWEodCxlLHZvaWQgMCk7cmV0dXJuIDA+bj9udWxsOnAodCk/dC5jaGFyQXQobik6dFtuXX1mdW5jdGlvbiBVYSh0LGUsbil7Zm9yKHZhciBpPXQubGVuZ3RoLHI9cCh0KT90LnNwbGl0KFwiXCIpOnQsbz0wO2k+bztvKyspaWYobyBpbiByJiZlLmNhbGwobixyW29dLG8sdCkpcmV0dXJuIG87cmV0dXJuLTF9ZnVuY3Rpb24gVmEoZSxuKXt2YXIgaT1OYShlLG4pO2k+PTAmJnQuc3BsaWNlLmNhbGwoZSxpLDEpfWZ1bmN0aW9uIFdhKGUsbixpKXtyZXR1cm4gMj49YXJndW1lbnRzLmxlbmd0aD90LnNsaWNlLmNhbGwoZSxuKTp0LnNsaWNlLmNhbGwoZSxuLGkpfWZ1bmN0aW9uIFhhKHQsZSl7dC5zb3J0KGV8fFlhKX1mdW5jdGlvbiBZYSh0LGUpe3JldHVybiB0PmU/MTplPnQ/LTE6MH1mdW5jdGlvbiBmYih0LGUpe2lmKCFmYSh0KSl0aHJvdyBFcnJvcihcImVuY29kZUJ5dGVBcnJheSB0YWtlcyBhbiBhcnJheSBhcyBhIHBhcmFtZXRlclwiKTtnYigpO2Zvcih2YXIgbj1lP2RiOmNiLGk9W10scj0wO3I8dC5sZW5ndGg7cis9Myl7dmFyIG89dFtyXSxhPXIrMTx0Lmxlbmd0aCxzPWE/dFtyKzFdOjAsdT1yKzI8dC5sZW5ndGgsaD11P3RbcisyXTowLGM9bz4+MixvPSgzJm8pPDw0fHM+PjQscz0oMTUmcyk8PDJ8aD4+NixoPTYzJmg7dXx8KGg9NjQsYXx8KHM9NjQpKSxpLnB1c2gobltjXSxuW29dLG5bc10sbltoXSl9cmV0dXJuIGkuam9pbihcIlwiKX1mdW5jdGlvbiBnYigpe2lmKCFjYil7Y2I9e30sZGI9e30sZWI9e307Zm9yKHZhciB0PTA7NjU+dDt0KyspY2JbdF09XCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvPVwiLmNoYXJBdCh0KSxkYlt0XT1cIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5LV8uXCIuY2hhckF0KHQpLGViW2RiW3RdXT10LHQ+PTYyJiYoZWJbXCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvPVwiLmNoYXJBdCh0KV09dCl9fWZ1bmN0aW9uIHUodCxlKXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsZSl9ZnVuY3Rpb24gdyh0LGUpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxlKT90W2VdOnZvaWQgMH1mdW5jdGlvbiBoYih0LGUpe2Zvcih2YXIgbiBpbiB0KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LG4pJiZlKG4sdFtuXSl9ZnVuY3Rpb24gaWIodCl7dmFyIGU9e307cmV0dXJuIGhiKHQsZnVuY3Rpb24odCxuKXtlW3RdPW59KSxlfWZ1bmN0aW9uIGpiKHQpe3ZhciBlPVtdO3JldHVybiBoYih0LGZ1bmN0aW9uKHQsbil7ZWEobik/T2EobixmdW5jdGlvbihuKXtlLnB1c2goZW5jb2RlVVJJQ29tcG9uZW50KHQpK1wiPVwiK2VuY29kZVVSSUNvbXBvbmVudChuKSl9KTplLnB1c2goZW5jb2RlVVJJQ29tcG9uZW50KHQpK1wiPVwiK2VuY29kZVVSSUNvbXBvbmVudChuKSl9KSxlLmxlbmd0aD9cIiZcIitlLmpvaW4oXCImXCIpOlwiXCJ9ZnVuY3Rpb24ga2IodCl7dmFyIGU9e307cmV0dXJuIHQ9dC5yZXBsYWNlKC9eXFw/LyxcIlwiKS5zcGxpdChcIiZcIiksT2EodCxmdW5jdGlvbih0KXt0JiYodD10LnNwbGl0KFwiPVwiKSxlW3RbMF1dPXRbMV0pfSksZX1mdW5jdGlvbiB4KHQsZSxuLGkpe3ZhciByO2lmKGU+aT9yPVwiYXQgbGVhc3QgXCIrZTppPm4mJihyPTA9PT1uP1wibm9uZVwiOlwibm8gbW9yZSB0aGFuIFwiK24pLHIpdGhyb3cgRXJyb3IodCtcIiBmYWlsZWQ6IFdhcyBjYWxsZWQgd2l0aCBcIitpKygxPT09aT9cIiBhcmd1bWVudC5cIjpcIiBhcmd1bWVudHMuXCIpK1wiIEV4cGVjdHMgXCIrcitcIi5cIil9ZnVuY3Rpb24geih0LGUsbil7dmFyIGk9XCJcIjtzd2l0Y2goZSl7Y2FzZSAxOmk9bj9cImZpcnN0XCI6XCJGaXJzdFwiO2JyZWFrO2Nhc2UgMjppPW4/XCJzZWNvbmRcIjpcIlNlY29uZFwiO2JyZWFrO2Nhc2UgMzppPW4/XCJ0aGlyZFwiOlwiVGhpcmRcIjticmVhaztjYXNlIDQ6aT1uP1wiZm91cnRoXCI6XCJGb3VydGhcIjticmVhaztkZWZhdWx0OnRocm93IEVycm9yKFwiZXJyb3JQcmVmaXggY2FsbGVkIHdpdGggYXJndW1lbnROdW1iZXIgPiA0LiAgTmVlZCB0byB1cGRhdGUgaXQ/XCIpfXJldHVybiB0PXQrXCIgZmFpbGVkOiBcIisoaStcIiBhcmd1bWVudCBcIil9ZnVuY3Rpb24gQSh0LGUsaSxyKXtpZigoIXJ8fG4oaSkpJiYhaGEoaSkpdGhyb3cgRXJyb3Ioeih0LGUscikrXCJtdXN0IGJlIGEgdmFsaWQgZnVuY3Rpb24uXCIpfWZ1bmN0aW9uIGxiKHQsZSxpKXtpZihuKGkpJiYoIWlhKGkpfHxudWxsPT09aSkpdGhyb3cgRXJyb3Ioeih0LGUsITApK1wibXVzdCBiZSBhIHZhbGlkIGNvbnRleHQgb2JqZWN0LlwiKX1mdW5jdGlvbiBtYih0KXtyZXR1cm5cInVuZGVmaW5lZFwiIT10eXBlb2YgSlNPTiYmbihKU09OLnBhcnNlKT9KU09OLnBhcnNlKHQpOkFhKHQpfWZ1bmN0aW9uIEIodCl7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIEpTT04mJm4oSlNPTi5zdHJpbmdpZnkpKXQ9SlNPTi5zdHJpbmdpZnkodCk7ZWxzZXt2YXIgZT1bXTtDYShuZXcgQmEsdCxlKSx0PWUuam9pbihcIlwiKX1yZXR1cm4gdH1mdW5jdGlvbiBuYigpe3RoaXMuU2Q9Q31mdW5jdGlvbiBvYigpe31mdW5jdGlvbiBxYih0LGUsbil7dGhpcy5RZj10LHRoaXMuS2E9ZSx0aGlzLkhkPW59ZnVuY3Rpb24gdWIoKXt0aGlzLnRiPVtdfWZ1bmN0aW9uIHZiKHQsZSl7Zm9yKHZhciBuPW51bGwsaT0wO2k8ZS5sZW5ndGg7aSsrKXt2YXIgcj1lW2ldLG89ci5ZYigpO251bGw9PT1ufHxvLloobi5ZYigpKXx8KHQudGIucHVzaChuKSxuPW51bGwpLG51bGw9PT1uJiYobj1uZXcgd2IobykpLG4uYWRkKHIpfW4mJnQudGIucHVzaChuKX1mdW5jdGlvbiB4Yih0LGUsbil7dmIodCxuKSx5Yih0LGZ1bmN0aW9uKHQpe3JldHVybiB0LlooZSl9KX1mdW5jdGlvbiB6Yih0LGUsbil7dmIodCxuKSx5Yih0LGZ1bmN0aW9uKHQpe3JldHVybiB0LmNvbnRhaW5zKGUpfHxlLmNvbnRhaW5zKHQpfSl9ZnVuY3Rpb24geWIodCxlKXtmb3IodmFyIG49ITAsaT0wO2k8dC50Yi5sZW5ndGg7aSsrKXt2YXIgcj10LnRiW2ldO2lmKHIpaWYocj1yLlliKCksZShyKSl7Zm9yKHZhciByPXQudGJbaV0sbz0wO288ci5zZC5sZW5ndGg7bysrKXt2YXIgYT1yLnNkW29dO2lmKG51bGwhPT1hKXtyLnNkW29dPW51bGw7dmFyIHM9YS5VYigpO0FiJiZCYihcImV2ZW50OiBcIithLnRvU3RyaW5nKCkpLENiKHMpfX10LnRiW2ldPW51bGx9ZWxzZSBuPSExfW4mJih0LnRiPVtdKX1mdW5jdGlvbiB3Yih0KXt0aGlzLnFhPXQsdGhpcy5zZD1bXX1mdW5jdGlvbiBEKHQsZSxuLGkpe3RoaXMudHlwZT10LHRoaXMuSmE9ZSx0aGlzLllhPW4sdGhpcy5KZT1pLHRoaXMuTmQ9dm9pZCAwfWZ1bmN0aW9uIERiKHQpe3JldHVybiBuZXcgRChFYix0KX1mdW5jdGlvbiBGYih0LGUsbixpKXt0aGlzLnRlPWUsdGhpcy5XZD1uLHRoaXMuTmQ9aSx0aGlzLnJkPXR9ZnVuY3Rpb24gR2IodCxlLG4pe3RoaXMudGU9dCx0aGlzLmVycm9yPWUsdGhpcy5wYXRoPW59ZnVuY3Rpb24gc2IodCxlLG4pe3RoaXMuQj10LHRoaXMuJD1lLHRoaXMuVGI9bn1mdW5jdGlvbiBIYih0KXtyZXR1cm4gdC4kfWZ1bmN0aW9uIHJiKHQsZSl7cmV0dXJuIHQuJCYmIXQuVGJ8fHQuQi5IYShlKX1mdW5jdGlvbiBJYih0KXt0aGlzLmRnPXQsdGhpcy5BZD1udWxsfWZ1bmN0aW9uIEpiKHQsZSl7dGhpcy5NZj17fSx0aGlzLllkPW5ldyBJYih0KSx0aGlzLmNhPWU7dmFyIG49MWU0KzJlNCpNYXRoLnJhbmRvbSgpO3NldFRpbWVvdXQocSh0aGlzLkhmLHRoaXMpLE1hdGguZmxvb3IobikpfWZ1bmN0aW9uIEtiKCl7dGhpcy5EYz17fX1mdW5jdGlvbiBMYih0LGUsaSl7bihpKXx8KGk9MSksdSh0LkRjLGUpfHwodC5EY1tlXT0wKSx0LkRjW2VdKz1pfWZ1bmN0aW9uIE9iKHQpe3JldHVybiB0PXQudG9TdHJpbmcoKSxNYlt0XXx8KE1iW3RdPW5ldyBLYiksTWJbdF19ZnVuY3Rpb24gUGIodCxlKXt2YXIgbj10LnRvU3RyaW5nKCk7cmV0dXJuIE5iW25dfHwoTmJbbl09ZSgpKSxOYltuXX1mdW5jdGlvbiBFKHQsZSl7dGhpcy5uYW1lPXQsdGhpcy5TPWV9ZnVuY3Rpb24gUWIodCxlKXtyZXR1cm4gbmV3IEUodCxlKX1mdW5jdGlvbiBSYih0LGUpe3JldHVybiBTYih0Lm5hbWUsZS5uYW1lKX1mdW5jdGlvbiBUYih0LGUpe3JldHVybiBTYih0LGUpfWZ1bmN0aW9uIFViKHQsZSxuKXt0aGlzLnR5cGU9VmIsdGhpcy5zb3VyY2U9dCx0aGlzLnBhdGg9ZSx0aGlzLklhPW59ZnVuY3Rpb24gV2IodCxlKXt0aGlzLnR5cGU9WGIsdGhpcy5zb3VyY2U9WWIsdGhpcy5wYXRoPXQsdGhpcy5WZT1lfWZ1bmN0aW9uIFpiKHQsZSl7dGhpcy50eXBlPSRiLHRoaXMuc291cmNlPXQsdGhpcy5wYXRoPWV9ZnVuY3Rpb24gYWModCxlKXt0aGlzLkxhPXQsdGhpcy54YT1lP2U6YmN9ZnVuY3Rpb24gY2ModCxlKXtmb3IodmFyIG4saT10LnhhLHI9bnVsbDshaS5lKCk7KXtpZihuPXQuTGEoZSxpLmtleSksMD09PW4pe2lmKGkubGVmdC5lKCkpcmV0dXJuIHI/ci5rZXk6bnVsbDtmb3IoaT1pLmxlZnQ7IWkucmlnaHQuZSgpOylpPWkucmlnaHQ7cmV0dXJuIGkua2V5fTA+bj9pPWkubGVmdDpuPjAmJihyPWksaT1pLnJpZ2h0KX10aHJvdyBFcnJvcihcIkF0dGVtcHRlZCB0byBmaW5kIHByZWRlY2Vzc29yIGtleSBmb3IgYSBub25leGlzdGVudCBrZXkuICBXaGF0IGdpdmVzP1wiKX1mdW5jdGlvbiBkYyh0LGUsbixpLHIpe2Zvcih0aGlzLlJkPXJ8fG51bGwsdGhpcy5FZT1pLHRoaXMuUGE9W10scj0xOyF0LmUoKTspaWYocj1lP24odC5rZXksZSk6MSxpJiYocio9LTEpLDA+cil0PXRoaXMuRWU/dC5sZWZ0OnQucmlnaHQ7ZWxzZXtpZigwPT09cil7dGhpcy5QYS5wdXNoKHQpO2JyZWFrfXRoaXMuUGEucHVzaCh0KSx0PXRoaXMuRWU/dC5yaWdodDp0LmxlZnR9fWZ1bmN0aW9uIEgodCl7aWYoMD09PXQuUGEubGVuZ3RoKXJldHVybiBudWxsO3ZhciBlLG49dC5QYS5wb3AoKTtpZihlPXQuUmQ/dC5SZChuLmtleSxuLnZhbHVlKTp7a2V5Om4ua2V5LHZhbHVlOm4udmFsdWV9LHQuRWUpZm9yKG49bi5sZWZ0OyFuLmUoKTspdC5QYS5wdXNoKG4pLG49bi5yaWdodDtlbHNlIGZvcihuPW4ucmlnaHQ7IW4uZSgpOyl0LlBhLnB1c2gobiksbj1uLmxlZnQ7cmV0dXJuIGV9ZnVuY3Rpb24gZWModCl7aWYoMD09PXQuUGEubGVuZ3RoKXJldHVybiBudWxsO3ZhciBlO3JldHVybiBlPXQuUGEsZT1lW2UubGVuZ3RoLTFdLHQuUmQ/dC5SZChlLmtleSxlLnZhbHVlKTp7a2V5OmUua2V5LHZhbHVlOmUudmFsdWV9fWZ1bmN0aW9uIGZjKHQsZSxuLGkscil7dGhpcy5rZXk9dCx0aGlzLnZhbHVlPWUsdGhpcy5jb2xvcj1udWxsIT1uP246ITAsdGhpcy5sZWZ0PW51bGwhPWk/aTpiYyx0aGlzLnJpZ2h0PW51bGwhPXI/cjpiY31mdW5jdGlvbiBnYyh0KXtyZXR1cm4gdC5sZWZ0LmUoKT90OmdjKHQubGVmdCl9ZnVuY3Rpb24gaWModCl7cmV0dXJuIHQubGVmdC5lKCk/YmM6KHQubGVmdC5mYSgpfHx0LmxlZnQubGVmdC5mYSgpfHwodD1qYyh0KSksdD10LlgobnVsbCxudWxsLG51bGwsaWModC5sZWZ0KSxudWxsKSxoYyh0KSl9ZnVuY3Rpb24gaGModCl7cmV0dXJuIHQucmlnaHQuZmEoKSYmIXQubGVmdC5mYSgpJiYodD1tYyh0KSksdC5sZWZ0LmZhKCkmJnQubGVmdC5sZWZ0LmZhKCkmJih0PWtjKHQpKSx0LmxlZnQuZmEoKSYmdC5yaWdodC5mYSgpJiYodD1sYyh0KSksdH1mdW5jdGlvbiBqYyh0KXtyZXR1cm4gdD1sYyh0KSx0LnJpZ2h0LmxlZnQuZmEoKSYmKHQ9dC5YKG51bGwsbnVsbCxudWxsLG51bGwsa2ModC5yaWdodCkpLHQ9bWModCksdD1sYyh0KSksdH1mdW5jdGlvbiBtYyh0KXtyZXR1cm4gdC5yaWdodC5YKG51bGwsbnVsbCx0LmNvbG9yLHQuWChudWxsLG51bGwsITAsbnVsbCx0LnJpZ2h0LmxlZnQpLG51bGwpfWZ1bmN0aW9uIGtjKHQpe3JldHVybiB0LmxlZnQuWChudWxsLG51bGwsdC5jb2xvcixudWxsLHQuWChudWxsLG51bGwsITAsdC5sZWZ0LnJpZ2h0LG51bGwpKX1mdW5jdGlvbiBsYyh0KXtyZXR1cm4gdC5YKG51bGwsbnVsbCwhdC5jb2xvcix0LmxlZnQuWChudWxsLG51bGwsIXQubGVmdC5jb2xvcixudWxsLG51bGwpLHQucmlnaHQuWChudWxsLG51bGwsIXQucmlnaHQuY29sb3IsbnVsbCxudWxsKSl9ZnVuY3Rpb24gbmMoKXt9ZnVuY3Rpb24gb2ModCxlKXtyZXR1cm4gdCYmXCJvYmplY3RcIj09dHlwZW9mIHQ/KEooXCIuc3ZcImluIHQsXCJVbmV4cGVjdGVkIGxlYWYgbm9kZSBvciBwcmlvcml0eSBjb250ZW50c1wiKSxlW3RbXCIuc3ZcIl1dKTp0fWZ1bmN0aW9uIHBjKHQsZSl7dmFyIG49bmV3IHFjO3JldHVybiByYyh0LG5ldyBLKFwiXCIpLGZ1bmN0aW9uKHQsaSl7bi5tYyh0LHNjKGksZSkpfSksbn1mdW5jdGlvbiBzYyh0LGUpe3ZhciBuLGk9dC5BKCkuSygpLGk9b2MoaSxlKTtpZih0Lk4oKSl7dmFyIHI9b2ModC5CYSgpLGUpO3JldHVybiByIT09dC5CYSgpfHxpIT09dC5BKCkuSygpP25ldyB0YyhyLEwoaSkpOnR9cmV0dXJuIG49dCxpIT09dC5BKCkuSygpJiYobj1uLmRhKG5ldyB0YyhpKSkpLHQuVShNLGZ1bmN0aW9uKHQsaSl7dmFyIHI9c2MoaSxlKTtyIT09aSYmKG49bi5RKHQscikpfSksbn1mdW5jdGlvbiBLKHQsZSl7aWYoMT09YXJndW1lbnRzLmxlbmd0aCl7dGhpcy5vPXQuc3BsaXQoXCIvXCIpO2Zvcih2YXIgbj0wLGk9MDtpPHRoaXMuby5sZW5ndGg7aSsrKTA8dGhpcy5vW2ldLmxlbmd0aCYmKHRoaXMub1tuXT10aGlzLm9baV0sbisrKTt0aGlzLm8ubGVuZ3RoPW4sdGhpcy5ZPTB9ZWxzZSB0aGlzLm89dCx0aGlzLlk9ZX1mdW5jdGlvbiBOKHQsZSl7dmFyIG49Tyh0KTtpZihudWxsPT09bilyZXR1cm4gZTtpZihuPT09TyhlKSlyZXR1cm4gTihHKHQpLEcoZSkpO3Rocm93IEVycm9yKFwiSU5URVJOQUwgRVJST1I6IGlubmVyUGF0aCAoXCIrZStcIikgaXMgbm90IHdpdGhpbiBvdXRlclBhdGggKFwiK3QrXCIpXCIpfWZ1bmN0aW9uIE8odCl7cmV0dXJuIHQuWT49dC5vLmxlbmd0aD9udWxsOnQub1t0LlldfWZ1bmN0aW9uIHVjKHQpe3JldHVybiB0Lm8ubGVuZ3RoLXQuWX1mdW5jdGlvbiBHKHQpe3ZhciBlPXQuWTtyZXR1cm4gZTx0Lm8ubGVuZ3RoJiZlKyssbmV3IEsodC5vLGUpfWZ1bmN0aW9uIHZjKHQpe3JldHVybiB0Llk8dC5vLmxlbmd0aD90Lm9bdC5vLmxlbmd0aC0xXTpudWxsfWZ1bmN0aW9uIHdjKHQsZSl7dGhpcy5RYT10LnNsaWNlKCksdGhpcy5FYT1NYXRoLm1heCgxLHRoaXMuUWEubGVuZ3RoKSx0aGlzLmtmPWU7Zm9yKHZhciBuPTA7bjx0aGlzLlFhLmxlbmd0aDtuKyspdGhpcy5FYSs9eGModGhpcy5RYVtuXSk7eWModGhpcyl9ZnVuY3Rpb24geWModCl7aWYoNzY4PHQuRWEpdGhyb3cgRXJyb3IodC5rZitcImhhcyBhIGtleSBwYXRoIGxvbmdlciB0aGFuIDc2OCBieXRlcyAoXCIrdC5FYStcIikuXCIpO2lmKDMyPHQuUWEubGVuZ3RoKXRocm93IEVycm9yKHQua2YrXCJwYXRoIHNwZWNpZmllZCBleGNlZWRzIHRoZSBtYXhpbXVtIGRlcHRoIHRoYXQgY2FuIGJlIHdyaXR0ZW4gKDMyKSBvciBvYmplY3QgY29udGFpbnMgYSBjeWNsZSBcIit6Yyh0KSl9ZnVuY3Rpb24gemModCl7cmV0dXJuIDA9PXQuUWEubGVuZ3RoP1wiXCI6XCJpbiBwcm9wZXJ0eSAnXCIrdC5RYS5qb2luKFwiLlwiKStcIidcIn1mdW5jdGlvbiBBYygpe3RoaXMud2M9e319ZnVuY3Rpb24gQmModCl7dGhpcy5FYz10LHRoaXMuTWQ9XCJmaXJlYmFzZTpcIn1mdW5jdGlvbiBDYyh0KXt0cnl7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvd1t0XSl7dmFyIGU9d2luZG93W3RdO3JldHVybiBlLnNldEl0ZW0oXCJmaXJlYmFzZTpzZW50aW5lbFwiLFwiY2FjaGVcIiksZS5yZW1vdmVJdGVtKFwiZmlyZWJhc2U6c2VudGluZWxcIiksbmV3IEJjKGUpfX1jYXRjaChuKXt9cmV0dXJuIG5ldyBBY31mdW5jdGlvbiBFYyh0LGUsbixpLHIpe3RoaXMuaG9zdD10LnRvTG93ZXJDYXNlKCksdGhpcy5kb21haW49dGhpcy5ob3N0LnN1YnN0cih0aGlzLmhvc3QuaW5kZXhPZihcIi5cIikrMSksdGhpcy5sYj1lLHRoaXMuQ2I9bix0aGlzLlRnPWksdGhpcy5MZD1yfHxcIlwiLHRoaXMuT2E9RGMuZ2V0KFwiaG9zdDpcIit0KXx8dGhpcy5ob3N0fWZ1bmN0aW9uIEZjKHQsZSl7ZSE9PXQuT2EmJih0Lk9hPWUsXCJzLVwiPT09dC5PYS5zdWJzdHIoMCwyKSYmRGMuc2V0KFwiaG9zdDpcIit0Lmhvc3QsdC5PYSkpfWZ1bmN0aW9uIEoodCxlKXtpZighdCl0aHJvdyBIYyhlKX1mdW5jdGlvbiBIYyh0KXtyZXR1cm4gRXJyb3IoXCJGaXJlYmFzZSAoMi4yLjQpIElOVEVSTkFMIEFTU0VSVCBGQUlMRUQ6IFwiK3QpfWZ1bmN0aW9uIEljKHQpe3RyeXt2YXIgZTtpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgYXRvYillPWF0b2IodCk7ZWxzZXtnYigpO2Zvcih2YXIgbj1lYixpPVtdLHI9MDtyPHQubGVuZ3RoOyl7dmFyIG89blt0LmNoYXJBdChyKyspXSxhPXI8dC5sZW5ndGg/blt0LmNoYXJBdChyKV06MDsrK3I7dmFyIHM9cjx0Lmxlbmd0aD9uW3QuY2hhckF0KHIpXTo2NDsrK3I7dmFyIHU9cjx0Lmxlbmd0aD9uW3QuY2hhckF0KHIpXTo2NDtpZigrK3IsbnVsbD09b3x8bnVsbD09YXx8bnVsbD09c3x8bnVsbD09dSl0aHJvdyBFcnJvcigpO2kucHVzaChvPDwyfGE+PjQpLDY0IT1zJiYoaS5wdXNoKGE8PDQmMjQwfHM+PjIpLDY0IT11JiZpLnB1c2goczw8NiYxOTJ8dSkpfWlmKDgxOTI+aS5sZW5ndGgpZT1TdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsaSk7ZWxzZXtmb3IodD1cIlwiLG49MDtuPGkubGVuZ3RoO24rPTgxOTIpdCs9U3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLFdhKGksbixuKzgxOTIpKTtlPXR9fXJldHVybiBlfWNhdGNoKGgpe0JiKFwiYmFzZTY0RGVjb2RlIGZhaWxlZDogXCIsaCl9cmV0dXJuIG51bGx9ZnVuY3Rpb24gSmModCl7dmFyIGU9S2ModCk7dD1uZXcgTGEsdC51cGRhdGUoZSk7dmFyIGU9W10sbj04KnQuYmU7NTY+dC4kYj90LnVwZGF0ZSh0LklkLDU2LXQuJGIpOnQudXBkYXRlKHQuSWQsdC5XYS0odC4kYi01NikpO2Zvcih2YXIgaT10LldhLTE7aT49NTY7aS0tKXQubGVbaV09MjU1Jm4sbi89MjU2O2ZvcihNYSh0LHQubGUpLGk9bj0wOzU+aTtpKyspZm9yKHZhciByPTI0O3I+PTA7ci09OCllW25dPXQuUltpXT4+ciYyNTUsKytuO3JldHVybiBmYihlKX1mdW5jdGlvbiBMYygpe2Zvcih2YXIgdD1cIlwiLGU9MDtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXQ9ZmEoYXJndW1lbnRzW2VdKT90K0xjLmFwcGx5KG51bGwsYXJndW1lbnRzW2VdKTpcIm9iamVjdFwiPT10eXBlb2YgYXJndW1lbnRzW2VdP3QrQihhcmd1bWVudHNbZV0pOnQrYXJndW1lbnRzW2VdLHQrPVwiIFwiO3JldHVybiB0fWZ1bmN0aW9uIEJiKCl7aWYoITA9PT1NYyYmKE1jPSExLG51bGw9PT1BYiYmITA9PT1QLmdldChcImxvZ2dpbmdfZW5hYmxlZFwiKSYmTmMoITApKSxBYil7dmFyIHQ9TGMuYXBwbHkobnVsbCxhcmd1bWVudHMpO0FiKHQpfX1mdW5jdGlvbiBPYyh0KXtyZXR1cm4gZnVuY3Rpb24oKXtCYih0LGFyZ3VtZW50cyl9fWZ1bmN0aW9uIFBjKCl7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGNvbnNvbGUpe3ZhciB0PVwiRklSRUJBU0UgSU5URVJOQUwgRVJST1I6IFwiK0xjLmFwcGx5KG51bGwsYXJndW1lbnRzKTtcInVuZGVmaW5lZFwiIT10eXBlb2YgY29uc29sZS5lcnJvcj9jb25zb2xlLmVycm9yKHQpOmNvbnNvbGUubG9nKHQpfX1mdW5jdGlvbiBRYygpe3ZhciB0PUxjLmFwcGx5KG51bGwsYXJndW1lbnRzKTt0aHJvdyBFcnJvcihcIkZJUkVCQVNFIEZBVEFMIEVSUk9SOiBcIit0KX1mdW5jdGlvbiBRKCl7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGNvbnNvbGUpe3ZhciB0PVwiRklSRUJBU0UgV0FSTklORzogXCIrTGMuYXBwbHkobnVsbCxhcmd1bWVudHMpO1widW5kZWZpbmVkXCIhPXR5cGVvZiBjb25zb2xlLndhcm4/Y29uc29sZS53YXJuKHQpOmNvbnNvbGUubG9nKHQpfX1mdW5jdGlvbiBSYyh0KXt2YXIgZT1cIlwiLG49XCJcIixpPVwiXCIscj1cIlwiLG89ITAsYT1cImh0dHBzXCIscz00NDM7aWYocCh0KSl7dmFyIHU9dC5pbmRleE9mKFwiLy9cIik7Zm9yKHU+PTAmJihhPXQuc3Vic3RyaW5nKDAsdS0xKSx0PXQuc3Vic3RyaW5nKHUrMikpLHU9dC5pbmRleE9mKFwiL1wiKSwtMT09PXUmJih1PXQubGVuZ3RoKSxlPXQuc3Vic3RyaW5nKDAsdSkscj1cIlwiLHQ9dC5zdWJzdHJpbmcodSkuc3BsaXQoXCIvXCIpLHU9MDt1PHQubGVuZ3RoO3UrKylpZigwPHRbdV0ubGVuZ3RoKXt2YXIgaD10W3VdO3RyeXtoPWRlY29kZVVSSUNvbXBvbmVudChoLnJlcGxhY2UoL1xcKy9nLFwiIFwiKSl9Y2F0Y2goYyl7fXIrPVwiL1wiK2h9dD1lLnNwbGl0KFwiLlwiKSwzPT09dC5sZW5ndGg/KG49dFsxXSxpPXRbMF0udG9Mb3dlckNhc2UoKSk6Mj09PXQubGVuZ3RoJiYobj10WzBdKSx1PWUuaW5kZXhPZihcIjpcIiksdT49MCYmKG89XCJodHRwc1wiPT09YXx8XCJ3c3NcIj09PWEscz1lLnN1YnN0cmluZyh1KzEpLGlzRmluaXRlKHMpJiYocz1TdHJpbmcocykpLHM9cChzKT8vXlxccyotPzB4L2kudGVzdChzKT9wYXJzZUludChzLDE2KTpwYXJzZUludChzLDEwKTowLzApfXJldHVybntob3N0OmUscG9ydDpzLGRvbWFpbjpuLFFnOmksbGI6byxzY2hlbWU6YSxaYzpyfX1mdW5jdGlvbiBTYyh0KXtyZXR1cm4gZ2EodCkmJih0IT10fHx0PT1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFl8fHQ9PU51bWJlci5ORUdBVElWRV9JTkZJTklUWSl9ZnVuY3Rpb24gVGModCl7aWYoXCJjb21wbGV0ZVwiPT09ZG9jdW1lbnQucmVhZHlTdGF0ZSl0KCk7ZWxzZXt2YXIgZT0hMSxuPWZ1bmN0aW9uKCl7ZG9jdW1lbnQuYm9keT9lfHwoZT0hMCx0KCkpOnNldFRpbWVvdXQobixNYXRoLmZsb29yKDEwKSl9O2RvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXI/KGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsbiwhMSksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsbiwhMSkpOmRvY3VtZW50LmF0dGFjaEV2ZW50JiYoZG9jdW1lbnQuYXR0YWNoRXZlbnQoXCJvbnJlYWR5c3RhdGVjaGFuZ2VcIixmdW5jdGlvbigpe1wiY29tcGxldGVcIj09PWRvY3VtZW50LnJlYWR5U3RhdGUmJm4oKX0pLHdpbmRvdy5hdHRhY2hFdmVudChcIm9ubG9hZFwiLG4pKX19ZnVuY3Rpb24gU2IodCxlKXtpZih0PT09ZSlyZXR1cm4gMDtpZihcIltNSU5fTkFNRV1cIj09PXR8fFwiW01BWF9OQU1FXVwiPT09ZSlyZXR1cm4tMTtpZihcIltNSU5fTkFNRV1cIj09PWV8fFwiW01BWF9OQU1FXVwiPT09dClyZXR1cm4gMTt2YXIgbj1VYyh0KSxpPVVjKGUpO3JldHVybiBudWxsIT09bj9udWxsIT09aT8wPT1uLWk/dC5sZW5ndGgtZS5sZW5ndGg6bi1pOi0xOm51bGwhPT1pPzE6ZT50Py0xOjF9ZnVuY3Rpb24gVmModCxlKXtpZihlJiZ0IGluIGUpcmV0dXJuIGVbdF07dGhyb3cgRXJyb3IoXCJNaXNzaW5nIHJlcXVpcmVkIGtleSAoXCIrdCtcIikgaW4gb2JqZWN0OiBcIitCKGUpKX1mdW5jdGlvbiBXYyh0KXtpZihcIm9iamVjdFwiIT10eXBlb2YgdHx8bnVsbD09PXQpcmV0dXJuIEIodCk7dmFyIGUsbj1bXTtmb3IoZSBpbiB0KW4ucHVzaChlKTtuLnNvcnQoKSxlPVwie1wiO2Zvcih2YXIgaT0wO2k8bi5sZW5ndGg7aSsrKTAhPT1pJiYoZSs9XCIsXCIpLGUrPUIobltpXSksZSs9XCI6XCIsZSs9V2ModFtuW2ldXSk7cmV0dXJuIGUrXCJ9XCJ9ZnVuY3Rpb24gWGModCxlKXtpZih0Lmxlbmd0aDw9ZSlyZXR1cm5bdF07Zm9yKHZhciBuPVtdLGk9MDtpPHQubGVuZ3RoO2krPWUpbi5wdXNoKGkrZT50P3Quc3Vic3RyaW5nKGksdC5sZW5ndGgpOnQuc3Vic3RyaW5nKGksaStlKSk7cmV0dXJuIG59ZnVuY3Rpb24gWWModCxlKXtpZihlYSh0KSlmb3IodmFyIG49MDtuPHQubGVuZ3RoOysrbillKG4sdFtuXSk7ZWxzZSByKHQsZSl9ZnVuY3Rpb24gWmModCl7SighU2ModCksXCJJbnZhbGlkIEpTT04gbnVtYmVyXCIpO3ZhciBlLG4saSxyO2ZvcigwPT09dD8oaT1uPTAsZT0tKDEvMCk9PT0xL3Q/MTowKTooZT0wPnQsdD1NYXRoLmFicyh0KSx0Pj1NYXRoLnBvdygyLC0xMDIyKT8oaT1NYXRoLm1pbihNYXRoLmZsb29yKE1hdGgubG9nKHQpL01hdGguTE4yKSwxMDIzKSxuPWkrMTAyMyxpPU1hdGgucm91bmQodCpNYXRoLnBvdygyLDUyLWkpLU1hdGgucG93KDIsNTIpKSk6KG49MCxpPU1hdGgucm91bmQodC9NYXRoLnBvdygyLC0xMDc0KSkpKSxyPVtdLHQ9NTI7dDstLXQpci5wdXNoKGklMj8xOjApLGk9TWF0aC5mbG9vcihpLzIpO2Zvcih0PTExO3Q7LS10KXIucHVzaChuJTI/MTowKSxuPU1hdGguZmxvb3Iobi8yKTtmb3Ioci5wdXNoKGU/MTowKSxyLnJldmVyc2UoKSxlPXIuam9pbihcIlwiKSxuPVwiXCIsdD0wOzY0PnQ7dCs9OClpPXBhcnNlSW50KGUuc3Vic3RyKHQsOCksMikudG9TdHJpbmcoMTYpLDE9PT1pLmxlbmd0aCYmKGk9XCIwXCIraSksbis9aTtyZXR1cm4gbi50b0xvd2VyQ2FzZSgpfWZ1bmN0aW9uIFVjKHQpe3JldHVybiAkYy50ZXN0KHQpJiYodD1OdW1iZXIodCksdD49LTIxNDc0ODM2NDgmJjIxNDc0ODM2NDc+PXQpP3Q6bnVsbH1mdW5jdGlvbiBDYih0KXt0cnl7dCgpfWNhdGNoKGUpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXt0aHJvdyBRKFwiRXhjZXB0aW9uIHdhcyB0aHJvd24gYnkgdXNlciBjYWxsYmFjay5cIixlLnN0YWNrfHxcIlwiKSxlfSxNYXRoLmZsb29yKDApKX19ZnVuY3Rpb24gUih0KXtpZihoYSh0KSl7dmFyIGU9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpLnNsaWNlKCk7Q2IoZnVuY3Rpb24oKXt0LmFwcGx5KG51bGwsZSl9KX19ZnVuY3Rpb24gS2ModCl7Zm9yKHZhciBlPVtdLG49MCxpPTA7aTx0Lmxlbmd0aDtpKyspe3ZhciByPXQuY2hhckNvZGVBdChpKTtyPj01NTI5NiYmNTYzMTk+PXImJihyLT01NTI5NixpKyssSihpPHQubGVuZ3RoLFwiU3Vycm9nYXRlIHBhaXIgbWlzc2luZyB0cmFpbCBzdXJyb2dhdGUuXCIpLHI9NjU1MzYrKHI8PDEwKSsodC5jaGFyQ29kZUF0KGkpLTU2MzIwKSksMTI4PnI/ZVtuKytdPXI6KDIwNDg+cj9lW24rK109cj4+NnwxOTI6KDY1NTM2PnI/ZVtuKytdPXI+PjEyfDIyNDooZVtuKytdPXI+PjE4fDI0MCxlW24rK109cj4+MTImNjN8MTI4KSxlW24rK109cj4+NiY2M3wxMjgpLGVbbisrXT02MyZyfDEyOCl9cmV0dXJuIGV9ZnVuY3Rpb24geGModCl7Zm9yKHZhciBlPTAsbj0wO248dC5sZW5ndGg7bisrKXt2YXIgaT10LmNoYXJDb2RlQXQobik7MTI4Pmk/ZSsrOjIwNDg+aT9lKz0yOmk+PTU1Mjk2JiY1NjMxOT49aT8oZSs9NCxuKyspOmUrPTN9cmV0dXJuIGV9ZnVuY3Rpb24gYWQodCl7dmFyIGU9e30sbj17fSxpPXt9LHI9XCJcIjt0cnl7dmFyIG89dC5zcGxpdChcIi5cIiksZT1tYihJYyhvWzBdKXx8XCJcIiksbj1tYihJYyhvWzFdKXx8XCJcIikscj1vWzJdLGk9bi5kfHx7fTtkZWxldGUgbi5kfWNhdGNoKGEpe31yZXR1cm57V2c6ZSxBYzpuLGRhdGE6aSxOZzpyfX1mdW5jdGlvbiBiZCh0KXtyZXR1cm4gdD1hZCh0KS5BYyxcIm9iamVjdFwiPT10eXBlb2YgdCYmdC5oYXNPd25Qcm9wZXJ0eShcImlhdFwiKT93KHQsXCJpYXRcIik6bnVsbH1mdW5jdGlvbiBjZCh0KXt0PWFkKHQpO3ZhciBlPXQuQWM7cmV0dXJuISF0Lk5nJiYhIWUmJlwib2JqZWN0XCI9PXR5cGVvZiBlJiZlLmhhc093blByb3BlcnR5KFwiaWF0XCIpfWZ1bmN0aW9uIGRkKHQpe3RoaXMuVj10LHRoaXMuZz10Lm4uZ31mdW5jdGlvbiBlZCh0LGUsbixpKXt2YXIgcj1bXSxvPVtdO3JldHVybiBPYShlLGZ1bmN0aW9uKGUpe1wiY2hpbGRfY2hhbmdlZFwiPT09ZS50eXBlJiZ0LmcueGQoZS5KZSxlLkphKSYmby5wdXNoKG5ldyBEKFwiY2hpbGRfbW92ZWRcIixlLkphLGUuWWEpKX0pLGZkKHQscixcImNoaWxkX3JlbW92ZWRcIixlLGksbiksZmQodCxyLFwiY2hpbGRfYWRkZWRcIixlLGksbiksZmQodCxyLFwiY2hpbGRfbW92ZWRcIixvLGksbiksZmQodCxyLFwiY2hpbGRfY2hhbmdlZFwiLGUsaSxuKSxmZCh0LHIsRWIsZSxpLG4pLHJ9ZnVuY3Rpb24gZmQodCxlLG4saSxyLG8pe2k9UGEoaSxmdW5jdGlvbih0KXtyZXR1cm4gdC50eXBlPT09bn0pLFhhKGkscSh0LmVnLHQpKSxPYShpLGZ1bmN0aW9uKG4pe3ZhciBpPWdkKHQsbixvKTtPYShyLGZ1bmN0aW9uKHIpe3IuSmYobi50eXBlKSYmZS5wdXNoKHIuY3JlYXRlRXZlbnQoaSx0LlYpKX0pfSl9ZnVuY3Rpb24gZ2QodCxlLG4pe3JldHVyblwidmFsdWVcIiE9PWUudHlwZSYmXCJjaGlsZF9yZW1vdmVkXCIhPT1lLnR5cGUmJihlLk5kPW4ucWYoZS5ZYSxlLkphLHQuZykpLGV9ZnVuY3Rpb24gaGQoKXt0aGlzLmViPXt9fWZ1bmN0aW9uIGlkKHQsZSl7dmFyIG49ZS50eXBlLGk9ZS5ZYTtKKFwiY2hpbGRfYWRkZWRcIj09bnx8XCJjaGlsZF9jaGFuZ2VkXCI9PW58fFwiY2hpbGRfcmVtb3ZlZFwiPT1uLFwiT25seSBjaGlsZCBjaGFuZ2VzIHN1cHBvcnRlZCBmb3IgdHJhY2tpbmdcIiksSihcIi5wcmlvcml0eVwiIT09aSxcIk9ubHkgbm9uLXByaW9yaXR5IGNoaWxkIGNoYW5nZXMgY2FuIGJlIHRyYWNrZWQuXCIpO3ZhciByPXcodC5lYixpKTtpZihyKXt2YXIgbz1yLnR5cGU7aWYoXCJjaGlsZF9hZGRlZFwiPT1uJiZcImNoaWxkX3JlbW92ZWRcIj09byl0LmViW2ldPW5ldyBEKFwiY2hpbGRfY2hhbmdlZFwiLGUuSmEsaSxyLkphKTtlbHNlIGlmKFwiY2hpbGRfcmVtb3ZlZFwiPT1uJiZcImNoaWxkX2FkZGVkXCI9PW8pZGVsZXRlIHQuZWJbaV07ZWxzZSBpZihcImNoaWxkX3JlbW92ZWRcIj09biYmXCJjaGlsZF9jaGFuZ2VkXCI9PW8pdC5lYltpXT1uZXcgRChcImNoaWxkX3JlbW92ZWRcIixyLkplLGkpO2Vsc2UgaWYoXCJjaGlsZF9jaGFuZ2VkXCI9PW4mJlwiY2hpbGRfYWRkZWRcIj09byl0LmViW2ldPW5ldyBEKFwiY2hpbGRfYWRkZWRcIixlLkphLGkpO2Vsc2V7aWYoXCJjaGlsZF9jaGFuZ2VkXCIhPW58fFwiY2hpbGRfY2hhbmdlZFwiIT1vKXRocm93IEhjKFwiSWxsZWdhbCBjb21iaW5hdGlvbiBvZiBjaGFuZ2VzOiBcIitlK1wiIG9jY3VycmVkIGFmdGVyIFwiK3IpO3QuZWJbaV09bmV3IEQoXCJjaGlsZF9jaGFuZ2VkXCIsZS5KYSxpLHIuSmUpfX1lbHNlIHQuZWJbaV09ZX1mdW5jdGlvbiBqZCh0LGUsbil7dGhpcy5QYj10LHRoaXMucWI9ZSx0aGlzLnNiPW58fG51bGx9ZnVuY3Rpb24ga2QodCxlLG4pe3RoaXMuZ2E9dCx0aGlzLnFiPWUsdGhpcy5zYj1ufWZ1bmN0aW9uIGxkKHQpe3RoaXMuZz10fWZ1bmN0aW9uIG1kKHQpe3RoaXMuQWU9bmV3IGxkKHQuZyksdGhpcy5nPXQuZzt2YXIgZTt0LmxhPyhlPW5kKHQpLGU9dC5nLk9jKG9kKHQpLGUpKTplPXQuZy5TYygpLHRoaXMuZGQ9ZSx0Lm5hPyhlPXBkKHQpLHQ9dC5nLk9jKHFkKHQpLGUpKTp0PXQuZy5QYygpLHRoaXMuRmM9dH1mdW5jdGlvbiByZCh0KXt0aGlzLnJhPW5ldyBtZCh0KSx0aGlzLmc9dC5nLEoodC5pYSxcIk9ubHkgdmFsaWQgaWYgbGltaXQgaGFzIGJlZW4gc2V0XCIpLHRoaXMuamE9dC5qYSx0aGlzLkpiPSFzZCh0KX1mdW5jdGlvbiB0ZCh0LGUsbixpLHIsbyl7dmFyIGE7aWYodC5KYil7dmFyIHM9dWQodC5nKTthPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHMoZSx0KX19ZWxzZSBhPXVkKHQuZyk7SihlLkRiKCk9PXQuamEsXCJcIik7dmFyIHU9bmV3IEUobixpKSxoPXQuSmI/d2QoZSx0LmcpOnhkKGUsdC5nKSxjPXQucmEubWF0Y2hlcyh1KTtpZihlLkhhKG4pKXt2YXIgZj1lLk0obiksaD1yLnhlKHQuZyxoLHQuSmIpO3JldHVybiBudWxsIT1oJiZoLm5hbWU9PW4mJihoPXIueGUodC5nLGgsdC5KYikpLHI9bnVsbD09aD8xOmEoaCx1KSxjJiYhaS5lKCkmJnI+PTA/KG51bGwhPW8mJmlkKG8sbmV3IEQoXCJjaGlsZF9jaGFuZ2VkXCIsaSxuLGYpKSxlLlEobixpKSk6KG51bGwhPW8mJmlkKG8sbmV3IEQoXCJjaGlsZF9yZW1vdmVkXCIsZixuKSksZT1lLlEobixDKSxudWxsIT1oJiZ0LnJhLm1hdGNoZXMoaCk/KG51bGwhPW8mJmlkKG8sbmV3IEQoXCJjaGlsZF9hZGRlZFwiLGguUyxoLm5hbWUpKSxlLlEoaC5uYW1lLGguUykpOmUpfXJldHVybiBpLmUoKT9lOmMmJjA8PWEoaCx1KT8obnVsbCE9byYmKGlkKG8sbmV3IEQoXCJjaGlsZF9yZW1vdmVkXCIsaC5TLGgubmFtZSkpLGlkKG8sbmV3IEQoXCJjaGlsZF9hZGRlZFwiLGksbikpKSxlLlEobixpKS5RKGgubmFtZSxDKSk6ZX1mdW5jdGlvbiB5ZCh0LGUpe3RoaXMuaGU9dCx0aGlzLmNnPWV9ZnVuY3Rpb24gemQodCl7dGhpcy5JPXR9ZnVuY3Rpb24gSGQodCxlLG4saSxyLG8pe3ZhciBhPWUuRDtpZihudWxsIT1pLnNjKG4pKXJldHVybiBlO3ZhciBzO2lmKG4uZSgpKUooSGIoZS51KCkpLFwiSWYgY2hhbmdlIHBhdGggaXMgZW1wdHksIHdlIG11c3QgaGF2ZSBjb21wbGV0ZSBzZXJ2ZXIgZGF0YVwiKSxlLnUoKS5UYj8ocj10YihlKSxpPWkueGMociBpbnN0YW5jZW9mIFQ/cjpDKSk6aT1pLnVhKHRiKGUpKSxvPXQuSS50YShlLkQuaigpLGksbyk7ZWxzZXt2YXIgdT1PKG4pO2lmKFwiLnByaW9yaXR5XCI9PXUpSigxPT11YyhuKSxcIkNhbid0IGhhdmUgYSBwcmlvcml0eSB3aXRoIGFkZGl0aW9uYWwgcGF0aCBjb21wb25lbnRzXCIpLG89YS5qKCkscz1lLnUoKS5qKCksaT1pLmhkKG4sbyxzKSxvPW51bGwhPWk/dC5JLmRhKG8saSk6YS5qKCk7ZWxzZXt2YXIgaD1HKG4pO3JiKGEsdSk/KHM9ZS51KCkuaigpLGk9aS5oZChuLGEuaigpLHMpLGk9bnVsbCE9aT9hLmooKS5NKHUpLkcoaCxpKTphLmooKS5NKHUpKTppPWkuWGEodSxlLnUoKSksbz1udWxsIT1pP3QuSS5HKGEuaigpLHUsaSxyLG8pOmEuaigpfX1yZXR1cm4gRmQoZSxvLGEuJHx8bi5lKCksdC5JLkdhKCkpfWZ1bmN0aW9uIEJkKHQsZSxuLGkscixvLGEscyl7dmFyIHU9ZS51KCk7aWYoYT1hP3QuSTp0LkkuVmIoKSxuLmUoKSlpPWEudGEodS5qKCksaSxudWxsKTtlbHNlIGlmKGEuR2EoKSYmIXUuVGIpaT11LmooKS5HKG4saSksaT1hLnRhKHUuaigpLGksbnVsbCk7ZWxzZXt2YXIgaD1PKG4pO2lmKChuLmUoKT8hdS4kfHx1LlRiOiFyYih1LE8obikpKSYmMTx1YyhuKSlyZXR1cm4gZTtpPXUuaigpLk0oaCkuRyhHKG4pLGkpLGk9XCIucHJpb3JpdHlcIj09aD9hLmRhKHUuaigpLGkpOmEuRyh1LmooKSxoLGkscGIsbnVsbCl9cmV0dXJuIHU9dS4kfHxuLmUoKSxlPW5ldyBJZChlLkQsbmV3IHNiKGksdSxhLkdhKCkpKSxIZCh0LGUsbixyLG5ldyBxYihyLGUsbykscyl9ZnVuY3Rpb24gQWQodCxlLG4saSxyLG8sYSl7dmFyIHM9ZS5EO2lmKHI9bmV3IHFiKHIsZSxvKSxuLmUoKSlhPXQuSS50YShlLkQuaigpLGksYSksdD1GZChlLGEsITAsdC5JLkdhKCkpO2Vsc2UgaWYobz1PKG4pLFwiLnByaW9yaXR5XCI9PT1vKWE9dC5JLmRhKGUuRC5qKCksaSksdD1GZChlLGEscy4kLHMuVGIpO2Vsc2V7dmFyIHU9RyhuKTtpZihuPXMuaigpLk0obyksIXUuZSgpKXt2YXIgaD1yLnBmKG8pO2k9bnVsbCE9aD9cIi5wcmlvcml0eVwiPT09dmModSkmJmgub2EodS5wYXJlbnQoKSkuZSgpP2g6aC5HKHUsaSk6Q31uLlooaSk/dD1lOihhPXQuSS5HKHMuaigpLG8saSxyLGEpLHQ9RmQoZSxhLHMuJCx0LkkuR2EoKSkpfXJldHVybiB0fWZ1bmN0aW9uIERkKHQsZSxuLGkscixvLGEpe3ZhciBzPWU7cmV0dXJuIEtkKGksZnVuY3Rpb24oaSx1KXt2YXIgaD1uLncoaSk7cmIoZS5ELE8oaCkpJiYocz1BZCh0LHMsaCx1LHIsbyxhKSl9KSxLZChpLGZ1bmN0aW9uKGksdSl7dmFyIGg9bi53KGkpO3JiKGUuRCxPKGgpKXx8KHM9QWQodCxzLGgsdSxyLG8sYSkpfSksc31mdW5jdGlvbiBMZCh0LGUpe3JldHVybiBLZChlLGZ1bmN0aW9uKGUsbil7dD10LkcoZSxuKX0pLHR9ZnVuY3Rpb24gRWQodCxlLG4saSxyLG8sYSxzKXtpZihlLnUoKS5qKCkuZSgpJiYhSGIoZS51KCkpKXJldHVybiBlO3ZhciB1PWU7bj1uLmUoKT9pOk1kKE5kLG4saSk7dmFyIGg9ZS51KCkuaigpO3JldHVybiBuLmNoaWxkcmVuLmhhKGZ1bmN0aW9uKG4saSl7aWYoaC5IYShuKSl7dmFyIGM9ZS51KCkuaigpLk0obiksYz1MZChjLGkpO3U9QmQodCx1LG5ldyBLKG4pLGMscixvLGEscyl9fSksbi5jaGlsZHJlbi5oYShmdW5jdGlvbihuLGkpe3ZhciBjPSFIYihlLnUoKSkmJm51bGw9PWkudmFsdWU7aC5IYShuKXx8Y3x8KGM9ZS51KCkuaigpLk0obiksYz1MZChjLGkpLHU9QmQodCx1LG5ldyBLKG4pLGMscixvLGEscykpfSksdX1mdW5jdGlvbiBHZCh0LGUsbixpLHIsbyl7aWYobnVsbCE9aS5zYyhuKSlyZXR1cm4gZTt2YXIgYT1uZXcgcWIoaSxlLHIpLHM9cj1lLkQuaigpO2lmKEhiKGUudSgpKSl7aWYobi5lKCkpcj1pLnVhKHRiKGUpKSxzPXQuSS50YShlLkQuaigpLHIsbyk7ZWxzZSBpZihcIi5wcmlvcml0eVwiPT09TyhuKSl7dmFyIHU9aS5YYShPKG4pLGUudSgpKTtudWxsPT11fHxyLmUoKXx8ci5BKCkuWih1KXx8KHM9dC5JLmRhKHIsdSkpfWVsc2UgdT1PKG4pLHI9aS5YYSh1LGUudSgpKSxudWxsIT1yJiYocz10LkkuRyhlLkQuaigpLHUscixhLG8pKTtyPSEwfWVsc2UgZS5ELiR8fG4uZSgpPyhzPXIscj1lLkQuaigpLHIuTigpfHxyLlUoTSxmdW5jdGlvbihuKXt2YXIgcj1pLlhhKG4sZS51KCkpO251bGwhPXImJihzPXQuSS5HKHMsbixyLGEsbykpfSkscj1lLkQuJCk6KHU9TyhuKSwoMT09dWMobil8fHJiKGUuRCx1KSkmJihuPWkuWGEodSxlLnUoKSksbnVsbCE9biYmKHM9dC5JLkcocix1LG4sYSxvKSkpLHI9ITEpO3JldHVybiBGZChlLHMscix0LkkuR2EoKSl9ZnVuY3Rpb24gT2QoKXt9ZnVuY3Rpb24gdWQodCl7cmV0dXJuIHEodC5jb21wYXJlLHQpfWZ1bmN0aW9uIFJkKHQpe3RoaXMuYmM9dH1mdW5jdGlvbiBUZCgpe31mdW5jdGlvbiBVZCgpe31mdW5jdGlvbiBXZCgpe31mdW5jdGlvbiBaZCgpe3RoaXMuUmI9dGhpcy5uYT10aGlzLkxiPXRoaXMubGE9dGhpcy5pYT0hMSx0aGlzLmphPTAsdGhpcy5OYj1cIlwiLHRoaXMuZGM9bnVsbCx0aGlzLnhiPVwiXCIsdGhpcy5hYz1udWxsLHRoaXMudmI9XCJcIix0aGlzLmc9TX1mdW5jdGlvbiBzZCh0KXtyZXR1cm5cIlwiPT09dC5OYj90LmxhOlwibFwiPT09dC5OYn1mdW5jdGlvbiBvZCh0KXtyZXR1cm4gSih0LmxhLFwiT25seSB2YWxpZCBpZiBzdGFydCBoYXMgYmVlbiBzZXRcIiksdC5kY31mdW5jdGlvbiBuZCh0KXtyZXR1cm4gSih0LmxhLFwiT25seSB2YWxpZCBpZiBzdGFydCBoYXMgYmVlbiBzZXRcIiksdC5MYj90LnhiOlwiW01JTl9OQU1FXVwifWZ1bmN0aW9uIHFkKHQpe3JldHVybiBKKHQubmEsXCJPbmx5IHZhbGlkIGlmIGVuZCBoYXMgYmVlbiBzZXRcIiksdC5hY31mdW5jdGlvbiBwZCh0KXtyZXR1cm4gSih0Lm5hLFwiT25seSB2YWxpZCBpZiBlbmQgaGFzIGJlZW4gc2V0XCIpLHQuUmI/dC52YjpcIltNQVhfTkFNRV1cIn1mdW5jdGlvbiBhZSh0KXt2YXIgZT1uZXcgWmQ7cmV0dXJuIGUuaWE9dC5pYSxlLmphPXQuamEsZS5sYT10LmxhLGUuZGM9dC5kYyxlLkxiPXQuTGIsZS54Yj10LnhiLGUubmE9dC5uYSxlLmFjPXQuYWMsZS5SYj10LlJiLGUudmI9dC52YixlLmc9dC5nLGV9ZnVuY3Rpb24gYmUodCxlKXt2YXIgbj1hZSh0KTtyZXR1cm4gbi5nPWUsbn1mdW5jdGlvbiBjZSh0KXt2YXIgZT17fTtpZih0LmxhJiYoZS5zcD10LmRjLHQuTGImJihlLnNuPXQueGIpKSx0Lm5hJiYoZS5lcD10LmFjLHQuUmImJihlLmVuPXQudmIpKSx0LmlhKXtlLmw9dC5qYTt2YXIgbj10Lk5iO1wiXCI9PT1uJiYobj1zZCh0KT9cImxcIjpcInJcIiksZS52Zj1ufXJldHVybiB0LmchPT1NJiYoZS5pPXQuZy50b1N0cmluZygpKSxlfWZ1bmN0aW9uIGRlKHQpe3JldHVybiEodC5sYXx8dC5uYXx8dC5pYSl9ZnVuY3Rpb24gZWUodCl7dmFyIGU9e307aWYoZGUodCkmJnQuZz09TSlyZXR1cm4gZTt2YXIgbjtyZXR1cm4gdC5nPT09TT9uPVwiJHByaW9yaXR5XCI6dC5nPT09WWQ/bj1cIiR2YWx1ZVwiOihKKHQuZyBpbnN0YW5jZW9mIFJkLFwiVW5yZWNvZ25pemVkIGluZGV4IHR5cGUhXCIpLG49dC5nLnRvU3RyaW5nKCkpLGUub3JkZXJCeT1CKG4pLHQubGEmJihlLnN0YXJ0QXQ9Qih0LmRjKSx0LkxiJiYoZS5zdGFydEF0Kz1cIixcIitCKHQueGIpKSksdC5uYSYmKGUuZW5kQXQ9Qih0LmFjKSx0LlJiJiYoZS5lbmRBdCs9XCIsXCIrQih0LnZiKSkpLHQuaWEmJihzZCh0KT9lLmxpbWl0VG9GaXJzdD10LmphOmUubGltaXRUb0xhc3Q9dC5qYSksZX1mdW5jdGlvbiBmZSh0LGUpe3RoaXMueWQ9dCx0aGlzLmNjPWV9ZnVuY3Rpb24gZ2UodCxlLG4pe3ZhciBpPW5hKHQueWQsZnVuY3Rpb24oaSxyKXt2YXIgbz13KHQuY2Mscik7aWYoSihvLFwiTWlzc2luZyBpbmRleCBpbXBsZW1lbnRhdGlvbiBmb3IgXCIrciksaT09PVBkKXtpZihvLkhjKGUuUykpe2Zvcih2YXIgYT1bXSxzPW4uV2IoUWIpLHU9SChzKTt1Oyl1Lm5hbWUhPWUubmFtZSYmYS5wdXNoKHUpLHU9SChzKTtyZXR1cm4gYS5wdXNoKGUpLGhlKGEsdWQobykpfXJldHVybiBQZH1yZXR1cm4gbz1uLmdldChlLm5hbWUpLGE9aSxvJiYoYT1hLnJlbW92ZShuZXcgRShlLm5hbWUsbykpKSxhLk5hKGUsZS5TKX0pO3JldHVybiBuZXcgZmUoaSx0LmNjKX1mdW5jdGlvbiBpZSh0LGUsbil7dmFyIGk9bmEodC55ZCxmdW5jdGlvbih0KXtpZih0PT09UGQpcmV0dXJuIHQ7dmFyIGk9bi5nZXQoZS5uYW1lKTtyZXR1cm4gaT90LnJlbW92ZShuZXcgRShlLm5hbWUsaSkpOnR9KTtyZXR1cm4gbmV3IGZlKGksdC5jYyl9ZnVuY3Rpb24gdGModCxlKXt0aGlzLkM9dCxKKG4odGhpcy5DKSYmbnVsbCE9PXRoaXMuQyxcIkxlYWZOb2RlIHNob3VsZG4ndCBiZSBjcmVhdGVkIHdpdGggbnVsbC91bmRlZmluZWQgdmFsdWUuXCIpLHRoaXMuYmE9ZXx8QyxrZSh0aGlzLmJhKSx0aGlzLkJiPW51bGx9ZnVuY3Rpb24gVCh0LGUsbil7dGhpcy5tPXQsKHRoaXMuYmE9ZSkmJmtlKHRoaXMuYmEpLHQuZSgpJiZKKCF0aGlzLmJhfHx0aGlzLmJhLmUoKSxcIkFuIGVtcHR5IG5vZGUgY2Fubm90IGhhdmUgYSBwcmlvcml0eVwiKSx0aGlzLndiPW4sdGhpcy5CYj1udWxsfWZ1bmN0aW9uIHdkKHQsZSl7dmFyIG47cmV0dXJuIG49KG49b2UodCxlKSk/KG49bi5SYygpKSYmbi5uYW1lOnQubS5SYygpLG4/bmV3IEUobix0Lm0uZ2V0KG4pKTpudWxsfWZ1bmN0aW9uIHhkKHQsZSl7dmFyIG47cmV0dXJuIG49KG49b2UodCxlKSk/KG49bi5lYygpKSYmbi5uYW1lOnQubS5lYygpLG4/bmV3IEUobix0Lm0uZ2V0KG4pKTpudWxsfWZ1bmN0aW9uIG9lKHQsZSl7cmV0dXJuIGU9PT1WZD9udWxsOnQud2IuZ2V0KGUudG9TdHJpbmcoKSl9ZnVuY3Rpb24gTCh0LGUpe2lmKG51bGw9PT10KXJldHVybiBDO3ZhciBuPW51bGw7aWYoXCJvYmplY3RcIj09dHlwZW9mIHQmJlwiLnByaW9yaXR5XCJpbiB0P249dFtcIi5wcmlvcml0eVwiXTpcInVuZGVmaW5lZFwiIT10eXBlb2YgZSYmKG49ZSksSihudWxsPT09bnx8XCJzdHJpbmdcIj09dHlwZW9mIG58fFwibnVtYmVyXCI9PXR5cGVvZiBufHxcIm9iamVjdFwiPT10eXBlb2YgbiYmXCIuc3ZcImluIG4sXCJJbnZhbGlkIHByaW9yaXR5IHR5cGUgZm91bmQ6IFwiK3R5cGVvZiBuKSxcIm9iamVjdFwiPT10eXBlb2YgdCYmXCIudmFsdWVcImluIHQmJm51bGwhPT10W1wiLnZhbHVlXCJdJiYodD10W1wiLnZhbHVlXCJdKSxcIm9iamVjdFwiIT10eXBlb2YgdHx8XCIuc3ZcImluIHQpcmV0dXJuIG5ldyB0Yyh0LEwobikpO2lmKHQgaW5zdGFuY2VvZiBBcnJheSl7dmFyIGk9QyxvPXQ7cmV0dXJuIHIobyxmdW5jdGlvbih0LGUpe2lmKHUobyxlKSYmXCIuXCIhPT1lLnN1YnN0cmluZygwLDEpKXt2YXIgbj1MKHQpOyhuLk4oKXx8IW4uZSgpKSYmKGk9aS5RKGUsbikpfX0pLGkuZGEoTChuKSl9dmFyIGE9W10scz0hMSxoPXQ7aWYoaGIoaCxmdW5jdGlvbih0KXtpZihcInN0cmluZ1wiIT10eXBlb2YgdHx8XCIuXCIhPT10LnN1YnN0cmluZygwLDEpKXt2YXIgZT1MKGhbdF0pO2UuZSgpfHwocz1zfHwhZS5BKCkuZSgpLGEucHVzaChuZXcgRSh0LGUpKSl9fSksMD09YS5sZW5ndGgpcmV0dXJuIEM7dmFyIGM9aGUoYSxSYixmdW5jdGlvbih0KXtyZXR1cm4gdC5uYW1lfSxUYik7aWYocyl7dmFyIGY9aGUoYSx1ZChNKSk7cmV0dXJuIG5ldyBUKGMsTChuKSxuZXcgZmUoe1wiLnByaW9yaXR5XCI6Zn0se1wiLnByaW9yaXR5XCI6TX0pKX1yZXR1cm4gbmV3IFQoYyxMKG4pLGplKX1mdW5jdGlvbiBxZSh0KXt0aGlzLmNvdW50PXBhcnNlSW50KE1hdGgubG9nKHQrMSkvcGUsMTApLHRoaXMuaGY9dGhpcy5jb3VudC0xLHRoaXMuYmc9dCsxJnBhcnNlSW50KEFycmF5KHRoaXMuY291bnQrMSkuam9pbihcIjFcIiksMil9ZnVuY3Rpb24gcmUodCl7dmFyIGU9ISh0LmJnJjE8PHQuaGYpO3JldHVybiB0LmhmLS0sZX1mdW5jdGlvbiBoZSh0LGUsbixpKXtmdW5jdGlvbiByKGUsaSl7dmFyIG89aS1lO2lmKDA9PW8pcmV0dXJuIG51bGw7aWYoMT09byl7dmFyIGE9dFtlXSxzPW4/bihhKTphO3JldHVybiBuZXcgZmMocyxhLlMsITEsbnVsbCxudWxsKX12YXIgYT1wYXJzZUludChvLzIsMTApK2Usbz1yKGUsYSksdT1yKGErMSxpKSxhPXRbYV0scz1uP24oYSk6YTtyZXR1cm4gbmV3IGZjKHMsYS5TLCExLG8sdSl9dC5zb3J0KGUpO3ZhciBvPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIGkoZSxpKXt2YXIgdT1zLWUsaD1zO3MtPWU7dmFyIGg9cih1KzEsaCksdT10W3VdLGM9bj9uKHUpOnUsaD1uZXcgZmMoYyx1LlMsaSxudWxsLGgpO28/by5sZWZ0PWg6YT1oLG89aH1mb3IodmFyIG89bnVsbCxhPW51bGwscz10Lmxlbmd0aCx1PTA7dTxlLmNvdW50OysrdSl7dmFyIGg9cmUoZSksYz1NYXRoLnBvdygyLGUuY291bnQtKHUrMSkpO2g/aShjLCExKTooaShjLCExKSxpKGMsITApKX1yZXR1cm4gYX0obmV3IHFlKHQubGVuZ3RoKSk7cmV0dXJuIG51bGwhPT1vP25ldyBhYyhpfHxlLG8pOm5ldyBhYyhpfHxlKX1mdW5jdGlvbiBsZSh0KXtyZXR1cm5cIm51bWJlclwiPT10eXBlb2YgdD9cIm51bWJlcjpcIitaYyh0KTpcInN0cmluZzpcIit0fWZ1bmN0aW9uIGtlKHQpe2lmKHQuTigpKXt2YXIgZT10LksoKTtKKFwic3RyaW5nXCI9PXR5cGVvZiBlfHxcIm51bWJlclwiPT10eXBlb2YgZXx8XCJvYmplY3RcIj09dHlwZW9mIGUmJnUoZSxcIi5zdlwiKSxcIlByaW9yaXR5IG11c3QgYmUgYSBzdHJpbmcgb3IgbnVtYmVyLlwiKX1lbHNlIEoodD09PVNkfHx0LmUoKSxcInByaW9yaXR5IG9mIHVuZXhwZWN0ZWQgdHlwZS5cIik7Sih0PT09U2R8fHQuQSgpLmUoKSxcIlByaW9yaXR5IG5vZGVzIGNhbid0IGhhdmUgYSBwcmlvcml0eSBvZiB0aGVpciBvd24uXCIpfWZ1bmN0aW9uIHNlKCl7VC5jYWxsKHRoaXMsbmV3IGFjKFRiKSxDLGplKX1mdW5jdGlvbiBJZCh0LGUpe3RoaXMuRD10LHRoaXMuVWQ9ZX1mdW5jdGlvbiBGZCh0LGUsbixpKXtyZXR1cm4gbmV3IElkKG5ldyBzYihlLG4saSksdC5VZCl9ZnVuY3Rpb24gSmQodCl7cmV0dXJuIHQuRC4kP3QuRC5qKCk6bnVsbH1mdW5jdGlvbiB0Yih0KXtyZXR1cm4gdC5VZC4kP3QuVWQuaigpOm51bGx9ZnVuY3Rpb24gdGUodCxlKXt0aGlzLlY9dDt2YXIgbj10Lm4saT1uZXcgbGQobi5nKSxuPWRlKG4pP25ldyBsZChuLmcpOm4uaWE/bmV3IHJkKG4pOm5ldyBtZChuKTt0aGlzLkdmPW5ldyB6ZChuKTt2YXIgcj1lLnUoKSxvPWUuRCxhPWkudGEoQyxyLmooKSxudWxsKSxzPW4udGEoQyxvLmooKSxudWxsKTt0aGlzLkthPW5ldyBJZChuZXcgc2IocyxvLiQsbi5HYSgpKSxuZXcgc2IoYSxyLiQsaS5HYSgpKSksdGhpcy5aYT1bXSx0aGlzLmlnPW5ldyBkZCh0KX1mdW5jdGlvbiB1ZSh0KXtyZXR1cm4gdC5WfWZ1bmN0aW9uIHdlKHQsZSl7dmFyIG49dC5LYS5ELGk9W107cmV0dXJuIG4uaigpLk4oKXx8bi5qKCkuVShNLGZ1bmN0aW9uKHQsZSl7aS5wdXNoKG5ldyBEKFwiY2hpbGRfYWRkZWRcIixlLHQpKX0pLG4uJCYmaS5wdXNoKERiKG4uaigpKSksdmUodCxpLG4uaigpLGUpfWZ1bmN0aW9uIHZlKHQsZSxuLGkpe3JldHVybiBlZCh0LmlnLGUsbixpP1tpXTp0LlphKX1mdW5jdGlvbiB4ZSh0LGUsbil7dGhpcy50eXBlPUNkLHRoaXMuc291cmNlPXQsdGhpcy5wYXRoPWUsdGhpcy5jaGlsZHJlbj1ufWZ1bmN0aW9uIHllKHQsZSxuLGkpe3RoaXMudmU9dCx0aGlzLm9mPWUsdGhpcy5JYj1uLHRoaXMuYWY9aSxKKCFpfHxlLFwiVGFnZ2VkIHF1ZXJpZXMgbXVzdCBiZSBmcm9tIHNlcnZlci5cIil9ZnVuY3Rpb24gQWUodCxlKXt0aGlzLmY9T2MoXCJwOnJlc3Q6XCIpLHRoaXMuSD10LHRoaXMuR2I9ZSx0aGlzLkZhPW51bGwsdGhpcy5hYT17fX1mdW5jdGlvbiBCZSh0LGUpe2lmKG4oZSkpcmV0dXJuXCJ0YWckXCIrZTt2YXIgaT10Lm47cmV0dXJuIEooZGUoaSkmJmkuZz09TSxcInNob3VsZCBoYXZlIGEgdGFnIGlmIGl0J3Mgbm90IGEgZGVmYXVsdCBxdWVyeS5cIiksdC5wYXRoLnRvU3RyaW5nKCl9ZnVuY3Rpb24gQ2UodCxlLG4saSl7bj1ufHx7fSxuLmZvcm1hdD1cImV4cG9ydFwiLHQuRmEmJihuLmF1dGg9dC5GYSk7dmFyIHI9KHQuSC5sYj9cImh0dHBzOi8vXCI6XCJodHRwOi8vXCIpK3QuSC5ob3N0K2UrXCI/XCIramIobik7dC5mKFwiU2VuZGluZyBSRVNUIHJlcXVlc3QgZm9yIFwiK3IpO3ZhciBvPW5ldyBYTUxIdHRwUmVxdWVzdDtvLm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpe2lmKGkmJjQ9PT1vLnJlYWR5U3RhdGUpe3QuZihcIlJFU1QgUmVzcG9uc2UgZm9yIFwiK3IrXCIgcmVjZWl2ZWQuIHN0YXR1czpcIixvLnN0YXR1cyxcInJlc3BvbnNlOlwiLG8ucmVzcG9uc2VUZXh0KTt2YXIgZT1udWxsO2lmKDIwMDw9by5zdGF0dXMmJjMwMD5vLnN0YXR1cyl7dHJ5e2U9bWIoby5yZXNwb25zZVRleHQpfWNhdGNoKG4pe1EoXCJGYWlsZWQgdG8gcGFyc2UgSlNPTiByZXNwb25zZSBmb3IgXCIrcitcIjogXCIrby5yZXNwb25zZVRleHQpfWkobnVsbCxlKX1lbHNlIDQwMSE9PW8uc3RhdHVzJiY0MDQhPT1vLnN0YXR1cyYmUShcIkdvdCB1bnN1Y2Nlc3NmdWwgUkVTVCByZXNwb25zZSBmb3IgXCIrcitcIiBTdGF0dXM6IFwiK28uc3RhdHVzKSxpKG8uc3RhdHVzKTtpPW51bGx9fSxvLm9wZW4oXCJHRVRcIixyLCEwKSxvLnNlbmQoKX1mdW5jdGlvbiBEZSh0LGUpe3RoaXMudmFsdWU9dCx0aGlzLmNoaWxkcmVuPWV8fEVlfWZ1bmN0aW9uIEZlKHQpe3ZhciBlPU5kO3JldHVybiByKHQsZnVuY3Rpb24odCxuKXtlPWUuc2V0KG5ldyBLKG4pLHQpfSksZX1mdW5jdGlvbiBHZSh0LGUsbil7aWYobnVsbCE9dC52YWx1ZSYmbih0LnZhbHVlKSlyZXR1cm57cGF0aDpGLHZhbHVlOnQudmFsdWV9O2lmKGUuZSgpKXJldHVybiBudWxsO3ZhciBpPU8oZSk7cmV0dXJuIHQ9dC5jaGlsZHJlbi5nZXQoaSksbnVsbCE9PXQ/KGU9R2UodCxHKGUpLG4pLG51bGwhPWU/e3BhdGg6bmV3IEsoaSkudyhlLnBhdGgpLHZhbHVlOmUudmFsdWV9Om51bGwpOm51bGx9ZnVuY3Rpb24gSGUodCxlKXtyZXR1cm4gR2UodCxlLGZ1bmN0aW9uKCl7cmV0dXJuITB9KX1mdW5jdGlvbiBNZCh0LGUsbil7aWYoZS5lKCkpcmV0dXJuIG47dmFyIGk9TyhlKTtyZXR1cm4gZT1NZCh0LmNoaWxkcmVuLmdldChpKXx8TmQsRyhlKSxuKSxpPWUuZSgpP3QuY2hpbGRyZW4ucmVtb3ZlKGkpOnQuY2hpbGRyZW4uTmEoaSxlKSxuZXcgRGUodC52YWx1ZSxpKX1mdW5jdGlvbiBJZSh0LGUpe3JldHVybiBKZSh0LEYsZSl9ZnVuY3Rpb24gSmUodCxlLG4pe3ZhciBpPXt9O3JldHVybiB0LmNoaWxkcmVuLmhhKGZ1bmN0aW9uKHQscil7aVt0XT1KZShyLGUudyh0KSxuKX0pLG4oZSx0LnZhbHVlLGkpfWZ1bmN0aW9uIEtlKHQsZSxuKXtyZXR1cm4gTGUodCxlLEYsbil9ZnVuY3Rpb24gTGUodCxlLG4saSl7dmFyIHI9dC52YWx1ZT9pKG4sdC52YWx1ZSk6ITE7cmV0dXJuIHI/cjplLmUoKT9udWxsOihyPU8oZSksKHQ9dC5jaGlsZHJlbi5nZXQocikpP0xlKHQsRyhlKSxuLncociksaSk6bnVsbCl9ZnVuY3Rpb24gTWUodCxlLG4pe3ZhciBpPUY7aWYoIWUuZSgpKXt2YXIgcj0hMDt0LnZhbHVlJiYocj1uKGksdC52YWx1ZSkpLCEwPT09ciYmKHI9TyhlKSwodD10LmNoaWxkcmVuLmdldChyKSkmJk5lKHQsRyhlKSxpLncociksbikpfX1mdW5jdGlvbiBOZSh0LGUsbixpKXtpZihlLmUoKSlyZXR1cm4gdDt0LnZhbHVlJiZpKG4sdC52YWx1ZSk7dmFyIHI9TyhlKTtyZXR1cm4odD10LmNoaWxkcmVuLmdldChyKSk/TmUodCxHKGUpLG4udyhyKSxpKTpOZH1mdW5jdGlvbiBLZCh0LGUpe09lKHQsRixlKX1mdW5jdGlvbiBPZSh0LGUsbil7dC5jaGlsZHJlbi5oYShmdW5jdGlvbih0LGkpe09lKGksZS53KHQpLG4pfSksdC52YWx1ZSYmbihlLHQudmFsdWUpfWZ1bmN0aW9uIFBlKHQsZSl7dC5jaGlsZHJlbi5oYShmdW5jdGlvbih0LG4pe24udmFsdWUmJmUodCxuLnZhbHVlKX0pfWZ1bmN0aW9uIFFlKHQpe3RoaXMuVz10fWZ1bmN0aW9uIFNlKHQsZSxuKXtpZihlLmUoKSlyZXR1cm4gbmV3IFFlKG5ldyBEZShuKSk7dmFyIGk9SGUodC5XLGUpO2lmKG51bGwhPWkpe3ZhciByPWkucGF0aCxpPWkudmFsdWU7cmV0dXJuIGU9TihyLGUpLGk9aS5HKGUsbiksbmV3IFFlKHQuVy5zZXQocixpKSl9cmV0dXJuIHQ9TWQodC5XLGUsbmV3IERlKG4pKSxuZXcgUWUodCl9ZnVuY3Rpb24gVGUodCxlLG4pe3ZhciBpPXQ7cmV0dXJuIGhiKG4sZnVuY3Rpb24odCxuKXtpPVNlKGksZS53KHQpLG4pfSksaX1mdW5jdGlvbiBVZSh0LGUpe3ZhciBuPUhlKHQuVyxlKTtyZXR1cm4gbnVsbCE9bj90LlcuZ2V0KG4ucGF0aCkub2EoTihuLnBhdGgsZSkpOm51bGx9ZnVuY3Rpb24gVmUodCl7dmFyIGU9W10sbj10LlcudmFsdWU7cmV0dXJuIG51bGwhPW4/bi5OKCl8fG4uVShNLGZ1bmN0aW9uKHQsbil7ZS5wdXNoKG5ldyBFKHQsbikpfSk6dC5XLmNoaWxkcmVuLmhhKGZ1bmN0aW9uKHQsbil7bnVsbCE9bi52YWx1ZSYmZS5wdXNoKG5ldyBFKHQsbi52YWx1ZSkpfSksZX1mdW5jdGlvbiBXZSh0LGUpe2lmKGUuZSgpKXJldHVybiB0O3ZhciBuPVVlKHQsZSk7cmV0dXJuIG5ldyBRZShudWxsIT1uP25ldyBEZShuKTp0Llcuc3VidHJlZShlKSl9ZnVuY3Rpb24gWGUodCxlLG4pe2lmKG51bGwhPWUudmFsdWUpcmV0dXJuIG4uRyh0LGUudmFsdWUpO3ZhciBpPW51bGw7cmV0dXJuIGUuY2hpbGRyZW4uaGEoZnVuY3Rpb24oZSxyKXtcIi5wcmlvcml0eVwiPT09ZT8oSihudWxsIT09ci52YWx1ZSxcIlByaW9yaXR5IHdyaXRlcyBtdXN0IGFsd2F5cyBiZSBsZWFmIG5vZGVzXCIpLGk9ci52YWx1ZSk6bj1YZSh0LncoZSkscixuKX0pLG4ub2EodCkuZSgpfHxudWxsPT09aXx8KG49bi5HKHQudyhcIi5wcmlvcml0eVwiKSxpKSksbn1mdW5jdGlvbiBZZSgpe3RoaXMuVD1SZSx0aGlzLnphPVtdLHRoaXMuTGM9LTF9ZnVuY3Rpb24gWmUodCxlKXtyZXR1cm4gdC5JYT90LnBhdGguY29udGFpbnMoZSk6ISF1YSh0LmNoaWxkcmVuLGZ1bmN0aW9uKG4saSl7cmV0dXJuIHQucGF0aC53KGkpLmNvbnRhaW5zKGUpfSl9ZnVuY3Rpb24gYWYodCl7cmV0dXJuIHQudmlzaWJsZX1mdW5jdGlvbiAkZSh0LGUsbil7Zm9yKHZhciBpPVJlLHI9MDtyPHQubGVuZ3RoOysrcil7dmFyIG89dFtyXTtpZihlKG8pKXt2YXIgYT1vLnBhdGg7aWYoby5JYSluLmNvbnRhaW5zKGEpPyhhPU4obixhKSxpPVNlKGksYSxvLklhKSk6YS5jb250YWlucyhuKSYmKGE9TihhLG4pLGk9U2UoaSxGLG8uSWEub2EoYSkpKTtlbHNle2lmKCFvLmNoaWxkcmVuKXRocm93IEhjKFwiV3JpdGVSZWNvcmQgc2hvdWxkIGhhdmUgLnNuYXAgb3IgLmNoaWxkcmVuXCIpO1xuXG5uLmNvbnRhaW5zKGEpPyhhPU4obixhKSxpPVRlKGksYSxvLmNoaWxkcmVuKSk6YS5jb250YWlucyhuKSYmKGE9TihhLG4pLGEuZSgpP2k9VGUoaSxGLG8uY2hpbGRyZW4pOihvPXcoby5jaGlsZHJlbixPKGEpKSkmJihvPW8ub2EoRyhhKSksaT1TZShpLEYsbykpKX19fXJldHVybiBpfWZ1bmN0aW9uIGJmKHQsZSl7dGhpcy5NYj10LHRoaXMuVz1lfWZ1bmN0aW9uIGNmKCl7dGhpcy55YT17fX1mdW5jdGlvbiBlZih0KXtyZXR1cm4gUGEocmEodC55YSksZnVuY3Rpb24odCl7cmV0dXJuIWRlKHQuVi5uKX0pfWZ1bmN0aW9uIGZmKHQsZSl7aWYoZGUoZS5uKSlyZXR1cm4gZGYodCk7dmFyIG49ZS53YSgpO3JldHVybiB3KHQueWEsbil9ZnVuY3Rpb24gZGYodCl7cmV0dXJuIHZhKHQueWEsZnVuY3Rpb24odCl7cmV0dXJuIGRlKHQuVi5uKX0pfHxudWxsfWZ1bmN0aW9uIGdmKHQpe3RoaXMuc2E9TmQsdGhpcy5IYj1uZXcgWWUsdGhpcy4kZT17fSx0aGlzLmtjPXt9LHRoaXMuTWM9dH1mdW5jdGlvbiBoZih0LGUsaSxyLG8pe3ZhciBhPXQuSGIscz1vO3JldHVybiBKKHI+YS5MYyxcIlN0YWNraW5nIGFuIG9sZGVyIHdyaXRlIG9uIHRvcCBvZiBuZXdlciBvbmVzXCIpLG4ocyl8fChzPSEwKSxhLnphLnB1c2goe3BhdGg6ZSxJYTppLGllOnIsdmlzaWJsZTpzfSkscyYmKGEuVD1TZShhLlQsZSxpKSksYS5MYz1yLG8/amYodCxuZXcgVWIoWWIsZSxpKSk6W119ZnVuY3Rpb24ga2YodCxlLG4saSl7dmFyIHI9dC5IYjtyZXR1cm4gSihpPnIuTGMsXCJTdGFja2luZyBhbiBvbGRlciBtZXJnZSBvbiB0b3Agb2YgbmV3ZXIgb25lc1wiKSxyLnphLnB1c2goe3BhdGg6ZSxjaGlsZHJlbjpuLGllOmksdmlzaWJsZTohMH0pLHIuVD1UZShyLlQsZSxuKSxyLkxjPWksbj1GZShuKSxqZih0LG5ldyB4ZShZYixlLG4pKX1mdW5jdGlvbiBsZih0LGUsbil7cmV0dXJuIG49bnx8ITEsZT10LkhiLk9kKGUpLG51bGw9PWU/W106amYodCxuZXcgV2IoZSxuKSl9ZnVuY3Rpb24gbWYodCxlLG4pe3JldHVybiBuPUZlKG4pLGpmKHQsbmV3IHhlKHplLGUsbikpfWZ1bmN0aW9uIG5mKHQsZSxuLGkpe2lmKGk9b2YodCxpKSxudWxsIT1pKXt2YXIgcj1wZihpKTtyZXR1cm4gaT1yLnBhdGgscj1yLkliLGU9TihpLGUpLG49bmV3IFViKG5ldyB5ZSghMSwhMCxyLCEwKSxlLG4pLHFmKHQsaSxuKX1yZXR1cm5bXX1mdW5jdGlvbiByZih0LGUsbixpKXtpZihpPW9mKHQsaSkpe3ZhciByPXBmKGkpO3JldHVybiBpPXIucGF0aCxyPXIuSWIsZT1OKGksZSksbj1GZShuKSxuPW5ldyB4ZShuZXcgeWUoITEsITAsciwhMCksZSxuKSxxZih0LGksbil9cmV0dXJuW119ZnVuY3Rpb24gdmYodCl7cmV0dXJuIEllKHQsZnVuY3Rpb24odCxlLG4pe2lmKGUmJm51bGwhPWRmKGUpKXJldHVybltkZihlKV07dmFyIGk9W107cmV0dXJuIGUmJihpPWVmKGUpKSxyKG4sZnVuY3Rpb24odCl7aT1pLmNvbmNhdCh0KX0pLGl9KX1mdW5jdGlvbiB5Zih0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7KytuKXt2YXIgaT1lW25dO2lmKCFkZShpLm4pKXt2YXIgaT1zZihpKSxyPXQua2NbaV07ZGVsZXRlIHQua2NbaV0sZGVsZXRlIHQuJGVbXCJfXCIrcl19fX1mdW5jdGlvbiB1Zih0LGUsbil7dmFyIGk9ZS5wYXRoLG89eGYodCxlKTtpZihuPXdmKHQsbiksZT10Lk1jLlhlKGUsbyxuLnVkLG4uSiksaT10LnNhLnN1YnRyZWUoaSksbylKKG51bGw9PWRmKGkudmFsdWUpLFwiSWYgd2UncmUgYWRkaW5nIGEgcXVlcnksIGl0IHNob3VsZG4ndCBiZSBzaGFkb3dlZFwiKTtlbHNlIGZvcihvPUllKGksZnVuY3Rpb24odCxlLG4pe2lmKCF0LmUoKSYmZSYmbnVsbCE9ZGYoZSkpcmV0dXJuW3VlKGRmKGUpKV07dmFyIGk9W107cmV0dXJuIGUmJihpPWkuY29uY2F0KFFhKGVmKGUpLGZ1bmN0aW9uKHQpe3JldHVybiB0LlZ9KSkpLHIobixmdW5jdGlvbih0KXtpPWkuY29uY2F0KHQpfSksaX0pLGk9MDtpPG8ubGVuZ3RoOysraSluPW9baV0sdC5NYy5aZChuLHhmKHQsbikpO3JldHVybiBlfWZ1bmN0aW9uIHdmKHQsZSl7dmFyIG49ZS5WLGk9eGYodCxuKTtyZXR1cm57dWQ6ZnVuY3Rpb24oKXtyZXR1cm4oZS51KCl8fEMpLmhhc2goKX0sSjpmdW5jdGlvbihlKXtpZihcIm9rXCI9PT1lKXtpZihpKXt2YXIgcj1uLnBhdGg7aWYoZT1vZih0LGkpKXt2YXIgbz1wZihlKTtlPW8ucGF0aCxvPW8uSWIscj1OKGUscikscj1uZXcgWmIobmV3IHllKCExLCEwLG8sITApLHIpLGU9cWYodCxlLHIpfWVsc2UgZT1bXX1lbHNlIGU9amYodCxuZXcgWmIoemUsbi5wYXRoKSk7cmV0dXJuIGV9cmV0dXJuIHI9XCJVbmtub3duIEVycm9yXCIsXCJ0b29fYmlnXCI9PT1lP3I9XCJUaGUgZGF0YSByZXF1ZXN0ZWQgZXhjZWVkcyB0aGUgbWF4aW11bSBzaXplIHRoYXQgY2FuIGJlIGFjY2Vzc2VkIHdpdGggYSBzaW5nbGUgcmVxdWVzdC5cIjpcInBlcm1pc3Npb25fZGVuaWVkXCI9PWU/cj1cIkNsaWVudCBkb2Vzbid0IGhhdmUgcGVybWlzc2lvbiB0byBhY2Nlc3MgdGhlIGRlc2lyZWQgZGF0YS5cIjpcInVuYXZhaWxhYmxlXCI9PWUmJihyPVwiVGhlIHNlcnZpY2UgaXMgdW5hdmFpbGFibGVcIikscj1FcnJvcihlK1wiOiBcIityKSxyLmNvZGU9ZS50b1VwcGVyQ2FzZSgpLHQua2IobixudWxsLHIpfX19ZnVuY3Rpb24gc2YodCl7cmV0dXJuIHQucGF0aC50b1N0cmluZygpK1wiJFwiK3Qud2EoKX1mdW5jdGlvbiBwZih0KXt2YXIgZT10LmluZGV4T2YoXCIkXCIpO3JldHVybiBKKC0xIT09ZSYmZTx0Lmxlbmd0aC0xLFwiQmFkIHF1ZXJ5S2V5LlwiKSx7SWI6dC5zdWJzdHIoZSsxKSxwYXRoOm5ldyBLKHQuc3Vic3RyKDAsZSkpfX1mdW5jdGlvbiBvZih0LGUpe3ZhciBuPXQuJGUsaT1cIl9cIitlO3JldHVybiBpIGluIG4/bltpXTp2b2lkIDB9ZnVuY3Rpb24geGYodCxlKXt2YXIgbj1zZihlKTtyZXR1cm4gdyh0LmtjLG4pfWZ1bmN0aW9uIHFmKHQsZSxuKXt2YXIgaT10LnNhLmdldChlKTtyZXR1cm4gSihpLFwiTWlzc2luZyBzeW5jIHBvaW50IGZvciBxdWVyeSB0YWcgdGhhdCB3ZSdyZSB0cmFja2luZ1wiKSxpLmJiKG4sbmV3IGJmKGUsdC5IYiksbnVsbCl9ZnVuY3Rpb24gamYodCxlKXtyZXR1cm4gemYodCxlLHQuc2EsbnVsbCxuZXcgYmYoRix0LkhiKSl9ZnVuY3Rpb24gemYodCxlLG4saSxyKXtpZihlLnBhdGguZSgpKXJldHVybiBBZih0LGUsbixpLHIpO3ZhciBvPW4uZ2V0KEYpO251bGw9PWkmJm51bGwhPW8mJihpPW8uaGIoRikpO3ZhciBhPVtdLHM9TyhlLnBhdGgpLHU9ZS5XYyhzKTtpZigobj1uLmNoaWxkcmVuLmdldChzKSkmJnUpdmFyIGg9aT9pLk0ocyk6bnVsbCxzPXIudyhzKSxhPWEuY29uY2F0KHpmKHQsdSxuLGgscykpO3JldHVybiBvJiYoYT1hLmNvbmNhdChvLmJiKGUscixpKSkpLGF9ZnVuY3Rpb24gQWYodCxlLG4saSxyKXt2YXIgbz1uLmdldChGKTtudWxsPT1pJiZudWxsIT1vJiYoaT1vLmhiKEYpKTt2YXIgYT1bXTtyZXR1cm4gbi5jaGlsZHJlbi5oYShmdW5jdGlvbihuLG8pe3ZhciBzPWk/aS5NKG4pOm51bGwsdT1yLncobiksaD1lLldjKG4pO2gmJihhPWEuY29uY2F0KEFmKHQsaCxvLHMsdSkpKX0pLG8mJihhPWEuY29uY2F0KG8uYmIoZSxyLGkpKSksYX1mdW5jdGlvbiBCZigpe3RoaXMuY2hpbGRyZW49e30sdGhpcy5rZD0wLHRoaXMudmFsdWU9bnVsbH1mdW5jdGlvbiBDZih0LGUsbil7dGhpcy5EZD10P3Q6XCJcIix0aGlzLlljPWU/ZTpudWxsLHRoaXMuQj1uP246bmV3IEJmfWZ1bmN0aW9uIERmKHQsZSl7Zm9yKHZhciBuLGk9ZSBpbnN0YW5jZW9mIEs/ZTpuZXcgSyhlKSxyPXQ7bnVsbCE9PShuPU8oaSkpOylyPW5ldyBDZihuLHIsdyhyLkIuY2hpbGRyZW4sbil8fG5ldyBCZiksaT1HKGkpO3JldHVybiByfWZ1bmN0aW9uIEVmKHQsZSl7SihcInVuZGVmaW5lZFwiIT10eXBlb2YgZSxcIkNhbm5vdCBzZXQgdmFsdWUgdG8gdW5kZWZpbmVkXCIpLHQuQi52YWx1ZT1lLEZmKHQpfWZ1bmN0aW9uIEdmKHQsZSxuLGkpe24mJiFpJiZlKHQpLHQuVShmdW5jdGlvbih0KXtHZih0LGUsITAsaSl9KSxuJiZpJiZlKHQpfWZ1bmN0aW9uIEhmKHQsZSl7Zm9yKHZhciBuPXQucGFyZW50KCk7bnVsbCE9PW4mJiFlKG4pOyluPW4ucGFyZW50KCl9ZnVuY3Rpb24gRmYodCl7aWYobnVsbCE9PXQuWWMpe3ZhciBlPXQuWWMsbj10LkRkLGk9dC5lKCkscj11KGUuQi5jaGlsZHJlbixuKTtpJiZyPyhkZWxldGUgZS5CLmNoaWxkcmVuW25dLGUuQi5rZC0tLEZmKGUpKTppfHxyfHwoZS5CLmNoaWxkcmVuW25dPXQuQixlLkIua2QrKyxGZihlKSl9fWZ1bmN0aW9uIElmKHQpe0ooZWEodCkmJjA8dC5sZW5ndGgsXCJSZXF1aXJlcyBhIG5vbi1lbXB0eSBhcnJheVwiKSx0aGlzLlVmPXQsdGhpcy5OYz17fX1mdW5jdGlvbiBKZih0LGUpe0ooVGEodC5VZixmdW5jdGlvbih0KXtyZXR1cm4gdD09PWV9KSxcIlVua25vd24gZXZlbnQ6IFwiK2UpfWZ1bmN0aW9uIExmKCl7aWYoSWYuY2FsbCh0aGlzLFtcIm9ubGluZVwiXSksdGhpcy5pYz0hMCxcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiZcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93LmFkZEV2ZW50TGlzdGVuZXIpe3ZhciB0PXRoaXM7d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJvbmxpbmVcIixmdW5jdGlvbigpe3QuaWN8fCh0LmljPSEwLHQuZGUoXCJvbmxpbmVcIiwhMCkpfSwhMSksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJvZmZsaW5lXCIsZnVuY3Rpb24oKXt0LmljJiYodC5pYz0hMSx0LmRlKFwib25saW5lXCIsITEpKX0sITEpfX1mdW5jdGlvbiBNZigpe0lmLmNhbGwodGhpcyxbXCJ2aXNpYmxlXCJdKTt2YXIgdCxlO2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBkb2N1bWVudCYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXImJihcInVuZGVmaW5lZFwiIT10eXBlb2YgZG9jdW1lbnQuaGlkZGVuPyhlPVwidmlzaWJpbGl0eWNoYW5nZVwiLHQ9XCJoaWRkZW5cIik6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGRvY3VtZW50Lm1vekhpZGRlbj8oZT1cIm1venZpc2liaWxpdHljaGFuZ2VcIix0PVwibW96SGlkZGVuXCIpOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBkb2N1bWVudC5tc0hpZGRlbj8oZT1cIm1zdmlzaWJpbGl0eWNoYW5nZVwiLHQ9XCJtc0hpZGRlblwiKTpcInVuZGVmaW5lZFwiIT10eXBlb2YgZG9jdW1lbnQud2Via2l0SGlkZGVuJiYoZT1cIndlYmtpdHZpc2liaWxpdHljaGFuZ2VcIix0PVwid2Via2l0SGlkZGVuXCIpKSx0aGlzLnVjPSEwLGUpe3ZhciBuPXRoaXM7ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihlLGZ1bmN0aW9uKCl7dmFyIGU9IWRvY3VtZW50W3RdO2UhPT1uLnVjJiYobi51Yz1lLG4uZGUoXCJ2aXNpYmxlXCIsZSkpfSwhMSl9fWZ1bmN0aW9uIFBmKHQpe3JldHVybiBwKHQpJiYwIT09dC5sZW5ndGgmJiFOZi50ZXN0KHQpfWZ1bmN0aW9uIFFmKHQpe3JldHVybiBudWxsPT09dHx8cCh0KXx8Z2EodCkmJiFTYyh0KXx8aWEodCkmJnUodCxcIi5zdlwiKX1mdW5jdGlvbiBSZih0LGUsaSxyKXtyJiYhbihlKXx8U2Yoeih0LDEsciksZSxpKX1mdW5jdGlvbiBTZih0LGUsaSl7aWYoaSBpbnN0YW5jZW9mIEsmJihpPW5ldyB3YyhpLHQpKSwhbihlKSl0aHJvdyBFcnJvcih0K1wiY29udGFpbnMgdW5kZWZpbmVkIFwiK3pjKGkpKTtpZihoYShlKSl0aHJvdyBFcnJvcih0K1wiY29udGFpbnMgYSBmdW5jdGlvbiBcIit6YyhpKStcIiB3aXRoIGNvbnRlbnRzOiBcIitlLnRvU3RyaW5nKCkpO2lmKFNjKGUpKXRocm93IEVycm9yKHQrXCJjb250YWlucyBcIitlLnRvU3RyaW5nKCkrXCIgXCIremMoaSkpO2lmKHAoZSkmJmUubGVuZ3RoPjEwNDg1NzYwLzMmJjEwNDg1NzYwPHhjKGUpKXRocm93IEVycm9yKHQrXCJjb250YWlucyBhIHN0cmluZyBncmVhdGVyIHRoYW4gMTA0ODU3NjAgdXRmOCBieXRlcyBcIit6YyhpKStcIiAoJ1wiK2Uuc3Vic3RyaW5nKDAsNTApK1wiLi4uJylcIik7aWYoaWEoZSkpe3ZhciByPSExLG89ITE7aWYoaGIoZSxmdW5jdGlvbihlLG4pe2lmKFwiLnZhbHVlXCI9PT1lKXI9ITA7ZWxzZSBpZihcIi5wcmlvcml0eVwiIT09ZSYmXCIuc3ZcIiE9PWUmJihvPSEwLCFQZihlKSkpdGhyb3cgRXJyb3IodCtcIiBjb250YWlucyBhbiBpbnZhbGlkIGtleSAoXCIrZStcIikgXCIremMoaSkrJy4gIEtleXMgbXVzdCBiZSBub24tZW1wdHkgc3RyaW5ncyBhbmQgY2FuXFwndCBjb250YWluIFwiLlwiLCBcIiNcIiwgXCIkXCIsIFwiL1wiLCBcIltcIiwgb3IgXCJdXCInKTtpLnB1c2goZSksU2YodCxuLGkpLGkucG9wKCl9KSxyJiZvKXRocm93IEVycm9yKHQrJyBjb250YWlucyBcIi52YWx1ZVwiIGNoaWxkICcremMoaSkrXCIgaW4gYWRkaXRpb24gdG8gYWN0dWFsIGNoaWxkcmVuLlwiKX19ZnVuY3Rpb24gVGYodCxlLG4pe2lmKCFpYShlKXx8ZWEoZSkpdGhyb3cgRXJyb3Ioeih0LDEsITEpK1wiIG11c3QgYmUgYW4gT2JqZWN0IGNvbnRhaW5pbmcgdGhlIGNoaWxkcmVuIHRvIHJlcGxhY2UuXCIpO2lmKHUoZSxcIi52YWx1ZVwiKSl0aHJvdyBFcnJvcih6KHQsMSwhMSkrJyBtdXN0IG5vdCBjb250YWluIFwiLnZhbHVlXCIuICBUbyBvdmVyd3JpdGUgd2l0aCBhIGxlYWYgdmFsdWUsIGp1c3QgdXNlIC5zZXQoKSBpbnN0ZWFkLicpO1JmKHQsZSxuLCExKX1mdW5jdGlvbiBVZih0LGUsbil7aWYoU2MobikpdGhyb3cgRXJyb3Ioeih0LGUsITEpK1wiaXMgXCIrbi50b1N0cmluZygpK1wiLCBidXQgbXVzdCBiZSBhIHZhbGlkIEZpcmViYXNlIHByaW9yaXR5IChhIHN0cmluZywgZmluaXRlIG51bWJlciwgc2VydmVyIHZhbHVlLCBvciBudWxsKS5cIik7aWYoIVFmKG4pKXRocm93IEVycm9yKHoodCxlLCExKStcIm11c3QgYmUgYSB2YWxpZCBGaXJlYmFzZSBwcmlvcml0eSAoYSBzdHJpbmcsIGZpbml0ZSBudW1iZXIsIHNlcnZlciB2YWx1ZSwgb3IgbnVsbCkuXCIpfWZ1bmN0aW9uIFZmKHQsZSxpKXtpZighaXx8bihlKSlzd2l0Y2goZSl7Y2FzZVwidmFsdWVcIjpjYXNlXCJjaGlsZF9hZGRlZFwiOmNhc2VcImNoaWxkX3JlbW92ZWRcIjpjYXNlXCJjaGlsZF9jaGFuZ2VkXCI6Y2FzZVwiY2hpbGRfbW92ZWRcIjpicmVhaztkZWZhdWx0OnRocm93IEVycm9yKHoodCwxLGkpKydtdXN0IGJlIGEgdmFsaWQgZXZlbnQgdHlwZTogXCJ2YWx1ZVwiLCBcImNoaWxkX2FkZGVkXCIsIFwiY2hpbGRfcmVtb3ZlZFwiLCBcImNoaWxkX2NoYW5nZWRcIiwgb3IgXCJjaGlsZF9tb3ZlZFwiLicpfX1mdW5jdGlvbiBXZih0LGUsaSxyKXtpZigoIXJ8fG4oaSkpJiYhUGYoaSkpdGhyb3cgRXJyb3Ioeih0LGUscikrJ3dhcyBhbiBpbnZhbGlkIGtleTogXCInK2krJ1wiLiAgRmlyZWJhc2Uga2V5cyBtdXN0IGJlIG5vbi1lbXB0eSBzdHJpbmdzIGFuZCBjYW5cXCd0IGNvbnRhaW4gXCIuXCIsIFwiI1wiLCBcIiRcIiwgXCIvXCIsIFwiW1wiLCBvciBcIl1cIikuJyl9ZnVuY3Rpb24gWGYodCxlKXtpZighcChlKXx8MD09PWUubGVuZ3RofHxPZi50ZXN0KGUpKXRocm93IEVycm9yKHoodCwxLCExKSsnd2FzIGFuIGludmFsaWQgcGF0aDogXCInK2UrJ1wiLiBQYXRocyBtdXN0IGJlIG5vbi1lbXB0eSBzdHJpbmdzIGFuZCBjYW5cXCd0IGNvbnRhaW4gXCIuXCIsIFwiI1wiLCBcIiRcIiwgXCJbXCIsIG9yIFwiXVwiJyl9ZnVuY3Rpb24gWWYodCxlKXtpZihcIi5pbmZvXCI9PT1PKGUpKXRocm93IEVycm9yKHQrXCIgZmFpbGVkOiBDYW4ndCBtb2RpZnkgZGF0YSB1bmRlciAvLmluZm8vXCIpfWZ1bmN0aW9uIFpmKHQsZSl7aWYoIXAoZSkpdGhyb3cgRXJyb3Ioeih0LDEsITEpK1wibXVzdCBiZSBhIHZhbGlkIGNyZWRlbnRpYWwgKGEgc3RyaW5nKS5cIil9ZnVuY3Rpb24gJGYodCxlLG4pe2lmKCFwKG4pKXRocm93IEVycm9yKHoodCxlLCExKStcIm11c3QgYmUgYSB2YWxpZCBzdHJpbmcuXCIpfWZ1bmN0aW9uIGFnKHQsZSxpLHIpe2lmKCEociYmIW4oaSl8fGlhKGkpJiZudWxsIT09aSkpdGhyb3cgRXJyb3Ioeih0LGUscikrXCJtdXN0IGJlIGEgdmFsaWQgb2JqZWN0LlwiKX1mdW5jdGlvbiBiZyh0LGUsbil7aWYoIWlhKGUpfHxudWxsPT09ZXx8IXUoZSxuKSl0aHJvdyBFcnJvcih6KHQsMSwhMSkrJ211c3QgY29udGFpbiB0aGUga2V5IFwiJytuKydcIicpO2lmKCFwKHcoZSxuKSkpdGhyb3cgRXJyb3Ioeih0LDEsITEpKydtdXN0IGNvbnRhaW4gdGhlIGtleSBcIicrbisnXCIgd2l0aCB0eXBlIFwic3RyaW5nXCInKX1mdW5jdGlvbiBjZygpe3RoaXMuc2V0PXt9fWZ1bmN0aW9uIGRnKHQsZSl7cih0LnNldCxmdW5jdGlvbih0LG4pe2Uobix0KX0pfWZ1bmN0aW9uIHFjKCl7dGhpcy5tPXRoaXMuQz1udWxsfWZ1bmN0aW9uIGVnKHQsZSl7aWYoZS5lKCkpcmV0dXJuIHQuQz1udWxsLHQubT1udWxsLCEwO2lmKG51bGwhPT10LkMpe2lmKHQuQy5OKCkpcmV0dXJuITE7dmFyIG49dC5DO3JldHVybiB0LkM9bnVsbCxuLlUoTSxmdW5jdGlvbihlLG4pe3QubWMobmV3IEsoZSksbil9KSxlZyh0LGUpfXJldHVybiBudWxsIT09dC5tPyhuPU8oZSksZT1HKGUpLHQubS5jb250YWlucyhuKSYmZWcodC5tLmdldChuKSxlKSYmdC5tLnJlbW92ZShuKSx0Lm0uZSgpPyh0Lm09bnVsbCwhMCk6ITEpOiEwfWZ1bmN0aW9uIHJjKHQsZSxuKXtudWxsIT09dC5DP24oZSx0LkMpOnQuVShmdW5jdGlvbih0LGkpe3ZhciByPW5ldyBLKGUudG9TdHJpbmcoKStcIi9cIit0KTtyYyhpLHIsbil9KX1mdW5jdGlvbiBnZyh0LGUsbil7dGhpcy5sZD10fHx7fSx0aGlzLmNlPWV8fHt9LHRoaXMuYWI9bnx8e30sdGhpcy5sZC5yZW1lbWJlcnx8KHRoaXMubGQucmVtZW1iZXI9XCJkZWZhdWx0XCIpfWZ1bmN0aW9uIGlnKHQpe3ZhciBlPXt9LG49e307cmV0dXJuIGhiKHR8fHt9LGZ1bmN0aW9uKHQsaSl7MDw9TmEoaGcsdCk/ZVt0XT1pOm5bdF09aX0pLG5ldyBnZyhlLHt9LG4pfWZ1bmN0aW9uIGpnKHQsZSl7dGhpcy5QZT1bXCJzZXNzaW9uXCIsdC5MZCx0LkNiXS5qb2luKFwiOlwiKSx0aGlzLiRkPWV9ZnVuY3Rpb24ga2coKXtyZXR1cm5cInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiYhISh3aW5kb3cuY29yZG92YXx8d2luZG93LnBob25lZ2FwfHx3aW5kb3cuUGhvbmVHYXApJiYvaW9zfGlwaG9uZXxpcG9kfGlwYWR8YW5kcm9pZHxibGFja2JlcnJ5fGllbW9iaWxlL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KX1mdW5jdGlvbiBsZygpe3JldHVyblwidW5kZWZpbmVkXCIhPXR5cGVvZiBsb2NhdGlvbiYmL15maWxlOlxcLy8udGVzdChsb2NhdGlvbi5ocmVmKX1mdW5jdGlvbiBtZygpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBuYXZpZ2F0b3IpcmV0dXJuITE7dmFyIHQ9bmF2aWdhdG9yLnVzZXJBZ2VudDtpZihcIk1pY3Jvc29mdCBJbnRlcm5ldCBFeHBsb3JlclwiPT09bmF2aWdhdG9yLmFwcE5hbWUpe2lmKCh0PXQubWF0Y2goL01TSUUgKFswLTldezEsfVtcXC4wLTldezAsfSkvKSkmJjE8dC5sZW5ndGgpcmV0dXJuIDg8PXBhcnNlRmxvYXQodFsxXSl9ZWxzZSBpZigtMTx0LmluZGV4T2YoXCJUcmlkZW50XCIpJiYodD10Lm1hdGNoKC9ydjooWzAtOV17MiwyfVtcXC4wLTldezAsfSkvKSkmJjE8dC5sZW5ndGgpcmV0dXJuIDg8PXBhcnNlRmxvYXQodFsxXSk7cmV0dXJuITF9ZnVuY3Rpb24gbmcoKXt2YXIgdCxlPXdpbmRvdy5vcGVuZXIuZnJhbWVzO2Zvcih0PWUubGVuZ3RoLTE7dD49MDt0LS0pdHJ5e2lmKGVbdF0ubG9jYXRpb24ucHJvdG9jb2w9PT13aW5kb3cubG9jYXRpb24ucHJvdG9jb2wmJmVbdF0ubG9jYXRpb24uaG9zdD09PXdpbmRvdy5sb2NhdGlvbi5ob3N0JiZcIl9fd2luY2hhbl9yZWxheV9mcmFtZVwiPT09ZVt0XS5uYW1lKXJldHVybiBlW3RdfWNhdGNoKG4pe31yZXR1cm4gbnVsbH1mdW5jdGlvbiBvZyh0LGUsbil7dC5hdHRhY2hFdmVudD90LmF0dGFjaEV2ZW50KFwib25cIitlLG4pOnQuYWRkRXZlbnRMaXN0ZW5lciYmdC5hZGRFdmVudExpc3RlbmVyKGUsbiwhMSl9ZnVuY3Rpb24gcGcodCxlLG4pe3QuZGV0YWNoRXZlbnQ/dC5kZXRhY2hFdmVudChcIm9uXCIrZSxuKTp0LnJlbW92ZUV2ZW50TGlzdGVuZXImJnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihlLG4sITEpfWZ1bmN0aW9uIHFnKHQpey9eaHR0cHM/OlxcL1xcLy8udGVzdCh0KXx8KHQ9d2luZG93LmxvY2F0aW9uLmhyZWYpO3ZhciBlPS9eKGh0dHBzPzpcXC9cXC9bXFwtX2EtekEtWlxcLjAtOTpdKykvLmV4ZWModCk7cmV0dXJuIGU/ZVsxXTp0fWZ1bmN0aW9uIHJnKHQpe3ZhciBlPVwiXCI7dHJ5e3Q9dC5yZXBsYWNlKFwiI1wiLFwiXCIpO3ZhciBuPWtiKHQpO24mJnUobixcIl9fZmlyZWJhc2VfcmVxdWVzdF9rZXlcIikmJihlPXcobixcIl9fZmlyZWJhc2VfcmVxdWVzdF9rZXlcIikpfWNhdGNoKGkpe31yZXR1cm4gZX1mdW5jdGlvbiBzZygpe3ZhciB0PVJjKGZnKTtyZXR1cm4gdC5zY2hlbWUrXCI6Ly9cIit0Lmhvc3QrXCIvdjJcIn1mdW5jdGlvbiB0Zyh0KXtyZXR1cm4gc2coKStcIi9cIit0K1wiL2F1dGgvY2hhbm5lbFwifWZ1bmN0aW9uIHVnKHQpe3ZhciBlPXRoaXM7aWYodGhpcy56Yz10LHRoaXMuYWU9XCIqXCIsbWcoKT90aGlzLlFjPXRoaXMud2Q9bmcoKToodGhpcy5RYz13aW5kb3cub3BlbmVyLHRoaXMud2Q9d2luZG93KSwhZS5RYyl0aHJvd1wiVW5hYmxlIHRvIGZpbmQgcmVsYXkgZnJhbWVcIjtvZyh0aGlzLndkLFwibWVzc2FnZVwiLHEodGhpcy5oYyx0aGlzKSksb2codGhpcy53ZCxcIm1lc3NhZ2VcIixxKHRoaXMuQWYsdGhpcykpO3RyeXt2Zyh0aGlzLHthOlwicmVhZHlcIn0pfWNhdGNoKG4pe29nKHRoaXMuUWMsXCJsb2FkXCIsZnVuY3Rpb24oKXt2ZyhlLHthOlwicmVhZHlcIn0pfSl9b2cod2luZG93LFwidW5sb2FkXCIscSh0aGlzLnlnLHRoaXMpKX1mdW5jdGlvbiB2Zyh0LGUpe2U9QihlKSxtZygpP3QuUWMuZG9Qb3N0KGUsdC5hZSk6dC5RYy5wb3N0TWVzc2FnZShlLHQuYWUpfWZ1bmN0aW9uIHdnKHQpe3RoaXMub2M9R2EoKStHYSgpK0dhKCksdGhpcy5EZj10fWZ1bmN0aW9uIHlnKHQpe3ZhciBlPUVycm9yKHcoeGcsdCksdCk7cmV0dXJuIGUuY29kZT10LGV9ZnVuY3Rpb24gemcodCl7KCF0LndpbmRvd19mZWF0dXJlc3x8XCJ1bmRlZmluZWRcIiE9dHlwZW9mIG5hdmlnYXRvciYmKC0xIT09bmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKFwiRmVubmVjL1wiKXx8LTEhPT1uYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoXCJGaXJlZm94L1wiKSYmLTEhPT1uYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoXCJBbmRyb2lkXCIpKSkmJih0LndpbmRvd19mZWF0dXJlcz12b2lkIDApLHQud2luZG93X25hbWV8fCh0LndpbmRvd19uYW1lPVwiX2JsYW5rXCIpLHRoaXMub3B0aW9ucz10fWZ1bmN0aW9uIEFnKHQpe3QubWV0aG9kfHwodC5tZXRob2Q9XCJHRVRcIiksdC5oZWFkZXJzfHwodC5oZWFkZXJzPXt9KSx0LmhlYWRlcnMuY29udGVudF90eXBlfHwodC5oZWFkZXJzLmNvbnRlbnRfdHlwZT1cImFwcGxpY2F0aW9uL2pzb25cIiksdC5oZWFkZXJzLmNvbnRlbnRfdHlwZT10LmhlYWRlcnMuY29udGVudF90eXBlLnRvTG93ZXJDYXNlKCksdGhpcy5vcHRpb25zPXR9ZnVuY3Rpb24gQmcodCl7dGhpcy5vYz1HYSgpK0dhKCkrR2EoKSx0aGlzLkRmPXR9ZnVuY3Rpb24gQ2codCl7dC5jYWxsYmFja19wYXJhbWV0ZXJ8fCh0LmNhbGxiYWNrX3BhcmFtZXRlcj1cImNhbGxiYWNrXCIpLHRoaXMub3B0aW9ucz10LHdpbmRvdy5fX2ZpcmViYXNlX2F1dGhfanNvbnA9d2luZG93Ll9fZmlyZWJhc2VfYXV0aF9qc29ucHx8e319ZnVuY3Rpb24gRGcodCxlLG4pe3NldFRpbWVvdXQoZnVuY3Rpb24oKXt0cnl7dmFyIGk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKTtpLnR5cGU9XCJ0ZXh0L2phdmFzY3JpcHRcIixpLmlkPXQsaS5hc3luYz0hMCxpLnNyYz1lLGkub25lcnJvcj1mdW5jdGlvbigpe3ZhciBlPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHQpO251bGwhPT1lJiZlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZSksbiYmbih5ZyhcIk5FVFdPUktfRVJST1JcIikpfTt2YXIgcj1kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImhlYWRcIik7KHImJjAhPXIubGVuZ3RoP3JbMF06ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KS5hcHBlbmRDaGlsZChpKX1jYXRjaChvKXtuJiZuKHlnKFwiTkVUV09SS19FUlJPUlwiKSl9fSwwKX1mdW5jdGlvbiBFZyh0LGUsbixpKXtJZi5jYWxsKHRoaXMsW1wiYXV0aF9zdGF0dXNcIl0pLHRoaXMuSD10LHRoaXMuZGY9ZSx0aGlzLlNnPW4sdGhpcy5LZT1pLHRoaXMucmM9bmV3IGpnKHQsW0RjLFBdKSx0aGlzLm5iPW51bGwsdGhpcy5SZT0hMSxGZyh0aGlzKX1mdW5jdGlvbiBGZyh0KXtQLmdldChcInJlZGlyZWN0X3JlcXVlc3RfaWRcIikmJkdnKHQpO3ZhciBlPXQucmMuZ2V0KCk7ZSYmZS50b2tlbj8oSGcodCxlKSx0LmRmKGUudG9rZW4sZnVuY3Rpb24obixpKXtJZyh0LG4saSwhMSxlLnRva2VuLGUpfSxmdW5jdGlvbihlLG4pe0pnKHQsXCJyZXN1bWVTZXNzaW9uKClcIixlLG4pfSkpOkhnKHQsbnVsbCl9ZnVuY3Rpb24gS2codCxlLG4saSxyLG8pe1wiZmlyZWJhc2Vpby1kZW1vLmNvbVwiPT09dC5ILmRvbWFpbiYmUShcIkZpcmViYXNlIGF1dGhlbnRpY2F0aW9uIGlzIG5vdCBzdXBwb3J0ZWQgb24gZGVtbyBGaXJlYmFzZXMgKCouZmlyZWJhc2Vpby1kZW1vLmNvbSkuIFRvIHNlY3VyZSB5b3VyIEZpcmViYXNlLCBjcmVhdGUgYSBwcm9kdWN0aW9uIEZpcmViYXNlIGF0IGh0dHBzOi8vd3d3LmZpcmViYXNlLmNvbS5cIiksdC5kZihlLGZ1bmN0aW9uKG8sYSl7SWcodCxvLGEsITAsZSxuLGl8fHt9LHIpfSxmdW5jdGlvbihlLG4pe0pnKHQsXCJhdXRoKClcIixlLG4sbyl9KX1mdW5jdGlvbiBMZyh0LGUpe3QucmMuY2xlYXIoKSxIZyh0LG51bGwpLHQuU2coZnVuY3Rpb24odCxuKXtpZihcIm9rXCI9PT10KVIoZSxudWxsKTtlbHNle3ZhciBpPSh0fHxcImVycm9yXCIpLnRvVXBwZXJDYXNlKCkscj1pO24mJihyKz1cIjogXCIrbikscj1FcnJvcihyKSxyLmNvZGU9aSxSKGUscil9fSl9ZnVuY3Rpb24gSWcodCxlLG4saSxyLG8sYSxzKXtcIm9rXCI9PT1lPyhpJiYoZT1uLmF1dGgsby5hdXRoPWUsby5leHBpcmVzPW4uZXhwaXJlcyxvLnRva2VuPWNkKHIpP3I6XCJcIixuPW51bGwsZSYmdShlLFwidWlkXCIpP249dyhlLFwidWlkXCIpOnUobyxcInVpZFwiKSYmKG49dyhvLFwidWlkXCIpKSxvLnVpZD1uLG49XCJjdXN0b21cIixlJiZ1KGUsXCJwcm92aWRlclwiKT9uPXcoZSxcInByb3ZpZGVyXCIpOnUobyxcInByb3ZpZGVyXCIpJiYobj13KG8sXCJwcm92aWRlclwiKSksby5wcm92aWRlcj1uLHQucmMuY2xlYXIoKSxjZChyKSYmKGE9YXx8e30sbj1EYyxcInNlc3Npb25Pbmx5XCI9PT1hLnJlbWVtYmVyJiYobj1QKSxcIm5vbmVcIiE9PWEucmVtZW1iZXImJnQucmMuc2V0KG8sbikpLEhnKHQsbykpLFIocyxudWxsLG8pKToodC5yYy5jbGVhcigpLEhnKHQsbnVsbCksbz10PShlfHxcImVycm9yXCIpLnRvVXBwZXJDYXNlKCksbiYmKG8rPVwiOiBcIituKSxvPUVycm9yKG8pLG8uY29kZT10LFIocyxvKSl9ZnVuY3Rpb24gSmcodCxlLG4saSxyKXtRKGUrXCIgd2FzIGNhbmNlbGVkOiBcIitpKSx0LnJjLmNsZWFyKCksSGcodCxudWxsKSx0PUVycm9yKGkpLHQuY29kZT1uLnRvVXBwZXJDYXNlKCksUihyLHQpfWZ1bmN0aW9uIE1nKHQsZSxuLGkscil7TmcodCksbj1uZXcgZ2coaXx8e30se30sbnx8e30pLE9nKHQsW0FnLENnXSxcIi9hdXRoL1wiK2UsbixyKX1mdW5jdGlvbiBQZyh0LGUsbixpKXtOZyh0KTt2YXIgcj1bemcsQmddO249aWcobiksXCJhbm9ueW1vdXNcIj09PWV8fFwicGFzc3dvcmRcIj09PWU/c2V0VGltZW91dChmdW5jdGlvbigpe1IoaSx5ZyhcIlRSQU5TUE9SVF9VTkFWQUlMQUJMRVwiKSl9LDApOihuLmNlLndpbmRvd19mZWF0dXJlcz1cIm1lbnViYXI9eWVzLG1vZGFsPXllcyxhbHdheXNSYWlzZWQ9eWVzbG9jYXRpb249eWVzLHJlc2l6YWJsZT15ZXMsc2Nyb2xsYmFycz15ZXMsc3RhdHVzPXllcyxoZWlnaHQ9NjI1LHdpZHRoPTYyNSx0b3A9XCIrKFwib2JqZWN0XCI9PXR5cGVvZiBzY3JlZW4/LjUqKHNjcmVlbi5oZWlnaHQtNjI1KTowKStcIixsZWZ0PVwiKyhcIm9iamVjdFwiPT10eXBlb2Ygc2NyZWVuPy41KihzY3JlZW4ud2lkdGgtNjI1KTowKSxuLmNlLnJlbGF5X3VybD10Zyh0LkguQ2IpLG4uY2UucmVxdWVzdFdpdGhDcmVkZW50aWFsPXEodC5wYyx0KSxPZyh0LHIsXCIvYXV0aC9cIitlLG4saSkpfWZ1bmN0aW9uIEdnKHQpe3ZhciBlPVAuZ2V0KFwicmVkaXJlY3RfcmVxdWVzdF9pZFwiKTtpZihlKXt2YXIgbj1QLmdldChcInJlZGlyZWN0X2NsaWVudF9vcHRpb25zXCIpO1AucmVtb3ZlKFwicmVkaXJlY3RfcmVxdWVzdF9pZFwiKSxQLnJlbW92ZShcInJlZGlyZWN0X2NsaWVudF9vcHRpb25zXCIpO3ZhciBpPVtBZyxDZ10sZT17cmVxdWVzdElkOmUscmVxdWVzdEtleTpyZyhkb2N1bWVudC5sb2NhdGlvbi5oYXNoKX0sbj1uZXcgZ2cobix7fSxlKTt0LlJlPSEwO3RyeXtkb2N1bWVudC5sb2NhdGlvbi5oYXNoPWRvY3VtZW50LmxvY2F0aW9uLmhhc2gucmVwbGFjZSgvJl9fZmlyZWJhc2VfcmVxdWVzdF9rZXk9KFthLXpBLXowLTldKikvLFwiXCIpfWNhdGNoKHIpe31PZyh0LGksXCIvYXV0aC9zZXNzaW9uXCIsbixmdW5jdGlvbigpe3RoaXMuUmU9ITF9LmJpbmQodCkpfX1mdW5jdGlvbiBPZyh0LGUsbixpLHIpe1FnKHQsZSxuLGksZnVuY3Rpb24oZSxuKXshZSYmbiYmbi50b2tlbiYmbi51aWQ/S2codCxuLnRva2VuLG4saS5sZCxmdW5jdGlvbih0LGUpe3Q/UihyLHQpOlIocixudWxsLGUpfSk6UihyLGV8fHlnKFwiVU5LTk9XTl9FUlJPUlwiKSl9KX1mdW5jdGlvbiBRZyh0LGUsbixpLHIpe2U9UGEoZSxmdW5jdGlvbih0KXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiB0LmlzQXZhaWxhYmxlJiZ0LmlzQXZhaWxhYmxlKCl9KSwwPT09ZS5sZW5ndGg/c2V0VGltZW91dChmdW5jdGlvbigpe1Iocix5ZyhcIlRSQU5TUE9SVF9VTkFWQUlMQUJMRVwiKSl9LDApOihlPW5ldyhlLnNoaWZ0KCkpKGkuY2UpLGk9aWIoaS5hYiksaS52PVwianMtMi4yLjRcIixpLnRyYW5zcG9ydD1lLkJjKCksaS5zdXBwcmVzc19zdGF0dXNfY29kZXM9ITAsdD1zZygpK1wiL1wiK3QuSC5DYituLGUub3Blbih0LGksZnVuY3Rpb24odCxlKXtpZih0KVIocix0KTtlbHNlIGlmKGUmJmUuZXJyb3Ipe3ZhciBuPUVycm9yKGUuZXJyb3IubWVzc2FnZSk7bi5jb2RlPWUuZXJyb3IuY29kZSxuLmRldGFpbHM9ZS5lcnJvci5kZXRhaWxzLFIocixuKX1lbHNlIFIocixudWxsLGUpfSkpfWZ1bmN0aW9uIEhnKHQsZSl7dmFyIG49bnVsbCE9PXQubmJ8fG51bGwhPT1lO3QubmI9ZSxuJiZ0LmRlKFwiYXV0aF9zdGF0dXNcIixlKSx0LktlKG51bGwhPT1lKX1mdW5jdGlvbiBOZyh0KXt2YXIgZT10Lkg7aWYoXCJmaXJlYmFzZWlvLmNvbVwiIT09ZS5kb21haW4mJlwiZmlyZWJhc2Vpby1kZW1vLmNvbVwiIT09ZS5kb21haW4mJlwiYXV0aC5maXJlYmFzZS5jb21cIj09PWZnKXRocm93IEVycm9yKFwiVGhpcyBjdXN0b20gRmlyZWJhc2Ugc2VydmVyICgnXCIrdC5ILmRvbWFpbitcIicpIGRvZXMgbm90IHN1cHBvcnQgZGVsZWdhdGVkIGxvZ2luLlwiKX1mdW5jdGlvbiBSZyh0KXt0aGlzLmhjPXQsdGhpcy5LZD1bXSx0aGlzLlFiPTAsdGhpcy5wZT0tMSx0aGlzLkZiPW51bGx9ZnVuY3Rpb24gU2codCxlLG4pe3QucGU9ZSx0LkZiPW4sdC5wZTx0LlFiJiYodC5GYigpLHQuRmI9bnVsbCl9ZnVuY3Rpb24gVGcodCxlLG4pe2Zvcih0LktkW2VdPW47dC5LZFt0LlFiXTspe3ZhciBpPXQuS2RbdC5RYl07ZGVsZXRlIHQuS2RbdC5RYl07Zm9yKHZhciByPTA7cjxpLmxlbmd0aDsrK3IpaWYoaVtyXSl7dmFyIG89dDtDYihmdW5jdGlvbigpe28uaGMoaVtyXSl9KX1pZih0LlFiPT09dC5wZSl7dC5GYiYmKGNsZWFyVGltZW91dCh0LkZiKSx0LkZiKCksdC5GYj1udWxsKTticmVha310LlFiKyt9fWZ1bmN0aW9uIFVnKHQsZSxuKXt0aGlzLnFlPXQsdGhpcy5mPU9jKHQpLHRoaXMub2I9dGhpcy5wYj0wLHRoaXMuVmE9T2IoZSksdGhpcy5WZD1uLHRoaXMuR2M9ITEsdGhpcy5nZD1mdW5jdGlvbih0KXtlLmhvc3QhPT1lLk9hJiYodC5ucz1lLkNiKTt2YXIgbixpPVtdO2ZvcihuIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShuKSYmaS5wdXNoKG4rXCI9XCIrdFtuXSk7cmV0dXJuKGUubGI/XCJodHRwczovL1wiOlwiaHR0cDovL1wiKStlLk9hK1wiLy5scD9cIitpLmpvaW4oXCImXCIpfX1mdW5jdGlvbiBZZyh0LGUpe3ZhciBuPUIoZSkubGVuZ3RoO3Qub2IrPW4sTGIodC5WYSxcImJ5dGVzX3JlY2VpdmVkXCIsbil9ZnVuY3Rpb24gWGcodCxlLG4saSl7aWYodGhpcy5nZD1pLHRoaXMuamI9bix0aGlzLk9lPW5ldyBjZyx0aGlzLiRjPVtdLHRoaXMuc2U9TWF0aC5mbG9vcigxZTgqTWF0aC5yYW5kb20oKSksdGhpcy5UZD0hMCx0aGlzLmZlPUdjKCksd2luZG93W1wicExQQ29tbWFuZFwiK3RoaXMuZmVdPXQsd2luZG93W1wicFJUTFBDQlwiK3RoaXMuZmVdPWUsdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaWZyYW1lXCIpLHQuc3R5bGUuZGlzcGxheT1cIm5vbmVcIiwhZG9jdW1lbnQuYm9keSl0aHJvd1wiRG9jdW1lbnQgYm9keSBoYXMgbm90IGluaXRpYWxpemVkLiBXYWl0IHRvIGluaXRpYWxpemUgRmlyZWJhc2UgdW50aWwgYWZ0ZXIgdGhlIGRvY3VtZW50IGlzIHJlYWR5LlwiO2RvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodCk7dHJ5e3QuY29udGVudFdpbmRvdy5kb2N1bWVudHx8QmIoXCJObyBJRSBkb21haW4gc2V0dGluZyByZXF1aXJlZFwiKX1jYXRjaChyKXt0LnNyYz1cImphdmFzY3JpcHQ6dm9pZCgoZnVuY3Rpb24oKXtkb2N1bWVudC5vcGVuKCk7ZG9jdW1lbnQuZG9tYWluPSdcIitkb2N1bWVudC5kb21haW4rXCInO2RvY3VtZW50LmNsb3NlKCk7fSkoKSlcIn10LmNvbnRlbnREb2N1bWVudD90LmdiPXQuY29udGVudERvY3VtZW50OnQuY29udGVudFdpbmRvdz90LmdiPXQuY29udGVudFdpbmRvdy5kb2N1bWVudDp0LmRvY3VtZW50JiYodC5nYj10LmRvY3VtZW50KSx0aGlzLkNhPXQsdD1cIlwiLHRoaXMuQ2Euc3JjJiZcImphdmFzY3JpcHQ6XCI9PT10aGlzLkNhLnNyYy5zdWJzdHIoMCwxMSkmJih0PSc8c2NyaXB0PmRvY3VtZW50LmRvbWFpbj1cIicrZG9jdW1lbnQuZG9tYWluKydcIjs8L3NjcmlwdD4nKSx0PVwiPGh0bWw+PGJvZHk+XCIrdCtcIjwvYm9keT48L2h0bWw+XCI7dHJ5e3RoaXMuQ2EuZ2Iub3BlbigpLHRoaXMuQ2EuZ2Iud3JpdGUodCksdGhpcy5DYS5nYi5jbG9zZSgpfWNhdGNoKG8pe0JiKFwiZnJhbWUgd3JpdGluZyBleGNlcHRpb25cIiksby5zdGFjayYmQmIoby5zdGFjayksQmIobyl9fWZ1bmN0aW9uICRnKHQpe2lmKHQua2UmJnQuVGQmJnQuT2UuY291bnQoKTwoMDx0LiRjLmxlbmd0aD8yOjEpKXt0LnNlKys7dmFyIGU9e307ZS5pZD10LnJnLGUucHc9dC5zZyxlLnNlcj10LnNlO2Zvcih2YXIgZT10LmdkKGUpLG49XCJcIixpPTA7MDx0LiRjLmxlbmd0aCYmMTg3MD49dC4kY1swXS5qZi5sZW5ndGgrMzArbi5sZW5ndGg7KXt2YXIgcj10LiRjLnNoaWZ0KCksbj1uK1wiJnNlZ1wiK2krXCI9XCIrci5KZytcIiZ0c1wiK2krXCI9XCIrci5SZytcIiZkXCIraStcIj1cIityLmpmO2krK31yZXR1cm4gYWgodCxlK24sdC5zZSksITB9cmV0dXJuITF9ZnVuY3Rpb24gYWgodCxlLG4pe2Z1bmN0aW9uIGkoKXt0Lk9lLnJlbW92ZShuKSwkZyh0KX10Lk9lLmFkZChuLDEpO3ZhciByPXNldFRpbWVvdXQoaSxNYXRoLmZsb29yKDI1ZTMpKTtaZyh0LGUsZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQociksaSgpfSl9ZnVuY3Rpb24gWmcodCxlLG4pe3NldFRpbWVvdXQoZnVuY3Rpb24oKXt0cnl7aWYodC5UZCl7dmFyIGk9dC5DYS5nYi5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpO2kudHlwZT1cInRleHQvamF2YXNjcmlwdFwiLGkuYXN5bmM9ITAsaS5zcmM9ZSxpLm9ubG9hZD1pLm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpe3ZhciB0PWkucmVhZHlTdGF0ZTt0JiZcImxvYWRlZFwiIT09dCYmXCJjb21wbGV0ZVwiIT09dHx8KGkub25sb2FkPWkub25yZWFkeXN0YXRlY2hhbmdlPW51bGwsaS5wYXJlbnROb2RlJiZpLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoaSksbigpKX0saS5vbmVycm9yPWZ1bmN0aW9uKCl7QmIoXCJMb25nLXBvbGwgc2NyaXB0IGZhaWxlZCB0byBsb2FkOiBcIitlKSx0LlRkPSExLHQuY2xvc2UoKX0sdC5DYS5nYi5ib2R5LmFwcGVuZENoaWxkKGkpfX1jYXRjaChyKXt9fSxNYXRoLmZsb29yKDEpKX1mdW5jdGlvbiBjaCh0LGUsbil7dGhpcy5xZT10LHRoaXMuZj1PYyh0aGlzLnFlKSx0aGlzLmZyYW1lcz10aGlzLkpjPW51bGwsdGhpcy5vYj10aGlzLnBiPXRoaXMuYmY9MCx0aGlzLlZhPU9iKGUpLHRoaXMuZmI9KGUubGI/XCJ3c3M6Ly9cIjpcIndzOi8vXCIpK2UuT2ErXCIvLndzP3Y9NVwiLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBsb2NhdGlvbiYmbG9jYXRpb24uaHJlZiYmLTEhPT1sb2NhdGlvbi5ocmVmLmluZGV4T2YoXCJmaXJlYmFzZWlvLmNvbVwiKSYmKHRoaXMuZmIrPVwiJnI9ZlwiKSxlLmhvc3QhPT1lLk9hJiYodGhpcy5mYj10aGlzLmZiK1wiJm5zPVwiK2UuQ2IpLG4mJih0aGlzLmZiPXRoaXMuZmIrXCImcz1cIituKX1mdW5jdGlvbiBmaCh0LGUpe2lmKHQuZnJhbWVzLnB1c2goZSksdC5mcmFtZXMubGVuZ3RoPT10LmJmKXt2YXIgbj10LmZyYW1lcy5qb2luKFwiXCIpO3QuZnJhbWVzPW51bGwsbj1tYihuKSx0LndnKG4pfX1mdW5jdGlvbiBlaCh0KXtjbGVhckludGVydmFsKHQuSmMpLHQuSmM9c2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXt0LnZhJiZ0LnZhLnNlbmQoXCIwXCIpLGVoKHQpfSxNYXRoLmZsb29yKDQ1ZTMpKX1mdW5jdGlvbiBnaCh0KXtoaCh0aGlzLHQpfWZ1bmN0aW9uIGhoKHQsZSl7dmFyIG49Y2gmJmNoLmlzQXZhaWxhYmxlKCksaT1uJiYhKERjLnVmfHwhMD09PURjLmdldChcInByZXZpb3VzX3dlYnNvY2tldF9mYWlsdXJlXCIpKTtpZihlLlRnJiYobnx8UShcIndzczovLyBVUkwgdXNlZCwgYnV0IGJyb3dzZXIgaXNuJ3Qga25vd24gdG8gc3VwcG9ydCB3ZWJzb2NrZXRzLiAgVHJ5aW5nIGFueXdheS5cIiksaT0hMCksaSl0LmVkPVtjaF07ZWxzZXt2YXIgcj10LmVkPVtdO1ljKGloLGZ1bmN0aW9uKHQsZSl7ZSYmZS5pc0F2YWlsYWJsZSgpJiZyLnB1c2goZSl9KX19ZnVuY3Rpb24gamgodCl7aWYoMDx0LmVkLmxlbmd0aClyZXR1cm4gdC5lZFswXTt0aHJvdyBFcnJvcihcIk5vIHRyYW5zcG9ydHMgYXZhaWxhYmxlXCIpfWZ1bmN0aW9uIGtoKHQsZSxuLGkscixvKXt0aGlzLmlkPXQsdGhpcy5mPU9jKFwiYzpcIit0aGlzLmlkK1wiOlwiKSx0aGlzLmhjPW4sdGhpcy5WYz1pLHRoaXMua2E9cix0aGlzLk1lPW8sdGhpcy5IPWUsdGhpcy5KZD1bXSx0aGlzLmVmPTAsdGhpcy5OZj1uZXcgZ2goZSksdGhpcy5VYT0wLHRoaXMuZihcIkNvbm5lY3Rpb24gY3JlYXRlZFwiKSxsaCh0aGlzKX1mdW5jdGlvbiBsaCh0KXt2YXIgZT1qaCh0Lk5mKTt0Lkw9bmV3IGUoXCJjOlwiK3QuaWQrXCI6XCIrdC5lZisrLHQuSCksdC5RZT1lLnJlc3BvbnNlc1JlcXVpcmVkVG9CZUhlYWx0aHl8fDA7dmFyIG49bWgodCx0LkwpLGk9bmgodCx0LkwpO3QuZmQ9dC5MLHQuYmQ9dC5MLHQuRj1udWxsLHQuQWI9ITEsc2V0VGltZW91dChmdW5jdGlvbigpe3QuTCYmdC5MLm9wZW4obixpKX0sTWF0aC5mbG9vcigwKSksZT1lLmhlYWx0aHlUaW1lb3V0fHwwLGU+MCYmKHQudmQ9c2V0VGltZW91dChmdW5jdGlvbigpe3QudmQ9bnVsbCx0LkFifHwodC5MJiYxMDI0MDA8dC5MLm9iPyh0LmYoXCJDb25uZWN0aW9uIGV4Y2VlZGVkIGhlYWx0aHkgdGltZW91dCBidXQgaGFzIHJlY2VpdmVkIFwiK3QuTC5vYitcIiBieXRlcy4gIE1hcmtpbmcgY29ubmVjdGlvbiBoZWFsdGh5LlwiKSx0LkFiPSEwLHQuTC5CZCgpKTp0LkwmJjEwMjQwPHQuTC5wYj90LmYoXCJDb25uZWN0aW9uIGV4Y2VlZGVkIGhlYWx0aHkgdGltZW91dCBidXQgaGFzIHNlbnQgXCIrdC5MLnBiK1wiIGJ5dGVzLiAgTGVhdmluZyBjb25uZWN0aW9uIGFsaXZlLlwiKToodC5mKFwiQ2xvc2luZyB1bmhlYWx0aHkgY29ubmVjdGlvbiBhZnRlciB0aW1lb3V0LlwiKSx0LmNsb3NlKCkpKX0sTWF0aC5mbG9vcihlKSkpfWZ1bmN0aW9uIG5oKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKG4pe2U9PT10Lkw/KHQuTD1udWxsLG58fDAhPT10LlVhPzE9PT10LlVhJiZ0LmYoXCJSZWFsdGltZSBjb25uZWN0aW9uIGxvc3QuXCIpOih0LmYoXCJSZWFsdGltZSBjb25uZWN0aW9uIGZhaWxlZC5cIiksXCJzLVwiPT09dC5ILk9hLnN1YnN0cigwLDIpJiYoRGMucmVtb3ZlKFwiaG9zdDpcIit0LkguaG9zdCksdC5ILk9hPXQuSC5ob3N0KSksdC5jbG9zZSgpKTplPT09dC5GPyh0LmYoXCJTZWNvbmRhcnkgY29ubmVjdGlvbiBsb3N0LlwiKSxuPXQuRix0LkY9bnVsbCx0LmZkIT09biYmdC5iZCE9PW58fHQuY2xvc2UoKSk6dC5mKFwiY2xvc2luZyBhbiBvbGQgY29ubmVjdGlvblwiKX19ZnVuY3Rpb24gbWgodCxlKXtyZXR1cm4gZnVuY3Rpb24obil7aWYoMiE9dC5VYSlpZihlPT09dC5iZCl7dmFyIGk9VmMoXCJ0XCIsbik7aWYobj1WYyhcImRcIixuKSxcImNcIj09aSl7aWYoaT1WYyhcInRcIixuKSxcImRcImluIG4paWYobj1uLmQsXCJoXCI9PT1pKXt2YXIgaT1uLnRzLHI9bi52LG89bi5oO3QuVmQ9bi5zLEZjKHQuSCxvKSwwPT10LlVhJiYodC5MLnN0YXJ0KCksb2godCx0LkwsaSksXCI1XCIhPT1yJiZRKFwiUHJvdG9jb2wgdmVyc2lvbiBtaXNtYXRjaCBkZXRlY3RlZFwiKSxuPXQuTmYsKG49MTxuLmVkLmxlbmd0aD9uLmVkWzFdOm51bGwpJiZwaCh0LG4pKX1lbHNlIGlmKFwiblwiPT09aSl7Zm9yKHQuZihcInJlY3ZkIGVuZCB0cmFuc21pc3Npb24gb24gcHJpbWFyeVwiKSx0LmJkPXQuRixuPTA7bjx0LkpkLmxlbmd0aDsrK24pdC5GZCh0LkpkW25dKTt0LkpkPVtdLHFoKHQpfWVsc2VcInNcIj09PWk/KHQuZihcIkNvbm5lY3Rpb24gc2h1dGRvd24gY29tbWFuZCByZWNlaXZlZC4gU2h1dHRpbmcgZG93bi4uLlwiKSx0Lk1lJiYodC5NZShuKSx0Lk1lPW51bGwpLHQua2E9bnVsbCx0LmNsb3NlKCkpOlwiclwiPT09aT8odC5mKFwiUmVzZXQgcGFja2V0IHJlY2VpdmVkLiAgTmV3IGhvc3Q6IFwiK24pLEZjKHQuSCxuKSwxPT09dC5VYT90LmNsb3NlKCk6KHJoKHQpLGxoKHQpKSk6XCJlXCI9PT1pP1BjKFwiU2VydmVyIEVycm9yOiBcIituKTpcIm9cIj09PWk/KHQuZihcImdvdCBwb25nIG9uIHByaW1hcnkuXCIpLHNoKHQpLHRoKHQpKTpQYyhcIlVua25vd24gY29udHJvbCBwYWNrZXQgY29tbWFuZDogXCIraSl9ZWxzZVwiZFwiPT1pJiZ0LkZkKG4pfWVsc2UgaWYoZT09PXQuRilpZihpPVZjKFwidFwiLG4pLG49VmMoXCJkXCIsbiksXCJjXCI9PWkpXCJ0XCJpbiBuJiYobj1uLnQsXCJhXCI9PT1uP3VoKHQpOlwiclwiPT09bj8odC5mKFwiR290IGEgcmVzZXQgb24gc2Vjb25kYXJ5LCBjbG9zaW5nIGl0XCIpLHQuRi5jbG9zZSgpLHQuZmQhPT10LkYmJnQuYmQhPT10LkZ8fHQuY2xvc2UoKSk6XCJvXCI9PT1uJiYodC5mKFwiZ290IHBvbmcgb24gc2Vjb25kYXJ5LlwiKSx0LkxmLS0sdWgodCkpKTtlbHNle2lmKFwiZFwiIT1pKXRocm93IEVycm9yKFwiVW5rbm93biBwcm90b2NvbCBsYXllcjogXCIraSk7dC5KZC5wdXNoKG4pfWVsc2UgdC5mKFwibWVzc2FnZSBvbiBvbGQgY29ubmVjdGlvblwiKX19ZnVuY3Rpb24gcWgodCl7dC5mZD09PXQuRiYmdC5iZD09PXQuRiYmKHQuZihcImNsZWFuaW5nIHVwIGFuZCBwcm9tb3RpbmcgYSBjb25uZWN0aW9uOiBcIit0LkYucWUpLHQuTD10LkYsdC5GPW51bGwpfWZ1bmN0aW9uIHVoKHQpezA+PXQuTGY/KHQuZihcIlNlY29uZGFyeSBjb25uZWN0aW9uIGlzIGhlYWx0aHkuXCIpLHQuQWI9ITAsdC5GLkJkKCksdC5GLnN0YXJ0KCksdC5mKFwic2VuZGluZyBjbGllbnQgYWNrIG9uIHNlY29uZGFyeVwiKSx0LkYuc2VuZCh7dDpcImNcIixkOnt0OlwiYVwiLGQ6e319fSksdC5mKFwiRW5kaW5nIHRyYW5zbWlzc2lvbiBvbiBwcmltYXJ5XCIpLHQuTC5zZW5kKHt0OlwiY1wiLGQ6e3Q6XCJuXCIsZDp7fX19KSx0LmZkPXQuRixxaCh0KSk6KHQuZihcInNlbmRpbmcgcGluZyBvbiBzZWNvbmRhcnkuXCIpLHQuRi5zZW5kKHt0OlwiY1wiLGQ6e3Q6XCJwXCIsZDp7fX19KSl9ZnVuY3Rpb24gc2godCl7dC5BYnx8KHQuUWUtLSwwPj10LlFlJiYodC5mKFwiUHJpbWFyeSBjb25uZWN0aW9uIGlzIGhlYWx0aHkuXCIpLHQuQWI9ITAsdC5MLkJkKCkpKX1mdW5jdGlvbiBwaCh0LGUpe3QuRj1uZXcgZShcImM6XCIrdC5pZCtcIjpcIit0LmVmKyssdC5ILHQuVmQpLHQuTGY9ZS5yZXNwb25zZXNSZXF1aXJlZFRvQmVIZWFsdGh5fHwwLHQuRi5vcGVuKG1oKHQsdC5GKSxuaCh0LHQuRikpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXt0LkYmJih0LmYoXCJUaW1lZCBvdXQgdHJ5aW5nIHRvIHVwZ3JhZGUuXCIpLHQuRi5jbG9zZSgpKX0sTWF0aC5mbG9vcig2ZTQpKX1mdW5jdGlvbiBvaCh0LGUsbil7dC5mKFwiUmVhbHRpbWUgY29ubmVjdGlvbiBlc3RhYmxpc2hlZC5cIiksdC5MPWUsdC5VYT0xLHQuVmMmJih0LlZjKG4pLHQuVmM9bnVsbCksMD09PXQuUWU/KHQuZihcIlByaW1hcnkgY29ubmVjdGlvbiBpcyBoZWFsdGh5LlwiKSx0LkFiPSEwKTpzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dGgodCl9LE1hdGguZmxvb3IoNWUzKSl9ZnVuY3Rpb24gdGgodCl7dC5BYnx8MSE9PXQuVWF8fCh0LmYoXCJzZW5kaW5nIHBpbmcgb24gcHJpbWFyeS5cIiksdmgodCx7dDpcImNcIixkOnt0OlwicFwiLGQ6e319fSkpfWZ1bmN0aW9uIHZoKHQsZSl7aWYoMSE9PXQuVWEpdGhyb3dcIkNvbm5lY3Rpb24gaXMgbm90IGNvbm5lY3RlZFwiO3QuZmQuc2VuZChlKX1mdW5jdGlvbiByaCh0KXt0LmYoXCJTaHV0dGluZyBkb3duIGFsbCBjb25uZWN0aW9uc1wiKSx0LkwmJih0LkwuY2xvc2UoKSx0Lkw9bnVsbCksdC5GJiYodC5GLmNsb3NlKCksdC5GPW51bGwpLHQudmQmJihjbGVhclRpbWVvdXQodC52ZCksdC52ZD1udWxsKX1mdW5jdGlvbiB3aCh0LGUsbixpKXt0aGlzLmlkPXhoKyssdGhpcy5mPU9jKFwicDpcIit0aGlzLmlkK1wiOlwiKSx0aGlzLndmPXRoaXMuRGU9ITEsdGhpcy5hYT17fSx0aGlzLnBhPVtdLHRoaXMuWGM9MCx0aGlzLlVjPVtdLHRoaXMubWE9ITEsdGhpcy4kYT0xZTMsdGhpcy5DZD0zZTUsdGhpcy5HYj1lLHRoaXMuVGM9bix0aGlzLk5lPWksdGhpcy5IPXQsdGhpcy5XZT1udWxsLHRoaXMuUWQ9e30sdGhpcy5JZz0wLHRoaXMubWY9ITAsdGhpcy5LYz10aGlzLkZlPW51bGwseWgodGhpcywwKSxNZi51YigpLkViKFwidmlzaWJsZVwiLHRoaXMuemcsdGhpcyksLTE9PT10Lmhvc3QuaW5kZXhPZihcImZibG9jYWxcIikmJkxmLnViKCkuRWIoXCJvbmxpbmVcIix0aGlzLnhnLHRoaXMpfWZ1bmN0aW9uIEFoKHQsZSl7dmFyIG49ZS5GZyxpPW4ucGF0aC50b1N0cmluZygpLHI9bi53YSgpO3QuZihcIkxpc3RlbiBvbiBcIitpK1wiIGZvciBcIityKTt2YXIgbz17cDppfTtlLnRhZyYmKG8ucT1jZShuLm4pLG8udD1lLnRhZyksby5oPWUudWQoKSx0LkRhKFwicVwiLG8sZnVuY3Rpb24obyl7dmFyIGE9by5kLHM9by5zO2lmKGEmJlwib2JqZWN0XCI9PXR5cGVvZiBhJiZ1KGEsXCJ3XCIpKXt2YXIgaD13KGEsXCJ3XCIpO2VhKGgpJiYwPD1OYShoLFwibm9faW5kZXhcIikmJlEoXCJVc2luZyBhbiB1bnNwZWNpZmllZCBpbmRleC4gQ29uc2lkZXIgYWRkaW5nIFwiKygnXCIuaW5kZXhPblwiOiBcIicrbi5uLmcudG9TdHJpbmcoKSsnXCInKStcIiBhdCBcIituLnBhdGgudG9TdHJpbmcoKStcIiB0byB5b3VyIHNlY3VyaXR5IHJ1bGVzIGZvciBiZXR0ZXIgcGVyZm9ybWFuY2VcIil9KHQuYWFbaV0mJnQuYWFbaV1bcl0pPT09ZSYmKHQuZihcImxpc3RlbiByZXNwb25zZVwiLG8pLFwib2tcIiE9PXMmJkJoKHQsaSxyKSxlLkomJmUuSihzLGEpKX0pfWZ1bmN0aW9uIENoKHQpe3ZhciBlPXQuRmE7dC5tYSYmZSYmdC5EYShcImF1dGhcIix7Y3JlZDplLmZnfSxmdW5jdGlvbihuKXt2YXIgaT1uLnM7bj1uLmR8fFwiZXJyb3JcIixcIm9rXCIhPT1pJiZ0LkZhPT09ZSYmZGVsZXRlIHQuRmEsZS5uZj9cIm9rXCIhPT1pJiZlLmpkJiZlLmpkKGksbik6KGUubmY9ITAsZS55YyYmZS55YyhpLG4pKX0pfWZ1bmN0aW9uIERoKHQsZSxuLGkscil7bj17cDpuLGQ6aX0sdC5mKFwib25EaXNjb25uZWN0IFwiK2UsbiksdC5EYShlLG4sZnVuY3Rpb24odCl7ciYmc2V0VGltZW91dChmdW5jdGlvbigpe3IodC5zLHQuZCl9LE1hdGguZmxvb3IoMCkpfSl9ZnVuY3Rpb24gRWgodCxlLGkscixvLGEpe3I9e3A6aSxkOnJ9LG4oYSkmJihyLmg9YSksdC5wYS5wdXNoKHthY3Rpb246ZSxJZjpyLEo6b30pLHQuWGMrKyxlPXQucGEubGVuZ3RoLTEsdC5tYT9GaCh0LGUpOnQuZihcIkJ1ZmZlcmluZyBwdXQ6IFwiK2kpfWZ1bmN0aW9uIEZoKHQsZSl7dmFyIG49dC5wYVtlXS5hY3Rpb24saT10LnBhW2VdLklmLHI9dC5wYVtlXS5KO3QucGFbZV0uR2c9dC5tYSx0LkRhKG4saSxmdW5jdGlvbihpKXt0LmYobitcIiByZXNwb25zZVwiLGkpLGRlbGV0ZSB0LnBhW2VdLHQuWGMtLSwwPT09dC5YYyYmKHQucGE9W10pLHImJnIoaS5zLGkuZCl9KX1mdW5jdGlvbiB5aCh0LGUpe0ooIXQuU2EsXCJTY2hlZHVsaW5nIGEgY29ubmVjdCB3aGVuIHdlJ3JlIGFscmVhZHkgY29ubmVjdGVkL2luZz9cIiksdC5TYiYmY2xlYXJUaW1lb3V0KHQuU2IpLHQuU2I9c2V0VGltZW91dChmdW5jdGlvbigpe3QuU2I9bnVsbCxJaCh0KX0sTWF0aC5mbG9vcihlKSl9ZnVuY3Rpb24gSWgodCl7aWYoSmgodCkpe3QuZihcIk1ha2luZyBhIGNvbm5lY3Rpb24gYXR0ZW1wdFwiKSx0LkZlPShuZXcgRGF0ZSkuZ2V0VGltZSgpLHQuS2M9bnVsbDt2YXIgZT1xKHQuRmQsdCksbj1xKHQuVmMsdCksaT1xKHQuQ2YsdCkscj10LmlkK1wiOlwiK3poKys7dC5TYT1uZXcga2gocix0LkgsZSxuLGksZnVuY3Rpb24oZSl7UShlK1wiIChcIit0LkgudG9TdHJpbmcoKStcIilcIiksdC53Zj0hMH0pfX1mdW5jdGlvbiBHaCh0LGUsbil7bj1uP1FhKG4sZnVuY3Rpb24odCl7cmV0dXJuIFdjKHQpfSkuam9pbihcIiRcIik6XCJkZWZhdWx0XCIsKHQ9QmgodCxlLG4pKSYmdC5KJiZ0LkooXCJwZXJtaXNzaW9uX2RlbmllZFwiKX1mdW5jdGlvbiBCaCh0LGUsaSl7ZT1uZXcgSyhlKS50b1N0cmluZygpO3ZhciByO3JldHVybiBuKHQuYWFbZV0pPyhyPXQuYWFbZV1baV0sZGVsZXRlIHQuYWFbZV1baV0sMD09PXBhKHQuYWFbZV0pJiZkZWxldGUgdC5hYVtlXSk6cj12b2lkIDAscn1mdW5jdGlvbiBIaCh0KXtDaCh0KSxyKHQuYWEsZnVuY3Rpb24oZSl7cihlLGZ1bmN0aW9uKGUpe0FoKHQsZSl9KX0pO2Zvcih2YXIgZT0wO2U8dC5wYS5sZW5ndGg7ZSsrKXQucGFbZV0mJkZoKHQsZSk7Zm9yKDt0LlVjLmxlbmd0aDspZT10LlVjLnNoaWZ0KCksRGgodCxlLmFjdGlvbixlLlpjLGUuZGF0YSxlLkopfWZ1bmN0aW9uIEpoKHQpe3ZhciBlO3JldHVybiBlPUxmLnViKCkuaWMsIXQud2YmJiF0LkRlJiZlfWZ1bmN0aW9uIFModCxlLG4pe3RoaXMuQj10LHRoaXMuVj1lLHRoaXMuZz1ufWZ1bmN0aW9uIEtoKHQsZSl7dGhpcy5IPXQsdGhpcy5WYT1PYih0KSx0aGlzLmVhPW5ldyB1Yix0aGlzLkVkPTEsdGhpcy5SYT1udWxsLGV8fDA8PShcIm9iamVjdFwiPT10eXBlb2Ygd2luZG93JiZ3aW5kb3cubmF2aWdhdG9yJiZ3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudHx8XCJcIikuc2VhcmNoKC9nb29nbGVib3R8Z29vZ2xlIHdlYm1hc3RlciB0b29sc3xiaW5nYm90fHlhaG9vISBzbHVycHxiYWlkdXNwaWRlcnx5YW5kZXhib3R8ZHVja2R1Y2tib3QvaSk/KHRoaXMuY2E9bmV3IEFlKHRoaXMuSCxxKHRoaXMuR2IsdGhpcykpLHNldFRpbWVvdXQocSh0aGlzLlRjLHRoaXMsITApLDApKTp0aGlzLmNhPXRoaXMuUmE9bmV3IHdoKHRoaXMuSCxxKHRoaXMuR2IsdGhpcykscSh0aGlzLlRjLHRoaXMpLHEodGhpcy5OZSx0aGlzKSksdGhpcy5QZz1QYih0LHEoZnVuY3Rpb24oKXtyZXR1cm4gbmV3IEpiKHRoaXMuVmEsdGhpcy5jYSl9LHRoaXMpKSx0aGlzLnRjPW5ldyBDZix0aGlzLkJlPW5ldyBuYjt2YXIgbj10aGlzO3RoaXMuemQ9bmV3IGdmKHtYZTpmdW5jdGlvbih0LGUsaSxyKXtyZXR1cm4gZT1bXSxpPW4uQmUuaih0LnBhdGgpLGkuZSgpfHwoZT1qZihuLnpkLG5ldyBVYih6ZSx0LnBhdGgsaSkpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtyKFwib2tcIil9LDApKSxlfSxaZDpiYX0pLExoKHRoaXMsXCJjb25uZWN0ZWRcIiwhMSksdGhpcy5rYT1uZXcgcWMsdGhpcy5QPW5ldyBFZyh0LHEodGhpcy5jYS5QLHRoaXMuY2EpLHEodGhpcy5jYS5lZSx0aGlzLmNhKSxxKHRoaXMuS2UsdGhpcykpLHRoaXMucGQ9MCx0aGlzLkNlPW51bGwsdGhpcy5PPW5ldyBnZih7WGU6ZnVuY3Rpb24odCxlLGkscil7cmV0dXJuIG4uY2EueGYodCxpLGUsZnVuY3Rpb24oZSxpKXt2YXIgbz1yKGUsaSk7emIobi5lYSx0LnBhdGgsbyl9KSxbXX0sWmQ6ZnVuY3Rpb24odCxlKXtuLmNhLk9mKHQsZSl9fSl9ZnVuY3Rpb24gTWgodCl7cmV0dXJuIHQ9dC5CZS5qKG5ldyBLKFwiLmluZm8vc2VydmVyVGltZU9mZnNldFwiKSkuSygpfHwwLChuZXcgRGF0ZSkuZ2V0VGltZSgpK3R9ZnVuY3Rpb24gTmgodCl7cmV0dXJuIHQ9dD17dGltZXN0YW1wOk1oKHQpfSx0LnRpbWVzdGFtcD10LnRpbWVzdGFtcHx8KG5ldyBEYXRlKS5nZXRUaW1lKCksdH1mdW5jdGlvbiBMaCh0LGUsbil7ZT1uZXcgSyhcIi8uaW5mby9cIitlKSxuPUwobik7dmFyIGk9dC5CZTtpLlNkPWkuU2QuRyhlLG4pLG49amYodC56ZCxuZXcgVWIoemUsZSxuKSksemIodC5lYSxlLG4pfWZ1bmN0aW9uIFBoKHQpe3QuZihcIm9uRGlzY29ubmVjdEV2ZW50c1wiKTt2YXIgZT1OaCh0KSxuPVtdO3JjKHBjKHQua2EsZSksRixmdW5jdGlvbihlLGkpe249bi5jb25jYXQoamYodC5PLG5ldyBVYih6ZSxlLGkpKSk7dmFyIHI9UmgodCxlKTtPaCh0LHIpfSksdC5rYT1uZXcgcWMsemIodC5lYSxGLG4pfWZ1bmN0aW9uIFNoKHQsZSxuLGkpe3ZhciByPUwobik7dC5jYS5MZShlLnRvU3RyaW5nKCksci5LKCEwKSxmdW5jdGlvbihuLG8pe1wib2tcIj09PW4mJnQua2EubWMoZSxyKSxRaChpLG4sbyl9KX1mdW5jdGlvbiBUaCh0LGUsbixpLHIpe3ZhciBvPUwobixpKTt0LmNhLkxlKGUudG9TdHJpbmcoKSxvLksoITApLGZ1bmN0aW9uKG4saSl7XCJva1wiPT09biYmdC5rYS5tYyhlLG8pLFFoKHIsbixpKX0pfWZ1bmN0aW9uIFVoKHQsZSxuLGkpe3ZhciByLG89ITA7Zm9yKHIgaW4gbilvPSExO28/KEJiKFwib25EaXNjb25uZWN0KCkudXBkYXRlKCkgY2FsbGVkIHdpdGggZW1wdHkgZGF0YS4gIERvbid0IGRvIGFueXRoaW5nLlwiKSxRaChpLFwib2tcIikpOnQuY2EuQmYoZS50b1N0cmluZygpLG4sZnVuY3Rpb24ocixvKXtpZihcIm9rXCI9PT1yKWZvcih2YXIgYSBpbiBuKXt2YXIgcz1MKG5bYV0pO3Qua2EubWMoZS53KGEpLHMpfVFoKGkscixvKX0pfWZ1bmN0aW9uIFZoKHQsZSxuKXtuPVwiLmluZm9cIj09PU8oZS5wYXRoKT90LnpkLk9iKGUsbik6dC5PLk9iKGUsbikseGIodC5lYSxlLnBhdGgsbil9ZnVuY3Rpb24gUWgodCxlLG4pe3QmJkNiKGZ1bmN0aW9uKCl7aWYoXCJva1wiPT1lKXQobnVsbCk7ZWxzZXt2YXIgaT0oZXx8XCJlcnJvclwiKS50b1VwcGVyQ2FzZSgpLHI9aTtuJiYocis9XCI6IFwiK24pLHI9RXJyb3Iociksci5jb2RlPWksdChyKX19KX1mdW5jdGlvbiBXaCh0LGUsaSxyLG8pe2Z1bmN0aW9uIGEoKXt9dC5mKFwidHJhbnNhY3Rpb24gb24gXCIrZSk7dmFyIHM9bmV3IFUodCxlKTtpZihzLkViKFwidmFsdWVcIixhKSxpPXtwYXRoOmUsdXBkYXRlOmksSjpyLHN0YXR1czpudWxsLEVmOkdjKCksY2Y6byxLZjowLGdlOmZ1bmN0aW9uKCl7cy5nYyhcInZhbHVlXCIsYSl9LGplOm51bGwsQWE6bnVsbCxtZDpudWxsLG5kOm51bGwsb2Q6bnVsbH0scj10Lk8udWEoZSx2b2lkIDApfHxDLGkubWQ9cixyPWkudXBkYXRlKHIuSygpKSxuKHIpKXtTZihcInRyYW5zYWN0aW9uIGZhaWxlZDogRGF0YSByZXR1cm5lZCBcIixyLGkucGF0aCksaS5zdGF0dXM9MSxvPURmKHQudGMsZSk7dmFyIGg9by5CYSgpfHxbXTtoLnB1c2goaSksRWYobyxoKSxcIm9iamVjdFwiPT10eXBlb2YgciYmbnVsbCE9PXImJnUocixcIi5wcmlvcml0eVwiKT8oaD13KHIsXCIucHJpb3JpdHlcIiksSihRZihoKSxcIkludmFsaWQgcHJpb3JpdHkgcmV0dXJuZWQgYnkgdHJhbnNhY3Rpb24uIFByaW9yaXR5IG11c3QgYmUgYSB2YWxpZCBzdHJpbmcsIGZpbml0ZSBudW1iZXIsIHNlcnZlciB2YWx1ZSwgb3IgbnVsbC5cIikpOmg9KHQuTy51YShlKXx8QykuQSgpLksoKSxvPU5oKHQpLHI9TChyLGgpLG89c2MocixvKSxpLm5kPXIsaS5vZD1vLGkuQWE9dC5FZCsrLGk9aGYodC5PLGUsbyxpLkFhLGkuY2YpLHpiKHQuZWEsZSxpKSxYaCh0KX1lbHNlIGkuZ2UoKSxpLm5kPW51bGwsaS5vZD1udWxsLGkuSiYmKHQ9bmV3IFMoaS5tZCxuZXcgVSh0LGkucGF0aCksTSksaS5KKG51bGwsITEsdCkpfWZ1bmN0aW9uIFhoKHQsZSl7dmFyIG49ZXx8dC50YztpZihlfHxZaCh0LG4pLG51bGwhPT1uLkJhKCkpe3ZhciBpPVpoKHQsbik7SigwPGkubGVuZ3RoLFwiU2VuZGluZyB6ZXJvIGxlbmd0aCB0cmFuc2FjdGlvbiBxdWV1ZVwiKSxTYShpLGZ1bmN0aW9uKHQpe3JldHVybiAxPT09dC5zdGF0dXN9KSYmJGgodCxuLnBhdGgoKSxpKX1lbHNlIG4udGQoKSYmbi5VKGZ1bmN0aW9uKGUpe1hoKHQsZSl9KX1mdW5jdGlvbiAkaCh0LGUsbil7Zm9yKHZhciBpPVFhKG4sZnVuY3Rpb24odCl7cmV0dXJuIHQuQWF9KSxyPXQuTy51YShlLGkpfHxDLGk9cixyPXIuaGFzaCgpLG89MDtvPG4ubGVuZ3RoO28rKyl7dmFyIGE9bltvXTtKKDE9PT1hLnN0YXR1cyxcInRyeVRvU2VuZFRyYW5zYWN0aW9uUXVldWVfOiBpdGVtcyBpbiBxdWV1ZSBzaG91bGQgYWxsIGJlIHJ1bi5cIiksYS5zdGF0dXM9MixhLktmKys7dmFyIHM9TihlLGEucGF0aCksaT1pLkcocyxhLm5kKX1pPWkuSyghMCksdC5jYS5wdXQoZS50b1N0cmluZygpLGksZnVuY3Rpb24oaSl7dC5mKFwidHJhbnNhY3Rpb24gcHV0IHJlc3BvbnNlXCIse3BhdGg6ZS50b1N0cmluZygpLHN0YXR1czppfSk7dmFyIHI9W107aWYoXCJva1wiPT09aSl7Zm9yKGk9W10sbz0wO288bi5sZW5ndGg7bysrKXtpZihuW29dLnN0YXR1cz0zLHI9ci5jb25jYXQobGYodC5PLG5bb10uQWEpKSxuW29dLkope3ZhciBhPW5bb10ub2Qscz1uZXcgVSh0LG5bb10ucGF0aCk7aS5wdXNoKHEobltvXS5KLG51bGwsbnVsbCwhMCxuZXcgUyhhLHMsTSkpKX1uW29dLmdlKCl9Zm9yKFloKHQsRGYodC50YyxlKSksWGgodCksemIodC5lYSxlLHIpLG89MDtvPGkubGVuZ3RoO28rKylDYihpW29dKX1lbHNle2lmKFwiZGF0YXN0YWxlXCI9PT1pKWZvcihvPTA7bzxuLmxlbmd0aDtvKyspbltvXS5zdGF0dXM9ND09PW5bb10uc3RhdHVzPzU6MTtlbHNlIGZvcihRKFwidHJhbnNhY3Rpb24gYXQgXCIrZS50b1N0cmluZygpK1wiIGZhaWxlZDogXCIraSksbz0wO288bi5sZW5ndGg7bysrKW5bb10uc3RhdHVzPTUsbltvXS5qZT1pO09oKHQsZSl9fSxyKX1mdW5jdGlvbiBPaCh0LGUpe3ZhciBuPWFpKHQsZSksaT1uLnBhdGgoKSxuPVpoKHQsbik7cmV0dXJuIGJpKHQsbixpKSxpfWZ1bmN0aW9uIGJpKHQsZSxpKXtpZigwIT09ZS5sZW5ndGgpe2Zvcih2YXIgcj1bXSxvPVtdLGE9UWEoZSxmdW5jdGlvbih0KXtyZXR1cm4gdC5BYX0pLHM9MDtzPGUubGVuZ3RoO3MrKyl7dmFyIGgsYz1lW3NdLGY9TihpLGMucGF0aCksbD0hMTtpZihKKG51bGwhPT1mLFwicmVydW5UcmFuc2FjdGlvbnNVbmRlck5vZGVfOiByZWxhdGl2ZVBhdGggc2hvdWxkIG5vdCBiZSBudWxsLlwiKSw1PT09Yy5zdGF0dXMpbD0hMCxoPWMuamUsbz1vLmNvbmNhdChsZih0Lk8sYy5BYSwhMCkpO2Vsc2UgaWYoMT09PWMuc3RhdHVzKWlmKDI1PD1jLktmKWw9ITAsaD1cIm1heHJldHJ5XCIsbz1vLmNvbmNhdChsZih0Lk8sYy5BYSwhMCkpO2Vsc2V7dmFyIGQ9dC5PLnVhKGMucGF0aCxhKXx8QztjLm1kPWQ7dmFyIHA9ZVtzXS51cGRhdGUoZC5LKCkpO24ocCk/KFNmKFwidHJhbnNhY3Rpb24gZmFpbGVkOiBEYXRhIHJldHVybmVkIFwiLHAsYy5wYXRoKSxmPUwocCksXCJvYmplY3RcIj09dHlwZW9mIHAmJm51bGwhPXAmJnUocCxcIi5wcmlvcml0eVwiKXx8KGY9Zi5kYShkLkEoKSkpLGQ9Yy5BYSxwPU5oKHQpLHA9c2MoZixwKSxjLm5kPWYsYy5vZD1wLGMuQWE9dC5FZCsrLFZhKGEsZCksbz1vLmNvbmNhdChoZih0Lk8sYy5wYXRoLHAsYy5BYSxjLmNmKSksbz1vLmNvbmNhdChsZih0Lk8sZCwhMCkpKToobD0hMCxoPVwibm9kYXRhXCIsbz1vLmNvbmNhdChsZih0Lk8sYy5BYSwhMCkpKX16Yih0LmVhLGksbyksbz1bXSxsJiYoZVtzXS5zdGF0dXM9MyxzZXRUaW1lb3V0KGVbc10uZ2UsTWF0aC5mbG9vcigwKSksZVtzXS5KJiYoXCJub2RhdGFcIj09PWg/KGM9bmV3IFUodCxlW3NdLnBhdGgpLHIucHVzaChxKGVbc10uSixudWxsLG51bGwsITEsbmV3IFMoZVtzXS5tZCxjLE0pKSkpOnIucHVzaChxKGVbc10uSixudWxsLEVycm9yKGgpLCExLG51bGwpKSkpfWZvcihZaCh0LHQudGMpLHM9MDtzPHIubGVuZ3RoO3MrKylDYihyW3NdKTtYaCh0KX19ZnVuY3Rpb24gYWkodCxlKXtmb3IodmFyIG4saT10LnRjO251bGwhPT0obj1PKGUpKSYmbnVsbD09PWkuQmEoKTspaT1EZihpLG4pLGU9RyhlKTtyZXR1cm4gaX1mdW5jdGlvbiBaaCh0LGUpe3ZhciBuPVtdO3JldHVybiBjaSh0LGUsbiksbi5zb3J0KGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuRWYtZS5FZn0pLG59ZnVuY3Rpb24gY2kodCxlLG4pe3ZhciBpPWUuQmEoKTtpZihudWxsIT09aSlmb3IodmFyIHI9MDtyPGkubGVuZ3RoO3IrKyluLnB1c2goaVtyXSk7ZS5VKGZ1bmN0aW9uKGUpe2NpKHQsZSxuKX0pfWZ1bmN0aW9uIFloKHQsZSl7dmFyIG49ZS5CYSgpO2lmKG4pe2Zvcih2YXIgaT0wLHI9MDtyPG4ubGVuZ3RoO3IrKykzIT09bltyXS5zdGF0dXMmJihuW2ldPW5bcl0saSsrKTtuLmxlbmd0aD1pLEVmKGUsMDxuLmxlbmd0aD9uOm51bGwpfWUuVShmdW5jdGlvbihlKXtZaCh0LGUpfSl9ZnVuY3Rpb24gUmgodCxlKXt2YXIgbj1haSh0LGUpLnBhdGgoKSxpPURmKHQudGMsZSk7cmV0dXJuIEhmKGksZnVuY3Rpb24oZSl7ZGkodCxlKX0pLGRpKHQsaSksR2YoaSxmdW5jdGlvbihlKXtkaSh0LGUpfSksbn1mdW5jdGlvbiBkaSh0LGUpe3ZhciBuPWUuQmEoKTtpZihudWxsIT09bil7Zm9yKHZhciBpPVtdLHI9W10sbz0tMSxhPTA7YTxuLmxlbmd0aDthKyspNCE9PW5bYV0uc3RhdHVzJiYoMj09PW5bYV0uc3RhdHVzPyhKKG89PT1hLTEsXCJBbGwgU0VOVCBpdGVtcyBzaG91bGQgYmUgYXQgYmVnaW5uaW5nIG9mIHF1ZXVlLlwiKSxvPWEsblthXS5zdGF0dXM9NCxuW2FdLmplPVwic2V0XCIpOihKKDE9PT1uW2FdLnN0YXR1cyxcIlVuZXhwZWN0ZWQgdHJhbnNhY3Rpb24gc3RhdHVzIGluIGFib3J0XCIpLG5bYV0uZ2UoKSxyPXIuY29uY2F0KGxmKHQuTyxuW2FdLkFhLCEwKSksblthXS5KJiZpLnB1c2gocShuW2FdLkosbnVsbCxFcnJvcihcInNldFwiKSwhMSxudWxsKSkpKTtmb3IoLTE9PT1vP0VmKGUsbnVsbCk6bi5sZW5ndGg9bysxLHpiKHQuZWEsZS5wYXRoKCksciksYT0wO2E8aS5sZW5ndGg7YSsrKUNiKGlbYV0pfX1mdW5jdGlvbiBXKCl7dGhpcy5uYz17fSx0aGlzLlBmPSExfWZ1bmN0aW9uIFgodCxlKXt0aGlzLmFkPXQsdGhpcy5xYT1lfWZ1bmN0aW9uIFkodCxlLG4saSl7dGhpcy5rPXQsdGhpcy5wYXRoPWUsdGhpcy5uPW4sdGhpcy5qYz1pfWZ1bmN0aW9uIGVpKHQpe3ZhciBlPW51bGwsbj1udWxsO2lmKHQubGEmJihlPW9kKHQpKSx0Lm5hJiYobj1xZCh0KSksdC5nPT09VmQpe2lmKHQubGEpe2lmKFwiW01JTl9OQU1FXVwiIT1uZCh0KSl0aHJvdyBFcnJvcihcIlF1ZXJ5OiBXaGVuIG9yZGVyaW5nIGJ5IGtleSwgeW91IG1heSBvbmx5IHBhc3Mgb25lIGFyZ3VtZW50IHRvIHN0YXJ0QXQoKSwgZW5kQXQoKSwgb3IgZXF1YWxUbygpLlwiKTtpZihcInN0cmluZ1wiIT10eXBlb2YgZSl0aHJvdyBFcnJvcihcIlF1ZXJ5OiBXaGVuIG9yZGVyaW5nIGJ5IGtleSwgdGhlIGFyZ3VtZW50IHBhc3NlZCB0byBzdGFydEF0KCksIGVuZEF0KCksb3IgZXF1YWxUbygpIG11c3QgYmUgYSBzdHJpbmcuXCIpfWlmKHQubmEpe2lmKFwiW01BWF9OQU1FXVwiIT1wZCh0KSl0aHJvdyBFcnJvcihcIlF1ZXJ5OiBXaGVuIG9yZGVyaW5nIGJ5IGtleSwgeW91IG1heSBvbmx5IHBhc3Mgb25lIGFyZ3VtZW50IHRvIHN0YXJ0QXQoKSwgZW5kQXQoKSwgb3IgZXF1YWxUbygpLlwiKTtpZihcInN0cmluZ1wiIT10eXBlb2Ygbil0aHJvdyBFcnJvcihcIlF1ZXJ5OiBXaGVuIG9yZGVyaW5nIGJ5IGtleSwgdGhlIGFyZ3VtZW50IHBhc3NlZCB0byBzdGFydEF0KCksIGVuZEF0KCksb3IgZXF1YWxUbygpIG11c3QgYmUgYSBzdHJpbmcuXCIpfX1lbHNlIGlmKHQuZz09PU0pe2lmKG51bGwhPWUmJiFRZihlKXx8bnVsbCE9biYmIVFmKG4pKXRocm93IEVycm9yKFwiUXVlcnk6IFdoZW4gb3JkZXJpbmcgYnkgcHJpb3JpdHksIHRoZSBmaXJzdCBhcmd1bWVudCBwYXNzZWQgdG8gc3RhcnRBdCgpLCBlbmRBdCgpLCBvciBlcXVhbFRvKCkgbXVzdCBiZSBhIHZhbGlkIHByaW9yaXR5IHZhbHVlIChudWxsLCBhIG51bWJlciwgb3IgYSBzdHJpbmcpLlwiKX1lbHNlIGlmKEoodC5nIGluc3RhbmNlb2YgUmR8fHQuZz09PVlkLFwidW5rbm93biBpbmRleCB0eXBlLlwiKSxudWxsIT1lJiZcIm9iamVjdFwiPT10eXBlb2YgZXx8bnVsbCE9biYmXCJvYmplY3RcIj09dHlwZW9mIG4pdGhyb3cgRXJyb3IoXCJRdWVyeTogRmlyc3QgYXJndW1lbnQgcGFzc2VkIHRvIHN0YXJ0QXQoKSwgZW5kQXQoKSwgb3IgZXF1YWxUbygpIGNhbm5vdCBiZSBhbiBvYmplY3QuXCIpfWZ1bmN0aW9uIGZpKHQpe2lmKHQubGEmJnQubmEmJnQuaWEmJighdC5pYXx8XCJcIj09PXQuTmIpKXRocm93IEVycm9yKFwiUXVlcnk6IENhbid0IGNvbWJpbmUgc3RhcnRBdCgpLCBlbmRBdCgpLCBhbmQgbGltaXQoKS4gVXNlIGxpbWl0VG9GaXJzdCgpIG9yIGxpbWl0VG9MYXN0KCkgaW5zdGVhZC5cIik7XG5cbn1mdW5jdGlvbiBnaSh0LGUpe2lmKCEwPT09dC5qYyl0aHJvdyBFcnJvcihlK1wiOiBZb3UgY2FuJ3QgY29tYmluZSBtdWx0aXBsZSBvcmRlckJ5IGNhbGxzLlwiKX1mdW5jdGlvbiBoaSh0LGUsbil7dmFyIGk9e2NhbmNlbDpudWxsLE1hOm51bGx9O2lmKGUmJm4paS5jYW5jZWw9ZSxBKHQsMyxpLmNhbmNlbCwhMCksaS5NYT1uLGxiKHQsNCxpLk1hKTtlbHNlIGlmKGUpaWYoXCJvYmplY3RcIj09dHlwZW9mIGUmJm51bGwhPT1lKWkuTWE9ZTtlbHNle2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUpdGhyb3cgRXJyb3Ioeih0LDMsITApK1wiIG11c3QgZWl0aGVyIGJlIGEgY2FuY2VsIGNhbGxiYWNrIG9yIGEgY29udGV4dCBvYmplY3QuXCIpO2kuY2FuY2VsPWV9cmV0dXJuIGl9ZnVuY3Rpb24gVSh0LGUpe3ZhciBuLGkscjtpZih0IGluc3RhbmNlb2YgS2gpbj10LGk9ZTtlbHNle3goXCJuZXcgRmlyZWJhc2VcIiwxLDIsYXJndW1lbnRzLmxlbmd0aCksaT1SYyhhcmd1bWVudHNbMF0pLG49aS5RZyxcImZpcmViYXNlXCI9PT1pLmRvbWFpbiYmUWMoaS5ob3N0K1wiIGlzIG5vIGxvbmdlciBzdXBwb3J0ZWQuIFBsZWFzZSB1c2UgPFlPVVIgRklSRUJBU0U+LmZpcmViYXNlaW8uY29tIGluc3RlYWRcIiksbnx8UWMoXCJDYW5ub3QgcGFyc2UgRmlyZWJhc2UgdXJsLiBQbGVhc2UgdXNlIGh0dHBzOi8vPFlPVVIgRklSRUJBU0U+LmZpcmViYXNlaW8uY29tXCIpLGkubGJ8fFwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cmJndpbmRvdy5sb2NhdGlvbiYmd2luZG93LmxvY2F0aW9uLnByb3RvY29sJiYtMSE9PXdpbmRvdy5sb2NhdGlvbi5wcm90b2NvbC5pbmRleE9mKFwiaHR0cHM6XCIpJiZRKFwiSW5zZWN1cmUgRmlyZWJhc2UgYWNjZXNzIGZyb20gYSBzZWN1cmUgcGFnZS4gUGxlYXNlIHVzZSBodHRwcyBpbiBjYWxscyB0byBuZXcgRmlyZWJhc2UoKS5cIiksbj1uZXcgRWMoaS5ob3N0LGkubGIsbixcIndzXCI9PT1pLnNjaGVtZXx8XCJ3c3NcIj09PWkuc2NoZW1lKSxpPW5ldyBLKGkuWmMpLHI9aS50b1N0cmluZygpO3ZhciBvO2lmKCEobz0hcChuLmhvc3QpfHwwPT09bi5ob3N0Lmxlbmd0aHx8IVBmKG4uQ2IpKSYmKG89MCE9PXIubGVuZ3RoKSYmKHImJihyPXIucmVwbGFjZSgvXlxcLypcXC5pbmZvKFxcL3wkKS8sXCIvXCIpKSxvPSEocChyKSYmMCE9PXIubGVuZ3RoJiYhT2YudGVzdChyKSkpLG8pdGhyb3cgRXJyb3IoeihcIm5ldyBGaXJlYmFzZVwiLDEsITEpKydtdXN0IGJlIGEgdmFsaWQgZmlyZWJhc2UgVVJMIGFuZCB0aGUgcGF0aCBjYW5cXCd0IGNvbnRhaW4gXCIuXCIsIFwiI1wiLCBcIiRcIiwgXCJbXCIsIG9yIFwiXVwiLicpO2lmKGUpaWYoZSBpbnN0YW5jZW9mIFcpcj1lO2Vsc2V7aWYoIXAoZSkpdGhyb3cgRXJyb3IoXCJFeHBlY3RlZCBhIHZhbGlkIEZpcmViYXNlLkNvbnRleHQgZm9yIHNlY29uZCBhcmd1bWVudCB0byBuZXcgRmlyZWJhc2UoKVwiKTtyPVcudWIoKSxuLkxkPWV9ZWxzZSByPVcudWIoKTtvPW4udG9TdHJpbmcoKTt2YXIgYT13KHIubmMsbyk7YXx8KGE9bmV3IEtoKG4sci5QZiksci5uY1tvXT1hKSxuPWF9WS5jYWxsKHRoaXMsbixpLCRkLCExKX1mdW5jdGlvbiBOYyh0LGUpe0ooIWV8fCEwPT09dHx8ITE9PT10LFwiQ2FuJ3QgdHVybiBvbiBjdXN0b20gbG9nZ2VycyBwZXJzaXN0ZW50bHkuXCIpLCEwPT09dD8oXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGNvbnNvbGUmJihcImZ1bmN0aW9uXCI9PXR5cGVvZiBjb25zb2xlLmxvZz9BYj1xKGNvbnNvbGUubG9nLGNvbnNvbGUpOlwib2JqZWN0XCI9PXR5cGVvZiBjb25zb2xlLmxvZyYmKEFiPWZ1bmN0aW9uKHQpe2NvbnNvbGUubG9nKHQpfSkpLGUmJlAuc2V0KFwibG9nZ2luZ19lbmFibGVkXCIsITApKTp0P0FiPXQ6KEFiPW51bGwsUC5yZW1vdmUoXCJsb2dnaW5nX2VuYWJsZWRcIikpfXZhciBoLGFhPXRoaXMsbGE9RGF0ZS5ub3d8fGZ1bmN0aW9uKCl7cmV0dXJuK25ldyBEYXRlfSx5YT1cImNvbnN0cnVjdG9yIGhhc093blByb3BlcnR5IGlzUHJvdG90eXBlT2YgcHJvcGVydHlJc0VudW1lcmFibGUgdG9Mb2NhbGVTdHJpbmcgdG9TdHJpbmcgdmFsdWVPZlwiLnNwbGl0KFwiIFwiKSxFYT17J1wiJzonXFxcXFwiJyxcIlxcXFxcIjpcIlxcXFxcXFxcXCIsXCIvXCI6XCJcXFxcL1wiLFwiXFxiXCI6XCJcXFxcYlwiLFwiXFxmXCI6XCJcXFxcZlwiLFwiXFxuXCI6XCJcXFxcblwiLFwiXFxyXCI6XCJcXFxcclwiLFwiXHRcIjpcIlxcXFx0XCIsXCJcdTAwMGJcIjpcIlxcXFx1MDAwYlwifSxGYT0vXFx1ZmZmZi8udGVzdChcIu+/v1wiKT8vW1xcXFxcXFwiXFx4MDAtXFx4MWZcXHg3Zi1cXHVmZmZmXS9nOi9bXFxcXFxcXCJcXHgwMC1cXHgxZlxceDdmLVxceGZmXS9nLEhhO3Q6e3ZhciBJYT1hYS5uYXZpZ2F0b3I7aWYoSWEpe3ZhciBKYT1JYS51c2VyQWdlbnQ7aWYoSmEpe0hhPUphO2JyZWFrIHR9fUhhPVwiXCJ9bWEoTGEsS2EpLExhLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe3RoaXMuUlswXT0xNzMyNTg0MTkzLHRoaXMuUlsxXT00MDIzMjMzNDE3LHRoaXMuUlsyXT0yNTYyMzgzMTAyLHRoaXMuUlszXT0yNzE3MzM4NzgsdGhpcy5SWzRdPTMyODUzNzc1MjAsdGhpcy5iZT10aGlzLiRiPTB9LExhLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24odCxlKXtpZihudWxsIT10KXtuKGUpfHwoZT10Lmxlbmd0aCk7Zm9yKHZhciBpPWUtdGhpcy5XYSxyPTAsbz10aGlzLmxlLGE9dGhpcy4kYjtlPnI7KXtpZigwPT1hKWZvcig7aT49cjspTWEodGhpcyx0LHIpLHIrPXRoaXMuV2E7aWYocCh0KSl7Zm9yKDtlPnI7KWlmKG9bYV09dC5jaGFyQ29kZUF0KHIpLCsrYSwrK3IsYT09dGhpcy5XYSl7TWEodGhpcyxvKSxhPTA7YnJlYWt9fWVsc2UgZm9yKDtlPnI7KWlmKG9bYV09dFtyXSwrK2EsKytyLGE9PXRoaXMuV2Epe01hKHRoaXMsbyksYT0wO2JyZWFrfX10aGlzLiRiPWEsdGhpcy5iZSs9ZX19O3ZhciB0PUFycmF5LnByb3RvdHlwZSxOYT10LmluZGV4T2Y/ZnVuY3Rpb24oZSxuLGkpe3JldHVybiB0LmluZGV4T2YuY2FsbChlLG4saSl9OmZ1bmN0aW9uKHQsZSxuKXtpZihuPW51bGw9PW4/MDowPm4/TWF0aC5tYXgoMCx0Lmxlbmd0aCtuKTpuLHAodCkpcmV0dXJuIHAoZSkmJjE9PWUubGVuZ3RoP3QuaW5kZXhPZihlLG4pOi0xO2Zvcig7bjx0Lmxlbmd0aDtuKyspaWYobiBpbiB0JiZ0W25dPT09ZSlyZXR1cm4gbjtyZXR1cm4tMX0sT2E9dC5mb3JFYWNoP2Z1bmN0aW9uKGUsbixpKXt0LmZvckVhY2guY2FsbChlLG4saSl9OmZ1bmN0aW9uKHQsZSxuKXtmb3IodmFyIGk9dC5sZW5ndGgscj1wKHQpP3Quc3BsaXQoXCJcIik6dCxvPTA7aT5vO28rKylvIGluIHImJmUuY2FsbChuLHJbb10sbyx0KX0sUGE9dC5maWx0ZXI/ZnVuY3Rpb24oZSxuLGkpe3JldHVybiB0LmZpbHRlci5jYWxsKGUsbixpKX06ZnVuY3Rpb24odCxlLG4pe2Zvcih2YXIgaT10Lmxlbmd0aCxyPVtdLG89MCxhPXAodCk/dC5zcGxpdChcIlwiKTp0LHM9MDtpPnM7cysrKWlmKHMgaW4gYSl7dmFyIHU9YVtzXTtlLmNhbGwobix1LHMsdCkmJihyW28rK109dSl9cmV0dXJuIHJ9LFFhPXQubWFwP2Z1bmN0aW9uKGUsbixpKXtyZXR1cm4gdC5tYXAuY2FsbChlLG4saSl9OmZ1bmN0aW9uKHQsZSxuKXtmb3IodmFyIGk9dC5sZW5ndGgscj1BcnJheShpKSxvPXAodCk/dC5zcGxpdChcIlwiKTp0LGE9MDtpPmE7YSsrKWEgaW4gbyYmKHJbYV09ZS5jYWxsKG4sb1thXSxhLHQpKTtyZXR1cm4gcn0sUmE9dC5yZWR1Y2U/ZnVuY3Rpb24oZSxuLGkscil7Zm9yKHZhciBvPVtdLGE9MSxzPWFyZ3VtZW50cy5sZW5ndGg7cz5hO2ErKylvLnB1c2goYXJndW1lbnRzW2FdKTtyZXR1cm4gciYmKG9bMF09cShuLHIpKSx0LnJlZHVjZS5hcHBseShlLG8pfTpmdW5jdGlvbih0LGUsbixpKXt2YXIgcj1uO3JldHVybiBPYSh0LGZ1bmN0aW9uKG4sbyl7cj1lLmNhbGwoaSxyLG4sbyx0KX0pLHJ9LFNhPXQuZXZlcnk/ZnVuY3Rpb24oZSxuLGkpe3JldHVybiB0LmV2ZXJ5LmNhbGwoZSxuLGkpfTpmdW5jdGlvbih0LGUsbil7Zm9yKHZhciBpPXQubGVuZ3RoLHI9cCh0KT90LnNwbGl0KFwiXCIpOnQsbz0wO2k+bztvKyspaWYobyBpbiByJiYhZS5jYWxsKG4scltvXSxvLHQpKXJldHVybiExO3JldHVybiEwfSxaYT0tMSE9SGEuaW5kZXhPZihcIk9wZXJhXCIpfHwtMSE9SGEuaW5kZXhPZihcIk9QUlwiKSwkYT0tMSE9SGEuaW5kZXhPZihcIlRyaWRlbnRcIil8fC0xIT1IYS5pbmRleE9mKFwiTVNJRVwiKSxhYj0tMSE9SGEuaW5kZXhPZihcIkdlY2tvXCIpJiYtMT09SGEudG9Mb3dlckNhc2UoKS5pbmRleE9mKFwid2Via2l0XCIpJiYhKC0xIT1IYS5pbmRleE9mKFwiVHJpZGVudFwiKXx8LTEhPUhhLmluZGV4T2YoXCJNU0lFXCIpKSxiYj0tMSE9SGEudG9Mb3dlckNhc2UoKS5pbmRleE9mKFwid2Via2l0XCIpOyFmdW5jdGlvbigpe3ZhciB0LGU9XCJcIjtyZXR1cm4gWmEmJmFhLm9wZXJhPyhlPWFhLm9wZXJhLnZlcnNpb24saGEoZSk/ZSgpOmUpOihhYj90PS9ydlxcOihbXlxcKTtdKykoXFwpfDspLzokYT90PS9cXGIoPzpNU0lFfHJ2KVs6IF0oW15cXCk7XSspKFxcKXw7KS86YmImJih0PS9XZWJLaXRcXC8oXFxTKykvKSx0JiYoZT0oZT10LmV4ZWMoSGEpKT9lWzFdOlwiXCIpLCRhJiYodD0odD1hYS5kb2N1bWVudCk/dC5kb2N1bWVudE1vZGU6dm9pZCAwLHQ+cGFyc2VGbG9hdChlKSk/U3RyaW5nKHQpOmUpfSgpO3ZhciBjYj1udWxsLGRiPW51bGwsZWI9bnVsbDtuYi5wcm90b3R5cGUuaj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5TZC5vYSh0KX0sbmIucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuU2QudG9TdHJpbmcoKX0sb2IucHJvdG90eXBlLnBmPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9LG9iLnByb3RvdHlwZS54ZT1mdW5jdGlvbigpe3JldHVybiBudWxsfTt2YXIgcGI9bmV3IG9iO3FiLnByb3RvdHlwZS5wZj1mdW5jdGlvbih0KXt2YXIgZT10aGlzLkthLkQ7cmV0dXJuIHJiKGUsdCk/ZS5qKCkuTSh0KTooZT1udWxsIT10aGlzLkhkP25ldyBzYih0aGlzLkhkLCEwLCExKTp0aGlzLkthLnUoKSx0aGlzLlFmLlhhKHQsZSkpfSxxYi5wcm90b3R5cGUueGU9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPW51bGwhPXRoaXMuSGQ/dGhpcy5IZDp0Yih0aGlzLkthKTtyZXR1cm4gdD10aGlzLlFmLm1lKGksZSwxLG4sdCksMD09PXQubGVuZ3RoP251bGw6dFswXX0sd2IucHJvdG90eXBlLmFkZD1mdW5jdGlvbih0KXt0aGlzLnNkLnB1c2godCl9LHdiLnByb3RvdHlwZS5ZYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnFhfTt2YXIgRWI9XCJ2YWx1ZVwiO0ZiLnByb3RvdHlwZS5ZYj1mdW5jdGlvbigpe3ZhciB0PXRoaXMuV2QubGMoKTtyZXR1cm5cInZhbHVlXCI9PT10aGlzLnJkP3QucGF0aDp0LnBhcmVudCgpLnBhdGh9LEZiLnByb3RvdHlwZS55ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnJkfSxGYi5wcm90b3R5cGUuVWI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50ZS5VYih0aGlzKX0sRmIucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuWWIoKS50b1N0cmluZygpK1wiOlwiK3RoaXMucmQrXCI6XCIrQih0aGlzLldkLmxmKCkpfSxHYi5wcm90b3R5cGUuWWI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wYXRofSxHYi5wcm90b3R5cGUueWU9ZnVuY3Rpb24oKXtyZXR1cm5cImNhbmNlbFwifSxHYi5wcm90b3R5cGUuVWI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50ZS5VYih0aGlzKX0sR2IucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGF0aC50b1N0cmluZygpK1wiOmNhbmNlbFwifSxzYi5wcm90b3R5cGUuaj1mdW5jdGlvbigpe3JldHVybiB0aGlzLkJ9LEliLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmRnLmdldCgpLGU9eGEodCk7aWYodGhpcy5BZClmb3IodmFyIG4gaW4gdGhpcy5BZCllW25dLT10aGlzLkFkW25dO3JldHVybiB0aGlzLkFkPXQsZX0sSmIucHJvdG90eXBlLkhmPWZ1bmN0aW9uKCl7dmFyIHQsZT10aGlzLllkLmdldCgpLG49e30saT0hMTtmb3IodCBpbiBlKTA8ZVt0XSYmdSh0aGlzLk1mLHQpJiYoblt0XT1lW3RdLGk9ITApO2kmJnRoaXMuY2EuVGUobiksc2V0VGltZW91dChxKHRoaXMuSGYsdGhpcyksTWF0aC5mbG9vcig2ZTUqTWF0aC5yYW5kb20oKSkpfSxLYi5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHhhKHRoaXMuRGMpfTt2YXIgTWI9e30sTmI9e307VWIucHJvdG90eXBlLldjPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnBhdGguZSgpP25ldyBVYih0aGlzLnNvdXJjZSxGLHRoaXMuSWEuTSh0KSk6bmV3IFViKHRoaXMuc291cmNlLEcodGhpcy5wYXRoKSx0aGlzLklhKX0sVWIucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuXCJPcGVyYXRpb24oXCIrdGhpcy5wYXRoK1wiOiBcIit0aGlzLnNvdXJjZS50b1N0cmluZygpK1wiIG92ZXJ3cml0ZTogXCIrdGhpcy5JYS50b1N0cmluZygpK1wiKVwifSxXYi5wcm90b3R5cGUuV2M9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wYXRoLmUoKT90aGlzOm5ldyBXYihHKHRoaXMucGF0aCksdGhpcy5WZSl9LFdiLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVyblwiT3BlcmF0aW9uKFwiK3RoaXMucGF0aCtcIjogXCIrdGhpcy5zb3VyY2UudG9TdHJpbmcoKStcIiBhY2sgd3JpdGUgcmV2ZXJ0PVwiK3RoaXMuVmUrXCIpXCJ9LFpiLnByb3RvdHlwZS5XYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnBhdGguZSgpP25ldyBaYih0aGlzLnNvdXJjZSxGKTpuZXcgWmIodGhpcy5zb3VyY2UsRyh0aGlzLnBhdGgpKX0sWmIucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuXCJPcGVyYXRpb24oXCIrdGhpcy5wYXRoK1wiOiBcIit0aGlzLnNvdXJjZS50b1N0cmluZygpK1wiIGxpc3Rlbl9jb21wbGV0ZSlcIn0saD1hYy5wcm90b3R5cGUsaC5OYT1mdW5jdGlvbih0LGUpe3JldHVybiBuZXcgYWModGhpcy5MYSx0aGlzLnhhLk5hKHQsZSx0aGlzLkxhKS5YKG51bGwsbnVsbCwhMSxudWxsLG51bGwpKX0saC5yZW1vdmU9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBhYyh0aGlzLkxhLHRoaXMueGEucmVtb3ZlKHQsdGhpcy5MYSkuWChudWxsLG51bGwsITEsbnVsbCxudWxsKSl9LGguZ2V0PWZ1bmN0aW9uKHQpe2Zvcih2YXIgZSxuPXRoaXMueGE7IW4uZSgpOyl7aWYoZT10aGlzLkxhKHQsbi5rZXkpLDA9PT1lKXJldHVybiBuLnZhbHVlOzA+ZT9uPW4ubGVmdDplPjAmJihuPW4ucmlnaHQpfXJldHVybiBudWxsfSxoLmU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy54YS5lKCl9LGguY291bnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy54YS5jb3VudCgpfSxoLlJjPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMueGEuUmMoKX0saC5lYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnhhLmVjKCl9LGguaGE9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMueGEuaGEodCl9LGguV2I9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBkYyh0aGlzLnhhLG51bGwsdGhpcy5MYSwhMSx0KX0saC5YYj1mdW5jdGlvbih0LGUpe3JldHVybiBuZXcgZGModGhpcy54YSx0LHRoaXMuTGEsITEsZSl9LGguWmI9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbmV3IGRjKHRoaXMueGEsdCx0aGlzLkxhLCEwLGUpfSxoLnJmPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgZGModGhpcy54YSxudWxsLHRoaXMuTGEsITAsdCl9LGg9ZmMucHJvdG90eXBlLGguWD1mdW5jdGlvbih0LGUsbixpLHIpe3JldHVybiBuZXcgZmMobnVsbCE9dD90OnRoaXMua2V5LG51bGwhPWU/ZTp0aGlzLnZhbHVlLG51bGwhPW4/bjp0aGlzLmNvbG9yLG51bGwhPWk/aTp0aGlzLmxlZnQsbnVsbCE9cj9yOnRoaXMucmlnaHQpfSxoLmNvdW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGVmdC5jb3VudCgpKzErdGhpcy5yaWdodC5jb3VudCgpfSxoLmU9ZnVuY3Rpb24oKXtyZXR1cm4hMX0saC5oYT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5sZWZ0LmhhKHQpfHx0KHRoaXMua2V5LHRoaXMudmFsdWUpfHx0aGlzLnJpZ2h0LmhhKHQpfSxoLlJjPWZ1bmN0aW9uKCl7cmV0dXJuIGdjKHRoaXMpLmtleX0saC5lYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnJpZ2h0LmUoKT90aGlzLmtleTp0aGlzLnJpZ2h0LmVjKCl9LGguTmE9ZnVuY3Rpb24odCxlLG4pe3ZhciBpLHI7cmV0dXJuIHI9dGhpcyxpPW4odCxyLmtleSkscj0wPmk/ci5YKG51bGwsbnVsbCxudWxsLHIubGVmdC5OYSh0LGUsbiksbnVsbCk6MD09PWk/ci5YKG51bGwsZSxudWxsLG51bGwsbnVsbCk6ci5YKG51bGwsbnVsbCxudWxsLG51bGwsci5yaWdodC5OYSh0LGUsbikpLGhjKHIpfSxoLnJlbW92ZT1mdW5jdGlvbih0LGUpe3ZhciBuLGk7aWYobj10aGlzLDA+ZSh0LG4ua2V5KSluLmxlZnQuZSgpfHxuLmxlZnQuZmEoKXx8bi5sZWZ0LmxlZnQuZmEoKXx8KG49amMobikpLG49bi5YKG51bGwsbnVsbCxudWxsLG4ubGVmdC5yZW1vdmUodCxlKSxudWxsKTtlbHNle2lmKG4ubGVmdC5mYSgpJiYobj1rYyhuKSksbi5yaWdodC5lKCl8fG4ucmlnaHQuZmEoKXx8bi5yaWdodC5sZWZ0LmZhKCl8fChuPWxjKG4pLG4ubGVmdC5sZWZ0LmZhKCkmJihuPWtjKG4pLG49bGMobikpKSwwPT09ZSh0LG4ua2V5KSl7aWYobi5yaWdodC5lKCkpcmV0dXJuIGJjO2k9Z2Mobi5yaWdodCksbj1uLlgoaS5rZXksaS52YWx1ZSxudWxsLG51bGwsaWMobi5yaWdodCkpfW49bi5YKG51bGwsbnVsbCxudWxsLG51bGwsbi5yaWdodC5yZW1vdmUodCxlKSl9cmV0dXJuIGhjKG4pfSxoLmZhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29sb3J9LGg9bmMucHJvdG90eXBlLGguWD1mdW5jdGlvbigpe3JldHVybiB0aGlzfSxoLk5hPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG5ldyBmYyh0LGUsbnVsbCl9LGgucmVtb3ZlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9LGguY291bnQ9ZnVuY3Rpb24oKXtyZXR1cm4gMH0saC5lPWZ1bmN0aW9uKCl7cmV0dXJuITB9LGguaGE9ZnVuY3Rpb24oKXtyZXR1cm4hMX0saC5SYz1mdW5jdGlvbigpe3JldHVybiBudWxsfSxoLmVjPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9LGguZmE9ZnVuY3Rpb24oKXtyZXR1cm4hMX07dmFyIGJjPW5ldyBuYztoPUsucHJvdG90eXBlLGgudG9TdHJpbmc9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9XCJcIixlPXRoaXMuWTtlPHRoaXMuby5sZW5ndGg7ZSsrKVwiXCIhPT10aGlzLm9bZV0mJih0Kz1cIi9cIit0aGlzLm9bZV0pO3JldHVybiB0fHxcIi9cIn0saC5zbGljZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5vLnNsaWNlKHRoaXMuWSsodHx8MCkpfSxoLnBhcmVudD1mdW5jdGlvbigpe2lmKHRoaXMuWT49dGhpcy5vLmxlbmd0aClyZXR1cm4gbnVsbDtmb3IodmFyIHQ9W10sZT10aGlzLlk7ZTx0aGlzLm8ubGVuZ3RoLTE7ZSsrKXQucHVzaCh0aGlzLm9bZV0pO3JldHVybiBuZXcgSyh0LDApfSxoLnc9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPVtdLG49dGhpcy5ZO248dGhpcy5vLmxlbmd0aDtuKyspZS5wdXNoKHRoaXMub1tuXSk7aWYodCBpbnN0YW5jZW9mIEspZm9yKG49dC5ZO248dC5vLmxlbmd0aDtuKyspZS5wdXNoKHQub1tuXSk7ZWxzZSBmb3IodD10LnNwbGl0KFwiL1wiKSxuPTA7bjx0Lmxlbmd0aDtuKyspMDx0W25dLmxlbmd0aCYmZS5wdXNoKHRbbl0pO3JldHVybiBuZXcgSyhlLDApfSxoLmU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ZPj10aGlzLm8ubGVuZ3RofSxoLlo9ZnVuY3Rpb24odCl7aWYodWModGhpcykhPT11Yyh0KSlyZXR1cm4hMTtmb3IodmFyIGU9dGhpcy5ZLG49dC5ZO2U8PXRoaXMuby5sZW5ndGg7ZSsrLG4rKylpZih0aGlzLm9bZV0hPT10Lm9bbl0pcmV0dXJuITE7cmV0dXJuITB9LGguY29udGFpbnM9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5ZLG49dC5ZO2lmKHVjKHRoaXMpPnVjKHQpKXJldHVybiExO2Zvcig7ZTx0aGlzLm8ubGVuZ3RoOyl7aWYodGhpcy5vW2VdIT09dC5vW25dKXJldHVybiExOysrZSwrK259cmV0dXJuITB9O3ZhciBGPW5ldyBLKFwiXCIpO3djLnByb3RvdHlwZS5wdXNoPWZ1bmN0aW9uKHQpezA8dGhpcy5RYS5sZW5ndGgmJih0aGlzLkVhKz0xKSx0aGlzLlFhLnB1c2godCksdGhpcy5FYSs9eGModCkseWModGhpcyl9LHdjLnByb3RvdHlwZS5wb3A9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLlFhLnBvcCgpO3RoaXMuRWEtPXhjKHQpLDA8dGhpcy5RYS5sZW5ndGgmJi0tdGhpcy5FYX0sQWMucHJvdG90eXBlLnNldD1mdW5jdGlvbih0LGUpe251bGw9PWU/ZGVsZXRlIHRoaXMud2NbdF06dGhpcy53Y1t0XT1lfSxBYy5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKHQpe3JldHVybiB1KHRoaXMud2MsdCk/dGhpcy53Y1t0XTpudWxsfSxBYy5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKHQpe2RlbGV0ZSB0aGlzLndjW3RdfSxBYy5wcm90b3R5cGUudWY9ITAsaD1CYy5wcm90b3R5cGUsaC5zZXQ9ZnVuY3Rpb24odCxlKXtudWxsPT1lP3RoaXMuRWMucmVtb3ZlSXRlbSh0aGlzLk1kK3QpOnRoaXMuRWMuc2V0SXRlbSh0aGlzLk1kK3QsQihlKSl9LGguZ2V0PWZ1bmN0aW9uKHQpe3JldHVybiB0PXRoaXMuRWMuZ2V0SXRlbSh0aGlzLk1kK3QpLG51bGw9PXQ/bnVsbDptYih0KX0saC5yZW1vdmU9ZnVuY3Rpb24odCl7dGhpcy5FYy5yZW1vdmVJdGVtKHRoaXMuTWQrdCl9LGgudWY9ITEsaC50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLkVjLnRvU3RyaW5nKCl9O3ZhciBEYz1DYyhcImxvY2FsU3RvcmFnZVwiKSxQPUNjKFwic2Vzc2lvblN0b3JhZ2VcIik7RWMucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7dmFyIHQ9KHRoaXMubGI/XCJodHRwczovL1wiOlwiaHR0cDovL1wiKSt0aGlzLmhvc3Q7cmV0dXJuIHRoaXMuTGQmJih0Kz1cIjxcIit0aGlzLkxkK1wiPlwiKSx0fTt2YXIgR2M9ZnVuY3Rpb24oKXt2YXIgdD0xO3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0Kyt9fSgpLEFiPW51bGwsTWM9ITAsJGM9L14tP1xcZHsxLDEwfSQvO2RkLnByb3RvdHlwZS5lZz1mdW5jdGlvbih0LGUpe2lmKG51bGw9PXQuWWF8fG51bGw9PWUuWWEpdGhyb3cgSGMoXCJTaG91bGQgb25seSBjb21wYXJlIGNoaWxkXyBldmVudHMuXCIpO3JldHVybiB0aGlzLmcuY29tcGFyZShuZXcgRSh0LllhLHQuSmEpLG5ldyBFKGUuWWEsZS5KYSkpfSxoPWpkLnByb3RvdHlwZSxoLkpmPWZ1bmN0aW9uKHQpe3JldHVyblwidmFsdWVcIj09PXR9LGguY3JlYXRlRXZlbnQ9ZnVuY3Rpb24odCxlKXt2YXIgbj1lLm4uZztyZXR1cm4gbmV3IEZiKFwidmFsdWVcIix0aGlzLG5ldyBTKHQuSmEsZS5sYygpLG4pKX0saC5VYj1mdW5jdGlvbih0KXt2YXIgZT10aGlzLnNiO2lmKFwiY2FuY2VsXCI9PT10LnllKCkpe0oodGhpcy5xYixcIlJhaXNpbmcgYSBjYW5jZWwgZXZlbnQgb24gYSBsaXN0ZW5lciB3aXRoIG5vIGNhbmNlbCBjYWxsYmFja1wiKTt2YXIgbj10aGlzLnFiO3JldHVybiBmdW5jdGlvbigpe24uY2FsbChlLHQuZXJyb3IpfX12YXIgaT10aGlzLlBiO3JldHVybiBmdW5jdGlvbigpe2kuY2FsbChlLHQuV2QpfX0saC5mZj1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLnFiP25ldyBHYih0aGlzLHQsZSk6bnVsbH0saC5tYXRjaGVzPWZ1bmN0aW9uKHQpe3JldHVybiB0IGluc3RhbmNlb2YgamQ/dC5QYiYmdGhpcy5QYj90LlBiPT09dGhpcy5QYiYmdC5zYj09PXRoaXMuc2I6ITA6ITF9LGguc2Y9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9PXRoaXMuUGJ9LGg9a2QucHJvdG90eXBlLGguSmY9ZnVuY3Rpb24odCl7cmV0dXJuIHQ9XCJjaGlsZHJlbl9hZGRlZFwiPT09dD9cImNoaWxkX2FkZGVkXCI6dCwoXCJjaGlsZHJlbl9yZW1vdmVkXCI9PT10P1wiY2hpbGRfcmVtb3ZlZFwiOnQpaW4gdGhpcy5nYX0saC5mZj1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLnFiP25ldyBHYih0aGlzLHQsZSk6bnVsbH0saC5jcmVhdGVFdmVudD1mdW5jdGlvbih0LGUpe0oobnVsbCE9dC5ZYSxcIkNoaWxkIGV2ZW50cyBzaG91bGQgaGF2ZSBhIGNoaWxkTmFtZS5cIik7dmFyIG49ZS5sYygpLncodC5ZYSk7cmV0dXJuIG5ldyBGYih0LnR5cGUsdGhpcyxuZXcgUyh0LkphLG4sZS5uLmcpLHQuTmQpfSxoLlViPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuc2I7aWYoXCJjYW5jZWxcIj09PXQueWUoKSl7Sih0aGlzLnFiLFwiUmFpc2luZyBhIGNhbmNlbCBldmVudCBvbiBhIGxpc3RlbmVyIHdpdGggbm8gY2FuY2VsIGNhbGxiYWNrXCIpO3ZhciBuPXRoaXMucWI7cmV0dXJuIGZ1bmN0aW9uKCl7bi5jYWxsKGUsdC5lcnJvcil9fXZhciBpPXRoaXMuZ2FbdC5yZF07cmV0dXJuIGZ1bmN0aW9uKCl7aS5jYWxsKGUsdC5XZCx0Lk5kKX19LGgubWF0Y2hlcz1mdW5jdGlvbih0KXtpZih0IGluc3RhbmNlb2Yga2Qpe2lmKCF0aGlzLmdhfHwhdC5nYSlyZXR1cm4hMDtpZih0aGlzLnNiPT09dC5zYil7dmFyIGU9cGEodC5nYSk7aWYoZT09PXBhKHRoaXMuZ2EpKXtpZigxPT09ZSl7dmFyIGU9cWEodC5nYSksbj1xYSh0aGlzLmdhKTtyZXR1cm4hKG4hPT1lfHx0LmdhW2VdJiZ0aGlzLmdhW25dJiZ0LmdhW2VdIT09dGhpcy5nYVtuXSl9cmV0dXJuIG9hKHRoaXMuZ2EsZnVuY3Rpb24oZSxuKXtyZXR1cm4gdC5nYVtuXT09PWV9KX19fXJldHVybiExfSxoLnNmPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGwhPT10aGlzLmdhfSxoPWxkLnByb3RvdHlwZSxoLkc9ZnVuY3Rpb24odCxlLG4saSxyKXtyZXR1cm4gSih0LkljKHRoaXMuZyksXCJBIG5vZGUgbXVzdCBiZSBpbmRleGVkIGlmIG9ubHkgYSBjaGlsZCBpcyB1cGRhdGVkXCIpLGk9dC5NKGUpLGkuWihuKT90OihudWxsIT1yJiYobi5lKCk/dC5IYShlKT9pZChyLG5ldyBEKFwiY2hpbGRfcmVtb3ZlZFwiLGksZSkpOkoodC5OKCksXCJBIGNoaWxkIHJlbW92ZSB3aXRob3V0IGFuIG9sZCBjaGlsZCBvbmx5IG1ha2VzIHNlbnNlIG9uIGEgbGVhZiBub2RlXCIpOmkuZSgpP2lkKHIsbmV3IEQoXCJjaGlsZF9hZGRlZFwiLG4sZSkpOmlkKHIsbmV3IEQoXCJjaGlsZF9jaGFuZ2VkXCIsbixlLGkpKSksdC5OKCkmJm4uZSgpP3Q6dC5RKGUsbikubWIodGhpcy5nKSl9LGgudGE9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBudWxsIT1uJiYodC5OKCl8fHQuVShNLGZ1bmN0aW9uKHQsaSl7ZS5IYSh0KXx8aWQobixuZXcgRChcImNoaWxkX3JlbW92ZWRcIixpLHQpKX0pLGUuTigpfHxlLlUoTSxmdW5jdGlvbihlLGkpe2lmKHQuSGEoZSkpe3ZhciByPXQuTShlKTtyLlooaSl8fGlkKG4sbmV3IEQoXCJjaGlsZF9jaGFuZ2VkXCIsaSxlLHIpKX1lbHNlIGlkKG4sbmV3IEQoXCJjaGlsZF9hZGRlZFwiLGksZSkpfSkpLGUubWIodGhpcy5nKX0saC5kYT1mdW5jdGlvbih0LGUpe3JldHVybiB0LmUoKT9DOnQuZGEoZSl9LGguR2E9ZnVuY3Rpb24oKXtyZXR1cm4hMX0saC5WYj1mdW5jdGlvbigpe3JldHVybiB0aGlzfSxoPW1kLnByb3RvdHlwZSxoLm1hdGNoZXM9ZnVuY3Rpb24odCl7cmV0dXJuIDA+PXRoaXMuZy5jb21wYXJlKHRoaXMuZGQsdCkmJjA+PXRoaXMuZy5jb21wYXJlKHQsdGhpcy5GYyl9LGguRz1mdW5jdGlvbih0LGUsbixpLHIpe3JldHVybiB0aGlzLm1hdGNoZXMobmV3IEUoZSxuKSl8fChuPUMpLHRoaXMuQWUuRyh0LGUsbixpLHIpfSxoLnRhPWZ1bmN0aW9uKHQsZSxuKXtlLk4oKSYmKGU9Qyk7dmFyIGk9ZS5tYih0aGlzLmcpLGk9aS5kYShDKSxyPXRoaXM7cmV0dXJuIGUuVShNLGZ1bmN0aW9uKHQsZSl7ci5tYXRjaGVzKG5ldyBFKHQsZSkpfHwoaT1pLlEodCxDKSl9KSx0aGlzLkFlLnRhKHQsaSxuKX0saC5kYT1mdW5jdGlvbih0KXtyZXR1cm4gdH0saC5HYT1mdW5jdGlvbigpe3JldHVybiEwfSxoLlZiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuQWV9LGg9cmQucHJvdG90eXBlLGguRz1mdW5jdGlvbih0LGUsbixpLHIpe3JldHVybiB0aGlzLnJhLm1hdGNoZXMobmV3IEUoZSxuKSl8fChuPUMpLHQuTShlKS5aKG4pP3Q6dC5EYigpPHRoaXMuamE/dGhpcy5yYS5WYigpLkcodCxlLG4saSxyKTp0ZCh0aGlzLHQsZSxuLGkscil9LGgudGE9ZnVuY3Rpb24odCxlLG4pe3ZhciBpO2lmKGUuTigpfHxlLmUoKSlpPUMubWIodGhpcy5nKTtlbHNlIGlmKDIqdGhpcy5qYTxlLkRiKCkmJmUuSWModGhpcy5nKSl7aT1DLm1iKHRoaXMuZyksZT10aGlzLkpiP2UuWmIodGhpcy5yYS5GYyx0aGlzLmcpOmUuWGIodGhpcy5yYS5kZCx0aGlzLmcpO2Zvcih2YXIgcj0wOzA8ZS5QYS5sZW5ndGgmJnI8dGhpcy5qYTspe3ZhciBvLGE9SChlKTtpZighKG89dGhpcy5KYj8wPj10aGlzLmcuY29tcGFyZSh0aGlzLnJhLmRkLGEpOjA+PXRoaXMuZy5jb21wYXJlKGEsdGhpcy5yYS5GYykpKWJyZWFrO2k9aS5RKGEubmFtZSxhLlMpLHIrK319ZWxzZXtpPWUubWIodGhpcy5nKSxpPWkuZGEoQyk7dmFyIHMsdSxoO2lmKHRoaXMuSmIpe2U9aS5yZih0aGlzLmcpLHM9dGhpcy5yYS5GYyx1PXRoaXMucmEuZGQ7dmFyIGM9dWQodGhpcy5nKTtoPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGMoZSx0KX19ZWxzZSBlPWkuV2IodGhpcy5nKSxzPXRoaXMucmEuZGQsdT10aGlzLnJhLkZjLGg9dWQodGhpcy5nKTtmb3IodmFyIHI9MCxmPSExOzA8ZS5QYS5sZW5ndGg7KWE9SChlKSwhZiYmMD49aChzLGEpJiYoZj0hMCksKG89ZiYmcjx0aGlzLmphJiYwPj1oKGEsdSkpP3IrKzppPWkuUShhLm5hbWUsQyl9cmV0dXJuIHRoaXMucmEuVmIoKS50YSh0LGksbil9LGguZGE9ZnVuY3Rpb24odCl7cmV0dXJuIHR9LGguR2E9ZnVuY3Rpb24oKXtyZXR1cm4hMH0saC5WYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnJhLlZiKCl9LHpkLnByb3RvdHlwZS5iYj1mdW5jdGlvbih0LGUsbixpKXt2YXIgcixvPW5ldyBoZDtpZihlLnR5cGU9PT1WYillLnNvdXJjZS52ZT9uPUFkKHRoaXMsdCxlLnBhdGgsZS5JYSxuLGksbyk6KEooZS5zb3VyY2Uub2YsXCJVbmtub3duIHNvdXJjZS5cIikscj1lLnNvdXJjZS5hZixuPUJkKHRoaXMsdCxlLnBhdGgsZS5JYSxuLGkscixvKSk7ZWxzZSBpZihlLnR5cGU9PT1DZCllLnNvdXJjZS52ZT9uPURkKHRoaXMsdCxlLnBhdGgsZS5jaGlsZHJlbixuLGksbyk6KEooZS5zb3VyY2Uub2YsXCJVbmtub3duIHNvdXJjZS5cIikscj1lLnNvdXJjZS5hZixuPUVkKHRoaXMsdCxlLnBhdGgsZS5jaGlsZHJlbixuLGkscixvKSk7ZWxzZSBpZihlLnR5cGU9PT1YYilpZihlLlZlKWlmKHI9ZS5wYXRoLG51bGwhPW4uc2Mocikpbj10O2Vsc2V7aWYoZT1uZXcgcWIobix0LGkpLGk9dC5ELmooKSxyLmUoKXx8XCIucHJpb3JpdHlcIj09PU8ocikpSGIodC51KCkpP2U9bi51YSh0Yih0KSk6KGU9dC51KCkuaigpLEooZSBpbnN0YW5jZW9mIFQsXCJzZXJ2ZXJDaGlsZHJlbiB3b3VsZCBiZSBjb21wbGV0ZSBpZiBsZWFmIG5vZGVcIiksZT1uLnhjKGUpKSxlPXRoaXMuSS50YShpLGUsbyk7ZWxzZXtyPU8ocik7dmFyIGE9bi5YYShyLHQudSgpKTtudWxsPT1hJiZyYih0LnUoKSxyKSYmKGE9aS5NKHIpKSxlPW51bGwhPWE/dGhpcy5JLkcoaSxyLGEsZSxvKTp0LkQuaigpLkhhKHIpP3RoaXMuSS5HKGkscixDLGUsbyk6aSxlLmUoKSYmSGIodC51KCkpJiYoaT1uLnVhKHRiKHQpKSxpLk4oKSYmKGU9dGhpcy5JLnRhKGUsaSxvKSkpfWk9SGIodC51KCkpfHxudWxsIT1uLnNjKEYpLG49RmQodCxlLGksdGhpcy5JLkdhKCkpfWVsc2Ugbj1HZCh0aGlzLHQsZS5wYXRoLG4saSxvKTtlbHNle2lmKGUudHlwZSE9PSRiKXRocm93IEhjKFwiVW5rbm93biBvcGVyYXRpb24gdHlwZTogXCIrZS50eXBlKTtpPWUucGF0aCxlPXQudSgpLHI9ZS5qKCksYT1lLiR8fGkuZSgpLG49SGQodGhpcyxuZXcgSWQodC5ELG5ldyBzYihyLGEsZS5UYikpLGksbixwYixvKX1yZXR1cm4gbz1yYShvLmViKSxpPW4sZT1pLkQsZS4kJiYocj1lLmooKS5OKCl8fGUuaigpLmUoKSxhPUpkKHQpLCgwPG8ubGVuZ3RofHwhdC5ELiR8fHImJiFlLmooKS5aKGEpfHwhZS5qKCkuQSgpLlooYS5BKCkpKSYmby5wdXNoKERiKEpkKGkpKSkpLG5ldyB5ZChuLG8pfTt2YXIgUGQ9e307T2QucHJvdG90eXBlLnhkPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIDAhPT10aGlzLmNvbXBhcmUobmV3IEUoXCJbTUlOX05BTUVdXCIsdCksbmV3IEUoXCJbTUlOX05BTUVdXCIsZSkpfSxPZC5wcm90b3R5cGUuU2M9ZnVuY3Rpb24oKXtyZXR1cm4gUWR9LG1hKFJkLE9kKSxoPVJkLnByb3RvdHlwZSxoLkhjPWZ1bmN0aW9uKHQpe3JldHVybiF0Lk0odGhpcy5iYykuZSgpfSxoLmNvbXBhcmU9ZnVuY3Rpb24odCxlKXt2YXIgbj10LlMuTSh0aGlzLmJjKSxpPWUuUy5NKHRoaXMuYmMpLG49bi5DYyhpKTtyZXR1cm4gMD09PW4/U2IodC5uYW1lLGUubmFtZSk6bn0saC5PYz1mdW5jdGlvbih0LGUpe3ZhciBuPUwodCksbj1DLlEodGhpcy5iYyxuKTtyZXR1cm4gbmV3IEUoZSxuKX0saC5QYz1mdW5jdGlvbigpe3ZhciB0PUMuUSh0aGlzLmJjLFNkKTtyZXR1cm4gbmV3IEUoXCJbTUFYX05BTUVdXCIsdCl9LGgudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iY30sbWEoVGQsT2QpLGg9VGQucHJvdG90eXBlLGguY29tcGFyZT1mdW5jdGlvbih0LGUpe3ZhciBuPXQuUy5BKCksaT1lLlMuQSgpLG49bi5DYyhpKTtyZXR1cm4gMD09PW4/U2IodC5uYW1lLGUubmFtZSk6bn0saC5IYz1mdW5jdGlvbih0KXtyZXR1cm4hdC5BKCkuZSgpfSxoLnhkPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIXQuQSgpLlooZS5BKCkpfSxoLlNjPWZ1bmN0aW9uKCl7cmV0dXJuIFFkfSxoLlBjPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBFKFwiW01BWF9OQU1FXVwiLG5ldyB0YyhcIltQUklPUklUWS1QT1NUXVwiLFNkKSl9LGguT2M9ZnVuY3Rpb24odCxlKXt2YXIgbj1MKHQpO3JldHVybiBuZXcgRShlLG5ldyB0YyhcIltQUklPUklUWS1QT1NUXVwiLG4pKX0saC50b1N0cmluZz1mdW5jdGlvbigpe3JldHVyblwiLnByaW9yaXR5XCJ9O3ZhciBNPW5ldyBUZDttYShVZCxPZCksaD1VZC5wcm90b3R5cGUsaC5jb21wYXJlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIFNiKHQubmFtZSxlLm5hbWUpfSxoLkhjPWZ1bmN0aW9uKCl7dGhyb3cgSGMoXCJLZXlJbmRleC5pc0RlZmluZWRPbiBub3QgZXhwZWN0ZWQgdG8gYmUgY2FsbGVkLlwiKX0saC54ZD1mdW5jdGlvbigpe3JldHVybiExfSxoLlNjPWZ1bmN0aW9uKCl7cmV0dXJuIFFkfSxoLlBjPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBFKFwiW01BWF9OQU1FXVwiLEMpfSxoLk9jPWZ1bmN0aW9uKHQpe3JldHVybiBKKHAodCksXCJLZXlJbmRleCBpbmRleFZhbHVlIG11c3QgYWx3YXlzIGJlIGEgc3RyaW5nLlwiKSxuZXcgRSh0LEMpfSxoLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuXCIua2V5XCJ9O3ZhciBWZD1uZXcgVWQ7bWEoV2QsT2QpLGg9V2QucHJvdG90eXBlLGguY29tcGFyZT1mdW5jdGlvbih0LGUpe3ZhciBuPXQuUy5DYyhlLlMpO3JldHVybiAwPT09bj9TYih0Lm5hbWUsZS5uYW1lKTpufSxoLkhjPWZ1bmN0aW9uKCl7cmV0dXJuITB9LGgueGQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4hdC5aKGUpfSxoLlNjPWZ1bmN0aW9uKCl7cmV0dXJuIFFkfSxoLlBjPWZ1bmN0aW9uKCl7cmV0dXJuIFhkfSxoLk9jPWZ1bmN0aW9uKHQsZSl7dmFyIG49TCh0KTtyZXR1cm4gbmV3IEUoZSxuKX0saC50b1N0cmluZz1mdW5jdGlvbigpe3JldHVyblwiLnZhbHVlXCJ9O3ZhciBZZD1uZXcgV2QsJGQ9bmV3IFpkO2g9WmQucHJvdG90eXBlLGguR2U9ZnVuY3Rpb24odCl7dmFyIGU9YWUodGhpcyk7cmV0dXJuIGUuaWE9ITAsZS5qYT10LGUuTmI9XCJcIixlfSxoLkhlPWZ1bmN0aW9uKHQpe3ZhciBlPWFlKHRoaXMpO3JldHVybiBlLmlhPSEwLGUuamE9dCxlLk5iPVwibFwiLGV9LGguSWU9ZnVuY3Rpb24odCl7dmFyIGU9YWUodGhpcyk7cmV0dXJuIGUuaWE9ITAsZS5qYT10LGUuTmI9XCJyXCIsZX0saC5YZD1mdW5jdGlvbih0LGUpe3ZhciBpPWFlKHRoaXMpO3JldHVybiBpLmxhPSEwLG4odCl8fCh0PW51bGwpLGkuZGM9dCxudWxsIT1lPyhpLkxiPSEwLGkueGI9ZSk6KGkuTGI9ITEsaS54Yj1cIlwiKSxpfSxoLnFkPWZ1bmN0aW9uKHQsZSl7dmFyIGk9YWUodGhpcyk7cmV0dXJuIGkubmE9ITAsbih0KXx8KHQ9bnVsbCksaS5hYz10LG4oZSk/KGkuUmI9ITAsaS52Yj1lKTooaS5ZZz0hMSxpLnZiPVwiXCIpLGl9LGgudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gQihjZSh0aGlzKSl9LGZlLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24odCl7dmFyIGU9dyh0aGlzLnlkLHQpO2lmKCFlKXRocm93IEVycm9yKFwiTm8gaW5kZXggZGVmaW5lZCBmb3IgXCIrdCk7cmV0dXJuIGU9PT1QZD9udWxsOmV9O3ZhciBqZT1uZXcgZmUoe1wiLnByaW9yaXR5XCI6UGR9LHtcIi5wcmlvcml0eVwiOk19KTtoPXRjLnByb3RvdHlwZSxoLk49ZnVuY3Rpb24oKXtyZXR1cm4hMH0saC5BPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYmF9LGguZGE9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyB0Yyh0aGlzLkMsdCl9LGguTT1mdW5jdGlvbih0KXtyZXR1cm5cIi5wcmlvcml0eVwiPT09dD90aGlzLmJhOkN9LGgub2E9ZnVuY3Rpb24odCl7cmV0dXJuIHQuZSgpP3RoaXM6XCIucHJpb3JpdHlcIj09PU8odCk/dGhpcy5iYTpDfSxoLkhhPWZ1bmN0aW9uKCl7cmV0dXJuITF9LGgucWY9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH0saC5RPWZ1bmN0aW9uKHQsZSl7cmV0dXJuXCIucHJpb3JpdHlcIj09PXQ/dGhpcy5kYShlKTplLmUoKSYmXCIucHJpb3JpdHlcIiE9PXQ/dGhpczpDLlEodCxlKS5kYSh0aGlzLmJhKX0saC5HPWZ1bmN0aW9uKHQsZSl7dmFyIG49Tyh0KTtyZXR1cm4gbnVsbD09PW4/ZTplLmUoKSYmXCIucHJpb3JpdHlcIiE9PW4/dGhpczooSihcIi5wcmlvcml0eVwiIT09bnx8MT09PXVjKHQpLFwiLnByaW9yaXR5IG11c3QgYmUgdGhlIGxhc3QgdG9rZW4gaW4gYSBwYXRoXCIpLHRoaXMuUShuLEMuRyhHKHQpLGUpKSl9LGguZT1mdW5jdGlvbigpe3JldHVybiExfSxoLkRiPWZ1bmN0aW9uKCl7cmV0dXJuIDB9LGguSz1mdW5jdGlvbih0KXtyZXR1cm4gdCYmIXRoaXMuQSgpLmUoKT97XCIudmFsdWVcIjp0aGlzLkJhKCksXCIucHJpb3JpdHlcIjp0aGlzLkEoKS5LKCl9OnRoaXMuQmEoKX0saC5oYXNoPWZ1bmN0aW9uKCl7aWYobnVsbD09PXRoaXMuQmIpe3ZhciB0PVwiXCI7dGhpcy5iYS5lKCl8fCh0Kz1cInByaW9yaXR5OlwiK2xlKHRoaXMuYmEuSygpKStcIjpcIik7dmFyIGU9dHlwZW9mIHRoaXMuQyx0PXQrKGUrXCI6XCIpLHQ9XCJudW1iZXJcIj09PWU/dCtaYyh0aGlzLkMpOnQrdGhpcy5DO3RoaXMuQmI9SmModCl9cmV0dXJuIHRoaXMuQmJ9LGguQmE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5DfSxoLkNjPWZ1bmN0aW9uKHQpe2lmKHQ9PT1DKXJldHVybiAxO2lmKHQgaW5zdGFuY2VvZiBUKXJldHVybi0xO0oodC5OKCksXCJVbmtub3duIG5vZGUgdHlwZVwiKTt2YXIgZT10eXBlb2YgdC5DLG49dHlwZW9mIHRoaXMuQyxpPU5hKG1lLGUpLHI9TmEobWUsbik7cmV0dXJuIEooaT49MCxcIlVua25vd24gbGVhZiB0eXBlOiBcIitlKSxKKHI+PTAsXCJVbmtub3duIGxlYWYgdHlwZTogXCIrbiksaT09PXI/XCJvYmplY3RcIj09PW4/MDp0aGlzLkM8dC5DPy0xOnRoaXMuQz09PXQuQz8wOjE6ci1pfTt2YXIgbWU9W1wib2JqZWN0XCIsXCJib29sZWFuXCIsXCJudW1iZXJcIixcInN0cmluZ1wiXTt0Yy5wcm90b3R5cGUubWI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30sdGMucHJvdG90eXBlLkljPWZ1bmN0aW9uKCl7cmV0dXJuITB9LHRjLnByb3RvdHlwZS5aPWZ1bmN0aW9uKHQpe3JldHVybiB0PT09dGhpcz8hMDp0Lk4oKT90aGlzLkM9PT10LkMmJnRoaXMuYmEuWih0LmJhKTohMX0sdGMucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIEIodGhpcy5LKCEwKSl9LGg9VC5wcm90b3R5cGUsaC5OPWZ1bmN0aW9uKCl7cmV0dXJuITF9LGguQT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmJhfHxDfSxoLmRhPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLm0uZSgpP3RoaXM6bmV3IFQodGhpcy5tLHQsdGhpcy53Yil9LGguTT1mdW5jdGlvbih0KXtyZXR1cm5cIi5wcmlvcml0eVwiPT09dD90aGlzLkEoKToodD10aGlzLm0uZ2V0KHQpLG51bGw9PT10P0M6dCl9LGgub2E9ZnVuY3Rpb24odCl7dmFyIGU9Tyh0KTtyZXR1cm4gbnVsbD09PWU/dGhpczp0aGlzLk0oZSkub2EoRyh0KSl9LGguSGE9ZnVuY3Rpb24odCl7cmV0dXJuIG51bGwhPT10aGlzLm0uZ2V0KHQpfSxoLlE9ZnVuY3Rpb24odCxlKXtpZihKKGUsXCJXZSBzaG91bGQgYWx3YXlzIGJlIHBhc3Npbmcgc25hcHNob3Qgbm9kZXNcIiksXCIucHJpb3JpdHlcIj09PXQpcmV0dXJuIHRoaXMuZGEoZSk7dmFyIG4saSxyPW5ldyBFKHQsZSk7cmV0dXJuIGUuZSgpPyhuPXRoaXMubS5yZW1vdmUodCkscj1pZSh0aGlzLndiLHIsdGhpcy5tKSk6KG49dGhpcy5tLk5hKHQsZSkscj1nZSh0aGlzLndiLHIsdGhpcy5tKSksaT1uLmUoKT9DOnRoaXMuYmEsbmV3IFQobixpLHIpfSxoLkc9ZnVuY3Rpb24odCxlKXt2YXIgbj1PKHQpO2lmKG51bGw9PT1uKXJldHVybiBlO0ooXCIucHJpb3JpdHlcIiE9PU8odCl8fDE9PT11Yyh0KSxcIi5wcmlvcml0eSBtdXN0IGJlIHRoZSBsYXN0IHRva2VuIGluIGEgcGF0aFwiKTt2YXIgaT10aGlzLk0obikuRyhHKHQpLGUpO3JldHVybiB0aGlzLlEobixpKX0saC5lPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubS5lKCl9LGguRGI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tLmNvdW50KCl9O3ZhciBuZT0vXigwfFsxLTldXFxkKikkLztoPVQucHJvdG90eXBlLGguSz1mdW5jdGlvbih0KXtpZih0aGlzLmUoKSlyZXR1cm4gbnVsbDt2YXIgZT17fSxuPTAsaT0wLHI9ITA7aWYodGhpcy5VKE0sZnVuY3Rpb24obyxhKXtlW29dPWEuSyh0KSxuKyssciYmbmUudGVzdChvKT9pPU1hdGgubWF4KGksTnVtYmVyKG8pKTpyPSExfSksIXQmJnImJjIqbj5pKXt2YXIgbyxhPVtdO2ZvcihvIGluIGUpYVtvXT1lW29dO3JldHVybiBhfXJldHVybiB0JiYhdGhpcy5BKCkuZSgpJiYoZVtcIi5wcmlvcml0eVwiXT10aGlzLkEoKS5LKCkpLGV9LGguaGFzaD1mdW5jdGlvbigpe2lmKG51bGw9PT10aGlzLkJiKXt2YXIgdD1cIlwiO3RoaXMuQSgpLmUoKXx8KHQrPVwicHJpb3JpdHk6XCIrbGUodGhpcy5BKCkuSygpKStcIjpcIiksdGhpcy5VKE0sZnVuY3Rpb24oZSxuKXt2YXIgaT1uLmhhc2goKTtcIlwiIT09aSYmKHQrPVwiOlwiK2UrXCI6XCIraSl9KSx0aGlzLkJiPVwiXCI9PT10P1wiXCI6SmModCl9cmV0dXJuIHRoaXMuQmJ9LGgucWY9ZnVuY3Rpb24odCxlLG4pe3JldHVybihuPW9lKHRoaXMsbikpPyh0PWNjKG4sbmV3IEUodCxlKSkpP3QubmFtZTpudWxsOmNjKHRoaXMubSx0KX0saC5VPWZ1bmN0aW9uKHQsZSl7dmFyIG49b2UodGhpcyx0KTtyZXR1cm4gbj9uLmhhKGZ1bmN0aW9uKHQpe3JldHVybiBlKHQubmFtZSx0LlMpfSk6dGhpcy5tLmhhKGUpfSxoLldiPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLlhiKHQuU2MoKSx0KX0saC5YYj1mdW5jdGlvbih0LGUpe3ZhciBuPW9lKHRoaXMsZSk7aWYobilyZXR1cm4gbi5YYih0LGZ1bmN0aW9uKHQpe3JldHVybiB0fSk7Zm9yKHZhciBuPXRoaXMubS5YYih0Lm5hbWUsUWIpLGk9ZWMobik7bnVsbCE9aSYmMD5lLmNvbXBhcmUoaSx0KTspSChuKSxpPWVjKG4pO3JldHVybiBufSxoLnJmPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLlpiKHQuUGMoKSx0KX0saC5aYj1mdW5jdGlvbih0LGUpe3ZhciBuPW9lKHRoaXMsZSk7aWYobilyZXR1cm4gbi5aYih0LGZ1bmN0aW9uKHQpe3JldHVybiB0fSk7Zm9yKHZhciBuPXRoaXMubS5aYih0Lm5hbWUsUWIpLGk9ZWMobik7bnVsbCE9aSYmMDxlLmNvbXBhcmUoaSx0KTspSChuKSxpPWVjKG4pO3JldHVybiBufSxoLkNjPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmUoKT90LmUoKT8wOi0xOnQuTigpfHx0LmUoKT8xOnQ9PT1TZD8tMTowfSxoLm1iPWZ1bmN0aW9uKHQpe2lmKHQ9PT1WZHx8dGEodGhpcy53Yi5jYyx0LnRvU3RyaW5nKCkpKXJldHVybiB0aGlzO3ZhciBlPXRoaXMud2Isbj10aGlzLm07Sih0IT09VmQsXCJLZXlJbmRleCBhbHdheXMgZXhpc3RzIGFuZCBpc24ndCBtZWFudCB0byBiZSBhZGRlZCB0byB0aGUgSW5kZXhNYXAuXCIpO2Zvcih2YXIgaT1bXSxyPSExLG49bi5XYihRYiksbz1IKG4pO287KXI9cnx8dC5IYyhvLlMpLGkucHVzaChvKSxvPUgobik7cmV0dXJuIGk9cj9oZShpLHVkKHQpKTpQZCxyPXQudG9TdHJpbmcoKSxuPXhhKGUuY2MpLG5bcl09dCx0PXhhKGUueWQpLHRbcl09aSxuZXcgVCh0aGlzLm0sdGhpcy5iYSxuZXcgZmUodCxuKSl9LGguSWM9ZnVuY3Rpb24odCl7cmV0dXJuIHQ9PT1WZHx8dGEodGhpcy53Yi5jYyx0LnRvU3RyaW5nKCkpfSxoLlo9ZnVuY3Rpb24odCl7aWYodD09PXRoaXMpcmV0dXJuITA7aWYodC5OKCkpcmV0dXJuITE7aWYodGhpcy5BKCkuWih0LkEoKSkmJnRoaXMubS5jb3VudCgpPT09dC5tLmNvdW50KCkpe3ZhciBlPXRoaXMuV2IoTSk7dD10LldiKE0pO2Zvcih2YXIgbj1IKGUpLGk9SCh0KTtuJiZpOyl7aWYobi5uYW1lIT09aS5uYW1lfHwhbi5TLlooaS5TKSlyZXR1cm4hMTtuPUgoZSksaT1IKHQpfXJldHVybiBudWxsPT09biYmbnVsbD09PWl9cmV0dXJuITF9LGgudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gQih0aGlzLksoITApKX07dmFyIHBlPU1hdGgubG9nKDIpLEM9bmV3IFQobmV3IGFjKFRiKSxudWxsLGplKTttYShzZSxUKSxoPXNlLnByb3RvdHlwZSxoLkNjPWZ1bmN0aW9uKHQpe3JldHVybiB0PT09dGhpcz8wOjF9LGguWj1mdW5jdGlvbih0KXtyZXR1cm4gdD09PXRoaXN9LGguQT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSxoLk09ZnVuY3Rpb24oKXtyZXR1cm4gQ30saC5lPWZ1bmN0aW9uKCl7cmV0dXJuITF9O3ZhciBTZD1uZXcgc2UsUWQ9bmV3IEUoXCJbTUlOX05BTUVdXCIsQyksWGQ9bmV3IEUoXCJbTUFYX05BTUVdXCIsU2QpO0lkLnByb3RvdHlwZS51PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuVWR9LGg9dGUucHJvdG90eXBlLGgudT1mdW5jdGlvbigpe3JldHVybiB0aGlzLkthLnUoKS5qKCl9LGguaGI9ZnVuY3Rpb24odCl7dmFyIGU9dGIodGhpcy5LYSk7cmV0dXJuIGUmJihkZSh0aGlzLlYubil8fCF0LmUoKSYmIWUuTShPKHQpKS5lKCkpP2Uub2EodCk6bnVsbH0saC5lPWZ1bmN0aW9uKCl7cmV0dXJuIDA9PT10aGlzLlphLmxlbmd0aH0saC5PYj1mdW5jdGlvbih0KXt0aGlzLlphLnB1c2godCl9LGgua2I9ZnVuY3Rpb24odCxlKXt2YXIgbj1bXTtpZihlKXtKKG51bGw9PXQsXCJBIGNhbmNlbCBzaG91bGQgY2FuY2VsIGFsbCBldmVudCByZWdpc3RyYXRpb25zLlwiKTt2YXIgaT10aGlzLlYucGF0aDtPYSh0aGlzLlphLGZ1bmN0aW9uKHQpeyh0PXQuZmYoZSxpKSkmJm4ucHVzaCh0KX0pfWlmKHQpe2Zvcih2YXIgcj1bXSxvPTA7bzx0aGlzLlphLmxlbmd0aDsrK28pe3ZhciBhPXRoaXMuWmFbb107aWYoYS5tYXRjaGVzKHQpKXtpZih0LnNmKCkpe3I9ci5jb25jYXQodGhpcy5aYS5zbGljZShvKzEpKTticmVha319ZWxzZSByLnB1c2goYSl9dGhpcy5aYT1yfWVsc2UgdGhpcy5aYT1bXTtyZXR1cm4gbn0saC5iYj1mdW5jdGlvbih0LGUsbil7dC50eXBlPT09Q2QmJm51bGwhPT10LnNvdXJjZS5JYiYmKEoodGIodGhpcy5LYSksXCJXZSBzaG91bGQgYWx3YXlzIGhhdmUgYSBmdWxsIGNhY2hlIGJlZm9yZSBoYW5kbGluZyBtZXJnZXNcIiksSihKZCh0aGlzLkthKSxcIk1pc3NpbmcgZXZlbnQgY2FjaGUsIGV2ZW4gdGhvdWdoIHdlIGhhdmUgYSBzZXJ2ZXIgY2FjaGVcIikpO3ZhciBpPXRoaXMuS2E7cmV0dXJuIHQ9dGhpcy5HZi5iYihpLHQsZSxuKSxlPXRoaXMuR2Ysbj10LmhlLEoobi5ELmooKS5JYyhlLkkuZyksXCJFdmVudCBzbmFwIG5vdCBpbmRleGVkXCIpLEoobi51KCkuaigpLkljKGUuSS5nKSxcIlNlcnZlciBzbmFwIG5vdCBpbmRleGVkXCIpLEooSGIodC5oZS51KCkpfHwhSGIoaS51KCkpLFwiT25jZSBhIHNlcnZlciBzbmFwIGlzIGNvbXBsZXRlLCBpdCBzaG91bGQgbmV2ZXIgZ28gYmFja1wiKSx0aGlzLkthPXQuaGUsdmUodGhpcyx0LmNnLHQuaGUuRC5qKCksbnVsbCl9LHhlLnByb3RvdHlwZS5XYz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5wYXRoLmUoKT8odD10aGlzLmNoaWxkcmVuLnN1YnRyZWUobmV3IEsodCkpLHQuZSgpP251bGw6dC52YWx1ZT9uZXcgVWIodGhpcy5zb3VyY2UsRix0LnZhbHVlKTpuZXcgeGUodGhpcy5zb3VyY2UsRix0KSk6KEooTyh0aGlzLnBhdGgpPT09dCxcIkNhbid0IGdldCBhIG1lcmdlIGZvciBhIGNoaWxkIG5vdCBvbiB0aGUgcGF0aCBvZiB0aGUgb3BlcmF0aW9uXCIpLG5ldyB4ZSh0aGlzLnNvdXJjZSxHKHRoaXMucGF0aCksdGhpcy5jaGlsZHJlbikpfSx4ZS5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm5cIk9wZXJhdGlvbihcIit0aGlzLnBhdGgrXCI6IFwiK3RoaXMuc291cmNlLnRvU3RyaW5nKCkrXCIgbWVyZ2U6IFwiK3RoaXMuY2hpbGRyZW4udG9TdHJpbmcoKStcIilcIn07dmFyIFZiPTAsQ2Q9MSxYYj0yLCRiPTMsWWI9bmV3IHllKCEwLCExLG51bGwsITEpLHplPW5ldyB5ZSghMSwhMCxudWxsLCExKTt5ZS5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52ZT9cInVzZXJcIjp0aGlzLmFmP1wic2VydmVyKHF1ZXJ5SUQ9XCIrdGhpcy5JYitcIilcIjpcInNlcnZlclwifSxoPUFlLnByb3RvdHlwZSxoLnhmPWZ1bmN0aW9uKHQsZSxuLGkpe3ZhciByPXQucGF0aC50b1N0cmluZygpO3RoaXMuZihcIkxpc3RlbiBjYWxsZWQgZm9yIFwiK3IrXCIgXCIrdC53YSgpKTt2YXIgbz1CZSh0LG4pLGE9e307dGhpcy5hYVtvXT1hLHQ9ZWUodC5uKTt2YXIgcz10aGlzO0NlKHRoaXMscitcIi5qc29uXCIsdCxmdW5jdGlvbih0LGUpe3ZhciB1PWU7NDA0PT09dCYmKHQ9dT1udWxsKSxudWxsPT09dCYmcy5HYihyLHUsITEsbiksdyhzLmFhLG8pPT09YSYmaSh0PzQwMT09dD9cInBlcm1pc3Npb25fZGVuaWVkXCI6XCJyZXN0X2Vycm9yOlwiK3Q6XCJva1wiLG51bGwpfSl9LGguT2Y9ZnVuY3Rpb24odCxlKXt2YXIgbj1CZSh0LGUpO2RlbGV0ZSB0aGlzLmFhW25dfSxoLlA9ZnVuY3Rpb24odCxlKXt0aGlzLkZhPXQ7dmFyIG49YWQodCksaT1uLmRhdGEsbj1uLkFjJiZuLkFjLmV4cDtlJiZlKFwib2tcIix7YXV0aDppLGV4cGlyZXM6bn0pfSxoLmVlPWZ1bmN0aW9uKHQpe3RoaXMuRmE9bnVsbCx0KFwib2tcIixudWxsKX0saC5MZT1mdW5jdGlvbigpe30saC5CZj1mdW5jdGlvbigpe30saC5HZD1mdW5jdGlvbigpe30saC5wdXQ9ZnVuY3Rpb24oKXt9LGgueWY9ZnVuY3Rpb24oKXt9LGguVGU9ZnVuY3Rpb24oKXt9O3ZhciBFZT1uZXcgYWMoZnVuY3Rpb24odCxlKXtyZXR1cm4gdD09PWU/MDplPnQ/LTE6MX0pO2g9RGUucHJvdG90eXBlLGguZT1mdW5jdGlvbigpe3JldHVybiBudWxsPT09dGhpcy52YWx1ZSYmdGhpcy5jaGlsZHJlbi5lKCl9LGguc3VidHJlZT1mdW5jdGlvbih0KXtpZih0LmUoKSlyZXR1cm4gdGhpczt2YXIgZT10aGlzLmNoaWxkcmVuLmdldChPKHQpKTtyZXR1cm4gbnVsbCE9PWU/ZS5zdWJ0cmVlKEcodCkpOk5kfSxoLnNldD1mdW5jdGlvbih0LGUpe2lmKHQuZSgpKXJldHVybiBuZXcgRGUoZSx0aGlzLmNoaWxkcmVuKTt2YXIgbj1PKHQpLGk9KHRoaXMuY2hpbGRyZW4uZ2V0KG4pfHxOZCkuc2V0KEcodCksZSksbj10aGlzLmNoaWxkcmVuLk5hKG4saSk7cmV0dXJuIG5ldyBEZSh0aGlzLnZhbHVlLG4pfSxoLnJlbW92ZT1mdW5jdGlvbih0KXtpZih0LmUoKSlyZXR1cm4gdGhpcy5jaGlsZHJlbi5lKCk/TmQ6bmV3IERlKG51bGwsdGhpcy5jaGlsZHJlbik7dmFyIGU9Tyh0KSxuPXRoaXMuY2hpbGRyZW4uZ2V0KGUpO3JldHVybiBuPyh0PW4ucmVtb3ZlKEcodCkpLGU9dC5lKCk/dGhpcy5jaGlsZHJlbi5yZW1vdmUoZSk6dGhpcy5jaGlsZHJlbi5OYShlLHQpLG51bGw9PT10aGlzLnZhbHVlJiZlLmUoKT9OZDpuZXcgRGUodGhpcy52YWx1ZSxlKSk6dGhpc30saC5nZXQ9ZnVuY3Rpb24odCl7aWYodC5lKCkpcmV0dXJuIHRoaXMudmFsdWU7dmFyIGU9dGhpcy5jaGlsZHJlbi5nZXQoTyh0KSk7cmV0dXJuIGU/ZS5nZXQoRyh0KSk6bnVsbH07dmFyIE5kPW5ldyBEZShudWxsKTtEZS5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXt2YXIgdD17fTtyZXR1cm4gS2QodGhpcyxmdW5jdGlvbihlLG4pe3RbZS50b1N0cmluZygpXT1uLnRvU3RyaW5nKCl9KSxCKHQpfTt2YXIgUmU9bmV3IFFlKG5ldyBEZShudWxsKSk7UWUucHJvdG90eXBlLk9kPWZ1bmN0aW9uKHQpe3JldHVybiB0LmUoKT9SZToodD1NZCh0aGlzLlcsdCxOZCksbmV3IFFlKHQpKX0sUWUucHJvdG90eXBlLmU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5XLmUoKX0sUWUucHJvdG90eXBlLmFwcGx5PWZ1bmN0aW9uKHQpe3JldHVybiBYZShGLHRoaXMuVyx0KX0saD1ZZS5wcm90b3R5cGUsaC5PZD1mdW5jdGlvbih0KXt2YXIgZT1VYSh0aGlzLnphLGZ1bmN0aW9uKGUpe3JldHVybiBlLmllPT09dH0pO0ooZT49MCxcInJlbW92ZVdyaXRlIGNhbGxlZCB3aXRoIG5vbmV4aXN0ZW50IHdyaXRlSWQuXCIpO3ZhciBuPXRoaXMuemFbZV07dGhpcy56YS5zcGxpY2UoZSwxKTtmb3IodmFyIGk9bi52aXNpYmxlLG89ITEsYT10aGlzLnphLmxlbmd0aC0xO2kmJmE+PTA7KXt2YXIgcz10aGlzLnphW2FdO3MudmlzaWJsZSYmKGE+PWUmJlplKHMsbi5wYXRoKT9pPSExOm4ucGF0aC5jb250YWlucyhzLnBhdGgpJiYobz0hMCkpLGEtLX1pZihpKXtpZihvKXRoaXMuVD0kZSh0aGlzLnphLGFmLEYpLHRoaXMuTGM9MDx0aGlzLnphLmxlbmd0aD90aGlzLnphW3RoaXMuemEubGVuZ3RoLTFdLmllOi0xO2Vsc2UgaWYobi5JYSl0aGlzLlQ9dGhpcy5ULk9kKG4ucGF0aCk7ZWxzZXt2YXIgdT10aGlzO3Iobi5jaGlsZHJlbixmdW5jdGlvbih0LGUpe3UuVD11LlQuT2Qobi5wYXRoLncoZSkpfSl9cmV0dXJuIG4ucGF0aH1yZXR1cm4gbnVsbH0saC51YT1mdW5jdGlvbih0LGUsbixpKXtpZihufHxpKXt2YXIgcj1XZSh0aGlzLlQsdCk7cmV0dXJuIWkmJnIuZSgpP2U6aXx8bnVsbCE9ZXx8bnVsbCE9VWUocixGKT8ocj0kZSh0aGlzLnphLGZ1bmN0aW9uKGUpe3JldHVybiEoIWUudmlzaWJsZSYmIWl8fG4mJjA8PU5hKG4sZS5pZSl8fCFlLnBhdGguY29udGFpbnModCkmJiF0LmNvbnRhaW5zKGUucGF0aCkpfSx0KSxlPWV8fEMsci5hcHBseShlKSk6bnVsbH1yZXR1cm4gcj1VZSh0aGlzLlQsdCksbnVsbCE9cj9yOihyPVdlKHRoaXMuVCx0KSxyLmUoKT9lOm51bGwhPWV8fG51bGwhPVVlKHIsRik/KGU9ZXx8QyxyLmFwcGx5KGUpKTpudWxsKX0saC54Yz1mdW5jdGlvbih0LGUpe3ZhciBuPUMsaT1VZSh0aGlzLlQsdCk7aWYoaSlpLk4oKXx8aS5VKE0sZnVuY3Rpb24odCxlKXtuPW4uUSh0LGUpfSk7ZWxzZSBpZihlKXt2YXIgcj1XZSh0aGlzLlQsdCk7ZS5VKE0sZnVuY3Rpb24odCxlKXt2YXIgaT1XZShyLG5ldyBLKHQpKS5hcHBseShlKTtuPW4uUSh0LGkpfSksT2EoVmUociksZnVuY3Rpb24odCl7bj1uLlEodC5uYW1lLHQuUyl9KX1lbHNlIHI9V2UodGhpcy5ULHQpLE9hKFZlKHIpLGZ1bmN0aW9uKHQpe249bi5RKHQubmFtZSx0LlMpfSk7cmV0dXJuIG59LGguaGQ9ZnVuY3Rpb24odCxlLG4saSl7cmV0dXJuIEoobnx8aSxcIkVpdGhlciBleGlzdGluZ0V2ZW50U25hcCBvciBleGlzdGluZ1NlcnZlclNuYXAgbXVzdCBleGlzdFwiKSx0PXQudyhlKSxudWxsIT1VZSh0aGlzLlQsdCk/bnVsbDoodD1XZSh0aGlzLlQsdCksdC5lKCk/aS5vYShlKTp0LmFwcGx5KGkub2EoZSkpKX0saC5YYT1mdW5jdGlvbih0LGUsbil7dD10LncoZSk7dmFyIGk9VWUodGhpcy5ULHQpO3JldHVybiBudWxsIT1pP2k6cmIobixlKT9XZSh0aGlzLlQsdCkuYXBwbHkobi5qKCkuTShlKSk6bnVsbH0saC5zYz1mdW5jdGlvbih0KXtyZXR1cm4gVWUodGhpcy5ULHQpfSxoLm1lPWZ1bmN0aW9uKHQsZSxuLGkscixvKXt2YXIgYTtpZih0PVdlKHRoaXMuVCx0KSxhPVVlKHQsRiksbnVsbD09YSl7aWYobnVsbD09ZSlyZXR1cm5bXTthPXQuYXBwbHkoZSl9aWYoYT1hLm1iKG8pLGEuZSgpfHxhLk4oKSlyZXR1cm5bXTtmb3IoZT1bXSx0PXVkKG8pLHI9cj9hLlpiKG4sbyk6YS5YYihuLG8pLG89SChyKTtvJiZlLmxlbmd0aDxpOykwIT09dChvLG4pJiZlLnB1c2gobyksbz1IKHIpO3JldHVybiBlfSxoPWJmLnByb3RvdHlwZSxoLnVhPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdGhpcy5XLnVhKHRoaXMuTWIsdCxlLG4pfSxoLnhjPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLlcueGModGhpcy5NYix0KX0saC5oZD1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHRoaXMuVy5oZCh0aGlzLk1iLHQsZSxuKX0saC5zYz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5XLnNjKHRoaXMuTWIudyh0KSl9LGgubWU9ZnVuY3Rpb24odCxlLG4saSxyKXtyZXR1cm4gdGhpcy5XLm1lKHRoaXMuTWIsdCxlLG4saSxyKX0saC5YYT1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLlcuWGEodGhpcy5NYix0LGUpfSxoLnc9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBiZih0aGlzLk1iLncodCksdGhpcy5XKX0saD1jZi5wcm90b3R5cGUsaC5lPWZ1bmN0aW9uKCl7cmV0dXJuIHdhKHRoaXMueWEpfSxoLmJiPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT10LnNvdXJjZS5JYjtpZihudWxsIT09aSlyZXR1cm4gaT13KHRoaXMueWEsaSksSihudWxsIT1pLFwiU3luY1RyZWUgZ2F2ZSB1cyBhbiBvcCBmb3IgYW4gaW52YWxpZCBxdWVyeS5cIiksaS5iYih0LGUsbik7dmFyIG89W107cmV0dXJuIHIodGhpcy55YSxmdW5jdGlvbihpKXtvPW8uY29uY2F0KGkuYmIodCxlLG4pKX0pLG99LGguT2I9ZnVuY3Rpb24odCxlLG4saSxyKXt2YXIgbz10LndhKCksYT13KHRoaXMueWEsbyk7aWYoIWEpe3ZhciBhPW4udWEocj9pOm51bGwpLHM9ITE7YT9zPSEwOihhPWkgaW5zdGFuY2VvZiBUP24ueGMoaSk6QyxzPSExKSxhPW5ldyB0ZSh0LG5ldyBJZChuZXcgc2IoYSxzLCExKSxuZXcgc2IoaSxyLCExKSkpLHRoaXMueWFbb109YX1yZXR1cm4gYS5PYihlKSx3ZShhLGUpfSxoLmtiPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT10LndhKCksbz1bXSxhPVtdLHM9bnVsbCE9ZGYodGhpcyk7aWYoXCJkZWZhdWx0XCI9PT1pKXt2YXIgdT10aGlzO3IodGhpcy55YSxmdW5jdGlvbih0LGkpe2E9YS5jb25jYXQodC5rYihlLG4pKSx0LmUoKSYmKGRlbGV0ZSB1LnlhW2ldLGRlKHQuVi5uKXx8by5wdXNoKHQuVikpfSl9ZWxzZXt2YXIgaD13KHRoaXMueWEsaSk7aCYmKGE9YS5jb25jYXQoaC5rYihlLG4pKSxoLmUoKSYmKGRlbGV0ZSB0aGlzLnlhW2ldLGRlKGguVi5uKXx8by5wdXNoKGguVikpKX1yZXR1cm4gcyYmbnVsbD09ZGYodGhpcykmJm8ucHVzaChuZXcgVSh0LmssdC5wYXRoKSkse0hnOm8samc6YX19LGguaGI9ZnVuY3Rpb24odCl7dmFyIGU9bnVsbDtyZXR1cm4gcih0aGlzLnlhLGZ1bmN0aW9uKG4pe2U9ZXx8bi5oYih0KX0pLGV9LGdmLnByb3RvdHlwZS5PYj1mdW5jdGlvbih0LGUpe3ZhciBuPXQucGF0aCxpPW51bGwscj0hMTtNZSh0aGlzLnNhLG4sZnVuY3Rpb24odCxlKXt2YXIgbz1OKHQsbik7cmV0dXJuIGk9ZS5oYihvKSxyPXJ8fG51bGwhPWRmKGUpLCFpfSk7dmFyIG89dGhpcy5zYS5nZXQobik7bz8ocj1yfHxudWxsIT1kZihvKSxpPWl8fG8uaGIoRikpOihvPW5ldyBjZix0aGlzLnNhPXRoaXMuc2Euc2V0KG4sbykpO3ZhciBhO251bGwhPWk/YT0hMDooYT0hMSxpPUMsUGUodGhpcy5zYS5zdWJ0cmVlKG4pLGZ1bmN0aW9uKHQsZSl7dmFyIG49ZS5oYihGKTtuJiYoaT1pLlEodCxuKSl9KSk7dmFyIHM9bnVsbCE9ZmYobyx0KTtpZighcyYmIWRlKHQubikpe3ZhciB1PXNmKHQpO0ooISh1IGluIHRoaXMua2MpLFwiVmlldyBkb2VzIG5vdCBleGlzdCwgYnV0IHdlIGhhdmUgYSB0YWdcIik7dmFyIGg9dGYrKzt0aGlzLmtjW3VdPWgsdGhpcy4kZVtcIl9cIitoXT11fXJldHVybiBhPW8uT2IodCxlLG5ldyBiZihuLHRoaXMuSGIpLGksYSksc3x8cnx8KG89ZmYobyx0KSxhPWEuY29uY2F0KHVmKHRoaXMsdCxvKSkpLGF9LGdmLnByb3RvdHlwZS5rYj1mdW5jdGlvbih0LGUsbil7dmFyIGk9dC5wYXRoLHI9dGhpcy5zYS5nZXQoaSksbz1bXTtpZihyJiYoXCJkZWZhdWx0XCI9PT10LndhKCl8fG51bGwhPWZmKHIsdCkpKXtvPXIua2IodCxlLG4pLHIuZSgpJiYodGhpcy5zYT10aGlzLnNhLnJlbW92ZShpKSkscj1vLkhnLG89by5qZyxlPS0xIT09VWEocixmdW5jdGlvbih0KXtyZXR1cm4gZGUodC5uKX0pO3ZhciBhPUtlKHRoaXMuc2EsaSxmdW5jdGlvbih0LGUpe3JldHVybiBudWxsIT1kZihlKX0pO2lmKGUmJiFhJiYoaT10aGlzLnNhLnN1YnRyZWUoaSksIWkuZSgpKSlmb3IodmFyIGk9dmYoaSkscz0wO3M8aS5sZW5ndGg7KytzKXt2YXIgdT1pW3NdLGg9dS5WLHU9d2YodGhpcyx1KTt0aGlzLk1jLlhlKGgseGYodGhpcyxoKSx1LnVkLHUuSil9aWYoIWEmJjA8ci5sZW5ndGgmJiFuKWlmKGUpdGhpcy5NYy5aZCh0LG51bGwpO2Vsc2V7dmFyIGM9dGhpcztPYShyLGZ1bmN0aW9uKHQpe3Qud2EoKTt2YXIgZT1jLmtjW3NmKHQpXTtjLk1jLlpkKHQsZSl9KX15Zih0aGlzLHIpfXJldHVybiBvfSxnZi5wcm90b3R5cGUudWE9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLkhiLGk9S2UodGhpcy5zYSx0LGZ1bmN0aW9uKGUsbil7dmFyIGk9TihlLHQpO3JldHVybihpPW4uaGIoaSkpP2k6dm9pZCAwfSk7cmV0dXJuIG4udWEodCxpLGUsITApfTt2YXIgdGY9MTtoPUNmLnByb3RvdHlwZSxoLkJhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuQi52YWx1ZX0saC5jbGVhcj1mdW5jdGlvbigpe3RoaXMuQi52YWx1ZT1udWxsLHRoaXMuQi5jaGlsZHJlbj17fSx0aGlzLkIua2Q9MCxGZih0aGlzKX0saC50ZD1mdW5jdGlvbigpe3JldHVybiAwPHRoaXMuQi5rZH0saC5lPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGw9PT10aGlzLkJhKCkmJiF0aGlzLnRkKCl9LGguVT1mdW5jdGlvbih0KXt2YXIgZT10aGlzO3IodGhpcy5CLmNoaWxkcmVuLGZ1bmN0aW9uKG4saSl7dChuZXcgQ2YoaSxlLG4pKX0pfSxoLnBhdGg9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IEsobnVsbD09PXRoaXMuWWM/dGhpcy5EZDp0aGlzLlljLnBhdGgoKStcIi9cIit0aGlzLkRkKX0saC5uYW1lPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuRGR9LGgucGFyZW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuWWN9LElmLnByb3RvdHlwZS5kZT1mdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy5OY1t0XXx8W10sbj0wO248ZS5sZW5ndGg7bisrKWVbbl0ueWMuYXBwbHkoZVtuXS5NYSxBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSkpfSxJZi5wcm90b3R5cGUuRWI9ZnVuY3Rpb24odCxlLG4pe0pmKHRoaXMsdCksdGhpcy5OY1t0XT10aGlzLk5jW3RdfHxbXSx0aGlzLk5jW3RdLnB1c2goe3ljOmUsTWE6bn0pLCh0PXRoaXMuemUodCkpJiZlLmFwcGx5KG4sdCl9LElmLnByb3RvdHlwZS5nYz1mdW5jdGlvbih0LGUsbil7SmYodGhpcyx0KSx0PXRoaXMuTmNbdF18fFtdO2Zvcih2YXIgaT0wO2k8dC5sZW5ndGg7aSsrKWlmKHRbaV0ueWM9PT1lJiYoIW58fG49PT10W2ldLk1hKSl7dC5zcGxpY2UoaSwxKTticmVha319O3ZhciBLZj1mdW5jdGlvbigpe3ZhciB0PTAsZT1bXTtyZXR1cm4gZnVuY3Rpb24obil7dmFyIGk9bj09PXQ7dD1uO2Zvcih2YXIgcj1BcnJheSg4KSxvPTc7bz49MDtvLS0pcltvXT1cIi0wMTIzNDU2Nzg5QUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVpfYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXpcIi5jaGFyQXQobiU2NCksbj1NYXRoLmZsb29yKG4vNjQpO2lmKEooMD09PW4sXCJDYW5ub3QgcHVzaCBhdCB0aW1lID09IDBcIiksbj1yLmpvaW4oXCJcIiksaSl7Zm9yKG89MTE7bz49MCYmNjM9PT1lW29dO28tLSllW29dPTA7ZVtvXSsrfWVsc2UgZm9yKG89MDsxMj5vO28rKyllW29dPU1hdGguZmxvb3IoNjQqTWF0aC5yYW5kb20oKSk7Zm9yKG89MDsxMj5vO28rKyluKz1cIi0wMTIzNDU2Nzg5QUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVpfYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXpcIi5jaGFyQXQoZVtvXSk7cmV0dXJuIEooMjA9PT1uLmxlbmd0aCxcIm5leHRQdXNoSWQ6IExlbmd0aCBzaG91bGQgYmUgMjAuXCIpLG59fSgpO21hKExmLElmKSxMZi5wcm90b3R5cGUuemU9ZnVuY3Rpb24odCl7cmV0dXJuIEooXCJvbmxpbmVcIj09PXQsXCJVbmtub3duIGV2ZW50IHR5cGU6IFwiK3QpLFt0aGlzLmljXX0sY2EoTGYpLG1hKE1mLElmKSxNZi5wcm90b3R5cGUuemU9ZnVuY3Rpb24odCl7cmV0dXJuIEooXCJ2aXNpYmxlXCI9PT10LFwiVW5rbm93biBldmVudCB0eXBlOiBcIit0KSxbdGhpcy51Y119LGNhKE1mKTt2YXIgTmY9L1tcXFtcXF0uIyRcXC9cXHUwMDAwLVxcdTAwMUZcXHUwMDdGXS8sT2Y9L1tcXFtcXF0uIyRcXHUwMDAwLVxcdTAwMUZcXHUwMDdGXS87aD1jZy5wcm90b3R5cGUsaC5hZGQ9ZnVuY3Rpb24odCxlKXt0aGlzLnNldFt0XT1udWxsIT09ZT9lOiEwfSxoLmNvbnRhaW5zPWZ1bmN0aW9uKHQpe3JldHVybiB1KHRoaXMuc2V0LHQpfSxoLmdldD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jb250YWlucyh0KT90aGlzLnNldFt0XTp2b2lkIDB9LGgucmVtb3ZlPWZ1bmN0aW9uKHQpe2RlbGV0ZSB0aGlzLnNldFt0XX0saC5jbGVhcj1mdW5jdGlvbigpe3RoaXMuc2V0PXt9fSxoLmU9ZnVuY3Rpb24oKXtyZXR1cm4gd2EodGhpcy5zZXQpfSxoLmNvdW50PWZ1bmN0aW9uKCl7cmV0dXJuIHBhKHRoaXMuc2V0KX0saC5rZXlzPWZ1bmN0aW9uKCl7dmFyIHQ9W107XG5cbnJldHVybiByKHRoaXMuc2V0LGZ1bmN0aW9uKGUsbil7dC5wdXNoKG4pfSksdH0scWMucHJvdG90eXBlLmZpbmQ9ZnVuY3Rpb24odCl7aWYobnVsbCE9dGhpcy5DKXJldHVybiB0aGlzLkMub2EodCk7aWYodC5lKCl8fG51bGw9PXRoaXMubSlyZXR1cm4gbnVsbDt2YXIgZT1PKHQpO3JldHVybiB0PUcodCksdGhpcy5tLmNvbnRhaW5zKGUpP3RoaXMubS5nZXQoZSkuZmluZCh0KTpudWxsfSxxYy5wcm90b3R5cGUubWM9ZnVuY3Rpb24odCxlKXtpZih0LmUoKSl0aGlzLkM9ZSx0aGlzLm09bnVsbDtlbHNlIGlmKG51bGwhPT10aGlzLkMpdGhpcy5DPXRoaXMuQy5HKHQsZSk7ZWxzZXtudWxsPT10aGlzLm0mJih0aGlzLm09bmV3IGNnKTt2YXIgbj1PKHQpO3RoaXMubS5jb250YWlucyhuKXx8dGhpcy5tLmFkZChuLG5ldyBxYyksbj10aGlzLm0uZ2V0KG4pLHQ9Ryh0KSxuLm1jKHQsZSl9fSxxYy5wcm90b3R5cGUuVT1mdW5jdGlvbih0KXtudWxsIT09dGhpcy5tJiZkZyh0aGlzLm0sZnVuY3Rpb24oZSxuKXt0KGUsbil9KX07dmFyIGZnPVwiYXV0aC5maXJlYmFzZS5jb21cIixoZz1bXCJyZW1lbWJlclwiLFwicmVkaXJlY3RUb1wiXTtqZy5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKHQsZSl7aWYoIWUpe2lmKCF0aGlzLiRkLmxlbmd0aCl0aHJvdyBFcnJvcihcImZiLmxvZ2luLlNlc3Npb25NYW5hZ2VyIDogTm8gc3RvcmFnZSBvcHRpb25zIGF2YWlsYWJsZSFcIik7ZT10aGlzLiRkWzBdfWUuc2V0KHRoaXMuUGUsdCl9LGpnLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oKXt2YXIgdD1RYSh0aGlzLiRkLHEodGhpcy5uZyx0aGlzKSksdD1QYSh0LGZ1bmN0aW9uKHQpe3JldHVybiBudWxsIT09dH0pO3JldHVybiBYYSh0LGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGJkKGUudG9rZW4pLWJkKHQudG9rZW4pfSksMDx0Lmxlbmd0aD90LnNoaWZ0KCk6bnVsbH0samcucHJvdG90eXBlLm5nPWZ1bmN0aW9uKHQpe3RyeXt2YXIgZT10LmdldCh0aGlzLlBlKTtpZihlJiZlLnRva2VuKXJldHVybiBlfWNhdGNoKG4pe31yZXR1cm4gbnVsbH0samcucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztPYSh0aGlzLiRkLGZ1bmN0aW9uKGUpe2UucmVtb3ZlKHQuUGUpfSl9LHVnLnByb3RvdHlwZS5oYz1mdW5jdGlvbih0KXt2YXIgZSxuPXRoaXM7dHJ5e2U9bWIodC5kYXRhKX1jYXRjaChpKXt9ZSYmXCJyZXF1ZXN0XCI9PT1lLmEmJihwZyh3aW5kb3csXCJtZXNzYWdlXCIsdGhpcy5oYyksdGhpcy5hZT10Lm9yaWdpbix0aGlzLnpjJiZzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7bi56YyhuLmFlLGUuZCxmdW5jdGlvbih0LGUpe24uYWc9IWUsbi56Yz12b2lkIDAsdmcobix7YTpcInJlc3BvbnNlXCIsZDp0LGZvcmNlS2VlcFdpbmRvd09wZW46ZX0pfSl9LDApKX0sdWcucHJvdG90eXBlLnlnPWZ1bmN0aW9uKCl7dHJ5e3BnKHRoaXMud2QsXCJtZXNzYWdlXCIsdGhpcy5BZil9Y2F0Y2godCl7fXRoaXMuemMmJih2Zyh0aGlzLHthOlwiZXJyb3JcIixkOlwidW5rbm93biBjbG9zZWQgd2luZG93XCJ9KSx0aGlzLnpjPXZvaWQgMCk7dHJ5e3dpbmRvdy5jbG9zZSgpfWNhdGNoKGUpe319LHVnLnByb3RvdHlwZS5BZj1mdW5jdGlvbih0KXtpZih0aGlzLmFnJiZcImRpZVwiPT09dC5kYXRhKXRyeXt3aW5kb3cuY2xvc2UoKX1jYXRjaChlKXt9fSx3Zy5wcm90b3R5cGUub3Blbj1mdW5jdGlvbih0LGUpe1Auc2V0KFwicmVkaXJlY3RfcmVxdWVzdF9pZFwiLHRoaXMub2MpLFAuc2V0KFwicmVkaXJlY3RfcmVxdWVzdF9pZFwiLHRoaXMub2MpLGUucmVxdWVzdElkPXRoaXMub2MsZS5yZWRpcmVjdFRvPWUucmVkaXJlY3RUb3x8d2luZG93LmxvY2F0aW9uLmhyZWYsdCs9KC9cXD8vLnRlc3QodCk/XCJcIjpcIj9cIikramIoZSksd2luZG93LmxvY2F0aW9uPXR9LHdnLmlzQXZhaWxhYmxlPWZ1bmN0aW9uKCl7cmV0dXJuIWxnKCkmJiFrZygpfSx3Zy5wcm90b3R5cGUuQmM9ZnVuY3Rpb24oKXtyZXR1cm5cInJlZGlyZWN0XCJ9O3ZhciB4Zz17TkVUV09SS19FUlJPUjpcIlVuYWJsZSB0byBjb250YWN0IHRoZSBGaXJlYmFzZSBzZXJ2ZXIuXCIsU0VSVkVSX0VSUk9SOlwiQW4gdW5rbm93biBzZXJ2ZXIgZXJyb3Igb2NjdXJyZWQuXCIsVFJBTlNQT1JUX1VOQVZBSUxBQkxFOlwiVGhlcmUgYXJlIG5vIGxvZ2luIHRyYW5zcG9ydHMgYXZhaWxhYmxlIGZvciB0aGUgcmVxdWVzdGVkIG1ldGhvZC5cIixSRVFVRVNUX0lOVEVSUlVQVEVEOlwiVGhlIGJyb3dzZXIgcmVkaXJlY3RlZCB0aGUgcGFnZSBiZWZvcmUgdGhlIGxvZ2luIHJlcXVlc3QgY291bGQgY29tcGxldGUuXCIsVVNFUl9DQU5DRUxMRUQ6XCJUaGUgdXNlciBjYW5jZWxsZWQgYXV0aGVudGljYXRpb24uXCJ9O3pnLnByb3RvdHlwZS5vcGVuPWZ1bmN0aW9uKHQsZSxuKXtmdW5jdGlvbiBpKHQpe2lmKG8mJihkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKG8pLG89dm9pZCAwKSxjJiYoYz1jbGVhckludGVydmFsKGMpKSxwZyh3aW5kb3csXCJtZXNzYWdlXCIscikscGcod2luZG93LFwidW5sb2FkXCIsaSksaCYmIXQpdHJ5e2guY2xvc2UoKX1jYXRjaChlKXthLnBvc3RNZXNzYWdlKFwiZGllXCIsdSl9aD1hPXZvaWQgMH1mdW5jdGlvbiByKHQpe2lmKHQub3JpZ2luPT09dSl0cnl7dmFyIGU9bWIodC5kYXRhKTtcInJlYWR5XCI9PT1lLmE/YS5wb3N0TWVzc2FnZShmLHUpOlwiZXJyb3JcIj09PWUuYT8oaSghMSksbiYmKG4oZS5kKSxuPW51bGwpKTpcInJlc3BvbnNlXCI9PT1lLmEmJihpKGUuZm9yY2VLZWVwV2luZG93T3BlbiksbiYmKG4obnVsbCxlLmQpLG49bnVsbCkpfWNhdGNoKHIpe319dmFyIG8sYSxzPW1nKCk7aWYoIXRoaXMub3B0aW9ucy5yZWxheV91cmwpcmV0dXJuIG4oRXJyb3IoXCJpbnZhbGlkIGFyZ3VtZW50czogb3JpZ2luIG9mIHVybCBhbmQgcmVsYXlfdXJsIG11c3QgbWF0Y2hcIikpO3ZhciB1PXFnKHQpO2lmKHUhPT1xZyh0aGlzLm9wdGlvbnMucmVsYXlfdXJsKSluJiZzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7bihFcnJvcihcImludmFsaWQgYXJndW1lbnRzOiBvcmlnaW4gb2YgdXJsIGFuZCByZWxheV91cmwgbXVzdCBtYXRjaFwiKSl9LDApO2Vsc2V7cyYmKG89ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlmcmFtZVwiKSxvLnNldEF0dHJpYnV0ZShcInNyY1wiLHRoaXMub3B0aW9ucy5yZWxheV91cmwpLG8uc3R5bGUuZGlzcGxheT1cIm5vbmVcIixvLnNldEF0dHJpYnV0ZShcIm5hbWVcIixcIl9fd2luY2hhbl9yZWxheV9mcmFtZVwiKSxkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKG8pLGE9by5jb250ZW50V2luZG93KSx0Kz0oL1xcPy8udGVzdCh0KT9cIlwiOlwiP1wiKStqYihlKTt2YXIgaD13aW5kb3cub3Blbih0LHRoaXMub3B0aW9ucy53aW5kb3dfbmFtZSx0aGlzLm9wdGlvbnMud2luZG93X2ZlYXR1cmVzKTthfHwoYT1oKTt2YXIgYz1zZXRJbnRlcnZhbChmdW5jdGlvbigpe2gmJmguY2xvc2VkJiYoaSghMSksbiYmKG4oeWcoXCJVU0VSX0NBTkNFTExFRFwiKSksbj1udWxsKSl9LDUwMCksZj1CKHthOlwicmVxdWVzdFwiLGQ6ZX0pO29nKHdpbmRvdyxcInVubG9hZFwiLGkpLG9nKHdpbmRvdyxcIm1lc3NhZ2VcIixyKX19LHpnLmlzQXZhaWxhYmxlPWZ1bmN0aW9uKCl7cmV0dXJuXCJwb3N0TWVzc2FnZVwiaW4gd2luZG93JiYhbGcoKSYmIShrZygpfHxcInVuZGVmaW5lZFwiIT10eXBlb2YgbmF2aWdhdG9yJiYobmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvV2luZG93cyBQaG9uZS8pfHx3aW5kb3cuV2luZG93cyYmL15tcy1hcHB4Oi8udGVzdChsb2NhdGlvbi5ocmVmKSl8fFwidW5kZWZpbmVkXCIhPXR5cGVvZiBuYXZpZ2F0b3ImJlwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cmJihuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC8oaVBob25lfGlQb2R8aVBhZCkuKkFwcGxlV2ViS2l0KD8hLipTYWZhcmkpL2kpfHxuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9DcmlPUy8pfHxuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9Ud2l0dGVyIGZvciBpUGhvbmUvKXx8bmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvRkJBTlxcL0ZCSU9TLyl8fHdpbmRvdy5uYXZpZ2F0b3Iuc3RhbmRhbG9uZSkpJiYhKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBuYXZpZ2F0b3ImJm5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL1BoYW50b21KUy8pKX0semcucHJvdG90eXBlLkJjPWZ1bmN0aW9uKCl7cmV0dXJuXCJwb3B1cFwifSxBZy5wcm90b3R5cGUub3Blbj1mdW5jdGlvbih0LGUsbil7ZnVuY3Rpb24gaSgpe24mJihuKHlnKFwiUkVRVUVTVF9JTlRFUlJVUFRFRFwiKSksbj1udWxsKX12YXIgcixvPW5ldyBYTUxIdHRwUmVxdWVzdCxhPXRoaXMub3B0aW9ucy5tZXRob2QudG9VcHBlckNhc2UoKTtpZihvZyh3aW5kb3csXCJiZWZvcmV1bmxvYWRcIixpKSxvLm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpe2lmKG4mJjQ9PT1vLnJlYWR5U3RhdGUpe3ZhciB0O2lmKDIwMDw9by5zdGF0dXMmJjMwMD5vLnN0YXR1cyl7dHJ5e3Q9bWIoby5yZXNwb25zZVRleHQpfWNhdGNoKGUpe31uKG51bGwsdCl9ZWxzZSBuKDUwMDw9by5zdGF0dXMmJjYwMD5vLnN0YXR1cz95ZyhcIlNFUlZFUl9FUlJPUlwiKTp5ZyhcIk5FVFdPUktfRVJST1JcIikpO249bnVsbCxwZyh3aW5kb3csXCJiZWZvcmV1bmxvYWRcIixpKX19LFwiR0VUXCI9PT1hKXQrPSgvXFw/Ly50ZXN0KHQpP1wiXCI6XCI/XCIpK2piKGUpLHI9bnVsbDtlbHNle3ZhciBzPXRoaXMub3B0aW9ucy5oZWFkZXJzLmNvbnRlbnRfdHlwZTtcImFwcGxpY2F0aW9uL2pzb25cIj09PXMmJihyPUIoZSkpLFwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkXCI9PT1zJiYocj1qYihlKSl9by5vcGVuKGEsdCwhMCksdD17XCJYLVJlcXVlc3RlZC1XaXRoXCI6XCJYTUxIdHRwUmVxdWVzdFwiLEFjY2VwdDpcImFwcGxpY2F0aW9uL2pzb247dGV4dC9wbGFpblwifSx6YSh0LHRoaXMub3B0aW9ucy5oZWFkZXJzKTtmb3IodmFyIHUgaW4gdClvLnNldFJlcXVlc3RIZWFkZXIodSx0W3VdKTtvLnNlbmQocil9LEFnLmlzQXZhaWxhYmxlPWZ1bmN0aW9uKCl7cmV0dXJuISghd2luZG93LlhNTEh0dHBSZXF1ZXN0fHxcInN0cmluZ1wiIT10eXBlb2YobmV3IFhNTEh0dHBSZXF1ZXN0KS5yZXNwb25zZVR5cGV8fFwidW5kZWZpbmVkXCIhPXR5cGVvZiBuYXZpZ2F0b3ImJihuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9NU0lFLyl8fG5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL1RyaWRlbnQvKSkmJiFtZygpKX0sQWcucHJvdG90eXBlLkJjPWZ1bmN0aW9uKCl7cmV0dXJuXCJqc29uXCJ9LEJnLnByb3RvdHlwZS5vcGVuPWZ1bmN0aW9uKHQsZSxuKXtmdW5jdGlvbiBpKCl7biYmKG4oeWcoXCJVU0VSX0NBTkNFTExFRFwiKSksbj1udWxsKX12YXIgcixvPXRoaXMsYT1SYyhmZyk7ZS5yZXF1ZXN0SWQ9dGhpcy5vYyxlLnJlZGlyZWN0VG89YS5zY2hlbWUrXCI6Ly9cIithLmhvc3QrXCIvYmxhbmsvcGFnZS5odG1sXCIsdCs9L1xcPy8udGVzdCh0KT9cIlwiOlwiP1wiLHQrPWpiKGUpLChyPXdpbmRvdy5vcGVuKHQsXCJfYmxhbmtcIixcImxvY2F0aW9uPW5vXCIpKSYmaGEoci5hZGRFdmVudExpc3RlbmVyKT8oci5hZGRFdmVudExpc3RlbmVyKFwibG9hZHN0YXJ0XCIsZnVuY3Rpb24odCl7dmFyIGU7aWYoZT10JiZ0LnVybCl0Ont0cnl7dmFyIHM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIik7cy5ocmVmPXQudXJsLGU9cy5ob3N0PT09YS5ob3N0JiZcIi9ibGFuay9wYWdlLmh0bWxcIj09PXMucGF0aG5hbWU7YnJlYWsgdH1jYXRjaCh1KXt9ZT0hMX1lJiYodD1yZyh0LnVybCksci5yZW1vdmVFdmVudExpc3RlbmVyKFwiZXhpdFwiLGkpLHIuY2xvc2UoKSx0PW5ldyBnZyhudWxsLG51bGwse3JlcXVlc3RJZDpvLm9jLHJlcXVlc3RLZXk6dH0pLG8uRGYucmVxdWVzdFdpdGhDcmVkZW50aWFsKFwiL2F1dGgvc2Vzc2lvblwiLHQsbiksbj1udWxsKX0pLHIuYWRkRXZlbnRMaXN0ZW5lcihcImV4aXRcIixpKSk6bih5ZyhcIlRSQU5TUE9SVF9VTkFWQUlMQUJMRVwiKSl9LEJnLmlzQXZhaWxhYmxlPWZ1bmN0aW9uKCl7cmV0dXJuIGtnKCl9LEJnLnByb3RvdHlwZS5CYz1mdW5jdGlvbigpe3JldHVyblwicmVkaXJlY3RcIn0sQ2cucHJvdG90eXBlLm9wZW49ZnVuY3Rpb24odCxlLG4pe2Z1bmN0aW9uIGkoKXtuJiYobih5ZyhcIlJFUVVFU1RfSU5URVJSVVBURURcIikpLG49bnVsbCl9ZnVuY3Rpb24gcigpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXt3aW5kb3cuX19maXJlYmFzZV9hdXRoX2pzb25wW29dPXZvaWQgMCx3YSh3aW5kb3cuX19maXJlYmFzZV9hdXRoX2pzb25wKSYmKHdpbmRvdy5fX2ZpcmViYXNlX2F1dGhfanNvbnA9dm9pZCAwKTt0cnl7dmFyIHQ9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQobyk7dCYmdC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHQpfWNhdGNoKGUpe319LDEpLHBnKHdpbmRvdyxcImJlZm9yZXVubG9hZFwiLGkpfXZhciBvPVwiZm5cIisobmV3IERhdGUpLmdldFRpbWUoKStNYXRoLmZsb29yKDk5OTk5Kk1hdGgucmFuZG9tKCkpO2VbdGhpcy5vcHRpb25zLmNhbGxiYWNrX3BhcmFtZXRlcl09XCJfX2ZpcmViYXNlX2F1dGhfanNvbnAuXCIrbyx0Kz0oL1xcPy8udGVzdCh0KT9cIlwiOlwiP1wiKStqYihlKSxvZyh3aW5kb3csXCJiZWZvcmV1bmxvYWRcIixpKSx3aW5kb3cuX19maXJlYmFzZV9hdXRoX2pzb25wW29dPWZ1bmN0aW9uKHQpe24mJihuKG51bGwsdCksbj1udWxsKSxyKCl9LERnKG8sdCxuKX0sQ2cuaXNBdmFpbGFibGU9ZnVuY3Rpb24oKXtyZXR1cm4hMH0sQ2cucHJvdG90eXBlLkJjPWZ1bmN0aW9uKCl7cmV0dXJuXCJqc29uXCJ9LG1hKEVnLElmKSxoPUVnLnByb3RvdHlwZSxoLndlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubmJ8fG51bGx9LGgucmU9ZnVuY3Rpb24odCxlKXtOZyh0aGlzKTt2YXIgbj1pZyh0KTtuLmFiLl9tZXRob2Q9XCJQT1NUXCIsdGhpcy5wYyhcIi91c2Vyc1wiLG4sZnVuY3Rpb24odCxuKXt0P1IoZSx0KTpSKGUsdCxuKX0pfSxoLlNlPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcztOZyh0aGlzKTt2YXIgaT1cIi91c2Vycy9cIitlbmNvZGVVUklDb21wb25lbnQodC5lbWFpbCkscj1pZyh0KTtyLmFiLl9tZXRob2Q9XCJERUxFVEVcIix0aGlzLnBjKGkscixmdW5jdGlvbih0LGkpeyF0JiZpJiZpLnVpZCYmbi5uYiYmbi5uYi51aWQmJm4ubmIudWlkPT09aS51aWQmJkxnKG4pLFIoZSx0KX0pfSxoLm9lPWZ1bmN0aW9uKHQsZSl7TmcodGhpcyk7dmFyIG49XCIvdXNlcnMvXCIrZW5jb2RlVVJJQ29tcG9uZW50KHQuZW1haWwpK1wiL3Bhc3N3b3JkXCIsaT1pZyh0KTtpLmFiLl9tZXRob2Q9XCJQVVRcIixpLmFiLnBhc3N3b3JkPXQubmV3UGFzc3dvcmQsdGhpcy5wYyhuLGksZnVuY3Rpb24odCl7UihlLHQpfSl9LGgubmU9ZnVuY3Rpb24odCxlKXtOZyh0aGlzKTt2YXIgbj1cIi91c2Vycy9cIitlbmNvZGVVUklDb21wb25lbnQodC5vbGRFbWFpbCkrXCIvZW1haWxcIixpPWlnKHQpO2kuYWIuX21ldGhvZD1cIlBVVFwiLGkuYWIuZW1haWw9dC5uZXdFbWFpbCxpLmFiLnBhc3N3b3JkPXQucGFzc3dvcmQsdGhpcy5wYyhuLGksZnVuY3Rpb24odCl7UihlLHQpfSl9LGguVWU9ZnVuY3Rpb24odCxlKXtOZyh0aGlzKTt2YXIgbj1cIi91c2Vycy9cIitlbmNvZGVVUklDb21wb25lbnQodC5lbWFpbCkrXCIvcGFzc3dvcmRcIixpPWlnKHQpO2kuYWIuX21ldGhvZD1cIlBPU1RcIix0aGlzLnBjKG4saSxmdW5jdGlvbih0KXtSKGUsdCl9KX0saC5wYz1mdW5jdGlvbih0LGUsbil7UWcodGhpcyxbQWcsQ2ddLHQsZSxuKX0saC56ZT1mdW5jdGlvbih0KXtyZXR1cm4gSihcImF1dGhfc3RhdHVzXCI9PT10LCdpbml0aWFsIGV2ZW50IG11c3QgYmUgb2YgdHlwZSBcImF1dGhfc3RhdHVzXCInKSx0aGlzLlJlP251bGw6W3RoaXMubmJdfTt2YXIgVmcsV2c7VWcucHJvdG90eXBlLm9wZW49ZnVuY3Rpb24odCxlKXt0aGlzLmdmPTAsdGhpcy5rYT1lLHRoaXMuemY9bmV3IFJnKHQpLHRoaXMuemI9ITE7dmFyIG49dGhpczt0aGlzLnJiPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtuLmYoXCJUaW1lZCBvdXQgdHJ5aW5nIHRvIGNvbm5lY3QuXCIpLG4uaWIoKSxuLnJiPW51bGx9LE1hdGguZmxvb3IoM2U0KSksVGMoZnVuY3Rpb24oKXtpZighbi56Yil7bi5UYT1uZXcgWGcoZnVuY3Rpb24odCxlLGkpe2lmKFlnKG4sYXJndW1lbnRzKSxuLlRhKWlmKG4ucmImJihjbGVhclRpbWVvdXQobi5yYiksbi5yYj1udWxsKSxuLkdjPSEwLFwic3RhcnRcIj09dCluLmlkPWUsbi5GZj1pO2Vsc2V7aWYoXCJjbG9zZVwiIT09dCl0aHJvdyBFcnJvcihcIlVucmVjb2duaXplZCBjb21tYW5kIHJlY2VpdmVkOiBcIit0KTtlPyhuLlRhLlRkPSExLFNnKG4uemYsZSxmdW5jdGlvbigpe24uaWIoKX0pKTpuLmliKCl9fSxmdW5jdGlvbih0LGUpe1lnKG4sYXJndW1lbnRzKSxUZyhuLnpmLHQsZSl9LGZ1bmN0aW9uKCl7bi5pYigpfSxuLmdkKTt2YXIgdD17c3RhcnQ6XCJ0XCJ9O3Quc2VyPU1hdGguZmxvb3IoMWU4Kk1hdGgucmFuZG9tKCkpLG4uVGEuZmUmJih0LmNiPW4uVGEuZmUpLHQudj1cIjVcIixuLlZkJiYodC5zPW4uVmQpLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBsb2NhdGlvbiYmbG9jYXRpb24uaHJlZiYmLTEhPT1sb2NhdGlvbi5ocmVmLmluZGV4T2YoXCJmaXJlYmFzZWlvLmNvbVwiKSYmKHQucj1cImZcIiksdD1uLmdkKHQpLG4uZihcIkNvbm5lY3RpbmcgdmlhIGxvbmctcG9sbCB0byBcIit0KSxaZyhuLlRhLHQsZnVuY3Rpb24oKXt9KX19KX0sVWcucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5UYSxlPXRoaXMuRmY7Zm9yKHQucmc9dGhpcy5pZCx0LnNnPWUsdC5rZT0hMDskZyh0KTspO3Q9dGhpcy5pZCxlPXRoaXMuRmYsdGhpcy5mYz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaWZyYW1lXCIpO3ZhciBuPXtkZnJhbWU6XCJ0XCJ9O24uaWQ9dCxuLnB3PWUsdGhpcy5mYy5zcmM9dGhpcy5nZChuKSx0aGlzLmZjLnN0eWxlLmRpc3BsYXk9XCJub25lXCIsZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLmZjKX0sVWcuaXNBdmFpbGFibGU9ZnVuY3Rpb24oKXtyZXR1cm4hKFdnfHxcIm9iamVjdFwiPT10eXBlb2Ygd2luZG93JiZ3aW5kb3cuY2hyb21lJiZ3aW5kb3cuY2hyb21lLmV4dGVuc2lvbiYmIS9eY2hyb21lLy50ZXN0KHdpbmRvdy5sb2NhdGlvbi5ocmVmKXx8XCJvYmplY3RcIj09dHlwZW9mIFdpbmRvd3MmJlwib2JqZWN0XCI9PXR5cGVvZiBXaW5kb3dzLlVnKX0saD1VZy5wcm90b3R5cGUsaC5CZD1mdW5jdGlvbigpe30saC5jZD1mdW5jdGlvbigpe3RoaXMuemI9ITAsdGhpcy5UYSYmKHRoaXMuVGEuY2xvc2UoKSx0aGlzLlRhPW51bGwpLHRoaXMuZmMmJihkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHRoaXMuZmMpLHRoaXMuZmM9bnVsbCksdGhpcy5yYiYmKGNsZWFyVGltZW91dCh0aGlzLnJiKSx0aGlzLnJiPW51bGwpfSxoLmliPWZ1bmN0aW9uKCl7dGhpcy56Ynx8KHRoaXMuZihcIkxvbmdwb2xsIGlzIGNsb3NpbmcgaXRzZWxmXCIpLHRoaXMuY2QoKSx0aGlzLmthJiYodGhpcy5rYSh0aGlzLkdjKSx0aGlzLmthPW51bGwpKX0saC5jbG9zZT1mdW5jdGlvbigpe3RoaXMuemJ8fCh0aGlzLmYoXCJMb25ncG9sbCBpcyBiZWluZyBjbG9zZWQuXCIpLHRoaXMuY2QoKSl9LGguc2VuZD1mdW5jdGlvbih0KXt0PUIodCksdGhpcy5wYis9dC5sZW5ndGgsTGIodGhpcy5WYSxcImJ5dGVzX3NlbnRcIix0Lmxlbmd0aCksdD1LYyh0KSx0PWZiKHQsITApLHQ9WGModCwxODQwKTtmb3IodmFyIGU9MDtlPHQubGVuZ3RoO2UrKyl7dmFyIG49dGhpcy5UYTtuLiRjLnB1c2goe0pnOnRoaXMuZ2YsUmc6dC5sZW5ndGgsamY6dFtlXX0pLG4ua2UmJiRnKG4pLHRoaXMuZ2YrK319LFhnLnByb3RvdHlwZS5jbG9zZT1mdW5jdGlvbigpe2lmKHRoaXMua2U9ITEsdGhpcy5DYSl7dGhpcy5DYS5nYi5ib2R5LmlubmVySFRNTD1cIlwiO3ZhciB0PXRoaXM7c2V0VGltZW91dChmdW5jdGlvbigpe251bGwhPT10LkNhJiYoZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZCh0LkNhKSx0LkNhPW51bGwpfSxNYXRoLmZsb29yKDApKX12YXIgZT10aGlzLmpiO2UmJih0aGlzLmpiPW51bGwsZSgpKX07dmFyIGJoPW51bGw7XCJ1bmRlZmluZWRcIiE9dHlwZW9mIE1veldlYlNvY2tldD9iaD1Nb3pXZWJTb2NrZXQ6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFdlYlNvY2tldCYmKGJoPVdlYlNvY2tldCk7dmFyIGRoO2NoLnByb3RvdHlwZS5vcGVuPWZ1bmN0aW9uKHQsZSl7dGhpcy5qYj1lLHRoaXMud2c9dCx0aGlzLmYoXCJXZWJzb2NrZXQgY29ubmVjdGluZyB0byBcIit0aGlzLmZiKSx0aGlzLkdjPSExLERjLnNldChcInByZXZpb3VzX3dlYnNvY2tldF9mYWlsdXJlXCIsITApO3RyeXt0aGlzLnZhPW5ldyBiaCh0aGlzLmZiKX1jYXRjaChuKXt0aGlzLmYoXCJFcnJvciBpbnN0YW50aWF0aW5nIFdlYlNvY2tldC5cIik7dmFyIGk9bi5tZXNzYWdlfHxuLmRhdGE7cmV0dXJuIGkmJnRoaXMuZihpKSx2b2lkIHRoaXMuaWIoKX12YXIgcj10aGlzO3RoaXMudmEub25vcGVuPWZ1bmN0aW9uKCl7ci5mKFwiV2Vic29ja2V0IGNvbm5lY3RlZC5cIiksci5HYz0hMH0sdGhpcy52YS5vbmNsb3NlPWZ1bmN0aW9uKCl7ci5mKFwiV2Vic29ja2V0IGNvbm5lY3Rpb24gd2FzIGRpc2Nvbm5lY3RlZC5cIiksci52YT1udWxsLHIuaWIoKX0sdGhpcy52YS5vbm1lc3NhZ2U9ZnVuY3Rpb24odCl7aWYobnVsbCE9PXIudmEpaWYodD10LmRhdGEsci5vYis9dC5sZW5ndGgsTGIoci5WYSxcImJ5dGVzX3JlY2VpdmVkXCIsdC5sZW5ndGgpLGVoKHIpLG51bGwhPT1yLmZyYW1lcylmaChyLHQpO2Vsc2V7dDp7aWYoSihudWxsPT09ci5mcmFtZXMsXCJXZSBhbHJlYWR5IGhhdmUgYSBmcmFtZSBidWZmZXJcIiksNj49dC5sZW5ndGgpe3ZhciBlPU51bWJlcih0KTtpZighaXNOYU4oZSkpe3IuYmY9ZSxyLmZyYW1lcz1bXSx0PW51bGw7YnJlYWsgdH19ci5iZj0xLHIuZnJhbWVzPVtdfW51bGwhPT10JiZmaChyLHQpfX0sdGhpcy52YS5vbmVycm9yPWZ1bmN0aW9uKHQpe3IuZihcIldlYlNvY2tldCBlcnJvci4gIENsb3NpbmcgY29ubmVjdGlvbi5cIiksKHQ9dC5tZXNzYWdlfHx0LmRhdGEpJiZyLmYodCksci5pYigpfX0sY2gucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKCl7fSxjaC5pc0F2YWlsYWJsZT1mdW5jdGlvbigpe3ZhciB0PSExO2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBuYXZpZ2F0b3ImJm5hdmlnYXRvci51c2VyQWdlbnQpe3ZhciBlPW5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL0FuZHJvaWQgKFswLTldezAsfVxcLlswLTldezAsfSkvKTtlJiYxPGUubGVuZ3RoJiY0LjQ+cGFyc2VGbG9hdChlWzFdKSYmKHQ9ITApfXJldHVybiF0JiZudWxsIT09YmgmJiFkaH0sY2gucmVzcG9uc2VzUmVxdWlyZWRUb0JlSGVhbHRoeT0yLGNoLmhlYWx0aHlUaW1lb3V0PTNlNCxoPWNoLnByb3RvdHlwZSxoLkJkPWZ1bmN0aW9uKCl7RGMucmVtb3ZlKFwicHJldmlvdXNfd2Vic29ja2V0X2ZhaWx1cmVcIil9LGguc2VuZD1mdW5jdGlvbih0KXtlaCh0aGlzKSx0PUIodCksdGhpcy5wYis9dC5sZW5ndGgsTGIodGhpcy5WYSxcImJ5dGVzX3NlbnRcIix0Lmxlbmd0aCksdD1YYyh0LDE2Mzg0KSwxPHQubGVuZ3RoJiZ0aGlzLnZhLnNlbmQoU3RyaW5nKHQubGVuZ3RoKSk7Zm9yKHZhciBlPTA7ZTx0Lmxlbmd0aDtlKyspdGhpcy52YS5zZW5kKHRbZV0pfSxoLmNkPWZ1bmN0aW9uKCl7dGhpcy56Yj0hMCx0aGlzLkpjJiYoY2xlYXJJbnRlcnZhbCh0aGlzLkpjKSx0aGlzLkpjPW51bGwpLHRoaXMudmEmJih0aGlzLnZhLmNsb3NlKCksdGhpcy52YT1udWxsKX0saC5pYj1mdW5jdGlvbigpe3RoaXMuemJ8fCh0aGlzLmYoXCJXZWJTb2NrZXQgaXMgY2xvc2luZyBpdHNlbGZcIiksdGhpcy5jZCgpLHRoaXMuamImJih0aGlzLmpiKHRoaXMuR2MpLHRoaXMuamI9bnVsbCkpfSxoLmNsb3NlPWZ1bmN0aW9uKCl7dGhpcy56Ynx8KHRoaXMuZihcIldlYlNvY2tldCBpcyBiZWluZyBjbG9zZWRcIiksdGhpcy5jZCgpKX07dmFyIGloPVtVZyxjaF07a2gucHJvdG90eXBlLkRhPWZ1bmN0aW9uKHQpe3ZoKHRoaXMse3Q6XCJkXCIsZDp0fSl9LGtoLnByb3RvdHlwZS5GZD1mdW5jdGlvbih0KXtzaCh0aGlzKSx0aGlzLmhjKHQpfSxraC5wcm90b3R5cGUuY2xvc2U9ZnVuY3Rpb24oKXsyIT09dGhpcy5VYSYmKHRoaXMuZihcIkNsb3NpbmcgcmVhbHRpbWUgY29ubmVjdGlvbi5cIiksdGhpcy5VYT0yLHJoKHRoaXMpLHRoaXMua2EmJih0aGlzLmthKCksdGhpcy5rYT1udWxsKSl9O3ZhciB4aD0wLHpoPTA7aD13aC5wcm90b3R5cGUsaC5EYT1mdW5jdGlvbih0LGUsbil7dmFyIGk9Kyt0aGlzLklnO3Q9e3I6aSxhOnQsYjplfSx0aGlzLmYoQih0KSksSih0aGlzLm1hLFwic2VuZFJlcXVlc3QgY2FsbCB3aGVuIHdlJ3JlIG5vdCBjb25uZWN0ZWQgbm90IGFsbG93ZWQuXCIpLHRoaXMuU2EuRGEodCksbiYmKHRoaXMuUWRbaV09bil9LGgueGY9ZnVuY3Rpb24odCxlLG4saSl7dmFyIHI9dC53YSgpLG89dC5wYXRoLnRvU3RyaW5nKCk7dGhpcy5mKFwiTGlzdGVuIGNhbGxlZCBmb3IgXCIrbytcIiBcIityKSx0aGlzLmFhW29dPXRoaXMuYWFbb118fHt9LEooIXRoaXMuYWFbb11bcl0sXCJsaXN0ZW4oKSBjYWxsZWQgdHdpY2UgZm9yIHNhbWUgcGF0aC9xdWVyeUlkLlwiKSx0PXtKOmksdWQ6ZSxGZzp0LHRhZzpufSx0aGlzLmFhW29dW3JdPXQsdGhpcy5tYSYmQWgodGhpcyx0KX0saC5QPWZ1bmN0aW9uKHQsZSxuKXt0aGlzLkZhPXtmZzp0LG5mOiExLHljOmUsamQ6bn0sdGhpcy5mKFwiQXV0aGVudGljYXRpbmcgdXNpbmcgY3JlZGVudGlhbDogXCIrdCksQ2godGhpcyksKGU9NDA9PXQubGVuZ3RoKXx8KHQ9YWQodCkuQWMsZT1cIm9iamVjdFwiPT10eXBlb2YgdCYmITA9PT13KHQsXCJhZG1pblwiKSksZSYmKHRoaXMuZihcIkFkbWluIGF1dGggY3JlZGVudGlhbCBkZXRlY3RlZC4gIFJlZHVjaW5nIG1heCByZWNvbm5lY3QgdGltZS5cIiksdGhpcy5DZD0zZTQpfSxoLmVlPWZ1bmN0aW9uKHQpe2RlbGV0ZSB0aGlzLkZhLHRoaXMubWEmJnRoaXMuRGEoXCJ1bmF1dGhcIix7fSxmdW5jdGlvbihlKXt0KGUucyxlLmQpfSl9LGguT2Y9ZnVuY3Rpb24odCxlKXt2YXIgbj10LnBhdGgudG9TdHJpbmcoKSxpPXQud2EoKTtpZih0aGlzLmYoXCJVbmxpc3RlbiBjYWxsZWQgZm9yIFwiK24rXCIgXCIraSksQmgodGhpcyxuLGkpJiZ0aGlzLm1hKXt2YXIgcj1jZSh0Lm4pO3RoaXMuZihcIlVubGlzdGVuIG9uIFwiK24rXCIgZm9yIFwiK2kpLG49e3A6bn0sZSYmKG4ucT1yLG4udD1lKSx0aGlzLkRhKFwiblwiLG4pfX0saC5MZT1mdW5jdGlvbih0LGUsbil7dGhpcy5tYT9EaCh0aGlzLFwib1wiLHQsZSxuKTp0aGlzLlVjLnB1c2goe1pjOnQsYWN0aW9uOlwib1wiLGRhdGE6ZSxKOm59KX0saC5CZj1mdW5jdGlvbih0LGUsbil7dGhpcy5tYT9EaCh0aGlzLFwib21cIix0LGUsbik6dGhpcy5VYy5wdXNoKHtaYzp0LGFjdGlvbjpcIm9tXCIsZGF0YTplLEo6bn0pfSxoLkdkPWZ1bmN0aW9uKHQsZSl7dGhpcy5tYT9EaCh0aGlzLFwib2NcIix0LG51bGwsZSk6dGhpcy5VYy5wdXNoKHtaYzp0LGFjdGlvbjpcIm9jXCIsZGF0YTpudWxsLEo6ZX0pfSxoLnB1dD1mdW5jdGlvbih0LGUsbixpKXtFaCh0aGlzLFwicFwiLHQsZSxuLGkpfSxoLnlmPWZ1bmN0aW9uKHQsZSxuLGkpe0VoKHRoaXMsXCJtXCIsdCxlLG4saSl9LGguVGU9ZnVuY3Rpb24odCl7dGhpcy5tYSYmKHQ9e2M6dH0sdGhpcy5mKFwicmVwb3J0U3RhdHNcIix0KSx0aGlzLkRhKFwic1wiLHQsZnVuY3Rpb24odCl7XCJva1wiIT09dC5zJiZ0aGlzLmYoXCJyZXBvcnRTdGF0c1wiLFwiRXJyb3Igc2VuZGluZyBzdGF0czogXCIrdC5kKX0pKX0saC5GZD1mdW5jdGlvbih0KXtpZihcInJcImluIHQpe3RoaXMuZihcImZyb20gc2VydmVyOiBcIitCKHQpKTt2YXIgZT10LnIsbj10aGlzLlFkW2VdO24mJihkZWxldGUgdGhpcy5RZFtlXSxuKHQuYikpfWVsc2V7aWYoXCJlcnJvclwiaW4gdCl0aHJvd1wiQSBzZXJ2ZXItc2lkZSBlcnJvciBoYXMgb2NjdXJyZWQ6IFwiK3QuZXJyb3I7XCJhXCJpbiB0JiYoZT10LmEsbj10LmIsdGhpcy5mKFwiaGFuZGxlU2VydmVyTWVzc2FnZVwiLGUsbiksXCJkXCI9PT1lP3RoaXMuR2Iobi5wLG4uZCwhMSxuLnQpOlwibVwiPT09ZT90aGlzLkdiKG4ucCxuLmQsITAsbi50KTpcImNcIj09PWU/R2godGhpcyxuLnAsbi5xKTpcImFjXCI9PT1lPyh0PW4ucyxlPW4uZCxuPXRoaXMuRmEsZGVsZXRlIHRoaXMuRmEsbiYmbi5qZCYmbi5qZCh0LGUpKTpcInNkXCI9PT1lP3RoaXMuV2U/dGhpcy5XZShuKTpcIm1zZ1wiaW4gbiYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGNvbnNvbGUmJmNvbnNvbGUubG9nKFwiRklSRUJBU0U6IFwiK24ubXNnLnJlcGxhY2UoXCJcXG5cIixcIlxcbkZJUkVCQVNFOiBcIikpOlBjKFwiVW5yZWNvZ25pemVkIGFjdGlvbiByZWNlaXZlZCBmcm9tIHNlcnZlcjogXCIrQihlKStcIlxcbkFyZSB5b3UgdXNpbmcgdGhlIGxhdGVzdCBjbGllbnQ/XCIpKX19LGguVmM9ZnVuY3Rpb24odCl7dGhpcy5mKFwiY29ubmVjdGlvbiByZWFkeVwiKSx0aGlzLm1hPSEwLHRoaXMuS2M9KG5ldyBEYXRlKS5nZXRUaW1lKCksdGhpcy5OZSh7c2VydmVyVGltZU9mZnNldDp0LShuZXcgRGF0ZSkuZ2V0VGltZSgpfSksdGhpcy5tZiYmKHQ9e30sdFtcInNkay5qcy5cIitcIjIuMi40XCIucmVwbGFjZSgvXFwuL2csXCItXCIpXT0xLGtnKCkmJih0W1wiZnJhbWV3b3JrLmNvcmRvdmFcIl09MSksdGhpcy5UZSh0KSksSGgodGhpcyksdGhpcy5tZj0hMSx0aGlzLlRjKCEwKX0saC56Zz1mdW5jdGlvbih0KXt0JiYhdGhpcy51YyYmdGhpcy4kYT09PXRoaXMuQ2QmJih0aGlzLmYoXCJXaW5kb3cgYmVjYW1lIHZpc2libGUuICBSZWR1Y2luZyBkZWxheS5cIiksdGhpcy4kYT0xZTMsdGhpcy5TYXx8eWgodGhpcywwKSksdGhpcy51Yz10fSxoLnhnPWZ1bmN0aW9uKHQpe3Q/KHRoaXMuZihcIkJyb3dzZXIgd2VudCBvbmxpbmUuXCIpLHRoaXMuJGE9MWUzLHRoaXMuU2F8fHloKHRoaXMsMCkpOih0aGlzLmYoXCJCcm93c2VyIHdlbnQgb2ZmbGluZS4gIEtpbGxpbmcgY29ubmVjdGlvbi5cIiksdGhpcy5TYSYmdGhpcy5TYS5jbG9zZSgpKX0saC5DZj1mdW5jdGlvbigpe3RoaXMuZihcImRhdGEgY2xpZW50IGRpc2Nvbm5lY3RlZFwiKSx0aGlzLm1hPSExLHRoaXMuU2E9bnVsbDtmb3IodmFyIHQ9MDt0PHRoaXMucGEubGVuZ3RoO3QrKyl7dmFyIGU9dGhpcy5wYVt0XTtlJiZcImhcImluIGUuSWYmJmUuR2cmJihlLkomJmUuSihcImRpc2Nvbm5lY3RcIiksZGVsZXRlIHRoaXMucGFbdF0sdGhpcy5YYy0tKX0wPT09dGhpcy5YYyYmKHRoaXMucGE9W10pLHRoaXMuUWQ9e30sSmgodGhpcykmJih0aGlzLnVjP3RoaXMuS2MmJigzZTQ8KG5ldyBEYXRlKS5nZXRUaW1lKCktdGhpcy5LYyYmKHRoaXMuJGE9MWUzKSx0aGlzLktjPW51bGwpOih0aGlzLmYoXCJXaW5kb3cgaXNuJ3QgdmlzaWJsZS4gIERlbGF5aW5nIHJlY29ubmVjdC5cIiksdGhpcy4kYT10aGlzLkNkLHRoaXMuRmU9KG5ldyBEYXRlKS5nZXRUaW1lKCkpLHQ9TWF0aC5tYXgoMCx0aGlzLiRhLSgobmV3IERhdGUpLmdldFRpbWUoKS10aGlzLkZlKSksdCo9TWF0aC5yYW5kb20oKSx0aGlzLmYoXCJUcnlpbmcgdG8gcmVjb25uZWN0IGluIFwiK3QrXCJtc1wiKSx5aCh0aGlzLHQpLHRoaXMuJGE9TWF0aC5taW4odGhpcy5DZCwxLjMqdGhpcy4kYSkpLHRoaXMuVGMoITEpfSxoLnliPWZ1bmN0aW9uKCl7dGhpcy5EZT0hMCx0aGlzLlNhP3RoaXMuU2EuY2xvc2UoKToodGhpcy5TYiYmKGNsZWFyVGltZW91dCh0aGlzLlNiKSx0aGlzLlNiPW51bGwpLHRoaXMubWEmJnRoaXMuQ2YoKSl9LGgucWM9ZnVuY3Rpb24oKXt0aGlzLkRlPSExLHRoaXMuJGE9MWUzLHRoaXMuU2F8fHloKHRoaXMsMCl9O3ZhciBWPXtsZzpmdW5jdGlvbigpe1ZnPWRoPSEwfX07Vi5mb3JjZUxvbmdQb2xsaW5nPVYubGcsVi5tZz1mdW5jdGlvbigpe1dnPSEwfSxWLmZvcmNlV2ViU29ja2V0cz1WLm1nLFYuTWc9ZnVuY3Rpb24odCxlKXt0LmsuUmEuV2U9ZX0sVi5zZXRTZWN1cml0eURlYnVnQ2FsbGJhY2s9Vi5NZyxWLlllPWZ1bmN0aW9uKHQsZSl7dC5rLlllKGUpfSxWLnN0YXRzPVYuWWUsVi5aZT1mdW5jdGlvbih0LGUpe3Quay5aZShlKX0sVi5zdGF0c0luY3JlbWVudENvdW50ZXI9Vi5aZSxWLnBkPWZ1bmN0aW9uKHQpe3JldHVybiB0LmsucGR9LFYuZGF0YVVwZGF0ZUNvdW50PVYucGQsVi5wZz1mdW5jdGlvbih0LGUpe3Quay5DZT1lfSxWLmludGVyY2VwdFNlcnZlckRhdGE9Vi5wZyxWLnZnPWZ1bmN0aW9uKHQpe25ldyB1Zyh0KX0sVi5vblBvcHVwT3Blbj1WLnZnLFYuS2c9ZnVuY3Rpb24odCl7Zmc9dH0sVi5zZXRBdXRoZW50aWNhdGlvblNlcnZlcj1WLktnLFMucHJvdG90eXBlLks9ZnVuY3Rpb24oKXtyZXR1cm4geChcIkZpcmViYXNlLkRhdGFTbmFwc2hvdC52YWxcIiwwLDAsYXJndW1lbnRzLmxlbmd0aCksdGhpcy5CLksoKX0sUy5wcm90b3R5cGUudmFsPVMucHJvdG90eXBlLkssUy5wcm90b3R5cGUubGY9ZnVuY3Rpb24oKXtyZXR1cm4geChcIkZpcmViYXNlLkRhdGFTbmFwc2hvdC5leHBvcnRWYWxcIiwwLDAsYXJndW1lbnRzLmxlbmd0aCksdGhpcy5CLksoITApfSxTLnByb3RvdHlwZS5leHBvcnRWYWw9Uy5wcm90b3R5cGUubGYsUy5wcm90b3R5cGUua2c9ZnVuY3Rpb24oKXtyZXR1cm4geChcIkZpcmViYXNlLkRhdGFTbmFwc2hvdC5leGlzdHNcIiwwLDAsYXJndW1lbnRzLmxlbmd0aCksIXRoaXMuQi5lKCl9LFMucHJvdG90eXBlLmV4aXN0cz1TLnByb3RvdHlwZS5rZyxTLnByb3RvdHlwZS53PWZ1bmN0aW9uKHQpe3goXCJGaXJlYmFzZS5EYXRhU25hcHNob3QuY2hpbGRcIiwwLDEsYXJndW1lbnRzLmxlbmd0aCksZ2EodCkmJih0PVN0cmluZyh0KSksWGYoXCJGaXJlYmFzZS5EYXRhU25hcHNob3QuY2hpbGRcIix0KTt2YXIgZT1uZXcgSyh0KSxuPXRoaXMuVi53KGUpO3JldHVybiBuZXcgUyh0aGlzLkIub2EoZSksbixNKX0sUy5wcm90b3R5cGUuY2hpbGQ9Uy5wcm90b3R5cGUudyxTLnByb3RvdHlwZS5IYT1mdW5jdGlvbih0KXt4KFwiRmlyZWJhc2UuRGF0YVNuYXBzaG90Lmhhc0NoaWxkXCIsMSwxLGFyZ3VtZW50cy5sZW5ndGgpLFhmKFwiRmlyZWJhc2UuRGF0YVNuYXBzaG90Lmhhc0NoaWxkXCIsdCk7dmFyIGU9bmV3IEsodCk7cmV0dXJuIXRoaXMuQi5vYShlKS5lKCl9LFMucHJvdG90eXBlLmhhc0NoaWxkPVMucHJvdG90eXBlLkhhLFMucHJvdG90eXBlLkE9ZnVuY3Rpb24oKXtyZXR1cm4geChcIkZpcmViYXNlLkRhdGFTbmFwc2hvdC5nZXRQcmlvcml0eVwiLDAsMCxhcmd1bWVudHMubGVuZ3RoKSx0aGlzLkIuQSgpLksoKX0sUy5wcm90b3R5cGUuZ2V0UHJpb3JpdHk9Uy5wcm90b3R5cGUuQSxTLnByb3RvdHlwZS5mb3JFYWNoPWZ1bmN0aW9uKHQpe2lmKHgoXCJGaXJlYmFzZS5EYXRhU25hcHNob3QuZm9yRWFjaFwiLDEsMSxhcmd1bWVudHMubGVuZ3RoKSxBKFwiRmlyZWJhc2UuRGF0YVNuYXBzaG90LmZvckVhY2hcIiwxLHQsITEpLHRoaXMuQi5OKCkpcmV0dXJuITE7dmFyIGU9dGhpcztyZXR1cm4hIXRoaXMuQi5VKHRoaXMuZyxmdW5jdGlvbihuLGkpe3JldHVybiB0KG5ldyBTKGksZS5WLncobiksTSkpfSl9LFMucHJvdG90eXBlLmZvckVhY2g9Uy5wcm90b3R5cGUuZm9yRWFjaCxTLnByb3RvdHlwZS50ZD1mdW5jdGlvbigpe3JldHVybiB4KFwiRmlyZWJhc2UuRGF0YVNuYXBzaG90Lmhhc0NoaWxkcmVuXCIsMCwwLGFyZ3VtZW50cy5sZW5ndGgpLHRoaXMuQi5OKCk/ITE6IXRoaXMuQi5lKCl9LFMucHJvdG90eXBlLmhhc0NoaWxkcmVuPVMucHJvdG90eXBlLnRkLFMucHJvdG90eXBlLm5hbWU9ZnVuY3Rpb24oKXtyZXR1cm4gUShcIkZpcmViYXNlLkRhdGFTbmFwc2hvdC5uYW1lKCkgYmVpbmcgZGVwcmVjYXRlZC4gUGxlYXNlIHVzZSBGaXJlYmFzZS5EYXRhU25hcHNob3Qua2V5KCkgaW5zdGVhZC5cIikseChcIkZpcmViYXNlLkRhdGFTbmFwc2hvdC5uYW1lXCIsMCwwLGFyZ3VtZW50cy5sZW5ndGgpLHRoaXMua2V5KCl9LFMucHJvdG90eXBlLm5hbWU9Uy5wcm90b3R5cGUubmFtZSxTLnByb3RvdHlwZS5rZXk9ZnVuY3Rpb24oKXtyZXR1cm4geChcIkZpcmViYXNlLkRhdGFTbmFwc2hvdC5rZXlcIiwwLDAsYXJndW1lbnRzLmxlbmd0aCksdGhpcy5WLmtleSgpfSxTLnByb3RvdHlwZS5rZXk9Uy5wcm90b3R5cGUua2V5LFMucHJvdG90eXBlLkRiPWZ1bmN0aW9uKCl7cmV0dXJuIHgoXCJGaXJlYmFzZS5EYXRhU25hcHNob3QubnVtQ2hpbGRyZW5cIiwwLDAsYXJndW1lbnRzLmxlbmd0aCksdGhpcy5CLkRiKCl9LFMucHJvdG90eXBlLm51bUNoaWxkcmVuPVMucHJvdG90eXBlLkRiLFMucHJvdG90eXBlLmxjPWZ1bmN0aW9uKCl7cmV0dXJuIHgoXCJGaXJlYmFzZS5EYXRhU25hcHNob3QucmVmXCIsMCwwLGFyZ3VtZW50cy5sZW5ndGgpLHRoaXMuVn0sUy5wcm90b3R5cGUucmVmPVMucHJvdG90eXBlLmxjLGg9S2gucHJvdG90eXBlLGgudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4odGhpcy5ILmxiP1wiaHR0cHM6Ly9cIjpcImh0dHA6Ly9cIikrdGhpcy5ILmhvc3R9LGgubmFtZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLkguQ2J9LGguR2I9ZnVuY3Rpb24odCxlLG4saSl7dGhpcy5wZCsrO3ZhciByPW5ldyBLKHQpO2U9dGhpcy5DZT90aGlzLkNlKHQsZSk6ZSx0PVtdLGk/bj8oZT1uYShlLGZ1bmN0aW9uKHQpe3JldHVybiBMKHQpfSksdD1yZih0aGlzLk8scixlLGkpKTooZT1MKGUpLHQ9bmYodGhpcy5PLHIsZSxpKSk6bj8oaT1uYShlLGZ1bmN0aW9uKHQpe3JldHVybiBMKHQpfSksdD1tZih0aGlzLk8scixpKSk6KGk9TChlKSx0PWpmKHRoaXMuTyxuZXcgVWIoemUscixpKSkpLGk9ciwwPHQubGVuZ3RoJiYoaT1PaCh0aGlzLHIpKSx6Yih0aGlzLmVhLGksdCl9LGguVGM9ZnVuY3Rpb24odCl7TGgodGhpcyxcImNvbm5lY3RlZFwiLHQpLCExPT09dCYmUGgodGhpcyl9LGguTmU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztZYyh0LGZ1bmN0aW9uKHQsbil7TGgoZSxuLHQpfSl9LGguS2U9ZnVuY3Rpb24odCl7TGgodGhpcyxcImF1dGhlbnRpY2F0ZWRcIix0KX0saC5LYj1mdW5jdGlvbih0LGUsbixpKXt0aGlzLmYoXCJzZXRcIix7cGF0aDp0LnRvU3RyaW5nKCksdmFsdWU6ZSxYZzpufSk7dmFyIHI9TmgodGhpcyk7ZT1MKGUsbik7dmFyIHI9c2MoZSxyKSxvPXRoaXMuRWQrKyxyPWhmKHRoaXMuTyx0LHIsbywhMCk7dmIodGhpcy5lYSxyKTt2YXIgYT10aGlzO3RoaXMuY2EucHV0KHQudG9TdHJpbmcoKSxlLksoITApLGZ1bmN0aW9uKGUsbil7dmFyIHI9XCJva1wiPT09ZTtyfHxRKFwic2V0IGF0IFwiK3QrXCIgZmFpbGVkOiBcIitlKSxyPWxmKGEuTyxvLCFyKSx6YihhLmVhLHQsciksUWgoaSxlLG4pfSkscj1SaCh0aGlzLHQpLE9oKHRoaXMsciksemIodGhpcy5lYSxyLFtdKX0saC51cGRhdGU9ZnVuY3Rpb24odCxlLG4pe3RoaXMuZihcInVwZGF0ZVwiLHtwYXRoOnQudG9TdHJpbmcoKSx2YWx1ZTplfSk7dmFyIGk9ITAsbz1OaCh0aGlzKSxhPXt9O2lmKHIoZSxmdW5jdGlvbih0LGUpe2k9ITE7dmFyIG49TCh0KTthW2VdPXNjKG4sbyl9KSxpKUJiKFwidXBkYXRlKCkgY2FsbGVkIHdpdGggZW1wdHkgZGF0YS4gIERvbid0IGRvIGFueXRoaW5nLlwiKSxRaChuLFwib2tcIik7ZWxzZXt2YXIgcz10aGlzLkVkKyssdT1rZih0aGlzLk8sdCxhLHMpO3ZiKHRoaXMuZWEsdSk7dmFyIGg9dGhpczt0aGlzLmNhLnlmKHQudG9TdHJpbmcoKSxlLGZ1bmN0aW9uKGUsaSl7dmFyIHI9XCJva1wiPT09ZTtyfHxRKFwidXBkYXRlIGF0IFwiK3QrXCIgZmFpbGVkOiBcIitlKTt2YXIgcj1sZihoLk8scywhciksbz10OzA8ci5sZW5ndGgmJihvPU9oKGgsdCkpLHpiKGguZWEsbyxyKSxRaChuLGUsaSl9KSxlPVJoKHRoaXMsdCksT2godGhpcyxlKSx6Yih0aGlzLmVhLHQsW10pfX0saC5HZD1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7dGhpcy5jYS5HZCh0LnRvU3RyaW5nKCksZnVuY3Rpb24oaSxyKXtcIm9rXCI9PT1pJiZlZyhuLmthLHQpLFFoKGUsaSxyKX0pfSxoLnliPWZ1bmN0aW9uKCl7dGhpcy5SYSYmdGhpcy5SYS55YigpfSxoLnFjPWZ1bmN0aW9uKCl7dGhpcy5SYSYmdGhpcy5SYS5xYygpfSxoLlllPWZ1bmN0aW9uKHQpe2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBjb25zb2xlKXt0Pyh0aGlzLllkfHwodGhpcy5ZZD1uZXcgSWIodGhpcy5WYSkpLHQ9dGhpcy5ZZC5nZXQoKSk6dD10aGlzLlZhLmdldCgpO3ZhciBlLG49UmEoc2EodCksZnVuY3Rpb24odCxlKXtyZXR1cm4gTWF0aC5tYXgoZS5sZW5ndGgsdCl9LDApO2ZvcihlIGluIHQpe2Zvcih2YXIgaT10W2VdLHI9ZS5sZW5ndGg7bisyPnI7cisrKWUrPVwiIFwiO2NvbnNvbGUubG9nKGUraSl9fX0saC5aZT1mdW5jdGlvbih0KXtMYih0aGlzLlZhLHQpLHRoaXMuUGcuTWZbdF09ITB9LGguZj1mdW5jdGlvbigpe3ZhciB0PVwiXCI7dGhpcy5SYSYmKHQ9dGhpcy5SYS5pZCtcIjpcIiksQmIodCxhcmd1bWVudHMpfSxjYShXKSxXLnByb3RvdHlwZS55Yj1mdW5jdGlvbigpe2Zvcih2YXIgdCBpbiB0aGlzLm5jKXRoaXMubmNbdF0ueWIoKX0sVy5wcm90b3R5cGUuaW50ZXJydXB0PVcucHJvdG90eXBlLnliLFcucHJvdG90eXBlLnFjPWZ1bmN0aW9uKCl7Zm9yKHZhciB0IGluIHRoaXMubmMpdGhpcy5uY1t0XS5xYygpfSxXLnByb3RvdHlwZS5yZXN1bWU9Vy5wcm90b3R5cGUucWMsVy5wcm90b3R5cGUudWU9ZnVuY3Rpb24oKXt0aGlzLlBmPSEwfSxYLnByb3RvdHlwZS5jYW5jZWw9ZnVuY3Rpb24odCl7eChcIkZpcmViYXNlLm9uRGlzY29ubmVjdCgpLmNhbmNlbFwiLDAsMSxhcmd1bWVudHMubGVuZ3RoKSxBKFwiRmlyZWJhc2Uub25EaXNjb25uZWN0KCkuY2FuY2VsXCIsMSx0LCEwKSx0aGlzLmFkLkdkKHRoaXMucWEsdHx8bnVsbCl9LFgucHJvdG90eXBlLmNhbmNlbD1YLnByb3RvdHlwZS5jYW5jZWwsWC5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKHQpe3goXCJGaXJlYmFzZS5vbkRpc2Nvbm5lY3QoKS5yZW1vdmVcIiwwLDEsYXJndW1lbnRzLmxlbmd0aCksWWYoXCJGaXJlYmFzZS5vbkRpc2Nvbm5lY3QoKS5yZW1vdmVcIix0aGlzLnFhKSxBKFwiRmlyZWJhc2Uub25EaXNjb25uZWN0KCkucmVtb3ZlXCIsMSx0LCEwKSxTaCh0aGlzLmFkLHRoaXMucWEsbnVsbCx0KX0sWC5wcm90b3R5cGUucmVtb3ZlPVgucHJvdG90eXBlLnJlbW92ZSxYLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24odCxlKXt4KFwiRmlyZWJhc2Uub25EaXNjb25uZWN0KCkuc2V0XCIsMSwyLGFyZ3VtZW50cy5sZW5ndGgpLFlmKFwiRmlyZWJhc2Uub25EaXNjb25uZWN0KCkuc2V0XCIsdGhpcy5xYSksUmYoXCJGaXJlYmFzZS5vbkRpc2Nvbm5lY3QoKS5zZXRcIix0LHRoaXMucWEsITEpLEEoXCJGaXJlYmFzZS5vbkRpc2Nvbm5lY3QoKS5zZXRcIiwyLGUsITApLFNoKHRoaXMuYWQsdGhpcy5xYSx0LGUpfSxYLnByb3RvdHlwZS5zZXQ9WC5wcm90b3R5cGUuc2V0LFgucHJvdG90eXBlLktiPWZ1bmN0aW9uKHQsZSxuKXt4KFwiRmlyZWJhc2Uub25EaXNjb25uZWN0KCkuc2V0V2l0aFByaW9yaXR5XCIsMiwzLGFyZ3VtZW50cy5sZW5ndGgpLFlmKFwiRmlyZWJhc2Uub25EaXNjb25uZWN0KCkuc2V0V2l0aFByaW9yaXR5XCIsdGhpcy5xYSksUmYoXCJGaXJlYmFzZS5vbkRpc2Nvbm5lY3QoKS5zZXRXaXRoUHJpb3JpdHlcIix0LHRoaXMucWEsITEpLFVmKFwiRmlyZWJhc2Uub25EaXNjb25uZWN0KCkuc2V0V2l0aFByaW9yaXR5XCIsMixlKSxBKFwiRmlyZWJhc2Uub25EaXNjb25uZWN0KCkuc2V0V2l0aFByaW9yaXR5XCIsMyxuLCEwKSxUaCh0aGlzLmFkLHRoaXMucWEsdCxlLG4pfSxYLnByb3RvdHlwZS5zZXRXaXRoUHJpb3JpdHk9WC5wcm90b3R5cGUuS2IsWC5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKHQsZSl7aWYoeChcIkZpcmViYXNlLm9uRGlzY29ubmVjdCgpLnVwZGF0ZVwiLDEsMixhcmd1bWVudHMubGVuZ3RoKSxZZihcIkZpcmViYXNlLm9uRGlzY29ubmVjdCgpLnVwZGF0ZVwiLHRoaXMucWEpLGVhKHQpKXtmb3IodmFyIG49e30saT0wO2k8dC5sZW5ndGg7KytpKW5bXCJcIitpXT10W2ldO3Q9bixRKFwiUGFzc2luZyBhbiBBcnJheSB0byBGaXJlYmFzZS5vbkRpc2Nvbm5lY3QoKS51cGRhdGUoKSBpcyBkZXByZWNhdGVkLiBVc2Ugc2V0KCkgaWYgeW91IHdhbnQgdG8gb3ZlcndyaXRlIHRoZSBleGlzdGluZyBkYXRhLCBvciBhbiBPYmplY3Qgd2l0aCBpbnRlZ2VyIGtleXMgaWYgeW91IHJlYWxseSBkbyB3YW50IHRvIG9ubHkgdXBkYXRlIHNvbWUgb2YgdGhlIGNoaWxkcmVuLlwiKX1UZihcIkZpcmViYXNlLm9uRGlzY29ubmVjdCgpLnVwZGF0ZVwiLHQsdGhpcy5xYSksQShcIkZpcmViYXNlLm9uRGlzY29ubmVjdCgpLnVwZGF0ZVwiLDIsZSwhMCksVWgodGhpcy5hZCx0aGlzLnFhLHQsZSl9LFgucHJvdG90eXBlLnVwZGF0ZT1YLnByb3RvdHlwZS51cGRhdGUsWS5wcm90b3R5cGUubGM9ZnVuY3Rpb24oKXtyZXR1cm4geChcIlF1ZXJ5LnJlZlwiLDAsMCxhcmd1bWVudHMubGVuZ3RoKSxuZXcgVSh0aGlzLmssdGhpcy5wYXRoKX0sWS5wcm90b3R5cGUucmVmPVkucHJvdG90eXBlLmxjLFkucHJvdG90eXBlLkViPWZ1bmN0aW9uKHQsZSxuLGkpe3goXCJRdWVyeS5vblwiLDIsNCxhcmd1bWVudHMubGVuZ3RoKSxWZihcIlF1ZXJ5Lm9uXCIsdCwhMSksQShcIlF1ZXJ5Lm9uXCIsMixlLCExKTt2YXIgcj1oaShcIlF1ZXJ5Lm9uXCIsbixpKTtpZihcInZhbHVlXCI9PT10KVZoKHRoaXMuayx0aGlzLG5ldyBqZChlLHIuY2FuY2VsfHxudWxsLHIuTWF8fG51bGwpKTtlbHNle3ZhciBvPXt9O29bdF09ZSxWaCh0aGlzLmssdGhpcyxuZXcga2QobyxyLmNhbmNlbCxyLk1hKSl9cmV0dXJuIGV9LFkucHJvdG90eXBlLm9uPVkucHJvdG90eXBlLkViLFkucHJvdG90eXBlLmdjPWZ1bmN0aW9uKHQsZSxuKXt4KFwiUXVlcnkub2ZmXCIsMCwzLGFyZ3VtZW50cy5sZW5ndGgpLFZmKFwiUXVlcnkub2ZmXCIsdCwhMCksQShcIlF1ZXJ5Lm9mZlwiLDIsZSwhMCksbGIoXCJRdWVyeS5vZmZcIiwzLG4pO3ZhciBpPW51bGwscj1udWxsO1widmFsdWVcIj09PXQ/aT1uZXcgamQoZXx8bnVsbCxudWxsLG58fG51bGwpOnQmJihlJiYocj17fSxyW3RdPWUpLGk9bmV3IGtkKHIsbnVsbCxufHxudWxsKSkscj10aGlzLmssaT1cIi5pbmZvXCI9PT1PKHRoaXMucGF0aCk/ci56ZC5rYih0aGlzLGkpOnIuTy5rYih0aGlzLGkpLHhiKHIuZWEsdGhpcy5wYXRoLGkpfSxZLnByb3RvdHlwZS5vZmY9WS5wcm90b3R5cGUuZ2MsWS5wcm90b3R5cGUuQWc9ZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBuKGEpe28mJihvPSExLHIuZ2ModCxuKSxlLmNhbGwoaS5NYSxhKSl9eChcIlF1ZXJ5Lm9uY2VcIiwyLDQsYXJndW1lbnRzLmxlbmd0aCksVmYoXCJRdWVyeS5vbmNlXCIsdCwhMSksQShcIlF1ZXJ5Lm9uY2VcIiwyLGUsITEpO3ZhciBpPWhpKFwiUXVlcnkub25jZVwiLGFyZ3VtZW50c1syXSxhcmd1bWVudHNbM10pLHI9dGhpcyxvPSEwO3RoaXMuRWIodCxuLGZ1bmN0aW9uKGUpe3IuZ2ModCxuKSxpLmNhbmNlbCYmaS5jYW5jZWwuY2FsbChpLk1hLGUpfSl9LFkucHJvdG90eXBlLm9uY2U9WS5wcm90b3R5cGUuQWcsWS5wcm90b3R5cGUuR2U9ZnVuY3Rpb24odCl7aWYoUShcIlF1ZXJ5LmxpbWl0KCkgYmVpbmcgZGVwcmVjYXRlZC4gUGxlYXNlIHVzZSBRdWVyeS5saW1pdFRvRmlyc3QoKSBvciBRdWVyeS5saW1pdFRvTGFzdCgpIGluc3RlYWQuXCIpLHgoXCJRdWVyeS5saW1pdFwiLDEsMSxhcmd1bWVudHMubGVuZ3RoKSwhZ2EodCl8fE1hdGguZmxvb3IodCkhPT10fHwwPj10KXRocm93IEVycm9yKFwiUXVlcnkubGltaXQ6IEZpcnN0IGFyZ3VtZW50IG11c3QgYmUgYSBwb3NpdGl2ZSBpbnRlZ2VyLlwiKTtpZih0aGlzLm4uaWEpdGhyb3cgRXJyb3IoXCJRdWVyeS5saW1pdDogTGltaXQgd2FzIGFscmVhZHkgc2V0IChieSBhbm90aGVyIGNhbGwgdG8gbGltaXQsIGxpbWl0VG9GaXJzdCwgb3JsaW1pdFRvTGFzdC5cIik7dmFyIGU9dGhpcy5uLkdlKHQpO3JldHVybiBmaShlKSxuZXcgWSh0aGlzLmssdGhpcy5wYXRoLGUsdGhpcy5qYyl9LFkucHJvdG90eXBlLmxpbWl0PVkucHJvdG90eXBlLkdlLFkucHJvdG90eXBlLkhlPWZ1bmN0aW9uKHQpe2lmKHgoXCJRdWVyeS5saW1pdFRvRmlyc3RcIiwxLDEsYXJndW1lbnRzLmxlbmd0aCksIWdhKHQpfHxNYXRoLmZsb29yKHQpIT09dHx8MD49dCl0aHJvdyBFcnJvcihcIlF1ZXJ5LmxpbWl0VG9GaXJzdDogRmlyc3QgYXJndW1lbnQgbXVzdCBiZSBhIHBvc2l0aXZlIGludGVnZXIuXCIpO2lmKHRoaXMubi5pYSl0aHJvdyBFcnJvcihcIlF1ZXJ5LmxpbWl0VG9GaXJzdDogTGltaXQgd2FzIGFscmVhZHkgc2V0IChieSBhbm90aGVyIGNhbGwgdG8gbGltaXQsIGxpbWl0VG9GaXJzdCwgb3IgbGltaXRUb0xhc3QpLlwiKTtyZXR1cm4gbmV3IFkodGhpcy5rLHRoaXMucGF0aCx0aGlzLm4uSGUodCksdGhpcy5qYyl9LFkucHJvdG90eXBlLmxpbWl0VG9GaXJzdD1ZLnByb3RvdHlwZS5IZSxZLnByb3RvdHlwZS5JZT1mdW5jdGlvbih0KXtpZih4KFwiUXVlcnkubGltaXRUb0xhc3RcIiwxLDEsYXJndW1lbnRzLmxlbmd0aCksIWdhKHQpfHxNYXRoLmZsb29yKHQpIT09dHx8MD49dCl0aHJvdyBFcnJvcihcIlF1ZXJ5LmxpbWl0VG9MYXN0OiBGaXJzdCBhcmd1bWVudCBtdXN0IGJlIGEgcG9zaXRpdmUgaW50ZWdlci5cIik7aWYodGhpcy5uLmlhKXRocm93IEVycm9yKFwiUXVlcnkubGltaXRUb0xhc3Q6IExpbWl0IHdhcyBhbHJlYWR5IHNldCAoYnkgYW5vdGhlciBjYWxsIHRvIGxpbWl0LCBsaW1pdFRvRmlyc3QsIG9yIGxpbWl0VG9MYXN0KS5cIik7cmV0dXJuIG5ldyBZKHRoaXMuayx0aGlzLnBhdGgsdGhpcy5uLkllKHQpLHRoaXMuamMpfSxZLnByb3RvdHlwZS5saW1pdFRvTGFzdD1ZLnByb3RvdHlwZS5JZSxZLnByb3RvdHlwZS5CZz1mdW5jdGlvbih0KXtpZih4KFwiUXVlcnkub3JkZXJCeUNoaWxkXCIsMSwxLGFyZ3VtZW50cy5sZW5ndGgpLFwiJGtleVwiPT09dCl0aHJvdyBFcnJvcignUXVlcnkub3JkZXJCeUNoaWxkOiBcIiRrZXlcIiBpcyBpbnZhbGlkLiAgVXNlIFF1ZXJ5Lm9yZGVyQnlLZXkoKSBpbnN0ZWFkLicpO2lmKFwiJHByaW9yaXR5XCI9PT10KXRocm93IEVycm9yKCdRdWVyeS5vcmRlckJ5Q2hpbGQ6IFwiJHByaW9yaXR5XCIgaXMgaW52YWxpZC4gIFVzZSBRdWVyeS5vcmRlckJ5UHJpb3JpdHkoKSBpbnN0ZWFkLicpO2lmKFwiJHZhbHVlXCI9PT10KXRocm93IEVycm9yKCdRdWVyeS5vcmRlckJ5Q2hpbGQ6IFwiJHZhbHVlXCIgaXMgaW52YWxpZC4gIFVzZSBRdWVyeS5vcmRlckJ5VmFsdWUoKSBpbnN0ZWFkLicpO1dmKFwiUXVlcnkub3JkZXJCeUNoaWxkXCIsMSx0LCExKSxnaSh0aGlzLFwiUXVlcnkub3JkZXJCeUNoaWxkXCIpO3ZhciBlPWJlKHRoaXMubixuZXcgUmQodCkpO3JldHVybiBlaShlKSxuZXcgWSh0aGlzLmssdGhpcy5wYXRoLGUsITApfSxZLnByb3RvdHlwZS5vcmRlckJ5Q2hpbGQ9WS5wcm90b3R5cGUuQmcsWS5wcm90b3R5cGUuQ2c9ZnVuY3Rpb24oKXt4KFwiUXVlcnkub3JkZXJCeUtleVwiLDAsMCxhcmd1bWVudHMubGVuZ3RoKSxnaSh0aGlzLFwiUXVlcnkub3JkZXJCeUtleVwiKTt2YXIgdD1iZSh0aGlzLm4sVmQpO3JldHVybiBlaSh0KSxuZXcgWSh0aGlzLmssdGhpcy5wYXRoLHQsITApfSxZLnByb3RvdHlwZS5vcmRlckJ5S2V5PVkucHJvdG90eXBlLkNnLFkucHJvdG90eXBlLkRnPWZ1bmN0aW9uKCl7eChcIlF1ZXJ5Lm9yZGVyQnlQcmlvcml0eVwiLDAsMCxhcmd1bWVudHMubGVuZ3RoKSxnaSh0aGlzLFwiUXVlcnkub3JkZXJCeVByaW9yaXR5XCIpO3ZhciB0PWJlKHRoaXMubixNKTtyZXR1cm4gZWkodCksbmV3IFkodGhpcy5rLHRoaXMucGF0aCx0LCEwKX0sWS5wcm90b3R5cGUub3JkZXJCeVByaW9yaXR5PVkucHJvdG90eXBlLkRnLFkucHJvdG90eXBlLkVnPWZ1bmN0aW9uKCl7eChcIlF1ZXJ5Lm9yZGVyQnlWYWx1ZVwiLDAsMCxhcmd1bWVudHMubGVuZ3RoKSxnaSh0aGlzLFwiUXVlcnkub3JkZXJCeVZhbHVlXCIpO3ZhciB0PWJlKHRoaXMubixZZCk7cmV0dXJuIGVpKHQpLG5ldyBZKHRoaXMuayx0aGlzLnBhdGgsdCwhMCl9LFkucHJvdG90eXBlLm9yZGVyQnlWYWx1ZT1ZLnByb3RvdHlwZS5FZyxZLnByb3RvdHlwZS5YZD1mdW5jdGlvbih0LGUpe3goXCJRdWVyeS5zdGFydEF0XCIsMCwyLGFyZ3VtZW50cy5sZW5ndGgpLFJmKFwiUXVlcnkuc3RhcnRBdFwiLHQsdGhpcy5wYXRoLCEwKSxXZihcIlF1ZXJ5LnN0YXJ0QXRcIiwyLGUsITApO3ZhciBpPXRoaXMubi5YZCh0LGUpO2lmKGZpKGkpLGVpKGkpLHRoaXMubi5sYSl0aHJvdyBFcnJvcihcIlF1ZXJ5LnN0YXJ0QXQ6IFN0YXJ0aW5nIHBvaW50IHdhcyBhbHJlYWR5IHNldCAoYnkgYW5vdGhlciBjYWxsIHRvIHN0YXJ0QXQgb3IgZXF1YWxUbykuXCIpO3JldHVybiBuKHQpfHwoZT10PW51bGwpLG5ldyBZKHRoaXMuayx0aGlzLnBhdGgsaSx0aGlzLmpjKX0sWS5wcm90b3R5cGUuc3RhcnRBdD1ZLnByb3RvdHlwZS5YZCxZLnByb3RvdHlwZS5xZD1mdW5jdGlvbih0LGUpe3goXCJRdWVyeS5lbmRBdFwiLDAsMixhcmd1bWVudHMubGVuZ3RoKSxSZihcIlF1ZXJ5LmVuZEF0XCIsdCx0aGlzLnBhdGgsITApLFdmKFwiUXVlcnkuZW5kQXRcIiwyLGUsITApO3ZhciBuPXRoaXMubi5xZCh0LGUpO2lmKGZpKG4pLGVpKG4pLHRoaXMubi5uYSl0aHJvdyBFcnJvcihcIlF1ZXJ5LmVuZEF0OiBFbmRpbmcgcG9pbnQgd2FzIGFscmVhZHkgc2V0IChieSBhbm90aGVyIGNhbGwgdG8gZW5kQXQgb3IgZXF1YWxUbykuXCIpO3JldHVybiBuZXcgWSh0aGlzLmssdGhpcy5wYXRoLG4sdGhpcy5qYyl9LFkucHJvdG90eXBlLmVuZEF0PVkucHJvdG90eXBlLnFkLFkucHJvdG90eXBlLmhnPWZ1bmN0aW9uKHQsZSl7aWYoeChcIlF1ZXJ5LmVxdWFsVG9cIiwxLDIsYXJndW1lbnRzLmxlbmd0aCksUmYoXCJRdWVyeS5lcXVhbFRvXCIsdCx0aGlzLnBhdGgsITEpLFdmKFwiUXVlcnkuZXF1YWxUb1wiLDIsZSwhMCksdGhpcy5uLmxhKXRocm93IEVycm9yKFwiUXVlcnkuZXF1YWxUbzogU3RhcnRpbmcgcG9pbnQgd2FzIGFscmVhZHkgc2V0IChieSBhbm90aGVyIGNhbGwgdG8gZW5kQXQgb3IgZXF1YWxUbykuXCIpO2lmKHRoaXMubi5uYSl0aHJvdyBFcnJvcihcIlF1ZXJ5LmVxdWFsVG86IEVuZGluZyBwb2ludCB3YXMgYWxyZWFkeSBzZXQgKGJ5IGFub3RoZXIgY2FsbCB0byBlbmRBdCBvciBlcXVhbFRvKS5cIik7cmV0dXJuIHRoaXMuWGQodCxlKS5xZCh0LGUpfSxZLnByb3RvdHlwZS5lcXVhbFRvPVkucHJvdG90eXBlLmhnLFkucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7eChcIlF1ZXJ5LnRvU3RyaW5nXCIsMCwwLGFyZ3VtZW50cy5sZW5ndGgpO2Zvcih2YXIgdD10aGlzLnBhdGgsZT1cIlwiLG49dC5ZO248dC5vLmxlbmd0aDtuKyspXCJcIiE9PXQub1tuXSYmKGUrPVwiL1wiK2VuY29kZVVSSUNvbXBvbmVudChTdHJpbmcodC5vW25dKSkpO3JldHVybiB0PXRoaXMuay50b1N0cmluZygpKyhlfHxcIi9cIiksZT1qYihlZSh0aGlzLm4pKSx0Kz1lLnJlcGxhY2UoL14mLyxcIlwiKX0sWS5wcm90b3R5cGUudG9TdHJpbmc9WS5wcm90b3R5cGUudG9TdHJpbmcsWS5wcm90b3R5cGUud2E9ZnVuY3Rpb24oKXt2YXIgdD1XYyhjZSh0aGlzLm4pKTtyZXR1cm5cInt9XCI9PT10P1wiZGVmYXVsdFwiOnR9O3ZhciBaPXt9O1oudmM9d2gsWi5EYXRhQ29ubmVjdGlvbj1aLnZjLHdoLnByb3RvdHlwZS5PZz1mdW5jdGlvbih0LGUpe3RoaXMuRGEoXCJxXCIse3A6dH0sZSl9LFoudmMucHJvdG90eXBlLnNpbXBsZUxpc3Rlbj1aLnZjLnByb3RvdHlwZS5PZyx3aC5wcm90b3R5cGUuZ2c9ZnVuY3Rpb24odCxlKXt0aGlzLkRhKFwiZWNob1wiLHtkOnR9LGUpfSxaLnZjLnByb3RvdHlwZS5lY2hvPVoudmMucHJvdG90eXBlLmdnLHdoLnByb3RvdHlwZS5pbnRlcnJ1cHQ9d2gucHJvdG90eXBlLnliLFouU2Y9a2gsWi5SZWFsVGltZUNvbm5lY3Rpb249Wi5TZixraC5wcm90b3R5cGUuc2VuZFJlcXVlc3Q9a2gucHJvdG90eXBlLkRhLGtoLnByb3RvdHlwZS5jbG9zZT1raC5wcm90b3R5cGUuY2xvc2UsWi5vZz1mdW5jdGlvbih0KXt2YXIgZT13aC5wcm90b3R5cGUucHV0O3JldHVybiB3aC5wcm90b3R5cGUucHV0PWZ1bmN0aW9uKGkscixvLGEpe24oYSkmJihhPXQoKSksZS5jYWxsKHRoaXMsaSxyLG8sYSl9LGZ1bmN0aW9uKCl7d2gucHJvdG90eXBlLnB1dD1lfX0sWi5oaWphY2tIYXNoPVoub2csWi5SZj1FYyxaLkNvbm5lY3Rpb25UYXJnZXQ9Wi5SZixaLndhPWZ1bmN0aW9uKHQpe3JldHVybiB0LndhKCl9LFoucXVlcnlJZGVudGlmaWVyPVoud2EsWi5xZz1mdW5jdGlvbih0KXtyZXR1cm4gdC5rLlJhLmFhfSxaLmxpc3RlbnM9Wi5xZyxaLnVlPWZ1bmN0aW9uKHQpe3QudWUoKX0sWi5mb3JjZVJlc3RDbGllbnQ9Wi51ZSxtYShVLFkpO3ZhciBpaT1VLGppPVtcIkZpcmViYXNlXCJdLGtpPWFhO2ppWzBdaW4ga2l8fCFraS5leGVjU2NyaXB0fHxraS5leGVjU2NyaXB0KFwidmFyIFwiK2ppWzBdKTtmb3IodmFyIGxpO2ppLmxlbmd0aCYmKGxpPWppLnNoaWZ0KCkpOykhamkubGVuZ3RoJiZuKGlpKT9raVtsaV09aWk6a2k9a2lbbGldP2tpW2xpXTpraVtsaV09e307VS5wcm90b3R5cGUubmFtZT1mdW5jdGlvbigpe3JldHVybiBRKFwiRmlyZWJhc2UubmFtZSgpIGJlaW5nIGRlcHJlY2F0ZWQuIFBsZWFzZSB1c2UgRmlyZWJhc2Uua2V5KCkgaW5zdGVhZC5cIikseChcIkZpcmViYXNlLm5hbWVcIiwwLDAsYXJndW1lbnRzLmxlbmd0aCksdGhpcy5rZXkoKX0sVS5wcm90b3R5cGUubmFtZT1VLnByb3RvdHlwZS5uYW1lLFUucHJvdG90eXBlLmtleT1mdW5jdGlvbigpe3JldHVybiB4KFwiRmlyZWJhc2Uua2V5XCIsMCwwLGFyZ3VtZW50cy5sZW5ndGgpLHRoaXMucGF0aC5lKCk/bnVsbDp2Yyh0aGlzLnBhdGgpfSxVLnByb3RvdHlwZS5rZXk9VS5wcm90b3R5cGUua2V5LFUucHJvdG90eXBlLnc9ZnVuY3Rpb24odCl7aWYoeChcIkZpcmViYXNlLmNoaWxkXCIsMSwxLGFyZ3VtZW50cy5sZW5ndGgpLGdhKHQpKXQ9U3RyaW5nKHQpO2Vsc2UgaWYoISh0IGluc3RhbmNlb2YgSykpaWYobnVsbD09PU8odGhpcy5wYXRoKSl7dmFyIGU9dDtlJiYoZT1lLnJlcGxhY2UoL15cXC8qXFwuaW5mbyhcXC98JCkvLFwiL1wiKSksWGYoXCJGaXJlYmFzZS5jaGlsZFwiLGUpfWVsc2UgWGYoXCJGaXJlYmFzZS5jaGlsZFwiLHQpO3JldHVybiBuZXcgVSh0aGlzLmssdGhpcy5wYXRoLncodCkpfSxVLnByb3RvdHlwZS5jaGlsZD1VLnByb3RvdHlwZS53LFUucHJvdG90eXBlLnBhcmVudD1mdW5jdGlvbigpe3goXCJGaXJlYmFzZS5wYXJlbnRcIiwwLDAsYXJndW1lbnRzLmxlbmd0aCk7dmFyIHQ9dGhpcy5wYXRoLnBhcmVudCgpO3JldHVybiBudWxsPT09dD9udWxsOm5ldyBVKHRoaXMuayx0KX0sVS5wcm90b3R5cGUucGFyZW50PVUucHJvdG90eXBlLnBhcmVudCxVLnByb3RvdHlwZS5yb290PWZ1bmN0aW9uKCl7eChcIkZpcmViYXNlLnJlZlwiLDAsMCxhcmd1bWVudHMubGVuZ3RoKTtmb3IodmFyIHQ9dGhpcztudWxsIT09dC5wYXJlbnQoKTspdD10LnBhcmVudCgpO3JldHVybiB0fSxVLnByb3RvdHlwZS5yb290PVUucHJvdG90eXBlLnJvb3QsVS5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKHQsZSl7eChcIkZpcmViYXNlLnNldFwiLDEsMixhcmd1bWVudHMubGVuZ3RoKSxZZihcIkZpcmViYXNlLnNldFwiLHRoaXMucGF0aCksUmYoXCJGaXJlYmFzZS5zZXRcIix0LHRoaXMucGF0aCwhMSksQShcIkZpcmViYXNlLnNldFwiLDIsZSwhMCksdGhpcy5rLktiKHRoaXMucGF0aCx0LG51bGwsZXx8bnVsbCl9LFUucHJvdG90eXBlLnNldD1VLnByb3RvdHlwZS5zZXQsVS5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKHQsZSl7aWYoeChcIkZpcmViYXNlLnVwZGF0ZVwiLDEsMixhcmd1bWVudHMubGVuZ3RoKSxZZihcIkZpcmViYXNlLnVwZGF0ZVwiLHRoaXMucGF0aCksZWEodCkpe2Zvcih2YXIgbj17fSxpPTA7aTx0Lmxlbmd0aDsrK2kpbltcIlwiK2ldPXRbaV07dD1uLFEoXCJQYXNzaW5nIGFuIEFycmF5IHRvIEZpcmViYXNlLnVwZGF0ZSgpIGlzIGRlcHJlY2F0ZWQuIFVzZSBzZXQoKSBpZiB5b3Ugd2FudCB0byBvdmVyd3JpdGUgdGhlIGV4aXN0aW5nIGRhdGEsIG9yIGFuIE9iamVjdCB3aXRoIGludGVnZXIga2V5cyBpZiB5b3UgcmVhbGx5IGRvIHdhbnQgdG8gb25seSB1cGRhdGUgc29tZSBvZiB0aGUgY2hpbGRyZW4uXCIpfVRmKFwiRmlyZWJhc2UudXBkYXRlXCIsdCx0aGlzLnBhdGgpLEEoXCJGaXJlYmFzZS51cGRhdGVcIiwyLGUsITApLHRoaXMuay51cGRhdGUodGhpcy5wYXRoLHQsZXx8bnVsbCl9LFUucHJvdG90eXBlLnVwZGF0ZT1VLnByb3RvdHlwZS51cGRhdGUsVS5wcm90b3R5cGUuS2I9ZnVuY3Rpb24odCxlLG4pe2lmKHgoXCJGaXJlYmFzZS5zZXRXaXRoUHJpb3JpdHlcIiwyLDMsYXJndW1lbnRzLmxlbmd0aCksWWYoXCJGaXJlYmFzZS5zZXRXaXRoUHJpb3JpdHlcIix0aGlzLnBhdGgpLFJmKFwiRmlyZWJhc2Uuc2V0V2l0aFByaW9yaXR5XCIsdCx0aGlzLnBhdGgsITEpLFVmKFwiRmlyZWJhc2Uuc2V0V2l0aFByaW9yaXR5XCIsMixlKSxBKFwiRmlyZWJhc2Uuc2V0V2l0aFByaW9yaXR5XCIsMyxuLCEwKSxcIi5sZW5ndGhcIj09PXRoaXMua2V5KCl8fFwiLmtleXNcIj09PXRoaXMua2V5KCkpdGhyb3dcIkZpcmViYXNlLnNldFdpdGhQcmlvcml0eSBmYWlsZWQ6IFwiK3RoaXMua2V5KCkrXCIgaXMgYSByZWFkLW9ubHkgb2JqZWN0LlwiO3RoaXMuay5LYih0aGlzLnBhdGgsdCxlLG58fG51bGwpfSxVLnByb3RvdHlwZS5zZXRXaXRoUHJpb3JpdHk9VS5wcm90b3R5cGUuS2IsVS5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKHQpe3goXCJGaXJlYmFzZS5yZW1vdmVcIiwwLDEsYXJndW1lbnRzLmxlbmd0aCksWWYoXCJGaXJlYmFzZS5yZW1vdmVcIix0aGlzLnBhdGgpLEEoXCJGaXJlYmFzZS5yZW1vdmVcIiwxLHQsITApLHRoaXMuc2V0KG51bGwsdCl9LFUucHJvdG90eXBlLnJlbW92ZT1VLnByb3RvdHlwZS5yZW1vdmUsVS5wcm90b3R5cGUudHJhbnNhY3Rpb249ZnVuY3Rpb24odCxlLGkpe2lmKHgoXCJGaXJlYmFzZS50cmFuc2FjdGlvblwiLDEsMyxhcmd1bWVudHMubGVuZ3RoKSxZZihcIkZpcmViYXNlLnRyYW5zYWN0aW9uXCIsdGhpcy5wYXRoKSxBKFwiRmlyZWJhc2UudHJhbnNhY3Rpb25cIiwxLHQsITEpLEEoXCJGaXJlYmFzZS50cmFuc2FjdGlvblwiLDIsZSwhMCksbihpKSYmXCJib29sZWFuXCIhPXR5cGVvZiBpKXRocm93IEVycm9yKHooXCJGaXJlYmFzZS50cmFuc2FjdGlvblwiLDMsITApK1wibXVzdCBiZSBhIGJvb2xlYW4uXCIpO2lmKFwiLmxlbmd0aFwiPT09dGhpcy5rZXkoKXx8XCIua2V5c1wiPT09dGhpcy5rZXkoKSl0aHJvd1wiRmlyZWJhc2UudHJhbnNhY3Rpb24gZmFpbGVkOiBcIit0aGlzLmtleSgpK1wiIGlzIGEgcmVhZC1vbmx5IG9iamVjdC5cIjtcInVuZGVmaW5lZFwiPT10eXBlb2YgaSYmKGk9ITApLFdoKHRoaXMuayx0aGlzLnBhdGgsdCxlfHxudWxsLGkpfSxVLnByb3RvdHlwZS50cmFuc2FjdGlvbj1VLnByb3RvdHlwZS50cmFuc2FjdGlvbixVLnByb3RvdHlwZS5MZz1mdW5jdGlvbih0LGUpe3goXCJGaXJlYmFzZS5zZXRQcmlvcml0eVwiLDEsMixhcmd1bWVudHMubGVuZ3RoKSxZZihcIkZpcmViYXNlLnNldFByaW9yaXR5XCIsdGhpcy5wYXRoKSxVZihcIkZpcmViYXNlLnNldFByaW9yaXR5XCIsMSx0KSxBKFwiRmlyZWJhc2Uuc2V0UHJpb3JpdHlcIiwyLGUsITApLHRoaXMuay5LYih0aGlzLnBhdGgudyhcIi5wcmlvcml0eVwiKSx0LG51bGwsZSl9LFUucHJvdG90eXBlLnNldFByaW9yaXR5PVUucHJvdG90eXBlLkxnLFUucHJvdG90eXBlLnB1c2g9ZnVuY3Rpb24odCxlKXt4KFwiRmlyZWJhc2UucHVzaFwiLDAsMixhcmd1bWVudHMubGVuZ3RoKSxZZihcIkZpcmViYXNlLnB1c2hcIix0aGlzLnBhdGgpLFJmKFwiRmlyZWJhc2UucHVzaFwiLHQsdGhpcy5wYXRoLCEwKSxBKFwiRmlyZWJhc2UucHVzaFwiLDIsZSwhMCk7dmFyIG49TWgodGhpcy5rKSxuPUtmKG4pLG49dGhpcy53KG4pO3JldHVyblwidW5kZWZpbmVkXCIhPXR5cGVvZiB0JiZudWxsIT09dCYmbi5zZXQodCxlKSxufSxVLnByb3RvdHlwZS5wdXNoPVUucHJvdG90eXBlLnB1c2gsVS5wcm90b3R5cGUuamI9ZnVuY3Rpb24oKXtyZXR1cm4gWWYoXCJGaXJlYmFzZS5vbkRpc2Nvbm5lY3RcIix0aGlzLnBhdGgpLG5ldyBYKHRoaXMuayx0aGlzLnBhdGgpfSxVLnByb3RvdHlwZS5vbkRpc2Nvbm5lY3Q9VS5wcm90b3R5cGUuamIsVS5wcm90b3R5cGUuUD1mdW5jdGlvbih0LGUsbil7UShcIkZpcmViYXNlUmVmLmF1dGgoKSBiZWluZyBkZXByZWNhdGVkLiBQbGVhc2UgdXNlIEZpcmViYXNlUmVmLmF1dGhXaXRoQ3VzdG9tVG9rZW4oKSBpbnN0ZWFkLlwiKSx4KFwiRmlyZWJhc2UuYXV0aFwiLDEsMyxhcmd1bWVudHMubGVuZ3RoKSxaZihcIkZpcmViYXNlLmF1dGhcIix0KSxBKFwiRmlyZWJhc2UuYXV0aFwiLDIsZSwhMCksQShcIkZpcmViYXNlLmF1dGhcIiwzLGUsITApLEtnKHRoaXMuay5QLHQse30se3JlbWVtYmVyOlwibm9uZVwifSxlLG4pfSxVLnByb3RvdHlwZS5hdXRoPVUucHJvdG90eXBlLlAsVS5wcm90b3R5cGUuZWU9ZnVuY3Rpb24odCl7eChcIkZpcmViYXNlLnVuYXV0aFwiLDAsMSxhcmd1bWVudHMubGVuZ3RoKSxBKFwiRmlyZWJhc2UudW5hdXRoXCIsMSx0LCEwKSxMZyh0aGlzLmsuUCx0KX0sVS5wcm90b3R5cGUudW5hdXRoPVUucHJvdG90eXBlLmVlLFUucHJvdG90eXBlLndlPWZ1bmN0aW9uKCl7cmV0dXJuIHgoXCJGaXJlYmFzZS5nZXRBdXRoXCIsMCwwLGFyZ3VtZW50cy5sZW5ndGgpLHRoaXMuay5QLndlKCl9LFUucHJvdG90eXBlLmdldEF1dGg9VS5wcm90b3R5cGUud2UsVS5wcm90b3R5cGUudWc9ZnVuY3Rpb24odCxlKXt4KFwiRmlyZWJhc2Uub25BdXRoXCIsMSwyLGFyZ3VtZW50cy5sZW5ndGgpLFxuQShcIkZpcmViYXNlLm9uQXV0aFwiLDEsdCwhMSksbGIoXCJGaXJlYmFzZS5vbkF1dGhcIiwyLGUpLHRoaXMuay5QLkViKFwiYXV0aF9zdGF0dXNcIix0LGUpfSxVLnByb3RvdHlwZS5vbkF1dGg9VS5wcm90b3R5cGUudWcsVS5wcm90b3R5cGUudGc9ZnVuY3Rpb24odCxlKXt4KFwiRmlyZWJhc2Uub2ZmQXV0aFwiLDEsMixhcmd1bWVudHMubGVuZ3RoKSxBKFwiRmlyZWJhc2Uub2ZmQXV0aFwiLDEsdCwhMSksbGIoXCJGaXJlYmFzZS5vZmZBdXRoXCIsMixlKSx0aGlzLmsuUC5nYyhcImF1dGhfc3RhdHVzXCIsdCxlKX0sVS5wcm90b3R5cGUub2ZmQXV0aD1VLnByb3RvdHlwZS50ZyxVLnByb3RvdHlwZS5XZj1mdW5jdGlvbih0LGUsbil7eChcIkZpcmViYXNlLmF1dGhXaXRoQ3VzdG9tVG9rZW5cIiwyLDMsYXJndW1lbnRzLmxlbmd0aCksWmYoXCJGaXJlYmFzZS5hdXRoV2l0aEN1c3RvbVRva2VuXCIsdCksQShcIkZpcmViYXNlLmF1dGhXaXRoQ3VzdG9tVG9rZW5cIiwyLGUsITEpLGFnKFwiRmlyZWJhc2UuYXV0aFdpdGhDdXN0b21Ub2tlblwiLDMsbiwhMCksS2codGhpcy5rLlAsdCx7fSxufHx7fSxlKX0sVS5wcm90b3R5cGUuYXV0aFdpdGhDdXN0b21Ub2tlbj1VLnByb3RvdHlwZS5XZixVLnByb3RvdHlwZS5YZj1mdW5jdGlvbih0LGUsbil7eChcIkZpcmViYXNlLmF1dGhXaXRoT0F1dGhQb3B1cFwiLDIsMyxhcmd1bWVudHMubGVuZ3RoKSwkZihcIkZpcmViYXNlLmF1dGhXaXRoT0F1dGhQb3B1cFwiLDEsdCksQShcIkZpcmViYXNlLmF1dGhXaXRoT0F1dGhQb3B1cFwiLDIsZSwhMSksYWcoXCJGaXJlYmFzZS5hdXRoV2l0aE9BdXRoUG9wdXBcIiwzLG4sITApLFBnKHRoaXMuay5QLHQsbixlKX0sVS5wcm90b3R5cGUuYXV0aFdpdGhPQXV0aFBvcHVwPVUucHJvdG90eXBlLlhmLFUucHJvdG90eXBlLllmPWZ1bmN0aW9uKHQsZSxuKXt4KFwiRmlyZWJhc2UuYXV0aFdpdGhPQXV0aFJlZGlyZWN0XCIsMiwzLGFyZ3VtZW50cy5sZW5ndGgpLCRmKFwiRmlyZWJhc2UuYXV0aFdpdGhPQXV0aFJlZGlyZWN0XCIsMSx0KSxBKFwiRmlyZWJhc2UuYXV0aFdpdGhPQXV0aFJlZGlyZWN0XCIsMixlLCExKSxhZyhcIkZpcmViYXNlLmF1dGhXaXRoT0F1dGhSZWRpcmVjdFwiLDMsbiwhMCk7dmFyIGk9dGhpcy5rLlA7TmcoaSk7dmFyIHI9W3dnXSxvPWlnKG4pO1wiYW5vbnltb3VzXCI9PT10fHxcImZpcmViYXNlXCI9PT10P1IoZSx5ZyhcIlRSQU5TUE9SVF9VTkFWQUlMQUJMRVwiKSk6KFAuc2V0KFwicmVkaXJlY3RfY2xpZW50X29wdGlvbnNcIixvLmxkKSxPZyhpLHIsXCIvYXV0aC9cIit0LG8sZSkpfSxVLnByb3RvdHlwZS5hdXRoV2l0aE9BdXRoUmVkaXJlY3Q9VS5wcm90b3R5cGUuWWYsVS5wcm90b3R5cGUuWmY9ZnVuY3Rpb24odCxlLG4saSl7eChcIkZpcmViYXNlLmF1dGhXaXRoT0F1dGhUb2tlblwiLDMsNCxhcmd1bWVudHMubGVuZ3RoKSwkZihcIkZpcmViYXNlLmF1dGhXaXRoT0F1dGhUb2tlblwiLDEsdCksQShcIkZpcmViYXNlLmF1dGhXaXRoT0F1dGhUb2tlblwiLDMsbiwhMSksYWcoXCJGaXJlYmFzZS5hdXRoV2l0aE9BdXRoVG9rZW5cIiw0LGksITApLHAoZSk/KCRmKFwiRmlyZWJhc2UuYXV0aFdpdGhPQXV0aFRva2VuXCIsMixlKSxNZyh0aGlzLmsuUCx0K1wiL3Rva2VuXCIse2FjY2Vzc190b2tlbjplfSxpLG4pKTooYWcoXCJGaXJlYmFzZS5hdXRoV2l0aE9BdXRoVG9rZW5cIiwyLGUsITEpLE1nKHRoaXMuay5QLHQrXCIvdG9rZW5cIixlLGksbikpfSxVLnByb3RvdHlwZS5hdXRoV2l0aE9BdXRoVG9rZW49VS5wcm90b3R5cGUuWmYsVS5wcm90b3R5cGUuVmY9ZnVuY3Rpb24odCxlKXt4KFwiRmlyZWJhc2UuYXV0aEFub255bW91c2x5XCIsMSwyLGFyZ3VtZW50cy5sZW5ndGgpLEEoXCJGaXJlYmFzZS5hdXRoQW5vbnltb3VzbHlcIiwxLHQsITEpLGFnKFwiRmlyZWJhc2UuYXV0aEFub255bW91c2x5XCIsMixlLCEwKSxNZyh0aGlzLmsuUCxcImFub255bW91c1wiLHt9LGUsdCl9LFUucHJvdG90eXBlLmF1dGhBbm9ueW1vdXNseT1VLnByb3RvdHlwZS5WZixVLnByb3RvdHlwZS4kZj1mdW5jdGlvbih0LGUsbil7eChcIkZpcmViYXNlLmF1dGhXaXRoUGFzc3dvcmRcIiwyLDMsYXJndW1lbnRzLmxlbmd0aCksYWcoXCJGaXJlYmFzZS5hdXRoV2l0aFBhc3N3b3JkXCIsMSx0LCExKSxiZyhcIkZpcmViYXNlLmF1dGhXaXRoUGFzc3dvcmRcIix0LFwiZW1haWxcIiksYmcoXCJGaXJlYmFzZS5hdXRoV2l0aFBhc3N3b3JkXCIsdCxcInBhc3N3b3JkXCIpLEEoXCJGaXJlYmFzZS5hdXRoQW5vbnltb3VzbHlcIiwyLGUsITEpLGFnKFwiRmlyZWJhc2UuYXV0aEFub255bW91c2x5XCIsMyxuLCEwKSxNZyh0aGlzLmsuUCxcInBhc3N3b3JkXCIsdCxuLGUpfSxVLnByb3RvdHlwZS5hdXRoV2l0aFBhc3N3b3JkPVUucHJvdG90eXBlLiRmLFUucHJvdG90eXBlLnJlPWZ1bmN0aW9uKHQsZSl7eChcIkZpcmViYXNlLmNyZWF0ZVVzZXJcIiwyLDIsYXJndW1lbnRzLmxlbmd0aCksYWcoXCJGaXJlYmFzZS5jcmVhdGVVc2VyXCIsMSx0LCExKSxiZyhcIkZpcmViYXNlLmNyZWF0ZVVzZXJcIix0LFwiZW1haWxcIiksYmcoXCJGaXJlYmFzZS5jcmVhdGVVc2VyXCIsdCxcInBhc3N3b3JkXCIpLEEoXCJGaXJlYmFzZS5jcmVhdGVVc2VyXCIsMixlLCExKSx0aGlzLmsuUC5yZSh0LGUpfSxVLnByb3RvdHlwZS5jcmVhdGVVc2VyPVUucHJvdG90eXBlLnJlLFUucHJvdG90eXBlLlNlPWZ1bmN0aW9uKHQsZSl7eChcIkZpcmViYXNlLnJlbW92ZVVzZXJcIiwyLDIsYXJndW1lbnRzLmxlbmd0aCksYWcoXCJGaXJlYmFzZS5yZW1vdmVVc2VyXCIsMSx0LCExKSxiZyhcIkZpcmViYXNlLnJlbW92ZVVzZXJcIix0LFwiZW1haWxcIiksYmcoXCJGaXJlYmFzZS5yZW1vdmVVc2VyXCIsdCxcInBhc3N3b3JkXCIpLEEoXCJGaXJlYmFzZS5yZW1vdmVVc2VyXCIsMixlLCExKSx0aGlzLmsuUC5TZSh0LGUpfSxVLnByb3RvdHlwZS5yZW1vdmVVc2VyPVUucHJvdG90eXBlLlNlLFUucHJvdG90eXBlLm9lPWZ1bmN0aW9uKHQsZSl7eChcIkZpcmViYXNlLmNoYW5nZVBhc3N3b3JkXCIsMiwyLGFyZ3VtZW50cy5sZW5ndGgpLGFnKFwiRmlyZWJhc2UuY2hhbmdlUGFzc3dvcmRcIiwxLHQsITEpLGJnKFwiRmlyZWJhc2UuY2hhbmdlUGFzc3dvcmRcIix0LFwiZW1haWxcIiksYmcoXCJGaXJlYmFzZS5jaGFuZ2VQYXNzd29yZFwiLHQsXCJvbGRQYXNzd29yZFwiKSxiZyhcIkZpcmViYXNlLmNoYW5nZVBhc3N3b3JkXCIsdCxcIm5ld1Bhc3N3b3JkXCIpLEEoXCJGaXJlYmFzZS5jaGFuZ2VQYXNzd29yZFwiLDIsZSwhMSksdGhpcy5rLlAub2UodCxlKX0sVS5wcm90b3R5cGUuY2hhbmdlUGFzc3dvcmQ9VS5wcm90b3R5cGUub2UsVS5wcm90b3R5cGUubmU9ZnVuY3Rpb24odCxlKXt4KFwiRmlyZWJhc2UuY2hhbmdlRW1haWxcIiwyLDIsYXJndW1lbnRzLmxlbmd0aCksYWcoXCJGaXJlYmFzZS5jaGFuZ2VFbWFpbFwiLDEsdCwhMSksYmcoXCJGaXJlYmFzZS5jaGFuZ2VFbWFpbFwiLHQsXCJvbGRFbWFpbFwiKSxiZyhcIkZpcmViYXNlLmNoYW5nZUVtYWlsXCIsdCxcIm5ld0VtYWlsXCIpLGJnKFwiRmlyZWJhc2UuY2hhbmdlRW1haWxcIix0LFwicGFzc3dvcmRcIiksQShcIkZpcmViYXNlLmNoYW5nZUVtYWlsXCIsMixlLCExKSx0aGlzLmsuUC5uZSh0LGUpfSxVLnByb3RvdHlwZS5jaGFuZ2VFbWFpbD1VLnByb3RvdHlwZS5uZSxVLnByb3RvdHlwZS5VZT1mdW5jdGlvbih0LGUpe3goXCJGaXJlYmFzZS5yZXNldFBhc3N3b3JkXCIsMiwyLGFyZ3VtZW50cy5sZW5ndGgpLGFnKFwiRmlyZWJhc2UucmVzZXRQYXNzd29yZFwiLDEsdCwhMSksYmcoXCJGaXJlYmFzZS5yZXNldFBhc3N3b3JkXCIsdCxcImVtYWlsXCIpLEEoXCJGaXJlYmFzZS5yZXNldFBhc3N3b3JkXCIsMixlLCExKSx0aGlzLmsuUC5VZSh0LGUpfSxVLnByb3RvdHlwZS5yZXNldFBhc3N3b3JkPVUucHJvdG90eXBlLlVlLFUuZ29PZmZsaW5lPWZ1bmN0aW9uKCl7eChcIkZpcmViYXNlLmdvT2ZmbGluZVwiLDAsMCxhcmd1bWVudHMubGVuZ3RoKSxXLnViKCkueWIoKX0sVS5nb09ubGluZT1mdW5jdGlvbigpe3goXCJGaXJlYmFzZS5nb09ubGluZVwiLDAsMCxhcmd1bWVudHMubGVuZ3RoKSxXLnViKCkucWMoKX0sVS5lbmFibGVMb2dnaW5nPU5jLFUuU2VydmVyVmFsdWU9e1RJTUVTVEFNUDp7XCIuc3ZcIjpcInRpbWVzdGFtcFwifX0sVS5TREtfVkVSU0lPTj1cIjIuMi40XCIsVS5JTlRFUk5BTD1WLFUuQ29udGV4dD1XLFUuVEVTVF9BQ0NFU1M9Wn0oKSxtb2R1bGUuZXhwb3J0cz1GaXJlYmFzZTsiLCJcInVzZSBzdHJpY3RcIjttb2R1bGUuZXhwb3J0cz1yZXF1aXJlKFwiLi9saWIvY29yZS5qc1wiKSxyZXF1aXJlKFwiLi9saWIvZG9uZS5qc1wiKSxyZXF1aXJlKFwiLi9saWIvZXM2LWV4dGVuc2lvbnMuanNcIikscmVxdWlyZShcIi4vbGliL25vZGUtZXh0ZW5zaW9ucy5qc1wiKTsiLCJcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBQcm9taXNlKGUpe2Z1bmN0aW9uIG4oZSl7cmV0dXJuIG51bGw9PT1pP3ZvaWQgYy5wdXNoKGUpOnZvaWQgYXNhcChmdW5jdGlvbigpe3ZhciBuPWk/ZS5vbkZ1bGZpbGxlZDplLm9uUmVqZWN0ZWQ7aWYobnVsbD09PW4pcmV0dXJuIHZvaWQoaT9lLnJlc29sdmU6ZS5yZWplY3QpKHUpO3ZhciB0O3RyeXt0PW4odSl9Y2F0Y2gobyl7cmV0dXJuIHZvaWQgZS5yZWplY3Qobyl9ZS5yZXNvbHZlKHQpfSl9ZnVuY3Rpb24gdChlKXt0cnl7aWYoZT09PWYpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkEgcHJvbWlzZSBjYW5ub3QgYmUgcmVzb2x2ZWQgd2l0aCBpdHNlbGYuXCIpO2lmKGUmJihcIm9iamVjdFwiPT10eXBlb2YgZXx8XCJmdW5jdGlvblwiPT10eXBlb2YgZSkpe3ZhciBuPWUudGhlbjtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBuKXJldHVybiB2b2lkIGRvUmVzb2x2ZShuLmJpbmQoZSksdCxvKX1pPSEwLHU9ZSxyKCl9Y2F0Y2goYyl7byhjKX19ZnVuY3Rpb24gbyhlKXtpPSExLHU9ZSxyKCl9ZnVuY3Rpb24gcigpe2Zvcih2YXIgZT0wLHQ9Yy5sZW5ndGg7dD5lO2UrKyluKGNbZV0pO2M9bnVsbH1pZihcIm9iamVjdFwiIT10eXBlb2YgdGhpcyl0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJvbWlzZXMgbXVzdCBiZSBjb25zdHJ1Y3RlZCB2aWEgbmV3XCIpO2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIm5vdCBhIGZ1bmN0aW9uXCIpO3ZhciBpPW51bGwsdT1udWxsLGM9W10sZj10aGlzO3RoaXMudGhlbj1mdW5jdGlvbihlLHQpe3JldHVybiBuZXcgZi5jb25zdHJ1Y3RvcihmdW5jdGlvbihvLHIpe24obmV3IEhhbmRsZXIoZSx0LG8scikpfSl9LGRvUmVzb2x2ZShlLHQsbyl9ZnVuY3Rpb24gSGFuZGxlcihlLG4sdCxvKXt0aGlzLm9uRnVsZmlsbGVkPVwiZnVuY3Rpb25cIj09dHlwZW9mIGU/ZTpudWxsLHRoaXMub25SZWplY3RlZD1cImZ1bmN0aW9uXCI9PXR5cGVvZiBuP246bnVsbCx0aGlzLnJlc29sdmU9dCx0aGlzLnJlamVjdD1vfWZ1bmN0aW9uIGRvUmVzb2x2ZShlLG4sdCl7dmFyIG89ITE7dHJ5e2UoZnVuY3Rpb24oZSl7b3x8KG89ITAsbihlKSl9LGZ1bmN0aW9uKGUpe298fChvPSEwLHQoZSkpfSl9Y2F0Y2gocil7aWYobylyZXR1cm47bz0hMCx0KHIpfX12YXIgYXNhcD1yZXF1aXJlKFwiYXNhcFwiKTttb2R1bGUuZXhwb3J0cz1Qcm9taXNlOyIsIlwidXNlIHN0cmljdFwiO3ZhciBQcm9taXNlPXJlcXVpcmUoXCIuL2NvcmUuanNcIiksYXNhcD1yZXF1aXJlKFwiYXNhcFwiKTttb2R1bGUuZXhwb3J0cz1Qcm9taXNlLFByb21pc2UucHJvdG90eXBlLmRvbmU9ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoP3RoaXMudGhlbi5hcHBseSh0aGlzLGFyZ3VtZW50cyk6dGhpcztlLnRoZW4obnVsbCxmdW5jdGlvbihlKXthc2FwKGZ1bmN0aW9uKCl7dGhyb3cgZX0pfSl9OyIsIlwidXNlIHN0cmljdFwiO2Z1bmN0aW9uIFZhbHVlUHJvbWlzZShlKXt0aGlzLnRoZW49ZnVuY3Rpb24ocil7cmV0dXJuXCJmdW5jdGlvblwiIT10eXBlb2Ygcj90aGlzOm5ldyBQcm9taXNlKGZ1bmN0aW9uKG4sdCl7YXNhcChmdW5jdGlvbigpe3RyeXtuKHIoZSkpfWNhdGNoKG8pe3Qobyl9fSl9KX19dmFyIFByb21pc2U9cmVxdWlyZShcIi4vY29yZS5qc1wiKSxhc2FwPXJlcXVpcmUoXCJhc2FwXCIpO21vZHVsZS5leHBvcnRzPVByb21pc2UsVmFsdWVQcm9taXNlLnByb3RvdHlwZT1Qcm9taXNlLnByb3RvdHlwZTt2YXIgVFJVRT1uZXcgVmFsdWVQcm9taXNlKCEwKSxGQUxTRT1uZXcgVmFsdWVQcm9taXNlKCExKSxOVUxMPW5ldyBWYWx1ZVByb21pc2UobnVsbCksVU5ERUZJTkVEPW5ldyBWYWx1ZVByb21pc2Uodm9pZCAwKSxaRVJPPW5ldyBWYWx1ZVByb21pc2UoMCksRU1QVFlTVFJJTkc9bmV3IFZhbHVlUHJvbWlzZShcIlwiKTtQcm9taXNlLnJlc29sdmU9ZnVuY3Rpb24oZSl7aWYoZSBpbnN0YW5jZW9mIFByb21pc2UpcmV0dXJuIGU7aWYobnVsbD09PWUpcmV0dXJuIE5VTEw7aWYodm9pZCAwPT09ZSlyZXR1cm4gVU5ERUZJTkVEO2lmKGU9PT0hMClyZXR1cm4gVFJVRTtpZihlPT09ITEpcmV0dXJuIEZBTFNFO2lmKDA9PT1lKXJldHVybiBaRVJPO2lmKFwiXCI9PT1lKXJldHVybiBFTVBUWVNUUklORztpZihcIm9iamVjdFwiPT10eXBlb2YgZXx8XCJmdW5jdGlvblwiPT10eXBlb2YgZSl0cnl7dmFyIHI9ZS50aGVuO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHIpcmV0dXJuIG5ldyBQcm9taXNlKHIuYmluZChlKSl9Y2F0Y2gobil7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKGUscil7cihuKX0pfXJldHVybiBuZXcgVmFsdWVQcm9taXNlKGUpfSxQcm9taXNlLmFsbD1mdW5jdGlvbihlKXt2YXIgcj1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChlKTtyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24oZSxuKXtmdW5jdGlvbiB0KGksdSl7dHJ5e2lmKHUmJihcIm9iamVjdFwiPT10eXBlb2YgdXx8XCJmdW5jdGlvblwiPT10eXBlb2YgdSkpe3ZhciBmPXUudGhlbjtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBmKXJldHVybiB2b2lkIGYuY2FsbCh1LGZ1bmN0aW9uKGUpe3QoaSxlKX0sbil9cltpXT11LDA9PT0tLW8mJmUocil9Y2F0Y2goYyl7bihjKX19aWYoMD09PXIubGVuZ3RoKXJldHVybiBlKFtdKTtmb3IodmFyIG89ci5sZW5ndGgsaT0wO2k8ci5sZW5ndGg7aSsrKXQoaSxyW2ldKX0pfSxQcm9taXNlLnJlamVjdD1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocixuKXtuKGUpfSl9LFByb21pc2UucmFjZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocixuKXtlLmZvckVhY2goZnVuY3Rpb24oZSl7UHJvbWlzZS5yZXNvbHZlKGUpLnRoZW4ocixuKX0pfSl9LFByb21pc2UucHJvdG90eXBlW1wiY2F0Y2hcIl09ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMudGhlbihudWxsLGUpfTsiLCJcInVzZSBzdHJpY3RcIjt2YXIgUHJvbWlzZT1yZXF1aXJlKFwiLi9jb3JlLmpzXCIpLGFzYXA9cmVxdWlyZShcImFzYXBcIik7bW9kdWxlLmV4cG9ydHM9UHJvbWlzZSxQcm9taXNlLmRlbm9kZWlmeT1mdW5jdGlvbihuLHQpe3JldHVybiB0PXR8fDEvMCxmdW5jdGlvbigpe3ZhciBlPXRoaXMsbz1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyLGkpe2Zvcig7by5sZW5ndGgmJm8ubGVuZ3RoPnQ7KW8ucG9wKCk7by5wdXNoKGZ1bmN0aW9uKG4sdCl7bj9pKG4pOnIodCl9KTt2YXIgdT1uLmFwcGx5KGUsbyk7IXV8fFwib2JqZWN0XCIhPXR5cGVvZiB1JiZcImZ1bmN0aW9uXCIhPXR5cGVvZiB1fHxcImZ1bmN0aW9uXCIhPXR5cGVvZiB1LnRoZW58fHIodSl9KX19LFByb21pc2Uubm9kZWlmeT1mdW5jdGlvbihuKXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgdD1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpLGU9XCJmdW5jdGlvblwiPT10eXBlb2YgdFt0Lmxlbmd0aC0xXT90LnBvcCgpOm51bGwsbz10aGlzO3RyeXtyZXR1cm4gbi5hcHBseSh0aGlzLGFyZ3VtZW50cykubm9kZWlmeShlLG8pfWNhdGNoKHIpe2lmKG51bGw9PT1lfHxcInVuZGVmaW5lZFwiPT10eXBlb2YgZSlyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24obix0KXt0KHIpfSk7YXNhcChmdW5jdGlvbigpe2UuY2FsbChvLHIpfSl9fX0sUHJvbWlzZS5wcm90b3R5cGUubm9kZWlmeT1mdW5jdGlvbihuLHQpe3JldHVyblwiZnVuY3Rpb25cIiE9dHlwZW9mIG4/dGhpczp2b2lkIHRoaXMudGhlbihmdW5jdGlvbihlKXthc2FwKGZ1bmN0aW9uKCl7bi5jYWxsKHQsbnVsbCxlKX0pfSxmdW5jdGlvbihlKXthc2FwKGZ1bmN0aW9uKCl7bi5jYWxsKHQsZSl9KX0pfTsiLCJmdW5jdGlvbiBmbHVzaCgpe2Zvcig7aGVhZC5uZXh0Oyl7aGVhZD1oZWFkLm5leHQ7dmFyIGU9aGVhZC50YXNrO2hlYWQudGFzaz12b2lkIDA7dmFyIHM9aGVhZC5kb21haW47cyYmKGhlYWQuZG9tYWluPXZvaWQgMCxzLmVudGVyKCkpO3RyeXtlKCl9Y2F0Y2gobil7aWYoaXNOb2RlSlMpdGhyb3cgcyYmcy5leGl0KCksc2V0VGltZW91dChmbHVzaCwwKSxzJiZzLmVudGVyKCksbjtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dGhyb3cgbn0sMCl9cyYmcy5leGl0KCl9Zmx1c2hpbmc9ITF9ZnVuY3Rpb24gYXNhcChlKXt0YWlsPXRhaWwubmV4dD17dGFzazplLGRvbWFpbjppc05vZGVKUyYmcHJvY2Vzcy5kb21haW4sbmV4dDpudWxsfSxmbHVzaGluZ3x8KGZsdXNoaW5nPSEwLHJlcXVlc3RGbHVzaCgpKX12YXIgaGVhZD17dGFzazp2b2lkIDAsbmV4dDpudWxsfSx0YWlsPWhlYWQsZmx1c2hpbmc9ITEscmVxdWVzdEZsdXNoPXZvaWQgMCxpc05vZGVKUz0hMTtpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgcHJvY2VzcyYmcHJvY2Vzcy5uZXh0VGljaylpc05vZGVKUz0hMCxyZXF1ZXN0Rmx1c2g9ZnVuY3Rpb24oKXtwcm9jZXNzLm5leHRUaWNrKGZsdXNoKX07ZWxzZSBpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBzZXRJbW1lZGlhdGUpcmVxdWVzdEZsdXNoPVwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/c2V0SW1tZWRpYXRlLmJpbmQod2luZG93LGZsdXNoKTpmdW5jdGlvbigpe3NldEltbWVkaWF0ZShmbHVzaCl9O2Vsc2UgaWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIE1lc3NhZ2VDaGFubmVsKXt2YXIgY2hhbm5lbD1uZXcgTWVzc2FnZUNoYW5uZWw7Y2hhbm5lbC5wb3J0MS5vbm1lc3NhZ2U9Zmx1c2gscmVxdWVzdEZsdXNoPWZ1bmN0aW9uKCl7Y2hhbm5lbC5wb3J0Mi5wb3N0TWVzc2FnZSgwKX19ZWxzZSByZXF1ZXN0Rmx1c2g9ZnVuY3Rpb24oKXtzZXRUaW1lb3V0KGZsdXNoLDApfTttb2R1bGUuZXhwb3J0cz1hc2FwOyIsIiFmdW5jdGlvbih0LGUpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4odCl7dmFyIGU9SigwKSxuPXQudHJpbSgpLnNsaWNlKGUubGVuZ3RoKS5tYXRjaCgvXlxccyooXFxTKz8pXFxzKig/OixcXHMqKFxcUyspKT9cXHMraW5cXHMrKC4rKSQvKTtyZXR1cm4gbj97a2V5Om5bMV0scG9zOm5bMl0sdmFsOmUrblszXX06e3ZhbDp0fX1mdW5jdGlvbiByKHQsZSxuKXt2YXIgcj17fTtyZXR1cm4gclt0LmtleV09ZSx0LnBvcyYmKHJbdC5wb3NdPW4pLHJ9ZnVuY3Rpb24gaSh0LGUsaSl7ZCh0LFwiZWFjaFwiKTt2YXIgbyx1PXYodCksZj10Lm91dGVySFRNTCxjPSEhWVt1XSxzPVlbdV18fHt0bXBsOmZ9LHA9dC5wYXJlbnROb2RlLGw9ZG9jdW1lbnQuY3JlYXRlQ29tbWVudChcInJpb3QgcGxhY2Vob2xkZXJcIiksbT1bXSxoPWcodCk7cC5pbnNlcnRCZWZvcmUobCx0KSxpPW4oaSksZS5vbmUoXCJwcmVtb3VudFwiLGZ1bmN0aW9uKCl7cC5zdHViJiYocD1lLnJvb3QpLHQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0KX0pLm9uKFwidXBkYXRlXCIsZnVuY3Rpb24oKXt2YXIgbj1VKGkudmFsLGUpO3Eobil8fChvPW4/SlNPTi5zdHJpbmdpZnkobik6XCJcIixuPW4/T2JqZWN0LmtleXMobikubWFwKGZ1bmN0aW9uKHQpe3JldHVybiByKGksdCxuW3RdKX0pOltdKTtmb3IodmFyIGY9ZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLGQ9bS5sZW5ndGgsZz1uLmxlbmd0aDtkPmc7KW1bLS1kXS51bm1vdW50KCksbS5zcGxpY2UoZCwxKTtmb3IoZD0wO2c+ZDsrK2Qpe3ZhciB2PSFvJiZpLmtleT9yKGksbltkXSxkKTpuW2RdO21bZF0/bVtkXS51cGRhdGUodik6KChtW2RdPW5ldyBhKHMse3BhcmVudDplLGlzTG9vcDohMCxoYXNJbXBsOmMscm9vdDpjP3QuY2xvbmVOb2RlKCk6cCxpdGVtOnZ9LHQuaW5uZXJIVE1MKSkubW91bnQoKSxmLmFwcGVuZENoaWxkKG1bZF0ucm9vdCkpLG1bZF0uX2l0ZW09dn1wLmluc2VydEJlZm9yZShmLGwpLGgmJihlLnRhZ3NbdV09bSl9KS5vbmUoXCJ1cGRhdGVkXCIsZnVuY3Rpb24oKXt2YXIgdD1PYmplY3Qua2V5cyhlKTtMKHAsZnVuY3Rpb24obil7MSE9bi5ub2RlVHlwZXx8bi5pc0xvb3B8fG4uX2xvb3BlZHx8KG4uX3Zpc2l0ZWQ9ITEsbi5fbG9vcGVkPSEwLE0obixlLHQpKX0pfSl9ZnVuY3Rpb24gbyh0LGUsbil7TCh0LGZ1bmN0aW9uKHQpe2lmKDE9PXQubm9kZVR5cGUpe3QuaXNMb29wPXQuaXNMb29wfHx0LnBhcmVudE5vZGUmJnQucGFyZW50Tm9kZS5pc0xvb3B8fHQuZ2V0QXR0cmlidXRlKFwiZWFjaFwiKT8xOjA7dmFyIHI9Zyh0KTtpZihyJiYhdC5pc0xvb3Ape3ZhciBpLG89bmV3IGEocix7cm9vdDp0LHBhcmVudDplfSx0LmlubmVySFRNTCksdT12KHQpLGY9bShlKTtvLnBhcmVudD1mLGk9Zi50YWdzW3VdLGk/KHEoaSl8fChmLnRhZ3NbdV09W2ldKSxmLnRhZ3NbdV0ucHVzaChvKSk6Zi50YWdzW3VdPW8sdC5pbm5lckhUTUw9XCJcIixuLnB1c2gobyl9dC5pc0xvb3B8fE0odCxlLFtdKX19KX1mdW5jdGlvbiB1KHQsZSxuKXtmdW5jdGlvbiByKHQsZSxyKXtpZihlLmluZGV4T2YoSigwKSk+PTApe3ZhciBpPXtkb206dCxleHByOmV9O24ucHVzaChoKGkscikpfX1MKHQsZnVuY3Rpb24odCl7dmFyIG49dC5ub2RlVHlwZTtpZigzPT1uJiZcIlNUWUxFXCIhPXQucGFyZW50Tm9kZS50YWdOYW1lJiZyKHQsdC5ub2RlVmFsdWUpLDE9PW4pe3ZhciBvPXQuZ2V0QXR0cmlidXRlKFwiZWFjaFwiKTtyZXR1cm4gbz8oaSh0LGUsbyksITEpOihwKHQuYXR0cmlidXRlcyxmdW5jdGlvbihlKXt2YXIgbj1lLm5hbWUsaT1uLnNwbGl0KFwiX19cIilbMV07cmV0dXJuIHIodCxlLnZhbHVlLHthdHRyOml8fG4sYm9vbDppfSksaT8oZCh0LG4pLCExKTp2b2lkIDB9KSxnKHQpPyExOnZvaWQgMCl9fSl9ZnVuY3Rpb24gYSh0LG4scil7ZnVuY3Rpb24gaSgpe3ZhciB0PU4mJlQ/ZzpffHxnO3AoRS5hdHRyaWJ1dGVzLGZ1bmN0aW9uKGUpe3ZbZS5uYW1lXT1VKGUudmFsdWUsdCl9KSxwKE9iamVjdC5rZXlzKEQpLGZ1bmN0aW9uKGUpe3ZbZV09YihVKERbZV0sdCkpfSl9ZnVuY3Rpb24gYSh0KXtmb3IodmFyIGUgaW4gTSl0eXBlb2YgZ1tlXSE9PVImJihnW2VdPXRbZV0pfWZ1bmN0aW9uIGYoKXtnLnBhcmVudCYmVCYmcChPYmplY3Qua2V5cyhnLnBhcmVudCksZnVuY3Rpb24odCl7dmFyIGU9flYuaW5kZXhPZih0KTsodHlwZW9mIGdbdF09PT1SfHxlKSYmKGV8fFYucHVzaCh0KSxnW3RdPWcucGFyZW50W3RdKX0pfWZ1bmN0aW9uIGModCl7aWYocChILGZ1bmN0aW9uKGUpe2VbdD9cIm1vdW50XCI6XCJ1bm1vdW50XCJdKCl9KSxfKXt2YXIgZT10P1wib25cIjpcIm9mZlwiO1Q/X1tlXShcInVubW91bnRcIixnLnVubW91bnQpOl9bZV0oXCJ1cGRhdGVcIixnLnVwZGF0ZSlbZV0oXCJ1bm1vdW50XCIsZy51bm1vdW50KX19dmFyIGQsZz1rLm9ic2VydmFibGUodGhpcyksdj1BKG4ub3B0cyl8fHt9LEw9eSh0LnRtcGwpLF89bi5wYXJlbnQsVD1uLmlzTG9vcCxOPW4uaGFzSW1wbCxNPWIobi5pdGVtKSxTPVtdLEg9W10sRT1uLnJvb3QsTz10LmZuLGo9RS50YWdOYW1lLnRvTG93ZXJDYXNlKCksRD17fSxWPVtdO08mJkUuX3RhZyYmRS5fdGFnLnVubW91bnQoITApLHRoaXMuaXNNb3VudGVkPSExLEUuaXNMb29wPVQsRS5fdGFnPXRoaXMsdGhpcy5faWQ9RisrLGgodGhpcyx7cGFyZW50Ol8scm9vdDpFLG9wdHM6dix0YWdzOnt9fSxNKSxwKEUuYXR0cmlidXRlcyxmdW5jdGlvbih0KXt2YXIgZT10LnZhbHVlO0ooL1xcey4qXFx9LykudGVzdChlKSYmKERbdC5uYW1lXT1lKX0pLEwuaW5uZXJIVE1MJiYhL3NlbGVjdHxvcHRncm91cHx0Ym9keXx0ci8udGVzdChqKSYmKEwuaW5uZXJIVE1MPXgoTC5pbm5lckhUTUwscikpLHRoaXMudXBkYXRlPWZ1bmN0aW9uKHQpe3Q9Yih0KSxmKCksdHlwZW9mIE09PT1CJiYoYSh0fHx7fSksTT10KSxoKGcsdCksaSgpLGcudHJpZ2dlcihcInVwZGF0ZVwiLHQpLHMoUyxnKSxnLnRyaWdnZXIoXCJ1cGRhdGVkXCIpfSx0aGlzLm1peGluPWZ1bmN0aW9uKCl7cChhcmd1bWVudHMsZnVuY3Rpb24odCl7dD10eXBlb2YgdD09PSQ/ay5taXhpbih0KTp0LHAoT2JqZWN0LmtleXModCksZnVuY3Rpb24oZSl7XCJpbml0XCIhPWUmJihnW2VdPWwodFtlXSk/dFtlXS5iaW5kKGcpOnRbZV0pfSksdC5pbml0JiZ0LmluaXQuYmluZChnKSgpfSl9LHRoaXMubW91bnQ9ZnVuY3Rpb24oKXtpZihpKCksTyYmTy5jYWxsKGcsdiksdShMLGcsUyksYyghMCksdC5hdHRycyYmKHcodC5hdHRycyxmdW5jdGlvbih0LGUpe0Uuc2V0QXR0cmlidXRlKHQsZSl9KSx1KGcucm9vdCxnLFMpKSwoIWcucGFyZW50fHxUKSYmZy51cGRhdGUoTSksZy50cmlnZ2VyKFwicHJlbW91bnRcIiksVCYmIU4pZy5yb290PUU9ZD1MLmZpcnN0Q2hpbGQ7ZWxzZXtmb3IoO0wuZmlyc3RDaGlsZDspRS5hcHBlbmRDaGlsZChMLmZpcnN0Q2hpbGQpO0Uuc3R1YiYmKGcucm9vdD1FPV8ucm9vdCl9IWcucGFyZW50fHxnLnBhcmVudC5pc01vdW50ZWQ/KGcuaXNNb3VudGVkPSEwLGcudHJpZ2dlcihcIm1vdW50XCIpKTpnLnBhcmVudC5vbmUoXCJtb3VudFwiLGZ1bmN0aW9uKCl7QyhnLnJvb3QpfHwoZy5wYXJlbnQuaXNNb3VudGVkPWcuaXNNb3VudGVkPSEwLGcudHJpZ2dlcihcIm1vdW50XCIpKX0pfSx0aGlzLnVubW91bnQ9ZnVuY3Rpb24odCl7dmFyIG4scj1kfHxFLGk9ci5wYXJlbnROb2RlO2lmKGkpe2lmKF8pbj1tKF8pLHEobi50YWdzW2pdKT9wKG4udGFnc1tqXSxmdW5jdGlvbih0LGUpe3QuX2lkPT1nLl9pZCYmbi50YWdzW2pdLnNwbGljZShlLDEpfSk6bi50YWdzW2pdPWU7ZWxzZSBmb3IoO3IuZmlyc3RDaGlsZDspci5yZW1vdmVDaGlsZChyLmZpcnN0Q2hpbGQpO3R8fGkucmVtb3ZlQ2hpbGQocil9Zy50cmlnZ2VyKFwidW5tb3VudFwiKSxjKCksZy5vZmYoXCIqXCIpLEUuX3RhZz1udWxsfSxvKEwsdGhpcyxIKX1mdW5jdGlvbiBmKGUsbixyLGkpe3JbZV09ZnVuY3Rpb24oZSl7dmFyIG8sdT1pLl9pdGVtLGE9aS5wYXJlbnQ7aWYoIXUpZm9yKDthOyl1PWEuX2l0ZW0sYT11PyExOmEucGFyZW50O2U9ZXx8dC5ldmVudDt0cnl7ZS5jdXJyZW50VGFyZ2V0PXIsZS50YXJnZXR8fChlLnRhcmdldD1lLnNyY0VsZW1lbnQpLGUud2hpY2h8fChlLndoaWNoPWUuY2hhckNvZGV8fGUua2V5Q29kZSl9Y2F0Y2goZil7fWUuaXRlbT11LG4uY2FsbChpLGUpPT09ITB8fC9yYWRpb3xjaGVjay8udGVzdChyLnR5cGUpfHwoZS5wcmV2ZW50RGVmYXVsdCYmZS5wcmV2ZW50RGVmYXVsdCgpLGUucmV0dXJuVmFsdWU9ITEpLGUucHJldmVudFVwZGF0ZXx8KG89dT9tKGEpOmksby51cGRhdGUoKSl9fWZ1bmN0aW9uIGModCxlLG4pe3QmJih0Lmluc2VydEJlZm9yZShuLGUpLHQucmVtb3ZlQ2hpbGQoZSkpfWZ1bmN0aW9uIHModCxlKXtwKHQsZnVuY3Rpb24odCl7dmFyIG49dC5kb20scj10LmF0dHIsaT1VKHQuZXhwcixlKSxvPXQuZG9tLnBhcmVudE5vZGU7aWYobnVsbD09aSYmKGk9XCJcIiksbyYmXCJURVhUQVJFQVwiPT1vLnRhZ05hbWUmJihpPWkucmVwbGFjZSgvcmlvdC0vZyxcIlwiKSksdC52YWx1ZSE9PWkpe2lmKHQudmFsdWU9aSwhcilyZXR1cm4gbi5ub2RlVmFsdWU9aS50b1N0cmluZygpO2lmKGQobixyKSxsKGkpKWYocixpLG4sZSk7ZWxzZSBpZihcImlmXCI9PXIpe3ZhciB1PXQuc3R1YjtpP3UmJihjKHUucGFyZW50Tm9kZSx1LG4pLG4uaW5TdHViPSExLEMobil8fEwobixmdW5jdGlvbih0KXt0Ll90YWcmJiF0Ll90YWcuaXNNb3VudGVkJiYodC5fdGFnLmlzTW91bnRlZD0hIXQuX3RhZy50cmlnZ2VyKFwibW91bnRcIikpfSkpOih1PXQuc3R1Yj11fHxkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcIlwiKSxjKG4ucGFyZW50Tm9kZSxuLHUpLG4uaW5TdHViPSEwKX1lbHNlIGlmKC9eKHNob3d8aGlkZSkkLy50ZXN0KHIpKVwiaGlkZVwiPT1yJiYoaT0haSksbi5zdHlsZS5kaXNwbGF5PWk/XCJcIjpcIm5vbmVcIjtlbHNlIGlmKFwidmFsdWVcIj09ciluLnZhbHVlPWk7ZWxzZSBpZihcInJpb3QtXCI9PXIuc2xpY2UoMCw1KSYmXCJyaW90LXRhZ1wiIT1yKXI9ci5zbGljZSg1KSxpP24uc2V0QXR0cmlidXRlKHIsaSk6ZChuLHIpO2Vsc2V7aWYodC5ib29sKXtpZihuW3JdPWksIWkpcmV0dXJuO2k9cn10eXBlb2YgaSE9PUImJm4uc2V0QXR0cmlidXRlKHIsaSl9fX0pfWZ1bmN0aW9uIHAodCxlKXtmb3IodmFyIG4scj0wLGk9KHR8fFtdKS5sZW5ndGg7aT5yO3IrKyluPXRbcl0sbnVsbCE9biYmZShuLHIpPT09ITEmJnItLTtyZXR1cm4gdH1mdW5jdGlvbiBsKHQpe3JldHVybiB0eXBlb2YgdD09PUR8fCExfWZ1bmN0aW9uIGQodCxlKXt0LnJlbW92ZUF0dHJpYnV0ZShlKX1mdW5jdGlvbiBnKHQpe3JldHVybiBZW3QuZ2V0QXR0cmlidXRlKEcpfHx0LnRhZ05hbWUudG9Mb3dlckNhc2UoKV19ZnVuY3Rpb24gbSh0KXtmb3IodmFyIGU9dDshZyhlLnJvb3QpJiZlLnBhcmVudDspZT1lLnBhcmVudDtyZXR1cm4gZX1mdW5jdGlvbiB2KHQpe3ZhciBlPWcodCksbj10LmdldEF0dHJpYnV0ZShcIm5hbWVcIikscj1uJiZuLmluZGV4T2YoSigwKSk8MD9uOmU/ZS5uYW1lOnQudGFnTmFtZS50b0xvd2VyQ2FzZSgpO3JldHVybiByfWZ1bmN0aW9uIGgodCl7Zm9yKHZhciBlLG49YXJndW1lbnRzLHI9MTtyPG4ubGVuZ3RoOysrcilpZihlPW5bcl0pZm9yKHZhciBpIGluIGUpdFtpXT1lW2ldO3JldHVybiB0fWZ1bmN0aW9uIGIodCl7aWYoISh0IGluc3RhbmNlb2YgYXx8dCYmdHlwZW9mIHQudHJpZ2dlcj09RCkpcmV0dXJuIHQ7dmFyIGU9e307Zm9yKHZhciBuIGluIHQpflYuaW5kZXhPZihuKXx8KGVbbl09dFtuXSk7cmV0dXJuIGV9ZnVuY3Rpb24geSh0KXt2YXIgZT1JJiYxMD5JLG49L15cXHMqPChbXFx3LV0rKS8uZXhlYyh0KSxyPW4/blsxXS50b0xvd2VyQ2FzZSgpOlwiXCIsaT1cInRoXCI9PT1yfHxcInRkXCI9PT1yP1widHJcIjpcInRyXCI9PT1yP1widGJvZHlcIjpcImRpdlwiLG89XyhpKTtyZXR1cm4gby5zdHViPSEwLGUmJihcIm9wdGdyb3VwXCI9PT1yP0Uobyx0KTpcIm9wdGlvblwiPT09cj9IKG8sdCk6XCJkaXZcIiE9PWk/UyhvLHQscik6ZT0wKSxlfHwoby5pbm5lckhUTUw9dCksb31mdW5jdGlvbiBMKHQsZSl7aWYodClpZihlKHQpPT09ITEpTCh0Lm5leHRTaWJsaW5nLGUpO2Vsc2UgZm9yKHQ9dC5maXJzdENoaWxkO3Q7KUwodCxlKSx0PXQubmV4dFNpYmxpbmd9ZnVuY3Rpb24gdyh0LGUpe2Zvcih2YXIgbixyPS8oWy1cXHddKykgPz0gPyg/OlwiKFteXCJdKil8JyhbXiddKil8KHtbXn1dKn0pKS9nO249ci5leGVjKHQpOyllKG5bMV0udG9Mb3dlckNhc2UoKSxuWzJdfHxuWzNdfHxuWzRdKX1mdW5jdGlvbiBDKHQpe2Zvcig7dDspe2lmKHQuaW5TdHViKXJldHVybiEwO3Q9dC5wYXJlbnROb2RlfXJldHVybiExfWZ1bmN0aW9uIF8odCl7cmV0dXJuIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodCl9ZnVuY3Rpb24geCh0LGUpe3JldHVybiB0LnJlcGxhY2UoLzwoeWllbGQpXFwvPz4oPFxcL1xcMT4pPy9naW0sZXx8XCJcIil9ZnVuY3Rpb24gVCh0LGUpe3JldHVybihlfHxkb2N1bWVudCkucXVlcnlTZWxlY3RvckFsbCh0KX1mdW5jdGlvbiBOKHQsZSl7cmV0dXJuKGV8fGRvY3VtZW50KS5xdWVyeVNlbGVjdG9yKHQpfWZ1bmN0aW9uIEEodCl7ZnVuY3Rpb24gZSgpe31yZXR1cm4gZS5wcm90b3R5cGU9dCxuZXcgZX1mdW5jdGlvbiBNKHQsZSxuKXtpZighdC5fdmlzaXRlZCl7dmFyIHIsaT10LmdldEF0dHJpYnV0ZShcImlkXCIpfHx0LmdldEF0dHJpYnV0ZShcIm5hbWVcIik7aSYmKG4uaW5kZXhPZihpKTwwJiYocj1lW2ldLHI/cShyKT9yLnB1c2godCk6ZVtpXT1bcix0XTplW2ldPXQpLHQuX3Zpc2l0ZWQ9ITApfX1mdW5jdGlvbiBTKHQsZSxuKXt2YXIgcixpPV8oXCJkaXZcIiksbz0vdGR8dGgvLnRlc3Qobik/MzoyO2ZvcihpLmlubmVySFRNTD1cIjx0YWJsZT5cIitlK1wiPC90YWJsZT5cIixyPWkuZmlyc3RDaGlsZDtvLS07KXI9ci5maXJzdENoaWxkO3QuYXBwZW5kQ2hpbGQocil9ZnVuY3Rpb24gSCh0LGUpe3ZhciBuPV8oXCJvcHRpb25cIikscj0vdmFsdWU9W1xcXCInXSguKz8pW1xcXCInXS8saT0vc2VsZWN0ZWQ9W1xcXCInXSguKz8pW1xcXCInXS8sbz0vZWFjaD1bXFxcIiddKC4rPylbXFxcIiddLyx1PS9pZj1bXFxcIiddKC4rPylbXFxcIiddLyxhPS8+KFtePF0qKTwvLGY9ZS5tYXRjaChyKSxjPWUubWF0Y2goaSkscz1lLm1hdGNoKGEpLHA9ZS5tYXRjaChvKSxsPWUubWF0Y2godSk7bi5pbm5lckhUTUw9cz9zWzFdOmUsZiYmKG4udmFsdWU9ZlsxXSksYyYmbi5zZXRBdHRyaWJ1dGUoXCJyaW90LXNlbGVjdGVkXCIsY1sxXSkscCYmbi5zZXRBdHRyaWJ1dGUoXCJlYWNoXCIscFsxXSksbCYmbi5zZXRBdHRyaWJ1dGUoXCJpZlwiLGxbMV0pLHQuYXBwZW5kQ2hpbGQobil9ZnVuY3Rpb24gRSh0LGUpe3ZhciBuPV8oXCJvcHRncm91cFwiKSxyPS9sYWJlbD1bXFxcIiddKC4rPylbXFxcIiddLyxpPS9ePChbXj5dKik+LyxvPS9ePChbXiBcXD5dKikvLHU9ZS5tYXRjaChyKSxhPWUubWF0Y2goaSksZj1lLm1hdGNoKG8pLGM9ZTtpZihhKXt2YXIgcz1lLnNsaWNlKGFbMV0ubGVuZ3RoKzIsLWZbMV0ubGVuZ3RoLTMpLnRyaW0oKTtjPXN9aWYodSYmbi5zZXRBdHRyaWJ1dGUoXCJyaW90LWxhYmVsXCIsdVsxXSksYyl7dmFyIHA9XyhcImRpdlwiKTtIKHAsYyksbi5hcHBlbmRDaGlsZChwLmZpcnN0Q2hpbGQpfXQuYXBwZW5kQ2hpbGQobil9ZnVuY3Rpb24gTyh0KXtpZighay5yZW5kZXIpe3p8fCh6PV8oXCJzdHlsZVwiKSx6LnNldEF0dHJpYnV0ZShcInR5cGVcIixcInRleHQvY3NzXCIpKTt2YXIgZT1kb2N1bWVudC5oZWFkfHxkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImhlYWRcIilbMF07aWYoei5zdHlsZVNoZWV0P3ouc3R5bGVTaGVldC5jc3NUZXh0Kz10OnouaW5uZXJIVE1MKz10LCF6Ll9yZW5kZXJlZClpZih6LnN0eWxlU2hlZXQpZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh6KTtlbHNle3ZhciBuPU4oXCJzdHlsZVt0eXBlPXJpb3RdXCIpO24/KG4ucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoeixuKSxuLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobikpOmUuYXBwZW5kQ2hpbGQoeil9ei5fcmVuZGVyZWQ9ITB9fWZ1bmN0aW9uIGoodCxlLG4pe3ZhciByPVlbZV0saT10Ll9pbm5lckhUTUw9dC5faW5uZXJIVE1MfHx0LmlubmVySFRNTDtyZXR1cm4gdC5pbm5lckhUTUw9XCJcIixyJiZ0JiYocj1uZXcgYShyLHtyb290OnQsb3B0czpufSxpKSksciYmci5tb3VudD8oci5tb3VudCgpLFgucHVzaChyKSxyLm9uKFwidW5tb3VudFwiLGZ1bmN0aW9uKCl7WC5zcGxpY2UoWC5pbmRleE9mKHIpLDEpfSkpOnZvaWQgMH12YXIgaz17dmVyc2lvbjpcInYyLjIuM1wiLHNldHRpbmdzOnt9fSxGPTAsJD1cInN0cmluZ1wiLEI9XCJvYmplY3RcIixSPVwidW5kZWZpbmVkXCIsRD1cImZ1bmN0aW9uXCIsVj1bXCJ1cGRhdGVcIixcInJvb3RcIixcIm1vdW50XCIsXCJ1bm1vdW50XCIsXCJtaXhpblwiLFwiaXNNb3VudGVkXCIsXCJpc0xvb3BcIixcInRhZ3NcIixcInBhcmVudFwiLFwib3B0c1wiLFwidHJpZ2dlclwiLFwib25cIixcIm9mZlwiLFwib25lXCJdLHE9QXJyYXkuaXNBcnJheXx8ZnVuY3Rpb24oKXt2YXIgdD1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm5cIltvYmplY3QgQXJyYXldXCI9PT10LmNhbGwoZSl9fSgpLEk9ZnVuY3Rpb24oKXtyZXR1cm4gMHwodCYmdC5kb2N1bWVudHx8e30pLmRvY3VtZW50TW9kZX0oKTtrLm9ic2VydmFibGU9ZnVuY3Rpb24odCl7dD10fHx7fTt2YXIgZT17fSxuPTA7cmV0dXJuIHQub249ZnVuY3Rpb24ocixpKXtyZXR1cm4gbChpKSYmKHR5cGVvZiBpLmlkPT09UiYmKGkuX2lkPW4rKyksci5yZXBsYWNlKC9cXFMrL2csZnVuY3Rpb24odCxuKXsoZVt0XT1lW3RdfHxbXSkucHVzaChpKSxpLnR5cGVkPW4+MH0pKSx0fSx0Lm9mZj1mdW5jdGlvbihuLHIpe3JldHVyblwiKlwiPT1uP2U9e306bi5yZXBsYWNlKC9cXFMrL2csZnVuY3Rpb24odCl7aWYocilmb3IodmFyIG4saT1lW3RdLG89MDtuPWkmJmlbb107KytvKW4uX2lkPT1yLl9pZCYmaS5zcGxpY2Uoby0tLDEpO2Vsc2UgZVt0XT1bXX0pLHR9LHQub25lPWZ1bmN0aW9uKGUsbil7ZnVuY3Rpb24gcigpe3Qub2ZmKGUsciksbi5hcHBseSh0LGFyZ3VtZW50cyl9cmV0dXJuIHQub24oZSxyKX0sdC50cmlnZ2VyPWZ1bmN0aW9uKG4pe2Zvcih2YXIgcixpPVtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpLG89ZVtuXXx8W10sdT0wO3I9b1t1XTsrK3Upci5idXN5fHwoci5idXN5PTEsci5hcHBseSh0LHIudHlwZWQ/W25dLmNvbmNhdChpKTppKSxvW3VdIT09ciYmdS0tLHIuYnVzeT0wKTtyZXR1cm4gZS5hbGwmJlwiYWxsXCIhPW4mJnQudHJpZ2dlci5hcHBseSh0LFtcImFsbFwiLG5dLmNvbmNhdChpKSksdH0sdH0say5taXhpbj1mdW5jdGlvbigpe3ZhciB0PXt9O3JldHVybiBmdW5jdGlvbihlLG4pe3JldHVybiBuP3ZvaWQodFtlXT1uKTp0W2VdfX0oKSxmdW5jdGlvbih0LGUsbil7ZnVuY3Rpb24gcigpe3JldHVybiBhLmhyZWYuc3BsaXQoXCIjXCIpWzFdfHxcIlwifWZ1bmN0aW9uIGkodCl7cmV0dXJuIHQuc3BsaXQoXCIvXCIpfWZ1bmN0aW9uIG8odCl7dC50eXBlJiYodD1yKCkpLHQhPXUmJihmLnRyaWdnZXIuYXBwbHkobnVsbCxbXCJIXCJdLmNvbmNhdChpKHQpKSksdT10KX1pZihuKXt2YXIgdSxhPW4ubG9jYXRpb24sZj10Lm9ic2VydmFibGUoKSxjPSExLHM9dC5yb3V0ZT1mdW5jdGlvbih0KXt0WzBdPyhhLmhhc2g9dCxvKHQpKTpmLm9uKFwiSFwiLHQpfTtzLmV4ZWM9ZnVuY3Rpb24odCl7dC5hcHBseShudWxsLGkocigpKSl9LHMucGFyc2VyPWZ1bmN0aW9uKHQpe2k9dH0scy5zdG9wPWZ1bmN0aW9uKCl7YyYmKG4ucmVtb3ZlRXZlbnRMaXN0ZW5lcj9uLnJlbW92ZUV2ZW50TGlzdGVuZXIoZSxvLCExKTpuLmRldGFjaEV2ZW50KFwib25cIitlLG8pLGYub2ZmKFwiKlwiKSxjPSExKX0scy5zdGFydD1mdW5jdGlvbigpe2N8fChuLmFkZEV2ZW50TGlzdGVuZXI/bi5hZGRFdmVudExpc3RlbmVyKGUsbywhMSk6bi5hdHRhY2hFdmVudChcIm9uXCIrZSxvKSxjPSEwKX0scy5zdGFydCgpfX0oayxcImhhc2hjaGFuZ2VcIix0KTt2YXIgeixKPWZ1bmN0aW9uKHQpe3ZhciBlLG4scixpPS9be31dL2c7cmV0dXJuIGZ1bmN0aW9uKG8pe3ZhciB1PWsuc2V0dGluZ3MuYnJhY2tldHN8fHQ7cmV0dXJuIGUhPT11JiYoZT11LHI9dS5zcGxpdChcIiBcIiksbj1yLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gdC5yZXBsYWNlKC8oPz0uKS9nLFwiXFxcXFwiKX0pKSxvIGluc3RhbmNlb2YgUmVnRXhwP3U9PT10P286bmV3IFJlZ0V4cChvLnNvdXJjZS5yZXBsYWNlKGksZnVuY3Rpb24odCl7cmV0dXJuIG5bfn4oXCJ9XCI9PT10KV19KSxvLmdsb2JhbD9cImdcIjpcIlwiKTpyW29dfX0oXCJ7IH1cIiksVT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCxlKXtyZXR1cm4gdD0odHx8SigwKStKKDEpKS5yZXBsYWNlKEooL1xcXFx7L2cpLFwi77+wXCIpLnJlcGxhY2UoSigvXFxcXH0vZyksXCLvv7FcIiksZT1pKHQsbyh0LEooL3svKSxKKC99LykpKSxuZXcgRnVuY3Rpb24oXCJkXCIsXCJyZXR1cm4gXCIrKGVbMF18fGVbMl18fGVbM10/XCJbXCIrZS5tYXAoZnVuY3Rpb24odCxlKXtyZXR1cm4gZSUyP24odCwhMCk6J1wiJyt0LnJlcGxhY2UoL1xcbi9nLFwiXFxcXG5cIikucmVwbGFjZSgvXCIvZywnXFxcXFwiJykrJ1wiJ30pLmpvaW4oXCIsXCIpKyddLmpvaW4oXCJcIiknOm4oZVsxXSkpLnJlcGxhY2UoL1xcdUZGRjAvZyxKKDApKS5yZXBsYWNlKC9cXHVGRkYxL2csSigxKSkrXCI7XCIpfWZ1bmN0aW9uIG4odCxlKXtyZXR1cm4gdD10LnJlcGxhY2UoL1xcbi9nLFwiIFwiKS5yZXBsYWNlKEooL15beyBdK3xbIH1dKyR8XFwvXFwqLis/XFwqXFwvL2cpLFwiXCIpLC9eXFxzKltcXHctIFwiJ10rICo6Ly50ZXN0KHQpP1wiW1wiK28odCwvW1wiJyBdKltcXHctIF0rW1wiJyBdKjovLC8sKD89W1wiJyBdKltcXHctIF0rW1wiJyBdKjopfH18JC8pLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gdC5yZXBsYWNlKC9eWyBcIiddKiguKz8pWyBcIiddKjogKiguKz8pLD8gKiQvLGZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gbi5yZXBsYWNlKC9bXiZ8PSE+PF0rL2cscikrJz9cIicrZSsnXCI6XCJcIiwnfSl9KS5qb2luKFwiXCIpKyddLmpvaW4oXCIgXCIpLnRyaW0oKSc6cih0LGUpfWZ1bmN0aW9uIHIoZSxuKXtyZXR1cm4gZT1lLnRyaW0oKSxlP1wiKGZ1bmN0aW9uKHYpe3RyeXt2PVwiKyhlLnJlcGxhY2UoYSxmdW5jdGlvbihlLG4scil7cmV0dXJuIHI/XCIoZC5cIityK1wiPT09dW5kZWZpbmVkP1wiKyhcInVuZGVmaW5lZFwiPT10eXBlb2YgdD9cImdsb2JhbC5cIjpcIndpbmRvdy5cIikrcitcIjpkLlwiK3IrXCIpXCI6ZX0pfHxcInhcIikrXCJ9Y2F0Y2goZSl7fWZpbmFsbHl7cmV0dXJuIFwiKyhuPT09ITA/JyF2JiZ2IT09MD9cIlwiOnYnOlwidlwiKStcIn19KS5jYWxsKGQpXCI6XCJcIn1mdW5jdGlvbiBpKHQsZSl7dmFyIG49W107cmV0dXJuIGUubWFwKGZ1bmN0aW9uKGUscil7cj10LmluZGV4T2YoZSksbi5wdXNoKHQuc2xpY2UoMCxyKSxlKSx0PXQuc2xpY2UocitlLmxlbmd0aCl9KSxuLmNvbmNhdCh0KX1mdW5jdGlvbiBvKHQsZSxuKXt2YXIgcixpPTAsbz1bXSx1PW5ldyBSZWdFeHAoXCIoXCIrZS5zb3VyY2UrXCIpfChcIituLnNvdXJjZStcIilcIixcImdcIik7cmV0dXJuIHQucmVwbGFjZSh1LGZ1bmN0aW9uKGUsbix1LGEpeyFpJiZuJiYocj1hKSxpKz1uPzE6LTEsaXx8bnVsbD09dXx8by5wdXNoKHQuc2xpY2UocixhK3UubGVuZ3RoKSl9KSxvfXZhciB1PXt9LGE9LyhbJ1wiXFwvXSkuKj9bXlxcXFxdXFwxfFxcLlxcdyp8XFx3Kjp8XFxiKD86KD86bmV3fHR5cGVvZnxpbnxpbnN0YW5jZW9mKSB8KD86dGhpc3x0cnVlfGZhbHNlfG51bGx8dW5kZWZpbmVkKVxcYnxmdW5jdGlvbiAqXFwoKXwoW2Etel8kXVxcdyopL2dpO3JldHVybiBmdW5jdGlvbih0LG4pe3JldHVybiB0JiYodVt0XT11W3RdfHxlKHQpKShuKX19KCksWD1bXSxZPXt9LEc9XCJyaW90LXRhZ1wiO2sudGFnPWZ1bmN0aW9uKHQsZSxuLHIsaSl7cmV0dXJuIGwocikmJihpPXIsL15bXFx3XFwtXStcXHM/PS8udGVzdChuKT8ocj1uLG49XCJcIik6cj1cIlwiKSxuJiYobChuKT9pPW46TyhuKSksWVt0XT17bmFtZTp0LHRtcGw6ZSxhdHRyczpyLGZuOml9LHR9LGsubW91bnQ9ZnVuY3Rpb24odCxlLG4pe2Z1bmN0aW9uIHIodCl7dmFyIGU9XCJcIjtyZXR1cm4gcCh0LGZ1bmN0aW9uKHQpe2UrPScsICpbcmlvdC10YWc9XCInK3QudHJpbSgpKydcIl0nfSksZX1mdW5jdGlvbiBpKCl7dmFyIHQ9T2JqZWN0LmtleXMoWSk7cmV0dXJuIHQrcih0KX1mdW5jdGlvbiBvKHQpe3ZhciByO2lmKHQudGFnTmFtZSl7IWV8fChyPXQuZ2V0QXR0cmlidXRlKEcpKSYmcj09ZXx8dC5zZXRBdHRyaWJ1dGUoRyxlKTt2YXIgaT1qKHQsZXx8dC5nZXRBdHRyaWJ1dGUoRyl8fHQudGFnTmFtZS50b0xvd2VyQ2FzZSgpLG4pO2kmJmYucHVzaChpKX1lbHNlIHQubGVuZ3RoJiZwKHQsbyl9dmFyIHUsYSxmPVtdO2lmKHR5cGVvZiBlPT09QiYmKG49ZSxlPTApLHR5cGVvZiB0PT09JD8oXCIqXCI9PT10P3Q9YT1pKCk6dCs9cih0LnNwbGl0KFwiLFwiKSksdT1UKHQpKTp1PXQsXCIqXCI9PT1lKXtpZihlPWF8fGkoKSx1LnRhZ05hbWUpdT1UKGUsdSk7ZWxzZXt2YXIgYz1bXTtwKHUsZnVuY3Rpb24odCl7Yy5wdXNoKFQoZSx0KSl9KSx1PWN9ZT0wfXJldHVybiB1LnRhZ05hbWU/byh1KTpwKHUsbyksZn0say51cGRhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gcChYLGZ1bmN0aW9uKHQpe3QudXBkYXRlKCl9KX0say5tb3VudFRvPWsubW91bnQsay51dGlsPXticmFja2V0czpKLHRtcGw6VX0sdHlwZW9mIGV4cG9ydHM9PT1CP21vZHVsZS5leHBvcnRzPWs6XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShmdW5jdGlvbigpe3JldHVybiB0LnJpb3Q9a30pOnQucmlvdD1rfShcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93P3dpbmRvdzp2b2lkIDApOyIsInZhciBSaW90Q29udHJvbD17X3N0b3JlczpbXSxhZGRTdG9yZTpmdW5jdGlvbihvKXt0aGlzLl9zdG9yZXMucHVzaChvKX19O1tcIm9uXCIsXCJvbmVcIixcIm9mZlwiLFwidHJpZ2dlclwiXS5mb3JFYWNoKGZ1bmN0aW9uKG8pe1Jpb3RDb250cm9sW29dPWZ1bmN0aW9uKCl7dmFyIHQ9W10uc2xpY2UuY2FsbChhcmd1bWVudHMpO3RoaXMuX3N0b3Jlcy5mb3JFYWNoKGZ1bmN0aW9uKG4pe25bb10uYXBwbHkobnVsbCx0KX0pfX0pLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBtb2R1bGUmJihtb2R1bGUuZXhwb3J0cz1SaW90Q29udHJvbCk7IiwiZnVuY3Rpb24gZHJhaW5RdWV1ZSgpe2lmKCFkcmFpbmluZyl7ZHJhaW5pbmc9ITA7Zm9yKHZhciBlLG89cXVldWUubGVuZ3RoO287KXtlPXF1ZXVlLHF1ZXVlPVtdO2Zvcih2YXIgcj0tMTsrK3I8bzspZVtyXSgpO289cXVldWUubGVuZ3RofWRyYWluaW5nPSExfX1mdW5jdGlvbiBub29wKCl7fXZhciBwcm9jZXNzPW1vZHVsZS5leHBvcnRzPXt9LHF1ZXVlPVtdLGRyYWluaW5nPSExO3Byb2Nlc3MubmV4dFRpY2s9ZnVuY3Rpb24oZSl7cXVldWUucHVzaChlKSxkcmFpbmluZ3x8c2V0VGltZW91dChkcmFpblF1ZXVlLDApfSxwcm9jZXNzLnRpdGxlPVwiYnJvd3NlclwiLHByb2Nlc3MuYnJvd3Nlcj0hMCxwcm9jZXNzLmVudj17fSxwcm9jZXNzLmFyZ3Y9W10scHJvY2Vzcy52ZXJzaW9uPVwiXCIscHJvY2Vzcy52ZXJzaW9ucz17fSxwcm9jZXNzLm9uPW5vb3AscHJvY2Vzcy5hZGRMaXN0ZW5lcj1ub29wLHByb2Nlc3Mub25jZT1ub29wLHByb2Nlc3Mub2ZmPW5vb3AscHJvY2Vzcy5yZW1vdmVMaXN0ZW5lcj1ub29wLHByb2Nlc3MucmVtb3ZlQWxsTGlzdGVuZXJzPW5vb3AscHJvY2Vzcy5lbWl0PW5vb3AscHJvY2Vzcy5iaW5kaW5nPWZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKFwicHJvY2Vzcy5iaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWRcIil9LHByb2Nlc3MuY3dkPWZ1bmN0aW9uKCl7cmV0dXJuXCIvXCJ9LHByb2Nlc3MuY2hkaXI9ZnVuY3Rpb24oKXt0aHJvdyBuZXcgRXJyb3IoXCJwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWRcIil9LHByb2Nlc3MudW1hc2s9ZnVuY3Rpb24oKXtyZXR1cm4gMH07Il19
